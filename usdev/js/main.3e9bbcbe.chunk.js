(this["webpackJsonppwc-deals-web"]=this["webpackJsonppwc-deals-web"]||[]).push([[0],{1040:function(e,t,n){},1042:function(e,t,n){},1161:function(e,t,n){},1162:function(e,t,n){},1165:function(e,t,n){},1166:function(e,t,n){},1167:function(e,t,n){},1168:function(e,t,n){},1197:function(e,t,n){},1198:function(e,t,n){},1205:function(e,t,n){},1206:function(e,t,n){},1208:function(e,t,n){},1209:function(e,t,n){},1210:function(e,t,n){},1211:function(e,t,n){},1212:function(e,t,n){},1213:function(e,t,n){},1214:function(e,t,n){},1232:function(e,t,n){},1233:function(e,t,n){},1234:function(e,t,n){},1238:function(e,t,n){},1239:function(e,t,n){},1240:function(e,t,n){},1241:function(e,t,n){},1242:function(e,t,n){},1243:function(e,t,n){},1244:function(e,t,n){},1245:function(e,t,n){},1246:function(e,t,n){},1247:function(e,t,n){},1248:function(e,t,n){},1249:function(e,t,n){},1250:function(e,t,n){},1251:function(e,t,n){},1252:function(e,t,n){},1253:function(e,t,n){},1254:function(e,t,n){},1255:function(e,t,n){},1256:function(e,t,n){},1257:function(e,t,n){},1258:function(e,t,n){},1259:function(e,t,n){},1260:function(e,t,n){},1261:function(e,t,n){},1262:function(e,t,n){},1263:function(e,t,n){},1264:function(e,t,n){},1265:function(e,t,n){},1266:function(e,t,n){},1267:function(e,t,n){},1268:function(e,t,n){},1269:function(e,t,n){},1270:function(e,t,n){},1271:function(e,t,n){},1272:function(e,t,n){},1273:function(e,t,n){},1274:function(e,t,n){},1275:function(e,t,n){},1276:function(e,t,n){},1277:function(e,t,n){},1278:function(e,t,n){},1279:function(e,t,n){},1280:function(e,t,n){},1281:function(e,t,n){},1282:function(e,t,n){},1283:function(e,t,n){},1284:function(e,t,n){},1285:function(e,t,n){},1286:function(e,t,n){},1287:function(e,t,n){},1288:function(e,t,n){},1289:function(e,t,n){},1290:function(e,t,n){},1291:function(e,t,n){},1292:function(e,t,n){},1294:function(e,t,n){},1295:function(e,t,n){},1296:function(e,t,n){},1297:function(e,t,n){},1298:function(e,t,n){},1299:function(e,t,n){},1300:function(e,t,n){},1301:function(e,t,n){},1302:function(e,t,n){},1303:function(e,t,n){},1304:function(e,t,n){},1305:function(e,t,n){},1306:function(e,t,n){},1337:function(e,t,n){},1338:function(e,t,n){},1339:function(e,t,n){},1341:function(e,t,n){},1343:function(e,t,n){},1344:function(e,t,n){},1345:function(e,t,n){},1346:function(e,t,n){},1347:function(e,t,n){},1348:function(e,t,n){},1349:function(e,t,n){},1350:function(e,t,n){},1351:function(e,t,n){},1352:function(e,t,n){},1353:function(e,t,n){},1354:function(e,t,n){},1355:function(e,t,n){},1356:function(e,t,n){},1357:function(e,t,n){},1358:function(e,t,n){},1359:function(e,t,n){},1360:function(e,t,n){},1361:function(e,t,n){},1362:function(e,t,n){},1363:function(e,t,n){},1364:function(e,t,n){},1365:function(e,t,n){},1366:function(e,t,n){},1367:function(e,t,n){},1368:function(e,t,n){},1369:function(e,t,n){},1370:function(e,t,n){},1371:function(e,t,n){},1372:function(e,t,n){},1373:function(e,t,n){},1374:function(e,t,n){},1375:function(e,t,n){},1376:function(e,t,n){},1377:function(e,t,n){},1378:function(e,t,n){},1379:function(e,t,n){},1380:function(e,t,n){},1381:function(e,t,n){},1382:function(e,t,n){},1383:function(e,t,n){},1384:function(e,t,n){},1385:function(e,t,n){},1386:function(e,t,n){},1387:function(e,t,n){},1388:function(e,t,n){},1389:function(e,t,n){},1390:function(e,t,n){},1391:function(e,t,n){},1392:function(e,t,n){},1393:function(e,t,n){},1394:function(e,t,n){},1395:function(e,t,n){},1396:function(e,t,n){},1397:function(e,t,n){},1398:function(e,t,n){},1399:function(e,t,n){},1400:function(e,t,n){},1401:function(e,t,n){},1402:function(e,t,n){},1403:function(e,t,n){},1404:function(e,t,n){},1405:function(e,t,n){},1406:function(e,t,n){},1407:function(e,t,n){},1408:function(e,t,n){},1409:function(e,t,n){},1410:function(e,t,n){},1411:function(e,t,n){},1412:function(e,t,n){},1413:function(e,t,n){},1414:function(e,t,n){},1415:function(e,t,n){},1416:function(e,t,n){},1417:function(e,t,n){},1418:function(e,t,n){},1419:function(e,t,n){},1420:function(e,t,n){},1421:function(e,t,n){},1422:function(e,t,n){},1423:function(e,t,n){},1424:function(e,t,n){},1425:function(e,t,n){},1426:function(e,t,n){},1427:function(e,t,n){},1428:function(e,t,n){},1429:function(e,t,n){},1430:function(e,t,n){},1431:function(e,t,n){},1432:function(e,t,n){},1433:function(e,t,n){},1434:function(e,t,n){},1523:function(e,t,n){},1524:function(e,t,n){},1525:function(e,t,n){},1526:function(e,t,n){},1527:function(e,t,n){},1528:function(e,t,n){},1529:function(e,t,n){},1530:function(e,t,n){},1531:function(e,t,n){},1532:function(e,t,n){},1533:function(e,t,n){},1534:function(e,t,n){},1535:function(e,t,n){},1536:function(e,t,n){},1537:function(e,t,n){},1538:function(e,t,n){},1539:function(e,t,n){},1540:function(e,t,n){},1541:function(e,t,n){},1542:function(e,t,n){},1543:function(e,t,n){},1544:function(e,t,n){},1545:function(e,t,n){},1546:function(e,t,n){},1547:function(e,t,n){},1548:function(e,t,n){},1549:function(e,t,n){},1550:function(e,t,n){},1551:function(e,t,n){},1552:function(e,t,n){},1553:function(e,t,n){},1554:function(e,t,n){},1555:function(e,t,n){},1556:function(e,t,n){},1557:function(e,t,n){},1558:function(e,t,n){},1559:function(e,t,n){},1560:function(e,t,n){},1561:function(e,t,n){},1562:function(e,t,n){},1563:function(e,t,n){},1564:function(e,t,n){},1565:function(e,t,n){},1566:function(e,t,n){},1567:function(e,t,n){},1568:function(e,t,n){},1569:function(e,t,n){},1570:function(e,t,n){},1571:function(e,t,n){},1572:function(e,t,n){},1573:function(e,t,n){},1574:function(e,t,n){},1575:function(e,t,n){},1576:function(e,t,n){},1577:function(e,t,n){},1578:function(e,t,n){},1579:function(e,t,n){},1580:function(e,t,n){},1581:function(e,t,n){},1588:function(e,t,n){},1590:function(e,t,n){"use strict";n.r(t);n(631),n(641);var a,r=n(1),c=n.n(r),o=n(50),i=n.n(o),s=n(7),l=n(95),d=n(628),u=n(29),j=n.n(u),b=n(2),p=n(42),m=n(16),O=n(20),f=n(24),h=n(15),_=n.n(h),x=n(3),g={content:null,status:{isLoading:!1,hasError:!1,errorMessage:null},sharedStatus:null,sections:null,versions:null,sharedVersion:null,draftVersion:null,libraryItemsNew:{items:[]},libraryItemsShared:{items:[]},libraryItemGroups:null,tags:null},v=Object(O.createSlice)({name:"analysis",initialState:g,reducers:{resetAnalysis:function(){return g},fetchAnalysisBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0,hasError:!1,errorStatusCode:null})},fetchAnalysisSucceeded:function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isLoading:!1,hasError:!1,errorStatusCode:null})},fetchAnalysisFailed:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,hasError:!0,errorStatusCode:t.payload})},fetchAnalysisDetailBegin:function(e){e.status.isLoading=!0,e.status.hasError=!1,e.status.errorMessage=null},fetchAnalysisContent:function(e,t){var n=t.payload,a=n.content,r=n.content.sections,c=Object(h.omit)(a,["sections"]);e.content=c,e.sections=r,e.status.isLoading=!1,e.status.hasError=!1},fetchAnalysisLibraryItemGroups:function(e,t){var n=t.payload.libraryItemGroups;e.libraryItemGroups=n,e.status.isLoading=!1,e.status.hasError=!1},fetchAnalysisDetailFailed:function(e,t){var n=t.payload,a=n.isLoading,r=n.hasError,c=n.errorMessage;e.status.isLoading=a,e.status.hasError=r,e.status.errorMessage=c},fetchLibraryItemsNew:function(e,t){var n=t.payload.libraryItems;e.libraryItemsNew.items=n},updateSharedStatus:function(e,t){e.sharedStatus=Object(b.a)({},t.payload)},updateVersions:function(e,t){e.versions=Object(m.a)(t.payload)},updateSectionItems:function(e){var t=e.libraryItemsNew.items,n=Object(h.cloneDeep)(e.sections);if(n&&n.length>0){var a=n.map((function(e){var n=e.items.map((function(e){var n=Object(h.cloneDeep)(e),a=t.findIndex((function(t){return t.id===e.libraryItemId}));if(a>-1){var r=t[a];return Object(b.a)(Object(b.a)({},n),r)}return Object(b.a)({},n)}));return Object(b.a)(Object(b.a)({},e),{},{items:n})}));e.sections=a}},updateSections:function(e,t){var n=t.payload.newSections;e.sections=n},fetchAnalysisVersionsSuccess:function(e,t){var n=t.payload.versions;e.versions=n},fetchAllTags:function(e,t){var n=t.payload.tags;e.tags=n}}}),L=v.reducer,C=v.actions,T=C.resetAnalysis,y=C.fetchAnalysisBegan,I=C.fetchAnalysisSucceeded,E=C.fetchAnalysisFailed,w=C.fetchAnalysisDetailBegin,N=C.fetchAnalysisContent,A=C.fetchAnalysisLibraryItemGroups,S=C.fetchAnalysisDetailFailed,k=C.fetchLibraryItemsNew,D=(C.updateSharedStatus,C.updateVersions),R=C.updateSectionItems,P=C.updateSections,M=(C.updateSectionSharedItems,C.fetchAnalysisVersionsSuccess,C.fetchAllTags),F=function(e){return e.analysis},U=Object(f.a)(F,(function(e){return e.content})),B=Object(f.a)(F,(function(e){return e.sections})),Y=(Object(f.a)(F,(function(e){return e.libraryItemsNew})),Object(f.a)(F,(function(e){return e.status}))),W=Object(f.a)(F,(function(e){return e.tags})),V=Object(f.a)(F,(function(e){return e.content&&e.content.shareWithAll})),Z=Object(f.a)(F,(function(e){return e.versions})),G=Object(f.a)(Z,(function(e){return e&&e.length>0&&e.find((function(e){return e.versionStatus===x.Constants.VERSION_STATUS.DRAFT.value}))})),H=Object(f.a)(Z,(function(e){return e&&e.length>0&&e.find((function(e){return e.versionStatus===x.Constants.VERSION_STATUS.SHARED.value}))})),K=(Object(f.a)(F,(function(e){return e.sharedStatus})),"results"),q="/projects/:projectId/divestiture-diagnostic",z="".concat(q,"/").concat(K),Q="".concat(z,"/:categoryPath"),J=function(e){return z.replace(":projectId",e)},X=function(e,t){return Q.replace(":projectId",e).replace(":categoryPath",t)},$=n(4),ee=n.n($),te=n(9),ne=n(118),ae=n.n(ne),re="jwtToken",ce=function(){var e=sessionStorage.getItem(re);return e?ae()(e):null},oe=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.setItem(re,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie="".concat("projectJWT","{PROJ}"),se=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.setItem(re,t.applicationToken),t.projectTokens&&t.projectTokens.forEach((function(e){var t=ie.replace("{PROJ}",btoa(e.projectId));sessionStorage.setItem(t,e.token)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){if(e)return!x.TextUtilities.isPwCEmail(e);var t=ce();return!t||(!t.email||!x.TextUtilities.isPwCEmail(t.email))},de={secondsFromExp:function(){var e=ce();return e&&e.exp-Date.now()/1e3},hasValidToken:function(){var e=ce();return(e&&Math.floor(e.exp-Date.now()/1e3))>0||(sessionStorage.clear(),!1)},setToken:oe,setTokens:se,getToken:ce,getTokenValue:function(e){var t=ce();return t&&t[e]?t[e]:null},updateProcessTime:function(){sessionStorage.setItem("processTime",Date.now()/1e3)},isClientUser:le,getEmail:function(){var e=ce();return e&&e.email?e.email:null},getExpirationInSeconds:function(){var e="no-longer-used-uses-jwt-expiration-set-in-user-access",t=parseInt(e,10);return t>2?60*(t-2):780},canCreateProjects:function(){var e=ce();return e&&void 0!==e["Create Project"]},isAdmin:function(){var e=ce();return e&&void 0!==e.Admin},getUserTypeClass:function(e){return le(e)?"client-user":"pwc-user"}},ue=de,je=n(35),be=n.n(je),pe=n(17),me=n.n(pe),Oe=n(169),fe=n.n(Oe),he="jwtToken",_e="projectJWT",xe="".concat(_e,"{PROJ}"),ge=function(e){var t=xe.replace("{PROJ}",btoa(e));return sessionStorage.getItem(t)},ve=function(e){return e.startsWith(_e)||e===he},Le=function(){return be()(sessionStorage).filter(ve)},Ce=function(e){return ae()(ge(e))},Te=function(e,t){var n=Ce(e);return n&&n[t]},ye={getProjectToken:ge,hasProjectPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ce(e),a=be()(n);return fe()(a,(function(e){return t.includes(e)}))},hasProjectTokenProp:function(e,t){var n=!1,a=xe.replace("{PROJ}",btoa(e)),r=sessionStorage.getItem(a);if(r){var c=ae()(r);t.forEach((function(e){Object.prototype.hasOwnProperty.call(c,e)&&(n=!0)}))}return n},getProjectTokenProperty:Te,hasProjectRoles:function(e,t){var n=Te(e,"role");return t.includes(n)},getUserEmail:function(){var e=ae()(sessionStorage.getItem(he));return me()(e,"email")}},Ie=ye,Ee=new x.HttpClient("/useraccessapi",Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.getItem("jwtToken"));case 1:case"end":return e.stop()}}),e)})))),we=new x.HttpClient("/useraccessapi"),Ne=function(e){return new x.HttpClient("/projectmanagementapi",Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue.updateProcessTime(),t.abrupt("return",e?Ie.getProjectToken(e):sessionStorage.getItem("jwtToken"));case 2:case"end":return t.stop()}}),t)}))))},Ae=function(e){return new x.HttpClient("/projectmanagementapiv2/api/v1",Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue.updateProcessTime(),t.abrupt("return",e?Ie.getProjectToken(e):sessionStorage.getItem("jwtToken"));case 2:case"end":return t.stop()}}),t)}))))},Se=function(e){var t=e.startsWith("/")?e.split("/")[2]:e.split("/")[1];return Ie.getProjectToken(t)},ke=new x.HttpClient("/projectapi",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue.updateProcessTime(),e.abrupt("return",Se(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),De=new x.HttpClient("/connectedcontentapi/v1",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Re=new x.HttpClient("/contentapi/v1",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pe=new x.HttpClient("/libraryitemexcelapi/v1",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Me=new x.HttpClient("/libraryitempowerpointapi/v1",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Fe=new x.HttpClient("/libraryitempowerbiapi/v1",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ue=new x.HttpClient("/libraryitemrichtextapi/v1",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Be=new x.HttpClient("/reportingapi",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue.updateProcessTime(),e.abrupt("return",Se(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ye=function(e){return new x.HttpClient("/commentservice",Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue.updateProcessTime(),t.abrupt("return",Ie.getProjectToken(e));case 2:case"end":return t.stop()}}),t)}))))},We=new x.HttpClient("/masterapi",Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.getItem("jwtToken"));case 1:case"end":return e.stop()}}),e)})))),Ve=function(e){return new x.HttpClient("/surveyservice",Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue.updateProcessTime(),t.abrupt("return",Ie.getProjectToken(e));case 2:case"end":return t.stop()}}),t)}))))},Ze=function(e){return new x.HttpClient("/filelibrarycontentapi",Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue.updateProcessTime(),t.abrupt("return",Ie.getProjectToken(e));case 2:case"end":return t.stop()}}),t)}))))},Ge=new x.HttpClient("/tagsapi/v1",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),He=n(170),Ke=n.n(He),qe=n(52),ze=n.n(qe),Qe=n(605),Je=n.n(Qe),Xe=function(e,t){var n=parseInt(t,10),a={};return Object.keys(e).forEach((function(t){a[t]=e[t].filter((function(e){return e.links.map((function(e){return e.id})).includes(n)}))})),a},$e=function(e,t){var n=[];return Object.keys(e).forEach((function(a){e[a].forEach((function(e){e.links.forEach((function(a){!1!==a.linked&&a.id===t&&n.push(e.contentId)}))}))})),n},et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ke()(ze()(e),(function(e){return e.map((function(e){return e.contentId}))})),a=t.map((function(e){return e.id})),r=Je()(a,n);return r},tt=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/narratives"));case 2:return n=e.sent,a={},Object.keys(n.data).forEach((function(e){a[e]=n.data[e].items})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t);case 2:return a=e.sent,e.abrupt("return",Xe(a,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),at=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("projects/".concat(t,"/count"));case 3:return n=e.sent,a=n.data,r=void 0===a?{}:a,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/narratives/kfa"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(e){return Object(b.a)(Object(b.a)({},e),{},{body:e.body||null,conclusion:e.conclusion||null,createdBy:e.createdBy||"unset"})},ot=function(e,t,n){var a=t?"/".concat(t):"",r=n?"/".concat(n):"";return"projects/".concat(e,"/hypotheses").concat(a).concat(r)},it=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(ot(t));case 2:return n=e.sent,e.abrupt("return",n.data.sort((function(e,t){return e.sortOrder-t.sortOrder})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(t);case 2:return n=e.sent,e.next=5,rt(t);case 5:return a=e.sent,r={connectedKfas:[],connectedInsights:[],connectedAnalyses:[]},e.abrupt("return",n.map((function(e){var t=a.find((function(t){return t.contentThreadId===e.contentThreadId}))||r;return Object(b.a)(Object(b.a)({},e),t)})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/hypotheses?onlyShared=true"));case 2:return n=e.sent,e.abrupt("return",n.data.sort((function(e,t){var n=new Date(e.dateModified);return new Date(t.dateModified)-n})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(ot(t,n,a)));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ut=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post(ot(t),ct(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.put("".concat(ot(t,n.contentThreadId)),ct(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.delete(ot(t,n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(ot(t,n),"/versions"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(ot(t,n),"/").concat(a),e.next=3,ke.post(r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post("".concat(ot(t),"/sortorder"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ft={id:null,name:null,isLoading:!1,hasError:!1,errorStatusCode:null},ht=Object(O.createSlice)({name:"hypothesis",initialState:ft,reducers:{resetHypothesis:function(){return ft},fetchHypothesisBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0,hasError:!1,errorStatusCode:null})},fetchHypothesisSucceeded:function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isLoading:!1,hasError:!1,errorStatusCode:null})},fetchHypothesisFailed:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,hasError:!0,errorStatusCode:t.payload})}}}),_t=ht.reducer,xt=ht.actions,gt=xt.resetHypothesis,vt=xt.fetchHypothesisBegan,Lt=xt.fetchHypothesisSucceeded,Ct=xt.fetchHypothesisFailed,Tt=function(e){return e.hypothesis.isLoading},yt=function(e){return e.hypothesis},It=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(vt()),a.next=4,dt(e,t,n);case 4:c=a.sent,r(Lt(c)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),r(Ct(a.t0.response?a.t0.response.status:500));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Et=n(88),wt=n.n(Et),Nt=function(e,t,n){return["projects",e,"insights",t,n].filter(Boolean).join("/")},At=function(e){return Object(b.a)(Object(b.a)({},e),{},{createdBy:e.createdBy||"unset"})},St=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(Nt(t));case 2:return n=e.sent,e.abrupt("return",(a=n.data,wt()(a,"sortOrder")));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(Nt(t,n,a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(Nt(t,n),"/versions"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post(Nt(t),At(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.put(Nt(t,n.contentThreadId),At(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.delete(Nt(t,n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Nt(t,n),"/").concat(a),e.next=3,ke.post(r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post("".concat(Nt(t),"/sortorder"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bt={id:null,name:null,isLoading:!1,hasError:!1,errorStatusCode:null},Yt=Object(O.createSlice)({name:"insight",initialState:Bt,reducers:{resetInsight:function(){return Bt},fetchInsightBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0,hasError:!1,errorStatusCode:null})},fetchInsightSucceeded:function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isLoading:!1,hasError:!1,errorStatusCode:null})},fetchInsightFailed:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,hasError:!0,errorStatusCode:t.payload})}}}),Wt=Yt.reducer,Vt=Yt.actions,Zt=Vt.resetInsight,Gt=Vt.fetchInsightBegan,Ht=Vt.fetchInsightSucceeded,Kt=Vt.fetchInsightFailed,qt=function(e){return e.insight.isLoading},zt=function(e){return e.insight},Qt=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(Gt()),a.next=4,kt(e,t,n);case 4:c=a.sent,r(Ht(c)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),r(Kt(a.t0.response?a.t0.response.status:500));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Jt=n(421),Xt=n.n(Jt),$t=n(10),en="calcEngine",tn="__||__",nn="totals",an="label",rn="active",cn="calcEngine",on="All Adjustments",sn="factCalculations",ln="timePeriodsByCode",dn="timePeriodFlags",un="linkedAdjustmentsByDocument",jn="Reported Revenue",bn="Adjusted Revenue",pn="Reported EBITDA",mn="Revenue Adjustments",On="Current Assets",fn="Current Liabilities",hn=Symbol("empty value"),_n="adjustment",xn="+/-NQ",gn="-",vn="Reported Debt",Ln="Reported Cash",Cn="Net Debt",Tn="Debt-Like Items",yn="Net Debt & Debt-Like",In="Quality of Earnings",En="Net Working Capital",wn="Debt & Debt Like",Nn=(a={},Object($t.a)(a,x.Constants.QUALITY_OF_EARNINGS,In),Object($t.a)(a,x.Constants.NET_WORKING_CAPITAL,En),Object($t.a)(a,x.Constants.DEBT_AND_DEBT_LIKE,wn),a),An={200:In,300:En,400:wn},Sn="column-highlight",kn=Object(O.createAction)("".concat(en,"/clearAllProjectData")),Dn=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.get("projects");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.get("projects/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/projectsettings"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne().post("projects",Object(b.a)(Object(b.a)({},t),{},{industryId:parseInt(t.industryId,10),serviceIds:(t.serviceIds||[]).map((function(e){return parseInt(e,10)}))}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne().put("projects/".concat(t.id),Object(b.a)(Object(b.a)({},t),{},{type:parseInt(t.type,10),restriction:parseInt(t.restriction,10),industryId:parseInt(t.industryId,10),serviceIds:(t.serviceIds||[]).map((function(e){return parseInt(e,10)}))}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.patch("projects/".concat(t,"/projectSettings"),Object(b.a)({},n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bn=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t).put("projects/".concat(t,"/users"),n.map((function(e){return{EmailAddress:e.email,RoleName:e.role,PendingApproval:e.pendingApproval}})));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Yn=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t).put("projects/".concat(t,"/clientUsers"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Wn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/userviewstatus/counts"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vn=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.get("projects/projectOptions");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/powerBiReports"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a||!1,e.next=3,ke.get("projects/".concat(t,"/powerBiReports/search?libraryItemId=").concat(n,"&shared=").concat(r));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Hn=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/powerBiReports/").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Kn=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.post("/projects/".concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qn="Dollar",zn="Millions",Qn={id:null,name:null,isLoading:!1,hasError:!1,showDiagnostic:!0,errorStatusCode:null,powerBiReports:[],currency:qn,financialsMagnitude:zn,financialsDecimalCount:1,serviceIds:[],EngagementUrl:"",sharePointSiteUrl:""},Jn=Object(O.createSlice)({name:"project",initialState:Qn,reducers:{resetProject:function(){return Qn},fetchProjectBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0,hasError:!1,errorStatusCode:null})},fetchProjectEnded:function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1})},fetchProjectSettingsSucceeded:function(e,t){var n=t.payload,a=n.currency,r=n.financialsMagnitude,c=n.financialsDecimalCount,o=Xt()(c||1);return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{currency:a||qn,financialsMagnitude:r||zn,financialsDecimalCount:o,hasError:!1,errorStatusCode:null})},fetchProjectDetailsSucceeded:function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{hasError:!1,errorStatusCode:null})},fetchProjectFailed:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,hasError:!0,errorStatusCode:t.payload})},powerBiReportsUpdated:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{powerBiReports:t.payload})},fetchUserViewCountsSucceeded:function(e,t){return Object(b.a)(Object(b.a)({},e),t.payload)}}}),Xn=Jn.reducer,$n=Jn.actions,ea=$n.resetProject,ta=$n.fetchProjectBegan,na=$n.fetchProjectEnded,aa=$n.fetchProjectDetailsSucceeded,ra=$n.fetchProjectSettingsSucceeded,ca=$n.fetchProjectFailed,oa=($n.powerBiReportsUpdated,$n.fetchUserViewCountsSucceeded),ia=function(e){return e.project.isLoading},sa=function(e){return e.project.hasError},la=function(e){return e.project.errorStatusCode},da=function(e){return e.project},ua=function(e){return e.project.id},ja=function(e){return e.project.sharePointSiteUrl},ba=function(e){return e.project.EngagementUrl},pa=function(e){return{currency:e.project.currency,financialsMagnitude:e.project.financialsMagnitude,financialsDecimalCount:e.project.financialsDecimalCount}},ma=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n){var a,r;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(kn()),n(ta()),t.next=5,Rn(e);case 5:if(a=t.sent,n(aa(a)),!a){t.next=12;break}return t.next=10,Pn(e);case 10:r=t.sent,n(ra(r));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n(ca(t.t0.response?t.t0.response.status:500));case 17:return t.prev=17,n(na()),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}()},Oa=function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(ta()),n.next=4,Un(e,t);case 4:a(ra(t)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a(ca(n.t0.response?n.t0.response.status:500));case 10:return n.prev=10,a(na()),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(e){return n.apply(this,arguments)}}()},fa=Object(f.a)((function(e){return e.report||{}}),(function(e){return e.previewPage||{}})),ha="Junction",_a=function(e){return function(t){return"".concat(e(t)," | ").concat(ha)}},xa=function(e){return function(t){return _a(function(e){return function(t){return"".concat(e(t)," - ").concat(t.projectName)}}(e))(t)}},ga=[{path:"/projects",title:_a((function(){return"Projects"}))},{path:"/projects/create-project",title:_a((function(){return"Create a new project"}))},{path:"/projects/:projectId",title:_a((function(e){return e.projectName}))},{path:"/projects/:projectId/insights",title:xa((function(){return"Insights"}))},{path:"/projects/:projectId/insights/create",title:xa((function(){return"Add new Insight"}))},{path:"/projects/:projectId/insights/:insightId/view",title:xa((function(e){var t=e.insightTitle;return"".concat(t)}))},{path:"/projects/:projectId/insights/:insightId/edit",title:xa((function(){return"Edit Insight"}))},{path:"/projects/:projectId/key-focus-areas",title:xa((function(){return"Key Focus Areas"}))},{path:"/projects/:projectId/key-focus-areas/create",title:xa((function(){return"Add new Key Focus Area"}))},{path:"/projects/:projectId/key-focus-areas/:hypothesisId/view",title:xa((function(e){var t=e.hypothesisTitle;return"".concat(t)}))},{path:"/projects/:projectId/key-focus-areas/:hypothesisId/edit",title:xa((function(){return"Edit Key Focus Area"}))},{path:"/projects/:projectId/analyses",title:xa((function(){return"Analyses"}))},{path:"/projects/:projectId/analyses/create",title:xa((function(){return"Add new Analysis"}))},{path:"/projects/:projectId/analyses/create/library-items",title:xa((function(){return"Add data - Add new Analysis"}))},{path:"/projects/:projectId/analyses/create/layout",title:xa((function(){return"Add layout - Add new Analysis"}))},{path:"/projects/:projectId/analyses/add-type",title:xa((function(){return"Add Analysis"}))},{path:"/projects/:projectId/analyses/add-from-template",title:xa((function(){return"Add Analysis from template"}))},{path:"/projects/:projectId/analyses/quality-of-earnings",title:xa((function(){return"Quality of Earnings"}))},{path:"/projects/:projectId/analyses/quality-of-earnings/edit",title:xa((function(){return"Edit Quality of Earnings"}))},{path:"/projects/:projectId/analyses/net-working-capital",title:xa((function(){return"Net Working Capital"}))},{path:"/projects/:projectId/analyses/net-working-capital/edit",title:xa((function(){return"Edit Net Working Capital"}))},{path:"/projects/:projectId/analyses/debt-debt-like",title:xa((function(){return"Debt & Debt Like"}))},{path:"/projects/:projectId/analyses/debt-debt-like/edit",title:xa((function(){return"Edit Debt & Debt Like"}))},{path:"/projects/:projectId/analyses/:analysisId/view",title:xa((function(e){var t=e.analysisTitle;return"".concat(t)}))},{path:"/projects/:projectId/analyses/:analysisId/edit",title:xa((function(){return"Edit Analysis"}))},{path:"/projects/:projectId/settings",title:xa((function(){return"Settings"}))},{path:"/projects/:projectId/reports",title:xa((function(){return"Reports"}))},{path:"/projects/:projectId/reports/create-report",title:xa((function(){return"Report Builder"}))},{path:"/projects/:projectId/reports/create-report/filter",title:xa((function(){return"Report Builder Filtered Results"}))},{path:"/projects/:projectId/reports/create-report/preview/report",title:xa((function(){return"Report Preview"}))},{path:"/projects/:projectId/reports/create-report/preview/cover",title:xa((function(){return"Cover - Report Preview"}))},{path:"/projects/:projectId/reports/create-report/preview/tile/:tileId",title:xa((function(e){var t=e.tileTitle;return"".concat(t," - Report Preview")}))},{path:"/projects/:projectId/divestiture-diagnostic/survey/:sectionPath/:questionId",title:xa((function(){return"Diagnostic Questionnaire"}))},{path:"/projects/:projectId/divestiture-diagnostic/survey/responses",title:xa((function(){return"Diagnostic Responses"}))},{path:Q,title:xa((function(){return"Diagnostic Results"}))},{path:"/projects/:projectId/notifications",title:xa((function(){return"Notifications"}))},{path:"/projects/:projectId/notifications/mentions",title:xa((function(){return"Mentions - Notifications"}))},{path:"/projects/:projectId/notifications/approval-requests",title:xa((function(){return"Approval Requests - Notifications"}))},{path:"/projects/:projectId/notifications/project-activity",title:xa((function(){return"Project Activity - Notifications"}))},{path:"/terms-and-conditions",title:_a((function(){return"Terms & Conditions"}))},{path:"/policies/privacy-statement",title:_a((function(){return"Privacy Statement"}))},{path:"/policies/cookie-statement",title:_a((function(){return"Cookie Statement"}))},{path:"/policies/terms-of-use",title:_a((function(){return"Terms Of Use"}))},{path:"/projects/:projectId/project-disclaimer",title:xa((function(){return"Project Disclaimer"}))},{path:"/notfound",title:_a((function(){return"Not Found"}))},{path:"/unauthorized",title:_a((function(){return"Unauthorized"}))},{path:"/unauthenticated",title:_a((function(){return"Unauthenticated"}))}],va=function(e){return Object(b.a)(Object(b.a)({},e),{},{match:Object(p.n)(e.path)})},La=function(){return ga.map(va).filter((function(e){return(e.match||{}).isExact}))[0]},Ca=function(){var e=Object(s.useSelector)(da),t=Object(s.useSelector)(yt),n=Object(s.useSelector)(U),a=Object(s.useSelector)(zt),r=Object(s.useSelector)(fa);return{projectName:e.name,hypothesisTitle:t.title,analysisTitle:n&&n.title,insightTitle:a.title,tileTitle:r.title}},Ta=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.get("footer");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ya=Object(O.createSlice)({name:"footer",initialState:{template:null,loaded:!1,loading:!1},reducers:{setFooterRequested:function(e){return Object(b.a)(Object(b.a)({},e),{},{template:null,loaded:!1,loading:!0})},setFooterReceived:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{template:t.payload.body,loaded:!0,loading:!1})}}}),Ia=ya.actions,Ea=Ia.setFooterRequested,wa=Ia.setFooterReceived,Na=function(e){return e.footer.loaded},Aa=function(e){return e.footer.template},Sa=ya.reducer,ka=function(){return function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue.hasValidToken()&&!n().footer.loading&&!Na(n())){e.next=2;break}return e.abrupt("return");case 2:return t(Ea()),e.next=5,Ta();case 5:a=e.sent,t(wa(a));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Da=n(145),Ra=n(608),Pa=n.n(Ra),Ma=(n(1040),n(0)),Fa=function(){return Object(Ma.jsx)("div",{className:"separator"})},Ua=Object(O.createSlice)({name:"userTermsAndConditions",initialState:{loaded:!1,loading:!1,hasAccepted:null},reducers:{setUserTermsAndConditionsRequested:function(e){return Object(b.a)(Object(b.a)({},e),{},{hasAccepted:null,loaded:!1,loading:!0})},setUserTermsAndConditionsReceived:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{hasAccepted:t.payload,loaded:!0,loading:!1})}}}),Ba=Ua.actions,Ya=Ba.setUserTermsAndConditionsRequested,Wa=Ba.setUserTermsAndConditionsReceived,Va=function(e){return e.userTermsAndConditions.loaded},Za=function(e){return e.userTermsAndConditions.loading},Ga=function(e){return e.userTermsAndConditions.hasAccepted},Ha=Ua.reducer,Ka=n(609),qa=n.n(Ka),za={ALLOWED_TAGS:["a","b","br","caption","clippath","col","colgroup","defs","div","ellipse","g","h2","h3","h4","i","img","image","li","marker","ol","p","pattern","path","span","strong","symbol","svg","table","tbody","td","text","th","tr","tspan","u","ul","use"],ALLOWED_ATTR:["border","target","cellpadding","cellspacing","class","clip-path","colspan","contenteditable","cx","d","fill","fill-opacity","font-family","font-size","font-stretch","font-style","font-weight","height","href","id","marker-end","marker-start","markerHeight","markerUnits","markerWidth","name","orient","patternunits","preserveaspectratio","rowspan","rx","ry","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-opacity","stroke-width","style","text-rendering","transform","version","viewbox","width","x","xlink:href","xml:space","xmlns","xmlns:xlink","y"]},Qa=function(e){return qa.a.sanitize(e,za)},Ja=n(13),Xa=function(){return x.Constants.TERMS_AND_CONDITIONS_LINKS.map((function(e){return Object(Ma.jsx)(Ja.Link,{className:"footer-link",to:"/policies/".concat(e.key),children:e.text},e.key)}))},$a=(n(1042),function(){var e=Object(s.useSelector)(Na),t=Object(s.useSelector)(ua),n=Object(s.useSelector)(Ga),a=Object(s.useSelector)(Aa),r=!ue.isClientUser(),c=n||r;if(!e)return null;var o,i=function(){return(new Date).getFullYear()},l='<div class="copyright"><p>\xa9 '.concat(i()," PwC. All rights reserved.</p></div>"),d={showSubText:c&&t,projectId:t,currentYear:i()};try{o=Pa.a.compile(a)(d)}catch(u){o=l}return Object(Ma.jsxs)("footer",{children:[Object(Ma.jsx)(Fa,{}),c?Object(Ma.jsx)(Xa,{}):null,Object(Ma.jsx)("div",{className:"copyright",dangerouslySetInnerHTML:{__html:Qa(o)}})]})}),er=n(5),tr=n(12),nr=n.n(tr),ar=(n(1161),Object(O.createSlice)({name:"projects",initialState:{projectsList:[]},reducers:{fetchProjectsEnded:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{projectsList:t.payload})}}})),rr=ar.reducer,cr=ar.actions.fetchProjectsEnded,or=function(e){return e.projects&&e.projects.projectsList},ir=function(){return function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn();case 2:n=e.sent,t(cr(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sr={NEW:1,IN_PROGRESS:2,COMPLETED:3,MIGRATION_COMPLETED:4,MIGRATION_FAILED:5,SYNC_FAILED:7,FAILED:10,ON_HOLD:11,INACTIVE:12,INACTIVE_PENDING_NEEDS_APPROVAL:13,INACTIVE_PENDING_IN_PROGRESS:15,REACTIVE_PENDING_NEEDS_APPROVAL:17,REACTIVE_PENDING_IN_PROGRESS:16,ARCHIVED:14,ARCHIVING_PENDING_NEEDS_APPROVAL:1001,ARCHIVING_PENDING_FROM_INACTIVE_NEEDS_APPROVAL:1002,ARCHIVING_PENDING_IN_PROGRESS:1003,ARCHIVING_PENDING_FROM_INACTIVE_IN_PROGRESS:1004,UNARCHIVING_PENDING_NEEDS_APPROVAL:1005,UNARCHIVING_PENDING_IN_PROGRESS:1006},lr=function(e){return e===sr.COMPLETED||e===sr.REACTIVE_PENDING_IN_PROGRESS||e===sr.UNARCHIVING_PENDING_IN_PROGRESS||e===sr.ARCHIVING_PENDING_NEEDS_APPROVAL||e===sr.INACTIVE_PENDING_NEEDS_APPROVAL},dr=function(e){return e===sr.REACTIVE_PENDING_IN_PROGRESS},ur=function(e){return e===sr.INACTIVE||e===sr.INACTIVE_PENDING_IN_PROGRESS||e===sr.REACTIVE_PENDING_NEEDS_APPROVAL||e===sr.ARCHIVING_PENDING_FROM_INACTIVE_NEEDS_APPROVAL},jr=function(e){return e===sr.INACTIVE_PENDING_IN_PROGRESS},br=function(e){return e===sr.ARCHIVED||e===sr.ARCHIVING_PENDING_IN_PROGRESS||e===sr.UNARCHIVING_PENDING_NEEDS_APPROVAL},pr=function(e){return function(e){return e===sr.UNARCHIVING_PENDING_IN_PROGRESS}(e)||dr(e)||jr(e)||function(e){return e===sr.ARCHIVING_PENDING_IN_PROGRESS}(e)},mr=function(e){return ur(e)||br(e)},Or=function(e,t){return t&&e[t]&&e[t].status},fr=function(e,t){return t&&e[t]?e[t].icon:""},hr=function(){var e=Object(s.useSelector)(or);return Object(h.isEmpty)(e)?{}:Object(h.chain)(e).filter((function(e){return e&&e.id&&e.status})).keyBy((function(e){return e.id})).mapValues((function(e){var t="";return ur(e.status)?t="pause":br(e.status)&&(t="archive"),{status:e.status,icon:t}})).value()},_r=function(e){var t=e.showWhenActive,n=e.isSmall,a=e.projectId,r=e.showPendingStatus,c=hr(),o=Or(c,a),i=fr(c,a);return lr(o)||ur(o)||br(o)?!o||!t&&lr(o)?null:Object(Ma.jsx)("div",{className:"project-state-pill-container","data-testid":"project-state-pill",children:Object(Ma.jsxs)("div",{className:nr()("project-state-pill",{"project-state-pill__no-icon":lr(o),"project-state-pill__small":n}),children:[(ur(o)||br(o))&&Object(Ma.jsx)(er.Icon,{name:i,className:"fill icon-black",width:13,height:13}),lr(o)&&Object(Ma.jsx)("span",{tabIndex:0,"data-testid":"project-state-pill-status",children:"Active".concat(dr(o)&&r?", pending":"")}),ur(o)&&Object(Ma.jsx)("span",{tabIndex:0,"data-testid":"project-state-pill-status",children:"Inactive".concat(jr(o)&&r?", pending":"")}),br(o)&&Object(Ma.jsx)("span",{tabIndex:0,"data-testid":"project-state-pill-status",children:"Archived"})]})}):null};_r.defaultProps={showWhenActive:!0,showPendingStatus:!1,isSmall:!1};var xr,gr,vr=_r,Lr=Object.freeze({TABS:{EDIT_LAYOUT:"Edit Layout",SAVE_PREVIEW_REPORT:"Save and preview report"},TABS_ROUTE:{LAYOUT:"layout",PREVIEW:"preview"},SUB_ROUTES:{CREATE_PREVIEW:"/projects/:projectId/analyses/create/layout/preview",CREATE_LAYOUT:"/projects/:projectId/analyses/create/layout",EDIT_PREVIEW:"/projects/:projectId/analyses/:analysisId/edit/layout/preview",EDIT_LAYOUT:"/projects/:projectId/analyses/:analysisId/edit/layout"},PARTIAL_ROUTE:{CREATE_LAYOUT:"create/layout",EDIT_LAYOUT:"edit/layout",CREATE_LAYOUT_PREVIEW:"create/layout/preview",EDIT_LAYOUT_PREVIEW:"edit/layout/preview"},COLUMN_TYPE:{ONE:"ONE_COLUM",TWO:"TWO_COLUM",THREE:"THREE_COLUM",FOUR:"FOUR_COLUM"},USER_EVENTS:{SCROLL:"scroll",RESIZE:"resize"},LAYOUT_TYPE_TO_LAYOUT_TITLE_DESCRIPTION_MAP:(xr={},Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,{title:"One column, full width",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,{title:"Two column",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,{title:"Three column",description:"excess text in each column will cut off in the report."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,{title:"One column, large",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,{title:"One column, medium",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,{title:"One column, small",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,{title:"Two column, text only",description:"text will fill in the left column and continue in the right column, and excess text continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,{title:"Stacked with right column",description:"excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,{title:"Three stacked with right column",description:"excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,{title:"Two column, narrow left",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,{title:"Two column, narrow right",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,{title:"Stacked with narrow right column",description:"excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,{title:"Two column, extra narrow right",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,{title:"Stacked, large top",description:"excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,{title:"Stacked, medium top",description:"excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,{title:"Stacked, large bottom",description:"excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,{title:"Stacked, two block top",description:"excess text in the top areas will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,{title:"Stacked, two block bottom",description:"excess text in each area will cut off in the report."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,{title:"Four block",description:"excess text in each area will cut off in the report."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,{title:"Four block, narrow right",description:"excess text in each area will cut off in the report."}),Object($t.a)(xr,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,{title:"Six block",description:"excess text in each area will cut off in the report."}),xr),LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP:(gr={},Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,"one-column"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,"two-column"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,"three-column"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,"one-column-80"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,"one-column-60"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,"one-column-40"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,"one-column-text-overflow-area"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,"two-column-three-area-2left50-right50"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,"two-column-four-area-3left50-right50"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,"two-column-left40-right60"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,"two-column-left67-right33"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,"two-column-three-area-2left67-right33"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,"two-column-left80-right20"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,"two-row-top80-bottom20"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,"two-row-top60-bottom40"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,"two-row-top20-bottom80"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,"two-row-three-area-2top50-bottom100"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,"two-row-three-area-top100-2bottom50"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,"two-row-two-column-50-50"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,"two-row-two-column-67-33"),Object($t.a)(gr,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,"two-row-three-column"),gr),VIEWPORT_WIDTHS:{TABLET:768},LAYOUT_TYPE_TO_ICON_MAP:{"1-1":"one-column-full-width","4-1":"one-column-large","5-1":"one-column-medium","6-1":"one-column-small","7-1":"two-column-text-only","10-1":"two-column-narrow-left-left","10-2":"two-column-narrow-left-right","11-1":"two-column-narrow-right-left","11-2":"two-column-narrow-right-right","2-1":"two-column-left","2-2":"two-column-right","15-1":"stacked-medium-top-top","15-2":"stacked-medium-top-bottom","14-1":"stacked-large-top-top","14-2":"stacked-large-top-bottom","16-1":"stacked-large-bottom-top","16-2":"stacked-large-bottom-bottom","13-1":"two-column-extra-narrow-right-left","13-2":"two-column-extra-narrow-right-right","3-1":"three-column-left","3-2":"three-column-middle","3-3":"three-column-right","8-1":"stacked-with-right-column-top-left","8-2":"stacked-with-right-column-right","8-3":"stacked-with-right-column-bottom-left","12-1":"stacked-with-narrow-right-column-top-left","12-2":"stacked-with-narrow-right-column-right","12-3":"stacked-with-narrow-right-column-bottom-left","17-1":"stacked-two-block-top-top-left","17-2":"stacked-two-block-top-top-right","17-3":"stacked-two-block-top-bottom","18-1":"stacked-two-block-bottom-top","18-2":"stacked-two-block-bottom-bottom-left","18-3":"stacked-two-block-bottom-bottom-right","19-1":"four-block-top-left","19-2":"four-block-top-right","19-3":"four-block-bottom-left","19-4":"four-block-bottom-right","20-1":"four-block-narrow-right-top-left","20-2":"four-block-narrow-right-top-right","20-3":"four-block-narrow-right-bottom-left","20-4":"four-block-narrow-right-bottom-right","9-1":"three-stacked-with-right-column-left-top","9-2":"three-stacked-with-right-column-right","9-3":"three-stacked-with-right-column-left-middle","9-4":"three-stacked-with-right-column-left-bottom","21-1":"six-block-top-left","21-2":"six-block-top-middle","21-3":"six-block-top-right","21-4":"six-block-bottom-left","21-5":"six-block-bottom-middle","21-6":"six-block-bottom-right"}}),Cr=n(6);var Tr=function(){var e="object"===typeof window;function t(){return{height:e?window.innerHeight:void 0,width:e?window.innerWidth:void 0}}var n=Object(r.useState)(t),a=Object(Cr.a)(n,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){if(e)return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)};function n(){o(t())}}),[]),c};var yr,Ir,Er=function(){return Tr().width<=Lr.VIEWPORT_WIDTHS.TABLET},wr=n(249),Nr=n(545),Ar=function(e){return e.loggedInUser},Sr=(n(1162),Object(O.createSlice)({name:"userSettings",initialState:{settings:{viewGrid:!0},loading:!1,loaded:!1},reducers:{setUserSettings:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),t.payload),loading:!1,loaded:!0})},setUserSettingsIsLoading:function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0})}}})),kr=Sr.actions,Dr=kr.setUserSettings,Rr=kr.setUserSettingsIsLoading,Pr=function(e){return e.userSettings},Mr=function(e){return e.userSettings.settings.darkMode},Fr=Sr.reducer,Ur="userSettings",Br=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.get(Ur,{},!0);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yr=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.put("".concat(Ur,"/theme"),{darkMode:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wr=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.put("".concat(Ur,"/allowPerformanceCookies"),{allowPerformanceCookies:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vr=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.put("users/doNotProcessPendoRequests",{doNotProcessRequests:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zr=function(){return function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Rr()),e.next=3,Br();case 3:(n=e.sent)&&t(Dr(n.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Gr={redirect:function(e){return window.location=e}},Hr=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("access/refreshTokens?redirectUri=".concat(window.location.origin,"/access}"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kr=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Le().map((function(e){return sessionStorage.getItem(e)})),Le().forEach((function(e){return sessionStorage.removeItem(e)})),!t.length){e.next=10;break}return e.prev=3,e.next=6,we.post("access/invalidateTokens",{tokens:t});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),qr=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.get("access/authenticationUrl?redirectUri=".concat(t,"&state=").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zr=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.get("access/signOutUrl");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qr=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.get("access/tokens?code=".concat(t,"&redirectUri=").concat(window.location.origin,"/access"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jr=n(611),Xr=new(n.n(Jr).a)({maxAge:12e4}),$r=function(){return Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr();case 2:return e.next=4,zr();case 4:t=e.sent,Xr.reset(),Gr.redirect(t);case 7:case"end":return e.stop()}}),e)})))},ec=function(){var e=Object(s.useDispatch)();return Object(Ma.jsx)(er.Button,{"data-testid":"logout-link",onClick:function(t){e($r()),t.preventDefault()},children:"Log out"})},tc=function(e){var t=Object.assign({},e),n=Object(s.useSelector)(Ar),a=Object(s.useSelector)(Pr),c=Object(s.useDispatch)(),o=!!a.settings.darkMode,i=Object(r.useCallback)((function(e){c(function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Pr(a())).loading||!!r.settings.darkMode===e){t.next=6;break}return n(Rr()),t.next=5,Yr(e);case 5:n(Zr());case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(e)),localStorage.setItem("pwc-theme",e?"theme-dark":"theme-light")}),[c]),l=Object(r.useState)(!1),d=Object(Cr.a)(l,2),u=d[0],j=d[1],p=Object(r.useState)(null),m=Object(Cr.a)(p,2),O=m[0],f=m[1],h=Object(r.useRef)(null),_=ue.getUserTypeClass();return n?Object(Ma.jsxs)("div",{className:"usersnippet-initials","data-testid":"user-initials",ref:h,children:[Object(Ma.jsx)(er.Button,Object(b.a)(Object(b.a)({},t),{},{className:"usersnippet-initials-text button-no-appearance ".concat(_),"data-testid":"user-initials-button",onClick:function(e){j(!u),f(e.target),!0===u&&setTimeout((function(){document.body.click()}),200)},children:n.initials})),Object(Ma.jsx)(wr.default,{show:u,target:O,placement:"bottom",rootClose:!0,onHide:function(){j(!u)},container:h.current,darkMode:!!a.settings.darkMode,children:Object(Ma.jsx)(Nr.a,Object(b.a)(Object(b.a)({id:"popover-user",ref:h},t),{},{"data-testid":"popup-menu-user",className:o?"theme-dark":"theme-light",children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-user",children:[Object(Ma.jsx)("div",{className:"user-profile-dropdown-menu-section",children:Object(Ma.jsxs)("p",{"data-testid":"popup-user-fullname-message",children:["Welcome ",n.name]})}),Object(Ma.jsx)("div",{className:"user-profile-dropdown-menu-section",children:Object(Ma.jsx)(er.Toggle,{checked:!!o,onClick:function(){return i(!o)},name:"dark-mode-toggle","data-testid":"dark-mode-toggle",children:"Dark Mode"})}),Object(Ma.jsx)("div",{className:"user-profile-dropdown-menu-section",children:Object(Ma.jsx)(ec,{})})]})}))})]}):null},nc=(n(1165),new RegExp(/\/$/),new RegExp(/^\//),yr={},Object($t.a)(yr,x.Constants.QUALITY_OF_EARNINGS,"quality-of-earnings"),Object($t.a)(yr,x.Constants.NET_WORKING_CAPITAL,"net-working-capital"),Object($t.a)(yr,x.Constants.DEBT_AND_DEBT_LIKE,"debt-debt-like"),yr),ac=(Ir={},Object($t.a)(Ir,x.Constants.structuredDocumentSubtypeCodes[x.Constants.QUALITY_OF_EARNINGS],"quality-of-earnings"),Object($t.a)(Ir,x.Constants.structuredDocumentSubtypeCodes[x.Constants.NET_WORKING_CAPITAL],"net-working-capital"),Object($t.a)(Ir,x.Constants.structuredDocumentSubtypeCodes[x.Constants.DEBT_AND_DEBT_LIKE],"debt-debt-like"),Ir),rc=function(e){return"/projects/".concat(e)},cc=function(e){return"/projects/".concat(e,"/key-focus-areas")},oc=function(e,t){return"/projects/".concat(e,"/key-focus-areas/").concat(t,"/view")},ic=function(e){return"/projects/".concat(e,"/key-focus-areas/create")},sc=function(e,t){return"/projects/".concat(e,"/key-focus-areas/").concat(t,"/edit")},lc=function(e){return"/projects/".concat(e,"/insights")},dc=function(e,t){return"/projects/".concat(e,"/insights/").concat(t,"/view")},uc=function(e){return"/projects/".concat(e,"/insights/create")},jc=function(e,t){return"/projects/".concat(e,"/insights/").concat(t,"/edit")},bc=function(e){return"/projects/".concat(e,"/analyses")},pc=function(e){return"/projects/".concat(e,"/analyses2")},mc=function(e){return"/projects/".concat(e,"/analyses/add-type")},Oc=function(e){return"/projects/".concat(e,"/analyses2/add-type")},fc=function(e){return"/projects/".concat(e,"/analyses/add-from-template")},hc=function(e,t){return"/projects/".concat(e,"/analyses/").concat(t,"/view")},_c=function(e,t){return"/projects/".concat(e,"/analyses2/").concat(t,"/view")},xc=function(e,t){return"/projects/".concat(e,"/analyses/").concat(t,"/edit")},gc=function(e,t){return"/projects/".concat(e,"/analyses2/").concat(t,"/edit")},vc=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"/projects/".concat(e,"/analyses/").concat(t,"/report-preview/").concat(n,"?isUnStructured=").concat(a)},Lc=function(e){return"/projects/".concat(e,"/analyses/").concat(nc[x.Constants.QUALITY_OF_EARNINGS])},Cc=function(e){return"/projects/".concat(e,"/analyses/").concat(nc[x.Constants.NET_WORKING_CAPITAL])},Tc=function(e){return"/projects/".concat(e,"/analyses/").concat(nc[x.Constants.DEBT_AND_DEBT_LIKE])},yc=function(e,t){return"/projects/".concat(e,"/analyses/").concat(nc[t])},Ic=function(e,t){return"/projects/".concat(e,"/analyses/").concat(ac[t])},Ec=function(e){return"/projects/".concat(e,"/analyses/create")},wc=function(e){return"/projects/".concat(e,"/reports")},Nc=function(e){return"/projects/".concat(e,"/files")},Ac=function(e){return"/projects/".concat(e,"/reports/create-report")},Sc=function(e){return"/projects/".concat(e,"/settings")},kc=function(e){return"/projects/".concat(e,"/StructuredAnalysisDocuments")},Dc=function(e){return"/projects/".concat(e,"/StructuredAnalysisDocuments/withData")},Rc="/projects/create-project",Pc=function(e){return"/projects/".concat(e,"/project-disclaimer")},Mc=function(e){return"/projects/".concat(e,"/diagnostics")},Fc=function(e){return"/projects/".concat(e,"/diagnostics/reset")},Uc=function(e){return"/projects/".concat(e,"/diagnostics/batch")},Bc=function(e){return"/projects/".concat(e,"/diagnostics/overallComplexity")},Yc=function(e,t){return"/projects/".concat(e,"/StructuredAnalysisDocuments/getLatestContent?isViewingAsClient=").concat(t)},Wc=function(e){var t=e.projectId,n=ic(t),a=uc(t),c=(mc(t),Oc(t)),o=Object(r.useState)(!1),i=Object(Cr.a)(o,2),s=i[0],l=i[1],d=Object(r.useState)(null),u=Object(Cr.a)(d,2),j=u[0],b=u[1],p=Object(r.useRef)(null),m=function(e){l(!s),b(e.target)};return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"add-project-items-header-menu",ref:p,children:[Object(Ma.jsx)(er.Button,{"data-testid":"header-fab",id:"header-fab",className:"button-avoid-focus add-icon button-link add-popover-button",onClick:m,title:"Add Content",children:Object(Ma.jsx)(er.Icon,{name:"add",className:"fill icon-orange",width:32})}),Object(Ma.jsx)(wr.default,{show:s,target:j,placement:"bottom",rootClose:!0,onHide:function(){l(!s)},container:p.current,popperConfig:{modifiers:[{name:"offset",options:{offset:[0,12]}}]},children:Object(Ma.jsx)(Nr.a,{id:"popover-add",ref:p,className:"header-add-popover","data-testid":"header-add-popover",children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-user",children:[Object(Ma.jsxs)(Ja.Link,{"data-testid":"add-hypothesis-button",className:"dropdown-item",to:n,onClick:m,children:[Object(Ma.jsx)(er.Icon,{name:"hypothesis",width:24,className:"outline icon-orange-theme"}),"Add a Key Focus Area"]}),Object(Ma.jsxs)(Ja.Link,{"data-testid":"add-insight-button",className:"dropdown-item",to:a,onClick:m,children:[Object(Ma.jsx)(er.Icon,{name:"insight",width:24,className:"outline icon-orange-theme"}),"Add an Insight"]}),Object(Ma.jsx)(Ma.Fragment,{}),Object(Ma.jsxs)(Ja.Link,{"data-testid":"add-analysis2-button",className:"dropdown-item",to:c,onClick:m,children:[Object(Ma.jsx)(er.Icon,{name:"analysis",width:24,className:"outline icon-orange-theme"}),"Add an Analysis 2.0"]})]})})})]}),s&&Object(Ma.jsx)("div",{className:"add-header-popover-overlay",onClick:function(){l(!1),setTimeout((function(){document.body.click()}),200)},"data-testid":"add-header-popover-overlay",role:"presentation"})]})},Vc=(n(1166),function(e){var t=e.breadcrumbs;return t.map((function(e,n){var a="breadcrumb-".concat(e.text.toLowerCase().replace(/ /g,"-"));return n===t.length-1?Object(Ma.jsx)("span",{className:"breadcrumb-text","data-testid":a,children:e.text},e.path):Object(Ma.jsx)("span",{children:Object(Ma.jsx)(Ja.Link,{to:e.path,"data-testid":a,className:"breadcrumb-link",children:e.text})},e.path)}))}),Zc=[{path:"/projects",text:"Projects"},{path:"/projects/:projectId",customName:"projectName"},{path:"/projects/:projectId/insights",text:"Insights"},{path:"/projects/:projectId/insights/create",text:"New"},{path:"/projects/:projectId/insights/:insightId/view",customName:"insightTitle"},{path:"/projects/:projectId/insights/:insightId/edit",text:"Edit"},{path:"/projects/:projectId/key-focus-areas",text:"Key Focus Areas"},{path:"/projects/:projectId/key-focus-areas/create",text:"New"},{path:"/projects/:projectId/key-focus-areas/:hypothesisId/edit",text:"Edit"},{path:"/projects/:projectId/key-focus-areas/:hypothesisId/view",customName:"hypothesisTitle"},{path:"/projects/:projectId/analyses",text:"Analyses"},{path:"/projects/:projectId/analyses/:analysisId/view",customName:"analysisTitle"},{path:"/projects/:projectId/analyses/:analysisId/report-preview/:version/",customName:"analysisTitle"},{path:"/projects/:projectId/analyses/add-type",text:"Add Analyses"},{path:"/projects/:projectId/analyses/add-from-template",text:"Add From Template"},{path:"/projects/:projectId/analyses/create",text:"New"},{path:"/projects/:projectId/analyses/create/library-items",text:"Add data"},{path:"/projects/:projectId/analyses/create/layout",text:"Add data"},{path:"/projects/:projectId/analyses/create/layout/preview",text:"Save and preview report"},{path:"/projects/:projectId/analyses/quality-of-earnings",text:"Quality of Earnings"},{path:"/projects/:projectId/analyses/net-working-capital",text:"Net Working Capital"},{path:"/projects/:projectId/analyses/debt-debt-like",text:"Debt & Debt Like"},{path:"/projects/:projectId/analyses/:analysisId/edit",text:"Edit"},{path:"/projects/:projectId/analyses/:analysisId/edit/library-items",text:"Add data"},{path:"/projects/:projectId/analyses/:analysisId/edit/layout",text:"Add data"},{path:"/projects/:projectId/analyses/:analysisId/edit/layout/preview",text:"Save and preview report"},{path:"/projects/:projectId/reports",text:"Reports"},{path:"/projects/:projectId/reports/create-report",text:"Report Builder"},{path:"/projects/:projectId/reports/create-report/filter",text:"Filtered Results"},{path:"/projects/:projectId/reports/create-report/filter/preview/cover",text:"Cover"},{path:"/projects/:projectId/reports/create-report/filter/preview/tile/:tileId",customName:"tileTitle"},{path:"/projects/:projectId/reports/create-report/preview/report",text:"Report Preview"},{path:"/projects/:projectId/reports/create-report/preview/cover",text:"Cover"},{path:"/projects/:projectId/reports/create-report/preview/tile/:tileId",customName:"tileTitle"},{path:"/projects/:projectId/settings",text:"Settings"},{path:"/projects/:projectId/project-disclaimer",text:"Project Disclaimer"},{path:"/projects/:projectId/divestiture-diagnostic/survey/:sectionPath/:questionId",text:"Diagnostic Questionnaire"},{path:"/projects/:projectId/divestiture-diagnostic/survey/responses",text:"Diagnostic Questionnaire"},{path:Q,text:"Diagnostic Questionnaire"},{path:"/projects/:projectId/notifications/",text:"Notifications"},{path:"/projects/:projectId/notifications/mentions",text:" Mentions"},{path:"/projects/:projectId/notifications/approval-requests",text:" Approval Requests"},{path:"/projects/:projectId/notifications/project-activity",text:" Project Activity"},{path:"/projects/:projectId/files",text:"Files"}],Gc=function(e,t){var n=Object.keys(e);return n.length>0?n.reduce((function(t,n){return t.replace(":".concat(n),e[n])}),t):t},Hc=function(){var e=Object(p.l)(),t=Object(r.useState)(!0),n=Object(Cr.a)(t,2),a=n[0],c=n[1],o=Ca(),i=e.pathname;if(Object(r.useEffect)((function(){c("/unauthorized"===i.toLowerCase()||"/notfound"===i.toLowerCase()||"/unauthenticated"===i.toLowerCase())}),[i]),a)return null;if(i.indexOf("policies")>-1){var s=[{text:"Projects",path:"/projects"},{text:"Terms & Conditions",path:i}];return Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("span",{className:"breadcrumb-root",children:"Junction"})," | ",Object(Ma.jsx)(Vc,{breadcrumbs:s})]})}return Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("span",{className:"breadcrumb-root",children:x.EnvironmentVariableUtilities.platformName})," | ",Zc.map((function(e){return Object(Ma.jsx)(p.d,{exact:!0,path:e.path,render:function(e){var t,n=e.match.params,a=e.match.path;return t="create-project"===n.projectId?[{text:"Projects",path:"/projects"},{text:"New",path:"/projects/create-project"}]:Zc.filter((function(e){return a.includes(e.path)})).map((function(e){return{text:e.customName?(t=o[e.customName]||"",t.length>25?"".concat(t.substring(0,25),"..."):t):e.text,path:Gc(n,e.path)};var t})),Object(Ma.jsx)(Vc,{breadcrumbs:t})}},e.path)}))]})},Kc=(n(1167),function(){var e=Object(r.useState)(),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),o=Object(Cr.a)(c,2),i=o[0],s=o[1],l=Object(r.useRef)(null),d=Object(p.l)().pathname,u=function(e){a(!n),s(e.target),!0===n&&setTimeout((function(){document.body.click()}),200)};return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"add-project-header-menu",ref:l,children:[ue.canCreateProjects()&&"/projects"===d&&Object(Ma.jsx)(er.Button,{className:"button-avoid-focus add-icon button-link add-popover-button",onClick:u,children:Object(Ma.jsx)(er.Icon,{name:"add",className:"fill icon-orange",width:32})}),Object(Ma.jsx)(wr.default,{show:n,target:i,placement:"bottom",rootClose:!0,onHide:function(){a(!n)},container:l.current,popperConfig:{modifiers:[{name:"offset",options:{offset:[0,12]}}]},children:Object(Ma.jsx)(Nr.a,{id:"popover-add-project",ref:l,className:"header-add-popover",children:Object(Ma.jsx)(Nr.a.Content,{className:"popup-user",children:Object(Ma.jsxs)(Ja.Link,{className:"dropdown-item",to:Rc,onClick:u,children:[Object(Ma.jsx)(er.Icon,{name:"folder",width:24,className:"outline icon-orange-theme"}),"Add Project"]})})})})]}),n&&Object(Ma.jsx)("div",{className:"add-header-popover-overlay",onClick:function(){a(!1),setTimeout((function(){document.body.click()}),200)},"data-testid":"add-header-popover-overlay",role:"presentation"})]})}),qc=function(e){var t=e.projectId,n=Object(s.useSelector)(Pr),a=Er();return Object(Ma.jsx)("div",{className:"header",children:Object(Ma.jsxs)("div",{className:"header-content",children:[Object(Ma.jsx)("div",{className:"header-content-breadcrumbs",children:Object(Ma.jsx)(Hc,{})}),Object(Ma.jsxs)("div",{className:"snippet-pendo-container",children:[t?Object(Ma.jsx)(Wc,{projectId:t}):Object(Ma.jsx)(Kc,{}),t&&!a&&Object(Ma.jsx)(vr,{projectId:t,showWhenActive:!1}),n&&n.loaded&&Object(Ma.jsx)(tc,{}),Object(Ma.jsxs)("div",{className:"pendo-help nowrap",children:[Object(Ma.jsx)(er.Icon,{name:"help-question",width:30,className:"outline icon-help"})," "]})]})]})})},zc=n(422),Qc=n.n(zc),Jc=(n(1168),function(e){var t=e.closeSideNav,n=e.mobile,a=Object(p.l)(),c=Object(r.useState)(a.pathname),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=hr(),u=Object(s.useSelector)(or),j=Object(p.k)();Object(r.useEffect)((function(){l(a.pathname)}),[a]);var b=function(e){return e===i?"menu-active":""},m=function(e){l(e),t()};return Object(Ma.jsx)(Ma.Fragment,{children:n?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"all-projects-title","data-testid":"all-projects-title",children:["All\xa0",Object(Ma.jsx)("span",{children:"Junction"},"Junction"),"\xa0projects"]}),Object(Ma.jsxs)("div",{className:"menu-navigation",children:[u&&u.map((function(e){var t=fr(d,e.id);return Object(Ma.jsx)(er.MenuItem,{navTarget:rc(e.id),icon:"folder",iconClasses:"outline icon-grey",extraIcons:t?[t]:[],extraIconsClasses:t?["fill icon-black state-icon"]:[],title:e.name,onClick:function(){return m(rc(e.id))},linkClass:b(rc(e.id))},e.id)})),Object(Ma.jsx)("div",{className:"view-all-projects",children:Object(Ma.jsx)(Qc.a,{className:"button-link button-theme mx-2 mr-4",onClick:function(){j.push("/projects"),t()},type:"button",children:"View all projects"})})]})]}):Object(Ma.jsx)("div",{className:"menu-navigation",children:ue.canCreateProjects()&&Object(Ma.jsx)(er.MenuItem,{navTarget:Rc,icon:"add",iconClasses:"fill icon-orange",iconWidth:24,title:"Add Project",onClick:function(){return m(Rc)},linkClass:b(Rc)})})})}),Xc=n(108),$c=n(423),eo=n.n($c),to=Object(O.createSlice)({name:"appSettings",initialState:{mobileSidebarOpened:!1,showProjectListMenu:!1},reducers:{toggleMobileSidebarOpened:function(e,t){var n="undefined"===typeof t.payload?!e.mobileSidebarOpened:t.payload;return Object(b.a)(Object(b.a)({},e),{},{mobileSidebarOpened:n,showProjectListMenu:!1})},setShowProjectList:function(e){return Object(b.a)(Object(b.a)({},e),{},{showProjectListMenu:!0})}}}),no=to.reducer,ao=to.actions,ro=ao.toggleMobileSidebarOpened,co=ao.setShowProjectList,oo=function(e){return e.appSettings.mobileSidebarOpened},io=function(e){return e.appSettings.showProjectListMenu},so=n(8),lo=n.n(so),uo=function(e){var t=e.projectId,n=e.children,a=Object(s.useDispatch)(),c=hr(),o=Or(c,t),i=Object(r.useState)(window.isProjectsListFetched),l=Object(Cr.a)(i,2),d=l[0],u=l[1],j=void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"https://raw.githubusercontent.com/garyivy/cdn/main/usdev",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PLATFORM_NAME:"Junction",REACT_APP_MASTER_API_BASE_PATH:"/masterapi",REACT_APP_PPT_LIBRARY_ITEM_SERVICE:"/libraryitempowerpointapi/v1",REACT_APP_CONTENT_SERVICE:"/contentapi/v1",REACT_APP_EXCEL_LIBRARY_ITEM_SERVICE:"/libraryitemexcelapi/v1",REACT_APP_SURVEY_SERVICE:"/surveyservice",REACT_APP_NOTIFICATION_COUNT_UPDATE_FREQUENCY:"500",REACT_APP_RICH_TEXT_LIBRARY_ITEM_SERVICE:"/libraryitemrichtextapi/v1",REACT_APP_PROJECT_MANAGEMENT_API_BASE_PATH:"/projectmanagementapi",REACT_APP_NOTIFICATION_SERVICE:"/notificationservice",REACT_APP_FILE_LIBRARY_SERVICE:"/filelibrarycontentapi",REACT_APP_USER_ACCESS_SERVICE:"/useraccessapi",REACT_APP_SUPPORT_EMAIL:"deals-support@pwc.com",REACT_APP_WEB_SPELL_CHECKER_SERVICE_ID:"is-this-no-longer-used",REACT_APP_ENVIRONMENT_NAMESPACE:"usdev",REACT_APP_DIVESTITURE_DIAGNOSTIC:"false",REACT_APP_USER_ANALYTICS_API_KEY:"2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b",REACT_APP_SECURITY_TOKEN_EXPIRATION_MINUTES:"no-longer-used-uses-jwt-expiration-set-in-user-access",REACT_APP_CK_EDITOR_LICENSE:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",REACT_APP_TAGS_LIST_SERVICE:"/tagsapi/v1",REACT_APP_FF20_ENABLED:"enabled",REACT_APP_CONNECTED_CONTENT_API_BASE_PATH:"/connectedcontentapi/v1",REACT_APP_TERRITORY:"United States",REACT_APP_COMMENT_SERVICE:"/commentservice",REACT_APP_PROJECT_STATE_MANAGEMENT_API_BASE_PATH:"/projectmanagementapiv2/api/v1",REACT_APP_PROJECT_API_BASE_PATH:"/projectapi",REACT_APP_POWERBI_LIBRARY_ITEM_SERVICE:"/libraryitempowerbiapi/v1",REACT_APP_REPORTING_SERVICE:"/reportingapi"}).JEST_WORKER_ID;return Object(r.useEffect)((function(){!Object(h.isEmpty)(c)||d||j||(a(ir()),u(!0),window.isProjectsListFetched=!0)}),[a,c,d,j]),n({isProjectDisabled:!!o&&(br(o)||ur(o))})};uo.propTypes={projectId:lo.a.oneOfType([lo.a.string,lo.a.number]).isRequired};var jo=uo,bo=(n(1197),function(e){var t=e.projectId,n=Object(r.useState)(!1),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=ic(t),s=uc(t),l=(mc(t),Oc(t));return Object(Ma.jsxs)("div",{className:"menu-wrapper","data-testid":"add-project-items-nav-menu",children:[Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsxs)(er.Button,{"data-testid":"fab",id:"add-popover",className:"button-avoid-focus menu-item hide-for-mobile add-icon",onClick:function(){return!t&&o(!c)},"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t,children:[Object(Ma.jsx)("span",{className:"menu-item-icon",children:Object(Ma.jsx)(er.Icon,{name:"add",className:nr()("fill",{"icon-orange":!t,"icon-grey":t}),width:24})}),Object(Ma.jsx)("span",{className:"menu-item-title",children:"Add Content"})]})}}),Object(Ma.jsxs)("div",{className:"add-popover ".concat(c?"show":""),"data-testid":"add-popover",children:[Object(Ma.jsxs)(Ja.Link,{"data-testid":"add-hypothesis-button",className:"dropdown-item",to:i,onClick:function(){return o(!1)},children:[Object(Ma.jsx)(er.Icon,{name:"hypothesis",width:24,className:"outline icon-orange-theme"}),"Add a Key Focus Area"]}),Object(Ma.jsxs)(Ja.Link,{"data-testid":"add-insight-button",className:"dropdown-item",to:s,onClick:function(){return o(!1)},children:[Object(Ma.jsx)(er.Icon,{name:"insight",width:24,className:"outline icon-orange-theme"}),"Add an Insight"]}),Object(Ma.jsx)(Ma.Fragment,{}),Object(Ma.jsxs)(Ja.Link,{"data-testid":"add-analysis-button",className:"dropdown-item",to:l,onClick:function(){return o(!1)},children:[Object(Ma.jsx)(er.Icon,{name:"analysis",width:24,className:"outline icon-orange-theme"}),"Add an Analysis 2.0"]})]}),c&&Object(Ma.jsx)("div",{className:"add-popover-overlay",onClick:function(){return o(!c)},"data-testid":"add-popover-overlay",role:"presentation"}),Object(Ma.jsx)("div",{className:"menu-separator"})]})}),po=function(e){var t=e.projectId,n=e.permissions,a=e.children,c=e.noPermissionsView,o=void 0===c?null:c,i=Object(r.useState)(!1),s=Object(Cr.a)(i,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){var e=Ie.hasProjectPermission(t,n);d(e)}),[t,n,d]),l?a:o};po.propTypes={projectId:lo.a.oneOfType([lo.a.string,lo.a.number]),permissions:lo.a.arrayOf(lo.a.string)};var mo=po,Oo=(n(1198),24),fo=function(e){var t=e.closeSideNav,n=e.projectId,a=e.projectName,c=Object(s.useSelector)(da),o=Object(s.useSelector)(io),i=Object(p.l)(),l=Object(r.useState)(i.pathname),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(s.useDispatch)();Object(r.useEffect)((function(){j(i.pathname)}),[i]);var m,O=function(e){return u.includes(e)?"menu-active":""},f=function(e){j(e),t()};return Object(Ma.jsx)(Ma.Fragment,{children:o?Object(Ma.jsx)(Jc,{closeSideNav:t,mobile:!0}):Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)(Ja.NavLink,{to:rc(c.id),"aria-label":"All ".concat("Junction"," projects"),className:"all-projects-link",onClick:function(){b(ir()),b(co())},"data-testid":"all-projects-link",children:[Object(Ma.jsx)("span",{className:"menu-item-icon",children:Object(Ma.jsx)(eo.a,{name:"left-chevron",className:"fill icon-orange",width:20})}),Object(Ma.jsxs)("div",{className:"all-projects-link-title","data-testid":"all-projects-link-title",children:["All\xa0",Object(Ma.jsx)("span",{children:"Junction"},"Junction"),"\xa0projects"]})]}),Object(Ma.jsxs)("div",{className:"menu-navigation",children:[Object(Ma.jsx)(mo,{projectId:n,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:Object(Ma.jsx)(bo,{projectId:n})}),Object(Ma.jsx)("div",{className:"sidebar-project-name",children:Object(Ma.jsx)("h3",{children:a})}),Object(Ma.jsx)(er.MenuItem,{navTarget:rc(c.id),icon:"folder",iconClasses:"outline icon-grey",iconWidth:Oo,title:"Project Overview",onClick:function(){return f(rc(c.id))},linkClass:(m=rc(c.id),m===u?"menu-active":"")}),Object(Ma.jsx)(er.MenuItem,{navTarget:cc(c.id),icon:"hypothesis",iconClasses:"outline icon-grey",iconWidth:Oo,title:"Key Focus Areas",onClick:function(){return f(cc(c.id))},linkClass:O(cc(c.id))}),Object(Ma.jsx)(er.MenuItem,{navTarget:lc(c.id),icon:"insight",iconClasses:"outline icon-grey",iconWidth:Oo,title:"Insights",onClick:function(){return f(lc(c.id))},linkClass:O(lc(c.id))}),Object(Ma.jsx)(er.MenuItem,{navTarget:pc(c.id),icon:"analysis",iconClasses:"outline icon-grey",iconWidth:Oo,title:"Analyses",onClick:function(){return f(pc(c.id))},linkClass:O(pc(c.id))}),Object(Ma.jsx)(er.MenuItem,{navTarget:wc(c.id),icon:"report",iconClasses:"outline icon-grey",iconWidth:Oo,title:"Reports",onClick:function(){return f(wc(c.id))},linkClass:O(wc(c.id))}),Object(Ma.jsx)(er.MenuItem,{navTarget:Nc(c.id),icon:"files-feature",iconClasses:"outline icon-grey",iconWidth:Oo,title:"Files",onClick:function(){return f(Nc(c.id))},linkClass:O(Nc(c.id))})]}),Object(Ma.jsxs)("div",{className:"menu-footer",children:[Object(Ma.jsx)(Xc.NotificationBell,{onClick:f,activeMenuItem:u,iconWidth:Oo,projectId:n}),Object(Ma.jsx)(er.MenuItem,{"data-testid":"project-settings-menu-item",navTarget:Sc(c.id),icon:"settings",iconClasses:"outline icon-grey",iconWidth:Oo,title:"Settings",onClick:function(){return f(Sc(c.id))},linkClass:"menu-item-footer ".concat(O(Sc(c.id)))})]})]})})},ho=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)(oo),n=Object(s.useSelector)(da),a=n&&n.id,r=!!a;return Object(Ma.jsxs)("div",{className:"side-bar ".concat(t),children:[Object(Ma.jsx)(er.AppBannerSpacer,{}),Object(Ma.jsxs)("div",{className:"side-bar-logo",children:[Object(Ma.jsx)(er.MenuSwitch,{open:t,onClick:function(){return e(ro())},menuId:"navigation"}),Object(Ma.jsx)(er.HeaderLogo,{width:48,dataTestId:"header-logo"})]}),Object(Ma.jsxs)(er.Menu,{"data-testid":"side-bar",open:t,children:[r?Object(Ma.jsx)(fo,{closeSideNav:function(){return e(ro(!1))},projectId:a,projectName:n.name}):Object(Ma.jsx)(Jc,{closeSideNav:function(){return e(ro(!1))},mobile:t}),Object(Ma.jsx)(er.AppBannerSpacer,{})]})]})},_o={install:function(){var e="2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b";if(!window.pendo){var t=window.pendo||{};window.pendo=t,t._q=[],["initialize","identify","updateOptions","pageLoad","track"].forEach((function(e,n,a){t[e]=t[e]||function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];var o=[e].concat(r);e===a[0]?t._q.unshift(o):t._q.push(o)}}));var n="script",a=document.createElement(n);a.src="https://cdn.pendo.io/agent/static/".concat(e,"/pendo.js");var r=document.getElementsByTagName(n)[0];r.parentNode.insertBefore(a,r)}},start:function(){var e=window.pendo;if(e&&ue.hasValidToken()){var t=ue.getTokenValue("http://schemas.pwc.com/identity/claims/lineofservice")||"",n=ue.getTokenValue("http://schemas.xmlsoap.org/ws/2005/05/identity/claims/country")||"US",a=ue.getTokenValue("http://schemas.pwc.com/identity/claims/pwcglobalgradename")||"",r=ue.getTokenValue("http://schemas.pwc.com/identity/claims/pwcusertype")||(ue.getEmail().indexOf("@pwc.com")>-1?"Internal":"External");e.initialize({visitor:{lineofservice:t,country:n,pwcGlobalGradeName:a,pwcUserType:r}}),e.started=!0}},isInstalled:function(){return!!window.pendo},isStarted:function(){return window.pendo.started}},xo=function(){return Object(r.useEffect)((function(){_o.install()})),Object(Ma.jsx)(Ma.Fragment,{})},go={"data-testid":"error",variant:"danger",className:"a-mt-10",message:"An error occurred"},vo={default:go,publish:Object(b.a)(Object(b.a)({},go),{},{message:"An error occurred while publishing data","data-testid":"publish-error"}),fetch:Object(b.a)(Object(b.a)({},go),{},{message:"An error occurred while fetching data","data-testid":"fetch-error"})},Lo=Object.keys(vo).reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t,t))}),{}),Co=function(e){if("object"===typeof e)return function(e){var t=(e||{}).apiErrorMessage;return t?{"data-testid":"custom-error",variant:"danger",className:"a-mt-10",message:t}:vo.default}(e);switch(e){case"publish":return vo.publish;case"fetch":return vo.fetch;default:return vo.default}},To=n(544),yo=function(e){var t=e.configType,n=Co(t);return Object(Ma.jsx)(To.a,Object(b.a)(Object(b.a)({},n),{},{children:n.message}))};yo.defaultProps={configType:"default"};var Io=yo,Eo=n(62),wo=n(172),No=n.n(wo),Ao=n(202),So=n(1599),ko=Object(O.createAction)("updateEntityVersion",(function(e){return{payload:e}})),Do=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t).get("".concat(t,"/").concat(n,"/").concat(a,"/threads?entityVersion=").concat(r));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ro=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.projectId).postDeprecated("".concat(t.projectId,"/").concat(t.entityType,"/").concat(t.entityId,"/threads"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Po=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.projectId).put("".concat(t.projectId,"/").concat(t.entityType,"/").concat(t.entityId,"/threads"),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mo=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.projectId).delete("".concat(t.projectId,"/").concat(t.entityType,"/").concat(t.entityId,"/threads/").concat(t.id||t.threadId));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fo=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.projectId).delete("".concat(t.projectId,"/").concat(t.entityType,"/").concat(t.entityId,"/threads/").concat(t.threadId,"/comments/").concat(t.commentId));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Uo=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.projectId).patch("".concat(t.projectId,"/").concat(t.entityType,"/").concat(t.entityId,"/threads/").concat(t.threadId,"/share"),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bo=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.projectId).patch("".concat(t.projectId,"/").concat(t.entityType,"/").concat(t.entityId,"/threads/").concat(t.threadId,"/resolve"),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yo={threads:[],viewingStatus:"unresolved",isLoading:!1,hasLoaded:!1,hasError:!1,hasCommented:!1,errorStatusCode:null,projectId:void 0,entityType:"",entityId:void 0,showCommentsPanel:!1,commentPanelOpened:!1,entityVersion:void 0,versionRequired:void 0,isEntitySharedWithClient:!0},Wo=Object(O.createSlice)({name:"comments",initialState:Yo,reducers:{resetComments:function(){return Yo},fetchCommentsBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0,hasLoaded:!1,hasError:!1,errorStatusCode:null})},fetchCommentsSucceeded:function(e,t){var n=t.payload.length&&t.payload[0],a=n.entityType,r=n.entityId,c=a===e.entityType&&r===+e.entityId,o=0===t.payload.length,i=c||o;return Object(b.a)(Object(b.a)({},e),{},{threads:i?t.payload:[],isLoading:!1,hasLoaded:!0,hasError:!1,errorStatusCode:null})},fetchCommentsFailed:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,hasLoaded:!1,hasError:!0,errorStatusCode:t.payload})},setHasCommented:function(e){return Object(b.a)(Object(b.a)({},e),{},{hasCommented:!0})},viewUnresolvedComments:function(e){return Object(b.a)(Object(b.a)({},e),{},{viewingStatus:"unresolved"})},viewResolvedComments:function(e){return Object(b.a)(Object(b.a)({},e),{},{viewingStatus:"resolved"})},initializeCommentsPanel:function(e,t){var n=t.payload,a=n.projectId,r=n.entityType,c=n.entityId,o=n.versionRequired;return Object(b.a)(Object(b.a)({},Yo),{},{projectId:a,entityType:r,entityId:c,versionRequired:o,showCommentsPanel:!0})},toggleCommentPanelOpened:function(e){return Object(b.a)(Object(b.a)({},e),{},{commentPanelOpened:!e.commentPanelOpened})},entitySharedStatusUpdateSuccess:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isEntitySharedWithClient:t.payload})}},extraReducers:function(e){e.addCase(ko,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{entityVersion:t.payload})}))}}),Vo=Wo.reducer,Zo=Wo.actions,Go=Zo.resetComments,Ho=Zo.fetchCommentsBegan,Ko=Zo.fetchCommentsSucceeded,qo=Zo.fetchCommentsFailed,zo=Zo.setHasCommented,Qo=Zo.viewUnresolvedComments,Jo=Zo.viewResolvedComments,Xo=Zo.initializeCommentsPanel,$o=Zo.toggleCommentPanelOpened,ei=(Zo.updateCommentPanel,Zo.entitySharedStatusUpdateSuccess),ti=function(e){return e.comments},ni=function(e){return e.comments.hasLoaded},ai=function(e){return e.comments.isLoading},ri=function(e){return e.comments.hasCommented},ci=function(e){return e.comments.viewingStatus},oi=function(e){return e.comments.threads||[]},ii=function(e){return e.comments.commentPanelOpened},si=function(e){return _.a.map(e.comments.threads,"comments").flat()},li=function(e,t,n,a){return function(){var r=Object(te.a)(ee.a.mark((function r(c,o){var i;return ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o().comments.isLoading){r.next=8;break}return c(Ho()),r.next=6,Do(e,t,n,a);case 6:i=r.sent,c(Ko(i));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),c(qo(r.t0.response?r.t0.response.status:500));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,t){return r.apply(this,arguments)}}()},di=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o,i,s,l;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n("resolved"===e?Jo():Qo()),r=a(),c=r.comments,o=c.projectId,i=c.entityType,s=c.entityId,l=c.entityVersion,n(li(o,i,s,l));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ui=n(147),ji=n(148),bi=function(e){var t=e.data,n=e.commentId,a=void 0===n?Object(So.a)():n,r=e.projectId,c=e.entityType,o=e.entityId,i=e.entityVersion,s=e.authorId,l=e.shareWithAll,d=void 0!==l&&l,u=e.createdAt,j=void 0===u?new Date:u;return Object(b.a)(Object(b.a)({},t),{},{commentId:a,projectId:r,entityType:c,entityId:o,entityVersion:i,authorId:s,shareWithAll:d,createdAt:j})},pi=function(e,t,n,a,r,c,o,i,s){return function(){function l(e){Object(ui.a)(this,l),this.editor=e}return Object(ji.a)(l,[{key:"init",value:function(){var l=this.editor.plugins.get("Users"),d=this.editor.plugins.get("CommentsRepository"),u=e.users.map((function(e){return e.id})),j=Object(h.uniqBy)(n.filter((function(e){return!u.includes(e.authorId)})).map((function(e){return{id:e.authorId,firstName:"Deleted",lastName:"User"}})),"id");[].concat(Object(m.a)(e.users),Object(m.a)(j)).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{id:e.id.toString(),name:"".concat(e.firstName," ").concat(e.lastName)})})).forEach((function(e){return l.addUser(e)})),l.defineMe(t.id.toString()),d.adapter=function(e,t,n,a,r,c,o,i,s){return{addComment:function(o){var s=arguments;return Object(te.a)(ee.a.mark((function l(){var d,u,j,b,p,m;return ee.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(d=s.length>1&&void 0!==s[1]?s[1]:bi,!(u=n.find((function(e){return o.commentId===e.commentId})))){l.next=4;break}return l.abrupt("return",Promise.resolve(u));case 4:return j=n.filter((function(e){return e.threadId===o.threadId}))[0],b=j?j.shareWithAll:!x.UserUtilities.isPractitioner(t,e.id),p=j?j.entityVersion:c,m=d({data:o,projectId:e.id,entityType:a,entityId:r,entityVersion:p,authorId:t.id,shareWithAll:b}),i(zo()),l.next=11,Ro(m);case 11:return i(li(e.id,a,r,c)),l.abrupt("return",Promise.resolve());case 13:case"end":return l.stop()}}),l)})))()},updateComment:function(e){var t=n.find((function(t){return e.commentId===t.commentId}))||{},a=Object(b.a)(Object(b.a)({},t),e);return Po(a)},removeComment:function(t){return Object(te.a)(ee.a.mark((function n(){var s;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s=o.find((function(e){return t.threadId===e.id})))||s.comments[0].commentId!==t.commentId){n.next=6;break}return n.next=4,Mo({threadId:t.threadId,projectId:e.id,entityType:a,entityId:r});case 4:n.next=8;break;case 6:return n.next=8,Fo({threadId:t.threadId,projectId:e.id,entityType:a,entityId:r,commentId:t.commentId});case 8:return i(li(e.id,a,r,c)),n.abrupt("return",Promise.resolve());case 10:case"end":return n.stop()}}),n)})))()},getCommentThread:function(e){var t=o.find((function(t){return t.id===e.threadId||t.id===e.id}));return Promise.resolve(s(t))}}}(e,t,n,a,r,c,o,i,s)}}]),l}()},mi=n(322),Oi=n(338),fi=n(334),hi=Eo.ClassicEditor.CommentThreadView,_i=Eo.ClassicEditor.ButtonView,xi=Eo.ClassicEditor.SwitchButtonView;function gi(e,t,n){return x.UserUtilities.isPractitioner(t,e.projectId)?[n.createResolveButtonView(e),n.createSharedView(e)]:[n.createResolveButtonView(e)]}var vi=function(e,t,n,a,r,c,o){return function(i){Object(Oi.a)(l,i);var s=Object(fi.a)(l);function l(){var e;Object(ui.a)(this,l);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];e=s.call.apply(s,[this].concat(r));var o=r[1],i=t.find((function(e){return e.id===o.id}));return e.setTemplate({tag:"div",attributes:{class:["ck-thread",e.bindTemplate.if("isActive","ck-thread--active")],tabindex:0},children:[{tag:"div",attributes:{class:"ck-thread-top-bar"},children:i&&gi(i,a,Object(mi.a)(e))},{tag:"div",attributes:{class:"ck-thread__container"},children:[e.commentsListView,e.commentThreadInputView]}]}),e}return Object(ji.a)(l,[{key:"createSharedView",value:function(t){var a=new xi(this.locale),i=this.locale.t,s="Visible to client",l=t.comments[0].authorId,d=r.find((function(e){return e.id===l})),u=x.UserUtilities.isPractitioner(d,t.projectId),j=!t.resolved&&(u&&n);a.set({label:s,isToggleable:!o,tooltip:i(s),withText:!0,isOn:t.shareWithAll||!1,isEnabled:!o&&j}),a.extendTemplate({attributes:{class:"ck-share-toggle"}});var p=t.comments[0];return a.on("execute",(function(){return e(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o,i;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Uo(e);case 3:return r=e.projectId,c=e.entityType,o=e.entityId,a(Ho()),n.next=7,Do(r,c,o,t);case 7:i=n.sent,a(Ko(i)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a(qo(n.t0.response?n.t0.response.status:500));case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(Object(b.a)(Object(b.a)({},p),{},{shareWithAll:!t.shareWithAll}),c))})),a}},{key:"createResolveButtonView",value:function(t){var n=new _i(this.locale),a=this.locale.t,r=t.resolved?"Reopen":"Resolve";n.set({label:r,isToggleable:!o,tooltip:a(r),withText:!0,isEnabled:!o}),n.extendTemplate({attributes:{class:"ck-resolve-button"}});var i=t.comments[0];return n.on("execute",(function(){return e(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o,i;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Bo(e);case 3:return r=e.projectId,c=e.entityType,o=e.entityId,a(Ho()),n.next=7,Do(r,c,o,t);case 7:i=n.sent,a(Ko(i)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a(qo(n.t0.response?n.t0.response.status:500));case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(Object(b.a)(Object(b.a)({},i),{},{resolved:!t.resolved}),c))})),n}}]),l}(hi)},Li=n(630),Ci=n(177),Ti=Eo.ClassicEditor.CommentView,yi=function(e,t,n){return function(a){Object(Oi.a)(c,a);var r=Object(fi.a)(c);function c(){return Object(ui.a)(this,c),r.apply(this,arguments)}return Object(ji.a)(c,[{key:"_getTemplate",value:function(){var a=function(e,t){var n=e.find((function(e){return e.id===t.threadId})),a=n&&n.comments.find((function(e,n){return e.commentId===t.id&&0===n}));return a&&a.entityVersion>0?" | v".concat(a.entityVersion):""}(e,this._model),r=Object(Li.a)(Object(Ci.a)(c.prototype),"_getTemplate",this).call(this),o=r.children[0].children[1].children[1].children,i=o[0],s=o[1],l=function(e,t){var n=e.find((function(e){return e.id.toString()===t.author.id}));return n?ue.isClientUser(n.email)?"comment-client-user":"comment-pwc-user":"comment-unknown-user"}(t,this._model),d=r.children[0];d.attributes=Object(b.a)(Object(b.a)({},d.attributes),{},{class:[].concat(Object(m.a)(d.attributes.class),[l])});var u=r.children[0].children[1].children[0];u.attributes={style:{display:"flex","flex-direction":"column"}},u.children[0].children.push({tag:"span",children:["".concat(a)],attributes:{class:"entity-version"}});var j=u.children[1];j.attributes=Object(b.a)(Object(b.a)({},j.attributes),{},{style:{margin:"-4px 0px 0px 0px"}});var p=r.children[0].children[1].children[2];p.attributes=Object(b.a)(Object(b.a)({},p.attributes),{},{style:{"margin-top":"8px"}});return i.set({icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M0 19v5h5L19.747 9.253l-5-5L0 19zM23.613 5.387c.52-.52.52-1.36 0-1.88l-3.12-3.12c-.52-.52-1.36-.52-1.88 0l-2.44 2.44 5 5 2.44-2.44z"/></svg>',isEnabled:!n}),s.set({icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M4 10.062h24l-.35 17.69a4.318 4.318 0 01-1.303 3.01A4.326 4.326 0 0123.312 32H8.854a4.284 4.284 0 01-2.397-.722 4.324 4.324 0 01-1.94-3.526L4 10.062zm19-8.06h5.999a2 2 0 110 4.001H3a2 2 0 110-4.002H9A2 2 0 0111.001 0H21C22.104 0 23 .896 23 2.001z"/></svg>',isEnabled:!n}),r}}]),c}(Ti)},Ii=(n(1205),{}),Ei=Eo.ClassicEditor.builtinPlugins.find((function(e){return"Mention"===e.pluginName})),wi=Eo.ClassicEditor.CustomMentionView,Ni=function(e){var t=(e.comments||[]).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{authorId:(e.authorId||"").toString()})}));return Object(b.a)(Object(b.a)({},e),{},{threadId:e.id,comments:t})},Ai=function(e,t,n,a){return(a&&a.shareWithAll?t:t.filter((function(e){return x.UserUtilities.isPractitioner(e,+n)}))).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{userId:e.id,id:"@".concat(e.firstName," ").concat(e.lastName)})})).filter((function(t){return function(t){var n=e.toLowerCase();return t.toLowerCase().includes(n)}(t.id)})).slice(0,10)},Si=function(e){var t=e.children,n=e.context,a=e.entityType,c=e.entityId,o=e.entityVersion,i=e.isEntitySharedWithClient,l=e.channelId,d=void 0===l?Object(So.a)():l,u=e.isProjectDisabled,j=Object(s.useDispatch)(),m=Object(p.m)().projectId,O=Object(r.useState)({}),f=Object(Cr.a)(O,2),h=f[0],_=f[1],x=Object(r.useState)(),g=Object(Cr.a)(x,2),v=g[0],L=g[1],C=Object(s.useSelector)(da),T=Object(s.useSelector)(ni),y=Object(s.useSelector)(oi),I=Object(s.useSelector)(si),E=Object(s.useSelector)(ci);Object(r.useEffect)((function(){j(li(m,a,c,o))}),[j,m,a,c,o,i]),Object(r.useEffect)((function(){var e=!0;Object(te.a)(ee.a.mark((function t(){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!C.id){t.next=5;break}return t.next=3,Ie.getProjectTokenProperty(C.id,"email");case 3:n=t.sent,e&&_(C.users.find((function(e){return e.email.toLowerCase()===n.toLowerCase()})));case 5:return t.abrupt("return",(function(){e=!1}));case 6:case"end":return t.stop()}}),t)})))()}),[C]);var w=pi(C,h,I,a,c,o,y,j,Ni),N=Object(r.useState)(),A=Object(Cr.a)(N,2),S=A[0],k=A[1];return Object(r.useEffect)((function(){k(document.querySelector("#comment-panel"))}),[n]),Object(r.useEffect)((function(){var e=document.querySelector(".comment-icon");if(v&&e){var t=v.plugins.get("CommentsRepository");e.addEventListener("click",(function(){t.openNewCommentThread({channelId:d,threadId:Object(So.a)(),target:document.querySelector(".top")})}))}}),[v,d,u]),Object(r.useEffect)((function(){var e=document.querySelector(".new-comment-button");if(v&&e){var t=v.plugins.get("CommentsRepository");e.addEventListener("click",(function(){t.openNewCommentThread({channelId:d,threadId:Object(So.a)(),target:document.querySelector(".top")})}))}}),[v,d,u]),Object(r.useEffect)((function(){if(v){var e=v.plugins.get("CommentsRepository");y.filter((function(t){return!e.hasCommentThread(t.id)})).filter((function(e){return!(!e.resolved||"resolved"!==E)||!e.resolved&&"unresolved"===E})).forEach((function(t){var n=Ni(t),a=e.addCommentThread(Object(b.a)(Object(b.a)({},n),{},{target:document.querySelector(".bottom")}));a&&(t.resolved||u)&&(a.isReadOnly=!0)})),e.on("change:activeCommentThread",(function(e,t,n){if(n){var a=y.find((function(e){return e.id===n.id}));Ii=a}}))}}),[v,y,u,E]),Object(Ma.jsx)("div",{id:"container",style:{display:"flex",position:"relative",width:"100%"},children:T&&C.id&&h.id&&S&&Object(Ma.jsx)(No.a,{onInit:function(e){e.plugins.get("Annotations").switchTo("wideSidebar"),L(e)},editor:Eo.ClassicEditor,config:{licenseKey:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",extraPlugins:[w],toolbar:{items:[]},sidebar:{container:S},language:"en",context:n,collaboration:{channelId:d},comments:{editorConfig:{extraPlugins:[Ei,wi],mention:{feeds:[{marker:"@",feed:function(e){return Ai(e,C.users,m,Ii)},minimumCharacters:1}]}},CommentThreadView:vi(j,y,i,h,C.users,o,u),CommentView:yi(y,C.users,u)}},data:Object(Ao.renderToString)(t)})})},ki=(n(1206),function(e){var t=e.commentPanelOpened;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"top"}),Object(Ma.jsx)("div",{className:"scrollable",id:"comment-panel","data-testid":"comment-panel",hidden:!t}),Object(Ma.jsx)("div",{className:"bottom"})]})}),Di=function(e){var t=e.projectId,n=Object(s.useDispatch)(),a=Object(s.useSelector)(ai),r=Object(s.useSelector)(ii),c=Object(s.useSelector)(ri),o=Object(s.useSelector)(ci),i=c?Object(Ma.jsx)(er.Button,{className:"comment-icon","aria-label":"comment icon","data-testid":"comment-icon",onClick:function(){return n($o())},children:Object(Ma.jsx)(er.Icon,{name:"comment-chevron",className:"fill icon-orange",width:25})}):Object(Ma.jsx)(er.Button,{className:"comment-icon","aria-label":"comment icon","data-testid":"comment-icon",onClick:function(){return n($o())},children:Object(Ma.jsx)(er.Icon,{name:"comment-plus",className:"fill icon-orange",width:25})});return Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsxs)("div",{className:"comment-panel-container comment-panel-".concat(r?"open":"closed"),children:[Object(Ma.jsx)(Da.b,{children:Object(Ma.jsx)("body",{"data-comments":r?"open":"closed"})}),r?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.Button,{className:"collapse-icon","aria-label":"collapse icon","data-testid":"collapse-icon",onClick:function(){n(di("unresolved")),n($o())},children:Object(Ma.jsx)(er.Icon,{name:"comment-chevron",className:"fill icon-orange",width:25})}),Object(Ma.jsxs)("div",{className:"comment-panel-actions",children:[Object(Ma.jsx)(er.Button,{className:"unresolved-comments-button ".concat("unresolved"===o?"action-active":""),"aria-label":"unresolved comments button","data-testid":"unresolved-comments-button",onClick:function(){return n(di("unresolved"))},children:"Unresolved"}),Object(Ma.jsx)(er.Button,{className:"resolved-comments-button ".concat("resolved"===o?"action-active":""),"aria-label":"resolved comments button","data-testid":"resolved-comments-button",onClick:function(){return n(di("resolved"))},children:"Resolved"})]})]}):i,Object(Ma.jsx)(er.Loader,{dataTestId:"comment-loading-indicator",isVisible:a&&r}),Object(Ma.jsx)(ki,{commentPanelOpened:r}),Object(Ma.jsx)("div",{className:"new-comment-button-container",hidden:"resolved"===o||!r,children:Object(Ma.jsx)(er.Button,{className:"new-comment-button button-outline","aria-label":"new comment button","data-testid":"new-comment-button",tabIndex:0,disabled:t,children:"Add a new thread"})})]})}})},Ri=function(e){var t=e.projectId,n=Object(s.useSelector)(ti),a=n.showCommentsPanel,c=n.entityType,o=n.entityId,i=n.entityVersion,l=n.versionRequired,d=n.isEntitySharedWithClient,u=Object(r.useState)(),j=Object(Cr.a)(u,2),b=j[0],p=j[1];Object(r.useEffect)((function(){var e=!0;return Object(te.a)(ee.a.mark((function t(){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Eo.ClassicEditor.Context.create();case 2:n=t.sent,e&&p(n);case 4:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[]);var m=!l||i,O=l?i:-1,f=ue.isClientUser();return a&&m?Object(Ma.jsx)(jo,{projectId:t,children:function(e){var n=e.isProjectDisabled;return Object(Ma.jsxs)("div",{className:"comment-panel ".concat(f?"current-user-is-client":"current-user-is-pwc"),children:[Object(Ma.jsx)("span",{hidden:!0,"data-testid":"comment-editor",children:Object(Ma.jsx)(Si,{context:b,entityType:c,entityId:o,entityVersion:O,isEntitySharedWithClient:d,isProjectDisabled:n})}),Object(Ma.jsx)(Di,{projectId:t})]})}}):null},Pi=n(26),Mi=["isAuthorized","permissions","component"],Fi=function(e){var t=e.isAuthorized,n=e.permissions,a=e.component,r=Object(Pi.a)(e,Mi);return Object(Ma.jsx)(p.d,Object(b.a)(Object(b.a)({},r),{},{render:function(e){var r=e.match,c=e.location,o=r.params.projectId;if(!t())return Object(Ma.jsx)(p.c,{to:{pathname:"/",state:{from:c}}});if(o&&Ie.hasProjectTokenProp(o,n))return Object(Ma.jsx)(a,{});return Object(Ma.jsx)(p.c,{to:{pathname:"/unauthorized",state:{from:c}}})}}))};Fi.defaultProps={permissions:[]};var Ui=Fi,Bi=function(e){var t=e.documentCode,n=e.onIngestion;return Object(Ma.jsx)(er.Button,{"data-testid":"ingest-analysis-button-".concat(t),onClick:n,children:"Add"})};Bi.defaultProps={documentCode:""};var Yi=Bi,Wi=n(203),Vi=n.n(Wi),Zi=function(e){return Object(b.a)(Object(b.a)({},e),{},{body:e.body||null,source:e.source||"",tags:e.tags.map((function(e){return{text:e}}))})},Gi=function(e){return"projects/".concat(e,"/structuredAnalysisDocuments")},Hi=function(e,t){return"projects/".concat(e,"/structuredanalyses/").concat(t||"")},Ki=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(kc(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qi=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.get("".concat(Hi(t,n),"/versions"));case 3:return a=e.sent,e.abrupt("return",{projectId:t,analysisThreadId:n,analysisId:n,data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{projectId:t,analysisThreadId:n,analysisId:n,data:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),zi=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post(Gi(t),{documentCodes:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qi=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(Dc(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ji=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Yc(t,n),e.next=3,ke.get(a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xi=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(Gi(t),"/libraryItemsForContent?documentCode=").concat(n,"&contentThreadId=").concat(a,"&contentVersionNumber=").concat(r),e.next=3,ke.get(c);case 3:return o=e.sent,e.abrupt("return",o.data.libraryItemLinks);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),$i=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.put("".concat(Hi(t,n.contentThreadId)),Zi(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),es=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.delete("".concat(Gi(t)),{documentCode:n});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ts=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(Hi(t),"search?type=").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ns=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Hi(t,n),"/").concat(a),e.abrupt("return",ke.post(r));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),as=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(Hi(t,n)+(a?"/".concat(a):""));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),rs={ingestedDocuments:[],loadingInProcess:[],errorMessage:""},cs=Object(O.createSlice)({name:"structuredAnalysis",initialState:rs,reducers:{clearIngestError:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{loadingInProcess:e.loadingInProcess.filter((function(e){return e!==t.payload.code})),errorMessage:""})},ingestionBegan:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{loadingInProcess:[].concat(Object(m.a)(e.loadingInProcess),Object(m.a)(t.payload.map((function(e){return e.code})))),errorMessage:""})},ingestionSucceeded:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{ingestedDocuments:Vi()([].concat(Object(m.a)(e.ingestedDocuments),Object(m.a)(t.payload.map((function(e){return e.code}))))),loadingInProcess:Object(m.a)(e.loadingInProcess.filter((function(e){return void 0===t.payload.find((function(t){return t.code===e}))}))),errorMessage:""})},ingestionFailed:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{loadingInProcess:Object(m.a)(e.loadingInProcess.filter((function(e){return void 0===t.payload.codes.find((function(t){return t.code===e}))}))),errorMessage:t.payload.error})}},extraReducers:function(e){e.addCase(kn,(function(){return rs}))}}),os=cs.reducer,is=cs.actions,ss=is.clearIngestError,ls=is.ingestionBegan,ds=is.ingestionSucceeded,us=is.ingestionFailed,js=function(e){return e.structuredAnalysis.ingestedDocuments},bs=function(e){return e.structuredAnalysis.loadingInProcess},ps=function(e){return""!==e.structuredAnalysis.errorMessage},ms=function(e){return e.structuredAnalysis.errorMessage},Os=function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(ls([{code:t}])),n.next=4,zi(e,[t]);case 4:a(ds([{code:t}])),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),r=me()(n.t0,"response.data.errors[0].apiErrorMessage","An error occurred"),a(us({error:r,codes:[{code:t}]}));case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},fs=function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o,i;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=x.DocumentUtilities.getDocumentWithDependencies(t),c=[r.document].concat(Object(m.a)(r.dependencies)),o=c.map((function(e){return{code:e}})),n.prev=3,a(ls(o)),n.next=7,zi(e,c);case 7:a(ds(o)),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(3),i=me()(n.t0,"response.data.errors[0].apiErrorMessage","An error occurred"),a(us({error:i,codes:o}));case 15:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}()},hs=n(155),_s=function(e){var t=e.show,n=void 0!==t&&t,a=e.onCancel,r=e.onConfirm,c=e.confirmTitle,o=void 0===c?"Proceed?":c,i=e.confirmationMessage,s=void 0===i?"Are you sure?":i,l=e.cancelButtonText,d=void 0===l?"Cancel":l,u=e.confirmButtonText,j=void 0===u?"Proceed":u,b=e.showCancel,p=void 0===b||b;return Object(Ma.jsxs)(hs.a,{show:n,onHide:a,children:[Object(Ma.jsx)(hs.a.Header,{closeButton:!0,children:Object(Ma.jsx)(hs.a.Title,{children:o})}),Object(Ma.jsx)(hs.a.Body,{children:s}),Object(Ma.jsxs)(hs.a.Footer,{children:[p&&Object(Ma.jsx)(er.Button,{className:"button-link mr-3","data-testid":"modal-cancel",onClick:a,children:d}),Object(Ma.jsx)(er.Button,{"data-testid":"modal-confirm",onClick:r,children:j})]})]})},xs=(n(1208),function(e){var t=e.projectId,n=e.documentName,a=e.documentCode,r=e.showDetailLink,c=Object(s.useSelector)(bs),o=Object(s.useSelector)(ps),i=Object(s.useSelector)(ms),l=Object(s.useSelector)(js),d=Object(s.useDispatch)(),u=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(Os(t,a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){return d(ss())};return Object(Ma.jsxs)("div",{className:"analysis-card","data-testid":"analysis-card-".concat(a),children:[Object(Ma.jsx)("div",{className:"analysis-card-header","data-testid":"card-header-".concat(a),children:n}),Object(Ma.jsx)("div",{className:"template-placeholder"}),Object(Ma.jsxs)("div",{className:"button-spinner-group",children:[!l.includes(a)&&Object(Ma.jsx)(Yi,{projectId:t,documentCode:a,onIngestion:u}),c.includes(a)&&Object(Ma.jsx)(er.Loader,{className:"small",dataTestId:"loading-spinner"})]}),r&&l.includes(a)&&Object(Ma.jsx)(Ja.Link,{to:"/projects/".concat(t,"/analyses/").concat(nc[a]),children:Object(Ma.jsxs)("div",{className:"status-container",children:[Object(Ma.jsx)(er.Icon,{name:"check","data-testid":"".concat(a,"-confirm-icon"),width:14,className:"fill icon-green"}),Object(Ma.jsx)("div",{"data-testid":"".concat(a,"-link"),children:"View analysis"}),Object(Ma.jsx)(er.Icon,{"data-testid":"structured-analysis-card-arrow",name:"arrow-right",className:"outline right",width:15})]})}),!r&&l.includes(a)&&Object(Ma.jsxs)("div",{className:"status-container",children:[Object(Ma.jsx)(er.Icon,{name:"check","data-testid":"".concat(a,"-confirm-icon"),width:14,className:"fill icon-green"}),Object(Ma.jsx)("div",{"data-testid":"".concat(a,"-no-link"),children:"Ingestion Successful"})]}),Object(Ma.jsx)(_s,{show:o,onCancel:j,onConfirm:j,confirmTitle:"Failed attempt on import",confirmationMessage:i,showCancel:!1,confirmButtonText:"OK"})]})});xs.defaultProps={projectId:"",documentName:"",documentCode:""};var gs=xs,vs=(n(1209),function(){return Object(Ma.jsx)("div",{className:"empty-structured-analysis-card","data-testid":"empty-structured-analysis-card",children:Object(Ma.jsx)("h2",{children:"No structured documents defined for ingestion"})})}),Ls=(n(1210),function(e){var t=e.projectId,n=e.structuredDocuments,a=!!n.length;return Object(Ma.jsxs)(Ma.Fragment,{children:[!a&&Object(Ma.jsx)(vs,{}),a&&Object(Ma.jsx)("div",{children:Object(Ma.jsx)("div",{className:"structured-analysis-add-from-template","data-testid":"structured-analysis-table",children:n.map((function(e){return Object(Ma.jsx)("div",{children:Object(Ma.jsx)(gs,{projectId:t,documentName:e.displayName,documentCode:e.code,showDetailLink:e.hasDetailView})},e.code)}))})})]})});Ls.defaultProps={projectId:"",structuredDocuments:[]};var Cs=Ls,Ts=(n(1211),function(){var e=Object(p.m)().projectId,t=Object(r.useState)([]),n=Object(Cr.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(){var t=Object(te.a)(ee.a.mark((function t(){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ki(e);case 2:n=t.sent,c(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(Ma.jsxs)("div",{"data-testid":"structured-analysis-container",className:"add-analysis-from-template-container",children:[Object(Ma.jsx)("h2",{children:"Add Analysis from template"}),Object(Ma.jsx)("p",{className:"description",children:"Please select the Analyses required for this project."}),Object(Ma.jsx)("div",{className:"divider"}),Object(Ma.jsx)(Cs,{"data-testid":"structured-analysis-table",projectId:e,structuredDocuments:a})]})}),ys=(n(1212),n(1213),function(e){var t=e.toolTipDirection,n=void 0===t?"left":t,a=Object(s.useSelector)(ja),r=Object(s.useSelector)(ba),c="Make sure your PowerPoint ".concat("\n","files are saved in SharePoint, ","\n","and your Power BI reports are","\n"," published to Workbench.");return Object(Ma.jsxs)("div",{className:"external-source-links",children:["View in"," ",Object(Ma.jsx)("a",{className:"external-source-link",target:"_blank",rel:"noopener noreferrer","data-testid":"project-sharepoint-link",href:"//".concat(a,"/Shared%20Documents/Forms/AllItems.aspx"),children:"Sharepoint"})," ","or"," ",Object(Ma.jsx)("a",{className:"external-source-link",target:"_blank",rel:"noopener noreferrer","data-testid":"project-workbench-link",href:"".concat(r,"/reports"),children:"Workbench"})," ",Object(Ma.jsx)(er.Tooltip,{direction:n,dataTestId:"source-links-tooltip-popup",tip:c,children:Object(Ma.jsx)(er.Icon,{name:"information",width:"16",className:"icon fill icon-yellow source-file-tooltip-icon"})})]})}),Is=(n(1214),function(e){var t=e.size,n=e.title,a=e.contained;return Object(Ma.jsx)("div",{className:"page-title-container ".concat(a||" contain"),children:"h1"===t?Object(Ma.jsx)("h1",{"data-testid":"page-title",children:n}):Object(Ma.jsx)("h2",{"data-testid":"page-title",children:n})})});Is.defaultProps={title:"",size:"",contained:!0};var Es,ws=Is,Ns=function(){var e=Object(p.m)().projectId,t=fc(e),n=Ec(e);return Object(Ma.jsxs)("div",{className:"add-analysis-type-container",children:[Object(Ma.jsx)(ws,{title:"Add an Analysis",size:"h1"}),Object(Ma.jsx)("p",{children:"There are two ways to create analyses:"}),Object(Ma.jsxs)("div",{className:"card-container",children:[Object(Ma.jsxs)("section",{className:"card","data-testid":"analysis-type-card",children:[Object(Ma.jsxs)("div",{className:"title",children:[Object(Ma.jsx)(er.Icon,{name:"from-template",width:20}),"From template"]}),Object(Ma.jsx)("div",{className:"card-content",children:"Add common analyses to generate the tables and charts. Populate the relevant data fields in the Excel template on SharePoint."}),Object(Ma.jsxs)(Ja.Link,{to:t,"data-testid":"add-from-template-link",className:"add-from-template-button",children:[Object(Ma.jsx)(er.Icon,{name:"add",width:18}),"Start from template"]})]}),Object(Ma.jsxs)("section",{className:"card",children:[Object(Ma.jsxs)("div",{className:"title",children:[Object(Ma.jsx)(er.Icon,{name:"free-form",width:20}),"Free-form"]}),Object(Ma.jsx)("div",{className:"card-content",children:"Choose pre-ingested data or ingest your own using the Excel add-in. You can also import data from Power BI and PowerPoint."}),Object(Ma.jsxs)(Ja.Link,{to:n,"data-testid":"add-freeform-link",className:"add-from-template-button",children:[Object(Ma.jsx)(er.Icon,{name:"add",width:18}),"Start free-form"]})]})]}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(ys,{})]})},As=n(57),Ss=n.n(As),ks=n(178),Ds=n.n(ks),Rs=n(60),Ps=n.n(Rs),Ms=(Es={Unstructured:100},Object($t.a)(Es,x.Constants.QUALITY_OF_EARNINGS,200),Object($t.a)(Es,x.Constants.NET_WORKING_CAPITAL,300),Object($t.a)(Es,x.Constants.DEBT_AND_DEBT_LIKE,400),Es);Object.freeze(Ms);var Fs=function(e,t,n){var a=t?"/".concat(t):"",r=n?"/".concat(n):"";return"projects/".concat(e,"/analyses").concat(a).concat(r)},Us=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/analyses").concat(n?"?".concat(Ps.a.stringify({TagIds:n})):""));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bs=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,r,c=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,a=c.length>2&&void 0!==c[2]?c[2]:10,e.next=4,Re.get("/projects/".concat(t,"/analyses?currentPage=").concat(n,"&pageSize=").concat(a));case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ys=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(Fs(t,n,a)));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ws=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/contents/").concat(n,"/versions"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vs=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/contents/").concat(n,"/draft"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zs=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/contents/").concat(n,"/shared"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gs=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post(Fs(t),Object(b.a)(Object(b.a)({},n),{},{createdBy:"unset"}));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Hs=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.put(Fs(t,n),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ks=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.delete(Fs(t,n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qs=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Fs(t,n),"/").concat(a),e.abrupt("return",ke.post(r));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),zs=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post("".concat(Fs(t),"/sortorder"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qs=n(21),Js=(n(1232),function(e){var t=e.viewGrid,n=e.onClick,a=Object(r.useCallback)((function(){return[{testId:"grid-view-toggle",iconName:"grid-view",iconClass:"".concat(t?"fill":"outline"," icon-orange-theme")},{testId:"list-view-toggle",iconName:"list-view",iconClass:"".concat(t?"outline":"fill"," icon-orange-theme")}]}),[t])(t);return Object(Ma.jsx)("div",{className:"toggle-container","data-testid":"grid-list-toggle",children:a.map((function(e){return Object(Ma.jsx)(er.Button,{type:"button",className:"button-toggle button-no-appearance","data-testid":e.testId,onClick:n,children:Object(Ma.jsx)(er.Icon,{name:e.iconName,width:24,className:e.iconClass})},"toggle-button-".concat(e.testId))}))})}),Xs=n(330),$s=function(e){var t=e.onClick;return Object(Ma.jsxs)(er.Button,{className:"button-menu",onClick:t,"data-testid":"menu-button-delete",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"bin",width:"21",className:"outline icon-orange"}),"Delete"]})},el=function(e){var t=e.onClick;return Object(Ma.jsxs)(er.Button,{className:"button-menu",onClick:t,"data-testid":"menu-button-edit",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"pencil",width:"21",className:"sr2 outline icon-orange"}),"Edit"]})},tl=["projectId","itemId","onEditMenuClick","onDeleteMenuClick"],nl=c.a.forwardRef((function(e,t){var n=e.projectId,a=e.itemId,r=e.onEditMenuClick,c=e.onDeleteMenuClick,o=Object(Pi.a)(e,tl);return Object(Ma.jsx)(Nr.a,Object(b.a)(Object(b.a)({ref:t,id:"actions-popup","data-testid":"content-actions-popup-menu-".concat(a)},o),{},{children:Object(Ma.jsx)(Nr.a.Content,{className:"popup-menu",children:Object(Ma.jsxs)(mo,{projectId:n,permissions:["Contribute"],children:[Object(Ma.jsx)(el,{onClick:r}),Object(Ma.jsx)($s,{onClick:c})]})})}))})),al=(n(1233),["isDisabled"]),rl=function(e){var t=e.isDisabled,n=Object(Pi.a)(e,al);return Object(Ma.jsx)("div",{className:"action-button-container",children:Object(Ma.jsx)(er.Button,Object(b.a)(Object(b.a)({},n),{},{className:"button-link action-button action-button","data-testid":"row-actions-button","aria-label":"Action Button",disabled:t,children:Object(Ma.jsx)(er.Icon,{name:"more-vert",width:24,className:nr()("fill",{"icon-orange":!t,"icon-grey":t})})}))})},cl=function(e){var t=e.projectId,n=e.itemId,a=e.onEditMenuClick,c=e.onDeleteMenuClick,o=e.direction,i=Object(r.useState)(!1),s=Object(Cr.a)(i,2),l=s[0],d=s[1],u=Object(r.useState)(null),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=Object(r.useRef)(null),O=function(e){return e?function(){d(!1),e(n)}:null},f=function(e){d(!l),p(e.target),!0===l&&setTimeout((function(){document.body.click()}),200)};return Object(Ma.jsx)(mo,{projectId:t,permissions:["Contribute"],children:Object(Ma.jsx)(jo,{projectId:t,children:function(e){var r=e.isProjectDisabled;return Object(Ma.jsxs)("div",{ref:m,className:"content-actions-row-menu",children:[Object(Ma.jsx)(rl,{isDisabled:r,onClick:f}),Object(Ma.jsx)(wr.default,{show:l,target:b,placement:o,rootClose:!0,onHide:function(){d(!l)},container:m.current,children:Object(Ma.jsx)(nl,{projectId:t,itemId:n,onEditMenuClick:O(a),onDeleteMenuClick:O(c)})})]})}})})};cl.defaultProps={direction:"bottom"};var ol=cl,il=(n(406),function(e){var t=e.children,n=e.title,a=e.onExpand,c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],s=o[1];return Object(Ma.jsxs)("div",{className:"accordion accordion-".concat(i?"open":"closed"),children:[Object(Ma.jsxs)("button",{type:"button",onClick:function(){i||a(),s(!i)},className:"accordion-toggle","data-testid":"accordion-toggle",children:[n,Object(Ma.jsx)(er.Icon,{name:i?"desc":"asc",width:21,className:"fill icon-orange-theme"})]}),i&&t]})}),sl=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.get("projects/".concat(t,"/connections/").concat(n));case 2:return a=e.sent,r={},Object.keys(a.data).forEach((function(e){r[e]=a.data[e].items})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ll=(n(1234),function(e){var t=e.narrative,n=e.testId,a=e.getViewPath,r=e.truncate,c=e.showBody;return Object(Ma.jsxs)("div",{className:"narrative-card","data-testid":"narrative-card",children:[Object(Ma.jsx)(Ja.Link,{to:a(t.contentThreadId),className:"narrative-card-title","data-testid":"narrative-card-title-".concat(n),children:t.title}),c&&t.body&&Object(Ma.jsx)("div",{className:"narrative-card-body ".concat(r?"truncate":""),"data-testid":"narrative-card-body-".concat(n),dangerouslySetInnerHTML:{__html:Qa(t.body)}})]})}),dl=(n(567),function(e){var t=e.title,n=e.narratives,a=e.projectId,r=e.getViewPath,c=e.index,o=void 0===c?null:c,i=e.truncate,s=void 0===i||i,l=e.showBody,d=void 0===l||l,u=t.replace(/\s/g,"-").toLowerCase(),j=u+(null!==o?"-".concat(o):""),b=n.length,p=["narrative-section","narrative-section-".concat(u)];return b||p.push("narrative-section-empty"),Object(Ma.jsxs)("div",{className:p.join(" "),"data-testid":"narrative-section-".concat(j),children:[Object(Ma.jsx)("div",{className:"narrative-section-title","data-testid":"narrative-section-title-".concat(j),children:t}),n.length?n.map((function(e,t){return Object(Ma.jsx)(ll,{narrative:e,testId:"".concat(j,"-").concat(t),getViewPath:r,truncate:s,projectId:a,showBody:d},"narrative-card-".concat(e.title))})):Object(Ma.jsxs)("div",{className:"narrative-card narrative-card-empty","data-testid":"narrative-section-empty-".concat(j),children:["No connected ",t]})]})}),ul=(n(568),n(259)),jl=n.n(ul),bl=n(67),pl=n.n(bl),ml=/^yes$/i,Ol=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r={},c=a>=0?{stopBeforeRowIndex:a}:void 0;return Object.keys(e||{}).forEach((function(a){var o=x.ArrayUtilities.indexOf2dArray(n,e[a],c);if(o){var i=n[o[0]].slice(t,-1).map((function(e){return ml.test(e)}));r[a]=i}})),r},fl=function(e){try{var t=parseFloat(e);return pl()(t)?t:0}catch(n){return 0}},hl=function(e,t){switch(t.toLowerCase()){case"quality of earnings":return Lc(e);case"net working capital":return Cc(e);case"debt and debt like":return Tc(e);default:return t}},_l=function(e,t){var n=hl(e,t.title);return n===t.title?hc(e,t.contentThreadId):n},xl=function(e,t){return function(n){var a=jl()(e,(function(e){return e.contentThreadId===n}));return _l(t,a)}},gl=function(e){var t=e.hasConnectedContent,n=e.projectId,a=e.contentId,c=e.index,o=e.showBody,i=void 0!==o&&o,s=Object(r.useState)(null),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=d&&d.insights&&d.insights.length>0,b=d&&d.analyses&&d.analyses.length>0,p=d&&d.hypotheses&&d.hypotheses.length>0,m=j||b||p;return t?Object(Ma.jsx)("div",{className:"accordion-connected-content","data-testid":"accordion-connected-content-".concat(c),children:Object(Ma.jsxs)(il,{title:"Connected content",onExpand:function(){n&&a&&function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sl(n,a);case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},children:[!m&&Object(Ma.jsx)("div",{className:"accordion-connected-content loading",children:Object(Ma.jsx)(er.MiniLoader,{})}),j&&Object(Ma.jsx)(dl,{title:"Insights",narratives:d.insights,getViewPath:function(e){return dc(n,e)},index:c,showBody:i,truncate:!1}),b&&Object(Ma.jsx)(dl,{title:"Analyses",narratives:d.analyses,getViewPath:xl(d.analyses,n),index:c,showBody:i,truncate:!1}),p&&Object(Ma.jsx)(dl,{title:"Key Focus Areas",narratives:d.hypotheses,getViewPath:function(e){return oc(n,e)},index:c,showBody:i,truncate:!1})]})}):null},vl=(n(1238),n(1239),function(e){var t=e.tags,n=e.testId;if(t&&0===t.length)return null;var a=wt()(t,[function(e){return e.text.toLowerCase()}],["asc"]);return Object(Ma.jsxs)("div",{className:"tags-list-container","data-testid":n,children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Icon,{name:"tag",className:"fill tag-icon",width:15,"data-testid":"draft-icon"})}),Object(Ma.jsx)("div",{className:"tags",children:a.map((function(e,t){return Object(Ma.jsxs)("span",{"data-testid":"tag",children:[Object(Ma.jsx)("span",{className:"punctuation",children:t?", ":""}),Object(Ma.jsx)("span",{className:"tag-text",children:e.text})]},"".concat(e.text,"-").concat(t))}))})]})});vl.defaultProps={tags:[]};var Ll=vl,Cl=(n(1240),function(e){var t=e.projectId,n=e.roles,a=e.children,c=e.restrictedForRoleElement,o=void 0===c?Object(Ma.jsx)("div",{"data-testid":"restricted-for-role"}):c,i=Object(r.useState)(!1),s=Object(Cr.a)(i,2),l=s[0],d=s[1],u=Object(r.useState)(!1),j=Object(Cr.a)(u,2),b=j[0],p=j[1];return Object(r.useEffect)((function(){var e=!0,a=Ie.getProjectTokenProperty(t,"role"),r=n.includes(a);return e&&(p(!0),d(r)),function(){e=!1}}),[t,n]),b?l?a:Object(Ma.jsx)("div",{className:"restrictedForRoleElement",children:o}):null}),Tl=(n(1241),function(e){var t=e.dataTestId,n=e.children,a=e.forUserView;return Object(Ma.jsx)("div",{className:a?"display-pill user-view":"display-pill","data-testid":t,children:n})}),yl=function(e){var t=e.userViewStatus;return t>x.Constants.USER_VIEW_STATUS.NONE.value?Object(Ma.jsx)(Tl,{dataTestId:"user-view-status-pill",forUserView:!0,children:x.Constants.getUserViewStatus(t)}):null},Il=(n(1242),function(e){var t=e.version;return t?Object(Ma.jsx)("div",{className:"in-progress-pill","data-testid":"draft-pill",children:t>1?"v".concat(t," In progress"):"In progress"}):null}),El=function(){return Object(Ma.jsx)("div",{className:"draft-pill","data-testid":"draft-pill",children:"Draft"})},wl=(n(1243),function(e){var t=e.shared,n=e.version,a="v".concat(n," Draft shared ");return Object(Ma.jsx)(Ma.Fragment,{children:(t||n)&&Object(Ma.jsxs)("div",{className:"shared-pill","data-testid":"shared-with-client-pill",children:[Object(Ma.jsx)(er.Icon,{name:"view",width:20,className:"fill icon-black"}),Object(Ma.jsxs)("span",{className:"text-shared-with-client",children:[a,Object(Ma.jsx)("span",{className:"hide-for-mobile",children:"with client"})]})]})})}),Nl=function(e){var t=e.content,n=e.allowDraftPill,a=void 0===n||n,r=[x.Constants.VERSION_STATUS.DRAFT,x.Constants.VERSION_STATUS.APPROVAL_REJECTED].map((function(e){return e.value}));if(!t)return null;var c=r.includes(t.versionStatus)?t.versionNumber:null,o=t.versionStatus===x.Constants.VERSION_STATUS.SHARED.value?t.versionNumber:c&&c>1?c-1:null;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(wl,{version:o}),a&&Object(Ma.jsx)(Il,{version:c})]})},Al=(n(1244),function(e){var t=e.dataTestId,n=e.title,a=e.status;return Object(Ma.jsx)("span",{className:"status-pill ".concat(a),"data-testid":t,children:n})}),Sl=function(e){var t=e.versionStatus,n=e.dataTestId,a=void 0===n?"versionStatus":n;return[x.Constants.VERSION_STATUS.APPROVED,x.Constants.VERSION_STATUS.APPROVAL_REQUESTED].map((function(e){return e.value})).includes(t)?Object(Ma.jsx)(Al,{dataTestId:a,title:x.Constants.getVersionStatus(t)}):null},kl=(n(1245),function(e){var t=e.className,n=e.content,a=e.projectId,r=e.allowDraftPill;return Object(Ma.jsxs)("div",{className:nr()("pill-container",t),"data-testid":"pill-container",children:[Object(Ma.jsx)(yl,{userViewStatus:n.userViewStatus}),Object(Ma.jsx)(Cl,{projectId:a,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:Object(Ma.jsx)(Nl,{content:n,allowDraftPill:r})}),Object(Ma.jsx)(Cl,{projectId:a,roles:x.Constants.USER_ROLE_GROUPS.CLIENT,children:Object(Ma.jsx)(El,{})}),Object(Ma.jsx)(Sl,{versionStatus:n.versionStatus})]})}),Dl=function(e){var t=e.analysis,n=e.projectId,a=e.onEditMenuClick,r=e.onDeleteMenuClick,c=e.index;return Object(Ma.jsxs)("div",{className:"card-container",children:[Object(Ma.jsx)("div",{className:"row",children:Object(Ma.jsxs)("div",{className:"col down",children:[Object(Ma.jsx)("div",{className:"card-title",children:Object(Ma.jsx)(Ja.Link,{to:t.isUnStructured?hc(n,t.frontendIdentifier):hl(n,t.title),"data-testid":"analysis-title","aria-label":"View Analysis",children:Object(Ma.jsx)("h2",{children:t.displayName||t.title})})}),Object(Ma.jsx)("span",{className:"card-description","data-testid":"analysis-description",dangerouslySetInnerHTML:{__html:Qa(t.body)}}),Object(Ma.jsx)(gl,{hasConnectedContent:t.hasConnectedContent,projectId:n,contentId:t.contentId,index:c})]})}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"card-action-footer",children:[Object(Ma.jsx)(kl,{content:t,projectId:n,allowDraftPill:!0}),Object(Ma.jsx)("div",{className:"card-actions",children:Object(Ma.jsx)(mo,{projectId:n,permissions:["Contribute"],children:Object(Ma.jsx)(ol,{projectId:n,itemId:t.frontendIdentifier,onEditMenuClick:a,onDeleteMenuClick:r})})})]}),Object(Ma.jsx)("div",{className:"row",children:t.tags&&t.tags.length>0&&Object(Ma.jsx)(Ll,{tags:t.tags,testId:"analysis-tag-list"})})]})},Rl=function(e){var t=e.data,n=e.onDelete,a=e.projectId,r=e.dataLength,c=e.currentPage,o=e.next,i=e.hasMore,s=Object(p.k)(),l=function(e){return s.push(xc(a,e))};return Object(Ma.jsx)("div",{className:"analyses-grid-container",children:Object(Ma.jsx)("div",{"data-testid":"list-grid",children:Object(Ma.jsx)(Xs.a,{dataLength:r,hasMore:i,next:function(){o(c+1)},scrollThreshold:1,className:"grid-cards list-grid",children:t.map((function(e,t){return Object(Ma.jsx)(Dl,{analysis:e,projectId:a,onEditMenuClick:l,onDeleteMenuClick:function(){return n(e)},index:t},"content-grid-card-".concat(e.contentThreadId))}))})})})},Pl=function(e){var t=e.projectId,n=mc(t);return Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(Ja.Link,{to:!t&&n,children:Object(Ma.jsx)(er.Button,{disabled:t,className:"mt-3",children:"Create Analysis"})})}})},Ml=(n(1246),function(e){var t=e.projectId,n=e.singularName,a=e.pluralName,r=e.children,c=Object(s.useSelector)(Ar)||{givenName:"User"},o=a.split(" ").join("-"),i="empty-".concat(o,"-card"),l="empty-".concat(o,"-card-create-content"),d="No ".concat(a," have been shared yet"),u="Hello ".concat(c.givenName,","),j="Create the first ".concat(n," for this project");return Object(Ma.jsxs)("div",{className:"empty-content-card content-container","data-testid":i,children:[Object(Ma.jsx)(Cl,{projectId:t,roles:x.Constants.USER_ROLE_GROUPS.CLIENT,children:Object(Ma.jsx)("p",{className:"nothing-shared",children:d})}),Object(Ma.jsx)(mo,{projectId:t,permissions:["Contribute"],children:Object(Ma.jsxs)("div",{"data-testid":l,children:[Object(Ma.jsx)("h2",{children:u}),Object(Ma.jsx)("h2",{children:j}),r]})})]})}),Fl=function(e){var t=e.projectId;return Object(Ma.jsx)(Ml,{projectId:t,pluralName:"Analyses",singularName:"analysis",children:Object(Ma.jsx)(Pl,{projectId:t})})},Ul=(n(1247),n(1248),function(e){var t=e.onClearClick,n=e.index,a=e.isBrokenLink,r=void 0!==a&&a;return t?Object(Ma.jsx)("button",{type:"button",onClick:t,"data-testid":"clearable-display-pill-x-".concat(n),children:Object(Ma.jsx)(er.Icon,{name:"close",className:"fill ".concat(r?"icon-white":"icon-black"),width:12,"data-testid":"close-icon"})}):null}),Bl=function(e){var t=e.tag,n=e.onClearClick,a=e.index,r=e.iconName;return Object(Ma.jsxs)("div",{className:"clearable-display-pill display-".concat(r),"data-testid":"clearable-display-pill-".concat(a),children:[r&&Object(Ma.jsx)(er.Icon,{name:r,className:"fill clearable-link-icon",width:12,"data-testid":"clearable-link-icon"}),Object(Ma.jsx)("span",{children:t}),Object(Ma.jsx)(Ul,{onClearClick:n,index:a,isBrokenLink:"link-remove"===r})]})};Bl.defaultProps={onClearClick:void 0,iconName:""};var Yl,Wl,Vl=Bl,Zl=function(e){var t=e.field,n=t.value||"";return Object(Ma.jsx)("input",Object(b.a)(Object(b.a)({},t),{},{value:n,"data-testid":"hidden-input-".concat(t.name),type:"hidden",id:t.name,disabled:!0}))},Gl=function(e){return 0===e.trim().length?"Tag cannot be empty.":e.trim().length>30?"Tag cannot be more than 30 characters long.":!e.match(/[^A-Za-z0-9 ]+/g)?null:"Tag cannot contain special characters."},Hl=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.get("/projects/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kl=n(223),ql=(n(1249),"apply-tag-button"),zl="create-tag-button",Ql=function(e,t){return"opt-".concat(t.id)},Jl=function(e){var t=e.searchCriteria,n=e.exactMatch,a=e.tagsChanged;return e.allowCreateTags?a||t&&n:a},Xl=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return function(c){var o=c.tagsChanged;return Object(Ma.jsx)("div",{className:"multi-select-action-button-container",children:Object(Ma.jsx)(er.Button,{id:ql,"data-testid":ql,onClick:function(){return e(Object(h.keys)(t))},onBlur:a,type:"button",disabled:!o,onKeyDown:r,children:n?"Apply":"Filter Content"})})}},$l=function(e){var t=e.searchCriteria,n=e.exactMatch,a=e.tagsChanged;return!!e.allowCreateTags&&(t&&!n&&!a)},ed=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return function(r){var c=r.searchCriteria;return Object(Ma.jsx)("div",{className:"multi-select-action-button-container",children:Object(Ma.jsx)(er.Button,{id:zl,"data-testid":zl,onClick:function(){return e([].concat(Object(m.a)(Object(h.keys)(t)),[c]))},onBlur:n,type:"button",onKeyDown:a,children:"Create"})})}},td=function(e){return e.trim().toLowerCase()},nd=function(e){var t=e.searchCriteria,n=e.options,a=e.onSubmit,c=e.selectedTags,o=e.allowCreateTags,i=e.closeDropdown,s=e.innerIdWhitelist,l=void 0===s?[]:s,d=e.isLoading,u=Object(r.useState)([]),j=Object(Cr.a)(u,2),p=j[0],O=j[1],f=Object(r.useState)({}),_=Object(Cr.a)(f,2),x=_[0],g=_[1],v=Object(r.useState)([]),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=Object(r.useState)(!1),I=Object(Cr.a)(y,2),E=I[0],w=I[1],N=Object(r.useState)(!1),A=Object(Cr.a)(N,2),S=A[0],k=A[1];Object(r.useEffect)((function(){var e=n.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.text,t))}),{});O(c.filter((function(t){return e[t]})))}),[c,n]),Object(r.useEffect)((function(){g(Object(h.zipObject)(p,p.map(h.stubTrue)))}),[p]),Object(r.useEffect)((function(){w(Object(h.xor)(Object(h.keys)(x),p).length)}),[x,p]),Object(r.useEffect)((function(){var e=td(t),a=n.map((function(e){return td(e.text)})),r=c.map(td);T(n.filter((function(t){return td(t.text).startsWith(e)}))),k(!![].concat(Object(m.a)(a),Object(m.a)(r)).find((function(t){return t===e})))}),[t,n,c]);var D,R,P=(D=[].concat(Object(m.a)(n.map((function(e){return Ql(Yl||(Yl=Object(Kl.a)(["",""])),e)}))),Object(m.a)(l),[ql,zl]),R=i,function(e){var t=e.relatedTarget,n=Object(h.get)(t,"id",""),a=D.some((function(e){return n===e}));t&&!a&&R&&R()}),M=function(e){27===e.keyCode&&i()},F=Object(h.cond)([[Jl,Xl(a,x,o,P,M)],[$l,ed(a,x,P,M)],[h.stubTrue,Object(h.constant)(null)]])({tagsChanged:E,searchCriteria:t,exactMatch:S,allowCreateTags:o});return!0===d?Object(Ma.jsx)("div",{className:"multi-select-container loading","data-testid":"multi-select-container",children:Object(Ma.jsx)(er.MiniLoader,{})}):Object(Ma.jsxs)("div",{className:"multi-select-container","data-testid":"multi-select-container",children:[C.length>0&&Object(Ma.jsx)("div",{className:"scrollable",children:C.map((function(e){return Object(Ma.jsx)(er.Checkbox,{label:e.text,id:Ql(Wl||(Wl=Object(Kl.a)(["",""])),e),dataTestId:e.text,checked:!0===x[e.text],onChange:function(){!function(e){if(x[e]){var t=Object(h.omit)(x,[e]);g(t)}else g(Object(b.a)(Object(b.a)({},x),{},Object($t.a)({},e,!0)))}(e.text)},onBlur:P,onKeyDown:M},e.text)}))}),F]})},ad=(n(1250),function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){function n(n){e(!(!t.current||t.current.contains(n.target)||n.target===document.querySelectorAll(".ui-checkbox")||!e))}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[t,e]),t}),rd="tags",cd=function(e){var t=e.projectId,n=e.onSelect,a=e.tagsRight,c=e.title,o=e.subtitle,i=e.allowCreateTags,l=e.placeholderText,d=Object(r.useState)([]),u=Object(Cr.a)(d,2),j=u[0],p=u[1],O=Object(r.useState)([]),f=Object(Cr.a)(O,2),_=f[0],x=f[1],g=Object(r.useState)(!0),v=Object(Cr.a)(g,2),L=v[0],C=v[1],T=Object(r.useState)([]),y=Object(Cr.a)(T,2),I=y[0],E=y[1],w=Object(r.useState)(""),N=Object(Cr.a)(w,2),A=N[0],S=N[1],k=Object(r.useState)(),D=Object(Cr.a)(k,2),R=D[0],P=D[1],F=Object(r.useState)(!1),U=Object(Cr.a)(F,2),B=U[0],Y=U[1],W=Object(Qs.useFormikContext)(),V=W.getFieldMeta,Z=W.setFieldValue,G=Object(s.useDispatch)(),H=Object(r.useCallback)((function(e){Z(rd,e)}),[Z]),K=Object(r.useCallback)((function(){return V(rd).value}),[V]);Object(r.useEffect)((function(){var e=K();E(Object(m.a)(e||[]))}),[K]),Object(r.useEffect)((function(){var e=!0;B&&!0===L&&function(){var n=Object(te.a)(ee.a.mark((function n(){var a;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Hl(t);case 2:a=n.sent,e&&(p(a),G(M({tags:a})),C(!1));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()();return function(){e=!1}}),[t,B,L,G]),Object(r.useEffect)((function(){var e=j.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.text,t))}),{}),t=I.filter((function(t){return!e[t]})).map((function(e){return{text:e}}));x([].concat(Object(m.a)(j),Object(m.a)(t)))}),[j,I]);var q=function(e){Y(!1);var t=function(e){var t=e.map(Gl);if(t.some((function(e){return!!e})))return P(t);var n=t.map((function(t,n){return t?null:e[n]})).flat();return E(n),H(n),P(""),S(""),n}(e);n&&n(t,!!Object(h.xor)(K(),t))},z=ad((function(e){return e&&Y(!e)}));return Object(Ma.jsxs)("div",{className:"tageditor",children:[c&&Object(Ma.jsxs)("div",{className:"title",children:[Object(Ma.jsx)(er.Icon,{name:"tag",className:"fill",width:21,"data-testid":"draft-icon"}),"Tags (optional)"]}),o&&Object(Ma.jsxs)("div",{className:"description",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:21,"data-testid":"draft-icon"}),"Tag content by report section, category and team, to make it easy to find and use.",Object(Ma.jsx)("div",{className:"instructions",children:"Tags cannot include any special characters. Maximum 30 characters."})]}),Object(Ma.jsx)(Qs.FieldArray,{name:"tags",render:function(e){return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"a-form-error",children:R}),Object(Ma.jsxs)("div",{className:"input-field-container","data-tags-right":"".concat(a),ref:z,children:[Object(Ma.jsx)("span",{className:"filter-search-icon",children:Object(Ma.jsx)(er.Icon,{name:"search",width:18,className:"outline icon-grey"})}),Object(Ma.jsx)(Qs.Field,{id:"tag-filter-search",name:"tag",className:"input-field ".concat(B?"active":""),placeholder:l,error:R,autoComplete:"off",value:A,onChange:function(e){S(e.target.value)},"data-testid":"text-input-tag-search",onFocus:function(){Y(!0)},onKeyDown:function(e){27===e.keyCode&&Y(!1)}}),B&&Object(Ma.jsx)(nd,{isLoading:L,searchCriteria:A,options:_,onSubmit:function(e){return q(e)},selectedTags:I,allowCreateTags:i,innerIdWhitelist:["tag-filter-search"],closeDropdown:function(){return Y(!1)}})]}),I&&Object(Ma.jsx)("div",{className:"pills","data-tags-right":"".concat(a),children:I.map((function(e,t){return Object(Ma.jsxs)(r.Fragment,{children:[Object(Ma.jsx)(Qs.Field,{name:"tag[".concat(t,"]"),component:Zl}),Object(Ma.jsx)(Vl,{onClearClick:function(){return function(e){var t=[].concat(Object(m.a)(I.slice(0,e)),Object(m.a)(I.slice(e+1)));E(t),H(t),n&&n(t,!!Object(h.xor)(K(),t))}(t)},tag:e,index:t})]},e)}))})]})}})]})};cd.defaultProps={onSelect:void 0,tagsRight:!1,title:!0,subtitle:!0,allowCreateTags:!0,placeholderText:"Search or create a new tag"};var od=cd,id=(n(1251),function(){return Object(Ma.jsx)("div",{className:"no-content-for-tags-card content-container","data-testid":"no-content-for-tags-card",children:Object(Ma.jsx)("h2",{children:"We couldn't find any content connected with this tag. Please select a different one."})})}),sd=n(615),ld=n.n(sd),dd=n(616),ud=n.n(dd),jd=n(55),bd=lo.a.oneOfType([lo.a.string,lo.a.number]),pd={label:lo.a.string,value:bd},md=lo.a.shape(pd),Od=(lo.a.arrayOf(md),lo.a.shape({documentCode:lo.a.string,adjustmentType:lo.a.string,adjustmentDisplayName:lo.a.string})),fd=(lo.a.shape({id:lo.a.number,source:Od,target:Od,isBroken:lo.a.bool}),lo.a.shape({dateModified:lo.a.string,modifiedBy:lo.a.string,versionNumber:lo.a.number,userViewStatus:lo.a.number,versionStatus:lo.a.number}),lo.a.shape({id:lo.a.number,text:lo.a.string})),hd=(lo.a.shape({contentThreadId:lo.a.oneOfType([lo.a.number,lo.a.string]),sortOrder:lo.a.number,title:lo.a.string,impact:lo.a.string,status:lo.a.string,dateModified:lo.a.string,shareWithAll:lo.a.bool,tags:lo.a.arrayOf(fd)}),"asc"),_d="desc",xd=(lo.a.oneOf([hd,_d]),"hypotheses"),gd="insights",vd="analyses",Ld=(lo.a.oneOf([xd,gd,vd]),function(e){var t=e.projectId,n=ic(t);return Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(Ja.Link,{to:n,children:Object(Ma.jsx)(er.Button,{className:"mt-3",disabled:t,children:"Create Key Focus Area"})})}})}),Cd=function(e){var t=e.projectId;return Object(Ma.jsx)(Ml,{projectId:t,pluralName:"Key Focus Areas",singularName:"key focus area",children:Object(Ma.jsx)(Ld,{projectId:t,"data-testid":"empty-hypotheses-card-create-button"})})},Td=function(e){var t=e.projectId,n=uc(t);return Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(Ja.Link,{to:!t&&n,children:Object(Ma.jsx)(er.Button,{disabled:t,className:"mt-3",children:"Create Insight"})})}})},yd=function(e){var t=e.projectId;return Object(Ma.jsx)(Ml,{projectId:t,pluralName:"Insights",singularName:"insight",children:Object(Ma.jsx)(Td,{projectId:t})})},Id="sortOrder",Ed="dateModified",wd="shareWithAll",Nd=(n(1252),function(e){var t=e.currentSortDir,n=nr()("sort-chevron-desc",{asc:t===hd});return Object(Ma.jsx)("span",{className:n,children:Object(Ma.jsx)(er.Icon,{name:"desc",width:"10",className:"fill icon-orange"})})}),Ad=function(e){var t=e.text,n=e.testId,a=e.sortKey,c=e.currentSortKey,o=e.setCurrentSortKey,i=e.setCurrentSortDir,s=e.className,l=e.children,d=e.disabled,u=Object(r.useState)(hd),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=a===c,O=nr()("button-no-underline","header-cell",Object($t.a)({},s,!!s));return Object(Ma.jsxs)(er.Button,{className:O,"data-testid":n,onClick:function(){var e=b;m&&(e=b===hd?_d:hd),p(e),o(a),i(e)},disabled:d,children:[t,l,m?Object(Ma.jsx)(Nd,{currentSortDir:b}):null]})};Ad.defaultProps={text:"",testId:"",className:"",disabled:!1};var Sd=Ad,kd=(n(1253),function(e){var t=e.projectId,n=e.currentSortKey,a=e.setCurrentSortKey,r=e.setCurrentSortDir,c=e.isDragAllowed,o=e.isDragEnabled,i=e.areSomeSelected,s=e.areAllSelected,l=e.onSelectAll,d=function(){l(!s)},u=["The presentation order for the client view can only be changed by the engagement lead, manager or admin"," when the list is sorted by order","."];c||u.splice(1,1);var j=u.join(""),b=nr()("sort-order-cell",{"tooltip-short":!c});return Object(Ma.jsx)("div",{"data-testid":"content-list-header",className:"content-list-header",children:Object(Ma.jsx)(jo,{projectId:t,children:function(e){var l=e.isProjectDisabled;return Object(Ma.jsxs)(Cl,{roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,projectId:t,children:[o&&Object(Ma.jsx)("div",{className:"sort-order-checkbox-cell",children:Object(Ma.jsx)(er.Checkbox,{dataTestId:"select-all-for-drag-checkbox",id:"select-all-for-drag-checkbox",disabled:!c,onChange:d,checked:s,indeterminate:!s&&i})}),Object(Ma.jsx)("div",{className:b,children:Object(Ma.jsx)(Sd,{text:"Order",testId:"order-header-cell",sortKey:Id,currentSortKey:n,setCurrentSortKey:a,setCurrentSortDir:r,disabled:l,children:Object(Ma.jsx)(er.Tooltip,{direction:"right",tip:j,dataTestId:"order-tooltip",children:Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow","data-testid":"information-icon",width:"16"})})})}),Object(Ma.jsx)(Sd,{text:"Last updated",testId:"last-updated-header-cell",sortKey:Ed,currentSortKey:n,setCurrentSortKey:a,setCurrentSortDir:r,disabled:l}),Object(Ma.jsx)(Sd,{text:"Status",testId:"shared-header-cell",sortKey:wd,currentSortKey:n,setCurrentSortKey:a,setCurrentSortDir:r,disabled:l}),Object(Ma.jsx)("div",{})]})}})})}),Dd=function(e){var t=e.shareWithAll;return Object(Ma.jsx)("div",{"data-testid":"display-content-status",className:"display-content-status",children:t?"Shared":"Not Shared"})},Rd=n(212),Pd=n(429),Md=n.n(Pd),Fd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=Rd.DateTime.fromJSDate(e);return t.toFormat("dd LLL yyyy")},Ud={decimalCount:1,formatForScreenReader:!1,emptyDataMarker:gn},Bd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ud,t=0===e.decimalCount?"":".".concat("0".repeat(e.decimalCount)),n=e.formatForScreenReader?"":"(",a=e.formatForScreenReader?"":")";return"".concat(n,"0,0").concat(t).concat(a)},Yd=/e/g,Wd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;Number.isNaN(e)&&(n=""),"symbol"===typeof e&&(n=0);var a=Object(b.a)(Object(b.a)({},Ud),t),r=parseFloat(n),c=pl()(r);return c&&Yd.test(r)&&(r=parseFloat(r.toFixed(8))),c&&0===r?a.emptyDataMarker:c?Md()(r).format(Bd(a)):n},Vd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=parseFloat(e);return pl()(t)?Md()(t).format("(0.0%)"):e},Zd={dollar:"$",pound:"\xa3",euro:"\u20ac"},Gd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dollar",t=Zd[e.toLowerCase()];return t||"$"},Hd=function(e){if(!e)return"".concat(Gd(qn)," in ").concat(zn.toLowerCase());var t=Gd(e.currency||qn),n=(e.financialsMagnitude||zn).toLowerCase();return"".concat(t," in ").concat(n)},Kd=/(adjustments \(\+\/-NQ\)|adj\. \(\+\/-NQ\)|adjustments|adj\.|adjustment)$/gi,qd=/\(\+\/-NQ\)$/i,zd=function(e,t){var n=qd.test(e),a=e.replace(Kd,"Adjusted");return"".concat(a," ").concat(t).concat(n?" ".concat("(+/-NQ)"):"")},Qd=function(e){return zd(e,"EBITDA")},Jd=function(e){return zd(e,"Working Capital")},Xd=/^[L][\S]*[QM]/i,$d=function(e){return Xd.test(e)},eu=/^bank debt$|^reported debt$/i,tu=function(e){return eu.test(e)},nu=/^less cash$|^reported cash$/i,au=function(e){return nu.test(e)},ru=/^debt-like item$|^debt-like items$/i,cu=function(e){return ru.test(e)},ou=function(e){var t=e.dateText;return Object(Ma.jsx)("div",{"data-testid":"display-date",className:"display-date",children:Fd(new Date(t))})},iu=function(e){var t=e.contentItem,n=e.projectId,a=e.viewPathCreator,r=e.ariaLabel;return Object(Ma.jsx)("div",{className:"content-link",children:Object(Ma.jsx)(Ja.Link,{to:a(n,t.contentThreadId,t),"data-testid":"content-detail-link".concat(t.contentThreadId),"aria-label":r,children:t.title})})},su=function(e){var t=e.sortOrder,n=e.contentThreadId,a=e.isSelected,r=e.isDragAllowed,c=e.isDragEnabled,o=e.onSelect,i=nr()("fill",{enabled:r});return Object(Ma.jsxs)(Ma.Fragment,{children:[c&&Object(Ma.jsxs)("div",{className:"sort-order-cell-icon",children:[Object(Ma.jsx)(er.Icon,{name:"arrow-up-down",width:"20",className:i,"data-testid":"arrow-up-down-icon"}),Object(Ma.jsx)(er.Checkbox,{disabled:!r,dataTestId:"select-for-drag-checkbox",id:"select-for-drag-checkbox-".concat(n),checked:a,onChange:function(){o(n,!a)}})]}),Object(Ma.jsx)("div",{"data-testid":"sort-order-cell",className:"sort-order-cell",children:Object(Ma.jsx)("div",{className:"sort-order-cell-wrapper",children:t})})]})};su.defaultProps={isSelected:!1,isDragAllowed:!1,isDragEnabled:!1};var lu=su,du=(n(1254),function(e){var t=e.contentItem,n=e.index,a=e.projectId,r=e.onDeleteMenuClick,c=e.onSelect,o=e.selectedCount,i=e.areAllSelected,s=e.isSelected,l=e.isDragTarget,d=e.isDragAllowed,u=e.isDragEnabled,j=e.isInternalUser,m=e.viewPathCreator,O=e.editPathCreator,f=e.linkAriaLabel,h=Object(p.k)(),_=t.frontendIdentifier||t.contentThreadId,x=function(){h.push(O(a,_))},g=l&&o>0;return Object(Ma.jsx)(jd.b,{draggableId:t.contentThreadId.toString(),index:n,isDragDisabled:!d||i,children:function(e){var n=nr()("content-list-card",{draggable:d&&!i,"is-selected":s,"is-dragging":l,"is-dragging-multiple":g}),p=g?o:t.sortOrder+1;return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)(Object(b.a)({className:n,"data-testid":"content-list-card",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[j&&Object(Ma.jsx)(lu,{sortOrder:p,isSelected:s,isDragAllowed:d,isDragEnabled:u,contentThreadId:t.contentThreadId,onSelect:c}),Object(Ma.jsx)(iu,{projectId:a,contentItem:t,viewPathCreator:m,ariaLabel:f}),j&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(ou,{dateText:t.dateModified}),Object(Ma.jsx)(Dd,{shareWithAll:t.shareWithAll})]}),Object(Ma.jsx)(ol,{projectId:a,itemId:_,onEditMenuClick:x,onDeleteMenuClick:function(){return r(t)},direction:"left"}),j&&Object(Ma.jsx)(Ll,{tags:t.tags,testId:"content-tag-list"})]}))}})});du.defaultProps={onDeleteMenuClick:function(){},selectedCount:0,areAllSelected:!1,isSelected:!1,isDragTarget:!1,isDragAllowed:!1,isDragEnabled:!1,isInternalUser:!0};var uu=du,ju=(n(1255),{modal:{show:!1,modalErrorType:x.Constants.ModalErrorType.NONE},moreMenu:{itemId:null,show:!1,moreMenuErrorType:x.Constants.MoreMenuErrorType.NONE}}),bu=Object(O.createSlice)({name:"errors",initialState:ju,reducers:{showModalError:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{modal:{show:!0,modalErrorType:t.payload}})},hideModalError:function(e){return Object(b.a)(Object(b.a)({},e),{},{modal:ju.modal})},showMoreMenuError:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{moreMenu:{show:!0,itemId:t.payload.itemId,moreMenuErrorType:t.payload.moreMenuErrorType}})},hideMoreMenuError:function(e){return Object(b.a)(Object(b.a)({},e),{},{moreMenu:ju.moreMenu})}}}),pu=bu.actions,mu=pu.showModalError,Ou=pu.hideModalError,fu=pu.showMoreMenuError,hu=pu.hideMoreMenuError,_u=function(e){return e.errors.modal},xu=function(e){return e.errors.moreMenu},gu=bu.reducer,vu=function(e){var t=e.contentType,n=e.projectId,a=e.contentItems,c=e.projectHasContent,o=e.onDelete,i=e.onReorder,l=e.updateSortOrderApiCall,d=e.isFiltered,u=Object(s.useDispatch)(),j=Object(r.useState)(!1),p=Object(Cr.a)(j,2),O=p[0],f=p[1],h=Object(r.useState)(null),_=Object(Cr.a)(h,2),g=_[0],v=_[1],L=Object(r.useState)(Id),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(r.useState)(hd),E=Object(Cr.a)(I,2),w=E[0],N=E[1],A=Object(r.useState)(!1),S=Object(Cr.a)(A,2),k=S[0],D=S[1],R=Object(r.useState)(!1),P=Object(Cr.a)(R,2),M=P[0],F=P[1],U=Object(r.useState)(null),B=Object(Cr.a)(U,2),Y=B[0],W=B[1],V=Object(r.useState)(!1),Z=Object(Cr.a)(V,2),G=Z[0],H=Z[1],K=Object(r.useState)(wt()(a,T,w)),q=Object(Cr.a)(K,2),z=q[0],Q=q[1],J=Object(r.useState)([]),X=Object(Cr.a)(J,2),$=X[0],ee=X[1];Object(r.useEffect)((function(){var e=wt()(a,[T,Ed],[w,_d]);Q(e),T!==Id&&ee([])}),[a,T,w]),Object(r.useEffect)((function(){d&&ee([])}),[d]),Object(r.useEffect)((function(){var e=x.Constants.USER_ROLE_GROUPS.INTERNAL,t=Ie.getProjectTokenProperty(n,"role"),a=Ie.hasProjectPermission(n,[x.Constants.USER_PERMISSIONS.MANAGE_CONTENT]);D(a&&T===Id&&!d),F(a),H(e.includes(t))}),[T,d,n]);var te,ne,ae,re,ce,oe=function(e){f(!0),v(e)},ie=function(e,t){if(t){var n=ud()($,[e]);ee(n)}else{var a=$.filter((function(t){return t!==e}));ee(a)}},se=function(){return w===hd};switch(t){case xd:te=Object(Ma.jsx)(Cd,{projectId:n}),re="View Key Focus Area",ne=oc,ae=sc,ce="This Key Focus Area will be permanently deleted and any connections to other content will be removed.";break;case gd:te=Object(Ma.jsx)(yd,{projectId:n}),re="View Insight",ne=dc,ae=jc,ce="This Insight will be permanently deleted and any connection to other content will be removed.";break;case vd:te=Object(Ma.jsx)(Fl,{projectId:n}),re="View Analysis",ne=function(e,t,a){return a.isUnStructured?hc(n,t):hl(n,a.title)},ae=xc,ce="This Analysis will be permanently deleted and any connections to other content will be removed.";break;default:te=null,re="",ne=function(){},ae=function(){},ce=""}if(0===z.length&&c)return Object(Ma.jsx)(id,{});if(0===z.length)return te;var le=$.length>0,de=z.length===$.length,ue=nr()("content-list",{"drag-enabled":M,"in-drag-mode":null!==Y});return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:O,onCancel:function(){f(!1),v(null)},onConfirm:function(){f(!1),o(g)},confirmTitle:"Are you sure you want to delete?",confirmationMessage:ce,confirmButtonText:"Yes, delete"}),Object(Ma.jsxs)("div",{className:ue,"data-testid":"content-list",children:[Object(Ma.jsx)(kd,{projectId:n,currentSortKey:T,setCurrentSortKey:y,setCurrentSortDir:N,isDragAllowed:k,isDragEnabled:M,areSomeSelected:le,areAllSelected:de,onSelectAll:function(e){ee(e?z.map((function(e){return e.contentThreadId})):[])}}),Object(Ma.jsx)(jd.a,{onDragEnd:function(e){if(W(null),!!e.destination){var t,a=Object(m.a)(z),r=e.source.index,c=e.destination.index;if($.length>0){var o,s,d=z.filter((function(e){return $.includes(e.contentThreadId)}));if(t=ld()(z,d),r<c){var j=z[c].contentThreadId,p=t.findIndex((function(e){return e.contentThreadId===j}));s=0===c?0:p+1}else s=c;(o=t).splice.apply(o,[s,0].concat(Object(m.a)(d)))}else{var O=(t=Object(m.a)(z)).splice(r,1),f=Object(Cr.a)(O,1)[0];t.splice(c,0,f)}var h=t.map((function(e,n){var a=se()?n:t.length-1-n;return Object(b.a)(Object(b.a)({},e),{},{sortOrder:a})}));Q(h);var _=h.map((function(e){return e.contentThreadId})),g=se()?_:_.reverse();l(n,g).then((function(){i(h)})).catch((function(e){Q(a);var t=me()(e,"response.data.errors[0].apiErrorCode",null)===x.Constants.API_ERROR_CODES.VALIDATION_ERROR?x.Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER_STALE_DATA:x.Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER;u(mu(t))})),ee([])}},onBeforeCapture:function(e){var t=e.draggableId,n=parseInt(t,10);W(n),$.length>0&&!$.includes(n)&&ee([])},children:Object(Ma.jsx)(jd.c,{droppableId:"content-list",children:function(e){return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({ref:e.innerRef},e.droppableProps),{},{children:[z.map((function(e,a){return Object(Ma.jsx)(uu,{contentType:t,contentItem:e,index:a,projectId:n,onDeleteMenuClick:oe,onSelect:ie,selectedCount:$.length,areAllSelected:de,isSelected:$.includes(e.contentThreadId),isDragTarget:Y===e.contentThreadId,isDragAllowed:k,isDragEnabled:M,isInternalUser:G,viewPathCreator:ne,editPathCreator:ae,linkAriaLabel:re},e.contentThreadId)})),e.placeholder]}))}})})]})]})};vu.defaultProps={contentItems:[],onDelete:function(){},isFiltered:!1};var Lu=vu,Cu=function(e){var t=e.projectId,n=e.dataLength,a=e.currentPage,c=e.pageSize,o=e.next,i=e.hasMore,l=e.analyses,d=e.isFetching,u=e.toggleView,j=e.onFilter,b=e.viewGrid,p=e.onDelete,m=e.onReorder,O=Object(r.useState)(!0),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(r.useState)(!1),v=Object(Cr.a)(g,2),L=v[0],C=v[1],T=Object(r.useState)(null),y=Object(Cr.a)(T,2),I=y[0],E=y[1],w=Object(r.useState)([]),N=Object(Cr.a)(w,2),A=N[0],S=N[1],k=Object(r.useState)(null),D=Object(Cr.a)(k,2),R=D[0],P=D[1],M=Object(s.useSelector)(W);Object(r.useEffect)((function(){l&&l.length>0?(l.sort((function(e,t){return e.sortOrder-t.sortOrder})),P(l),_(!1)):l&&0===l.length&&A.length>0?(P(l),_(!1)):(P(null),_(!!d))}),[l,d,A.length]);var F=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t),b&&((n=M.filter((function(e){return t.includes(e.text)})))&&n.length>0?(a=n.map((function(e){return e.id})),j(a)):o());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(r.useMemo)((function(){return R&&R.length>0&&R.filter((function(e){var t=new Set((e.tags||[]).map((function(e){return e.text})));return!A.length||A.some((function(e){return t.has(e)}))}))}),[R,A]);return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:L,onCancel:function(){return C(!1)},onConfirm:function(){C(!1),p(I)},confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Analysis will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsxs)("div",{"data-testid":"analysis-list-container",className:"analysis-list-container",children:[Object(Ma.jsxs)("div",{className:"list-container-header",children:[Object(Ma.jsx)("h2",{className:"analyses-view-h2",children:"Analyses"}),Object(Ma.jsxs)("div",{className:"list-container-header-source-links",children:[Object(Ma.jsx)(Cl,{roles:x.Constants.USER_ROLE_GROUPS.INTERNAL_READWRITE,projectId:t,restrictedForRoleElement:Object(Ma.jsx)("div",{"data-testid":"analysis-source-links-placeholder"}),children:Object(Ma.jsx)(ys,{toolTipDirection:"left"})}),Object(Ma.jsx)(Js,{viewGrid:b,onClick:u})]})]}),Object(Ma.jsx)(Qs.Formik,{initialValues:{tags:[]},children:function(){return Object(Ma.jsx)(od,{projectId:t,onSelect:F,tagsRight:!0,title:!1,subtitle:!1,allowCreateTags:!1,placeholderText:"Filter by tag"})}}),h&&!R&&Object(Ma.jsx)(er.Loader,{dataTestId:"loader"}),!h&&R&&Object(Ma.jsxs)("div",{className:"content",children:[U&&U.length>0&&b&&Object(Ma.jsx)("div",{"data-testid":"analysis-grid-view",children:Object(Ma.jsx)(Rl,{data:U,hasContent:!!R.length,projectId:t,onDelete:function(e){E(e),C(!0)},dataLength:n,currentPage:a,pageSize:c,hasMore:i,next:o})}),U&&U.length>0&&!b&&Object(Ma.jsx)("div",{"data-testid":"analysis-list-view",children:Object(Ma.jsx)(Lu,{contentType:vd,projectId:t,contentItems:U,projectHasContent:!!R.length,onDelete:p,onReorder:m,updateSortOrderApiCall:zs,isFiltered:!!A.length})}),(!U||0===U.length)&&Object(Ma.jsx)(id,{})]}),!h&&!R&&Object(Ma.jsx)(Fl,{projectId:t})]})]})},Tu=function(e){switch(e.contentSubType){case x.Constants.structuredDocumentSubtypeCodes[x.Constants.QUALITY_OF_EARNINGS]:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:nc[x.Constants.QUALITY_OF_EARNINGS],code:x.Constants.QUALITY_OF_EARNINGS});case x.Constants.structuredDocumentSubtypeCodes[x.Constants.NET_WORKING_CAPITAL]:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:nc[x.Constants.NET_WORKING_CAPITAL],code:x.Constants.NET_WORKING_CAPITAL});case x.Constants.structuredDocumentSubtypeCodes[x.Constants.DEBT_AND_DEBT_LIKE]:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:nc[x.Constants.DEBT_AND_DEBT_LIKE],code:x.Constants.DEBT_AND_DEBT_LIKE});default:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:e.contentThreadId})}},yu=function(){var e=Object(p.m)().projectId,t=Object(r.useState)(null),n=Object(Cr.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(0),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(null),j=Object(Cr.a)(u,2),b=j[0],O=j[1],f=Object(r.useState)(null),h=Object(Cr.a)(f,2),_=h[0],x=h[1],g=Object(s.useSelector)(Pr),v=Object(s.useDispatch)(),L=Tr().height,C=Object(r.useCallback)((function(){return L&&document.body.scrollHeight>L}),[L]),T=Object(r.useCallback)((function(){return a&&b&&a.length<b}),[a,b]),y=Object(r.useCallback)((function(e,t,n){if(O(t),d(n),0!==n){var r=a?Ss()(a):[],o=Ds()(r.concat(e),"contentThreadId");c(o.map(Tu))}else{var i=Ds()(e,"contentThreadId");c(i.map(Tu))}x(!1)}),[a]),I=Object(r.useCallback)(Object(te.a)(ee.a.mark((function t(){var n,a,r,c,o,i=arguments;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,x(!0),t.next=4,Bs(e,n,10);case 4:a=t.sent,r=a.items,c=a.rowCount,o=a.currentPage,y(r,c,o);case 7:case"end":return t.stop()}}),t)}))),[e,y]),E=Object(r.useCallback)(function(){var t=Object(te.a)(ee.a.mark((function t(n){var a,r,c,o;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.next=3,Us(e,n);case 3:a=t.sent,r=a.items,c=a.currentPage,o=a.rowCount,y(r,o,c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[y,e]);Object(r.useEffect)((function(){g&&!g.settings.viewGrid?E():I()}),[]),Object(r.useEffect)((function(){if(a&&a.length>0&&b){var e=C(),t=T();!1!==e||!0!==t||_||I(l+1)}}),[a,L,b,l,I,C,T,_]);var w=function(){var t=Object(te.a)(ee.a.mark((function t(n){var r,o,i,s,l,d;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.contentThreadId,o=n.code,i=n.isUnStructured,s=i?Ks(e,r):es(e,o),t.next=4,s;case 4:!0===t.sent.data&&(l=a.findIndex((function(e){return e.contentThreadId===r})))>-1&&((d=Ss()(a)).splice(l,1),c(Object(m.a)(d)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Ma.jsx)("div",{"data-testid":"analyses-container",className:"analyses-container",children:Object(Ma.jsx)(Cu,{toggleView:function(){c(null);var e=g.settings.viewGrid,t=!e;v(Dr({viewGrid:!e})),t?I(l):E()},onFilter:function(e){c(null),E(e)},viewGrid:g.settings.viewGrid,projectId:e,dataLength:a&&a.length,currentPage:l,pageSize:10,hasMore:T(),isFetching:_,next:I,fetchAllAnalyses:E,analyses:a,onDelete:w,onReorder:function(e){c(e)}})})},Iu=n(120),Eu=n.n(Iu),wu=(n(244),n(569),n(1256),function(e){var t=e.headerComponent,n=e.children,a=e.className;return Object(Ma.jsx)("div",{className:a,children:Object(Ma.jsxs)("div",{className:"form-layout",children:[t&&t,Object(Ma.jsx)("div",{className:"form-content-container-background",children:Object(Ma.jsx)("div",{className:"form-content-container",children:Object(Ma.jsx)("div",{className:"form-content",children:n})})})]})})}),Nu=["itemId","actions"],Au=c.a.forwardRef((function(e,t){var n=e.itemId,a=e.actions,c=Object(Pi.a)(e,Nu),o=Object(r.useState)(),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(s.useSelector)(xu),j=Object(s.useDispatch)(),p=function(e){return e.confirmation?function(){d(e)}:e.update},m=function(){d(void 0)},O=function(){l.update(),d(void 0)},f=function(){j(hu()),m()};return function(){if(u&&u.itemId===n){var e="Unable to save change.",r="Due to a system error we are currently unable to save the change you made.";return u.moreMenuErrorType===x.Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED&&(e="Can't share this analysis.",r="Some content is missing. Please review and update it before trying again."),Object(Ma.jsx)(Nr.a,Object(b.a)(Object(b.a)({id:"popover-moremenu",ref:t,"data-testid":"content-actions-popup-menu-".concat(n)},c),{},{className:"popover-confirm-error",children:Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-menu",children:[Object(Ma.jsx)(Nr.a.Title,{children:e}),Object(Ma.jsx)("p",{"data-testid":"popover-confirmation-error-message",className:"popup-description",children:r}),Object(Ma.jsx)("div",{className:"confirm-button-error-state",children:Object(Ma.jsx)(er.Button,{"data-testid":"popover-confirmation-error-cancel",onClick:f,className:"button-link mr-3",children:"Cancel"})})]})})}))}return Object(Ma.jsx)(Nr.a,Object(b.a)(Object(b.a)({id:"popover-moremenu",ref:t,"data-testid":"content-actions-popup-menu-".concat(n)},c),{},{className:l?"popover-confirm":"",children:l?Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-menu popup-confirmation",children:[Object(Ma.jsx)(Nr.a.Title,{children:l.confirmation.title}),Object(Ma.jsx)("p",{"data-testid":"popover-confirmation-message",children:l.confirmation.message}),Object(Ma.jsxs)("div",{className:"confirm-buttons",children:[Object(Ma.jsx)(er.Button,{"data-testid":"popover-confirmation-cancel",onClick:m,className:"button-link mr-3",children:"Cancel"}),Object(Ma.jsx)(er.Button,{"data-testid":"popover-confirmation-confirm",onClick:O,className:"button-small",children:l.confirmation.confirmButtonText})]})]})}):Object(Ma.jsx)(Nr.a.Content,{className:"popup-menu",children:a.map((function(e){return Object(Ma.jsxs)(er.Button,{className:"button-menu",onClick:p(e),"data-testid":"menu-button-".concat(e.name),disabled:e.disabled,children:[e.icon?e.icon:null,e.text]},e.action)}))})}))}()})),Su=function(e,t){return function(){t(!1),e&&e()}},ku=function(e){var t=e.itemId,n=e.onDelete,a=e.onRefresh,c=e.onEdit,o=e.viewClient,i=e.workflowActions,s=e.reportPreviewUrl,l=e.isDisabled,d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],m=u[1],O=Object(r.useState)(null),f=Object(Cr.a)(O,2),_=f[0],x=f[1],g=Object(r.useRef)(null),v=Object(p.k)(),L=Object(p.m)().projectId,C=o&&o.isOnClientVersion,T=(i||[]).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{disabled:l||C,icon:Object(Ma.jsx)(er.Icon,{name:e.icon,width:"21",className:"sr2 outline icon-orange"})})})),y=[];a&&y.push(function(e,t,n){return{name:"refresh",action:"refresh",text:"Refresh data",update:Su(e,n),confirmation:void 0,icon:Object(Ma.jsx)(er.Icon,{name:"refresh",width:"21",className:"sr2 outline icon-orange"}),disabled:t}}(a,C,m)),y=y.concat(T),o&&y.push(function(e){return{action:"View Content Version",name:e.isOnClientVersion?"in-progress-version":"client-version",text:e.isOnClientVersion?"Switch to In Progress Version":"Switch to client version",update:e.isOnClientVersion?e.onShowDraftVersion:e.onShowClientVersion,icon:Object(Ma.jsx)(er.Icon,{name:"partnership",width:"21",className:"sr2 outline icon-orange"}),disabled:!e.isOnClientVersion&&!e.hasClientVersion}}(o)),c&&y.push(function(e,t){return{name:"edit",action:"edit",text:"Edit",update:Su(e,t),icon:Object(Ma.jsx)(er.Icon,{name:"pencil",width:"21",className:"sr2 outline icon-orange"})}}(c,m)),y.push(function(e,t,n){return{name:"delete",action:"delete",text:"Delete",update:Su(e,n),icon:Object(Ma.jsx)(er.Icon,{name:"bin",width:"21",className:"sr2 outline icon-orange"}),disabled:t}}(n,C,m)),s&&y.push(function(e,t){return{action:"Preview Report",name:"preview-report",text:"Preview report",update:function(){t.push(e)},icon:Object(Ma.jsx)(er.Icon,{name:"report",width:"21",className:"sr2 outline icon-orange"})}}(s,v)),l&&Object(h.forEach)(y,(function(e){e.disabled="share"!==e.name||e.disabled}));var I=function(e){m(!j),x(e.target),!0===j&&setTimeout((function(){document.body.click()}),200)};return Object(Ma.jsx)(jo,{projectId:L,children:function(e){var n=e.isProjectDisabled;return Object(Ma.jsxs)("div",{ref:g,children:[Object(Ma.jsx)(rl,{isDisabled:n,onClick:I}),Object(Ma.jsx)(wr.default,{show:j,target:_,placement:"bottom-end",rootClose:!0,onHide:function(){m(!j)},container:g.current,children:Object(Ma.jsx)(Au,{itemId:t,actions:y||[]})})]})}})};ku.defaultProps={isDisabled:!1};var Du=ku,Ru=function(e){var t=e.onEdit,n=e.onDelete,a=e.onRefresh,c=e.deleteConfirmation,o=e.analysis,i=e.viewClient,l=e.workflowActions,d=void 0===l?[]:l,u=e.libraryItemCorruptedError,j=e.onCloseErrorState,b=e.children,m=e.isShared,O=Object(p.m)().projectId,f=Object(s.useDispatch)();Object(r.useEffect)((function(){f(ei(m))}),[f,m]);var h=vc(O,o.contentThreadId,i.isOnClientVersion?"shared":"latest",o.isUnStructured);return Object(Ma.jsx)("div",{className:"analysis-top-bar-container",children:Object(Ma.jsxs)("div",{className:"analysis-top-bar",children:[b,Object(Ma.jsx)("div",{}),Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(mo,{projectId:O,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:[Object(Ma.jsx)(jo,{projectId:O,children:function(e){var n=e.isProjectDisabled;return Object(Ma.jsx)(er.Button,{"data-testid":"edit-button",type:"button",onClick:t,className:"button-block button-small mr-3",disabled:n||i.isOnClientVersion,children:"Edit"})}}),Object(Ma.jsx)(Du,{itemId:o.contentThreadId,onDelete:n,onRefresh:a,deleteConfirmation:c,workflowActions:d,viewClient:i,libraryItemCorruptedError:u,onCloseErrorState:j,reportPreviewUrl:h})]})})]})})};Ru.defaultProps={onRefresh:void 0};var Pu,Mu=Ru,Fu=(n(570),function(e){var t=e.projectId,n=e.contentId,a=e.classModifier,c=Object(r.useState)(null),o=Object(Cr.a)(c,2),i=o[0],s=o[1];return Object(r.useEffect)((function(){return t&&n&&function(){var e=Object(te.a)(ee.a.mark((function e(){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sl(t,n);case 2:a=e.sent,s(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return s(null)}}),[t,n]),i&&Object.values(i).some((function(e){return e.length}))?Object(Ma.jsxs)("div",{className:"connected-content ".concat(a),"data-testid":"connected-content",children:[Object(Ma.jsx)("div",{className:"connected-content-title",children:"Connected content"}),Object(Ma.jsxs)("div",{className:"linked-narratives","data-testid":"linked-narratives",children:[Object(Ma.jsx)(dl,{title:"Key Focus Areas",narratives:i.hypotheses,getViewPath:function(e){return oc(t,e)},setNarratives:s,projectId:t}),Object(Ma.jsx)(dl,{title:"Insights",narratives:i.insights,getViewPath:function(e){return dc(t,e)},setNarratives:s,projectId:t}),Object(Ma.jsx)(dl,{title:"Analyses",narratives:i.analyses,getViewPath:xl(i.analyses,t),setNarratives:s,projectId:t})]})]}):null}),Uu=function(e){return"projects/".concat(e,"/libraryItems")},Bu=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(Uu(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.post("/projects/".concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Wu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.post("/projects/".concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.post("/projects/".concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(Uu(t),"/forStructuredContent/").concat(n,"?contentThreadId=").concat(a,"&contentVersionNumber=").concat(r));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Gu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getHtml("".concat(Uu(t),"/").concat(n,"?contentThreadId=").concat(a),{},!0);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Hu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r,c,o,i){var s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.postDeprecated("".concat(Uu(t),"/pptGroup"),{title:"".concat(r," - ").concat(o," - ").concat(c),sharePointItemUrl:n,driveItemId:a,groupName:c,slideNumber:parseInt(o,10),driveId:i});case 2:if(!((s=e.sent).errors&&s.errors.length>0)){e.next=5;break}throw new Error(s.errors[0].apiErrorMessage);case 5:return e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o,i){return e.apply(this,arguments)}}(),Ku=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.postDeprecated("".concat(Uu(t),"/pbiReport"),{name:a,reportId:n});case 2:if(201===(r=e.sent).status){e.next=5;break}throw new Error("Bad response status. Status: ".concat(r.status));case 5:return e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),qu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.postDeprecated("".concat(Uu(t),"/pbiPage"),{reportId:n,pageName:a,pageDisplayName:r});case 2:if(201===(c=e.sent).status){e.next=5;break}throw new Error("Bad response status. Status: ".concat(c.status));case 5:return e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),zu=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(Uu(t),"?itemType=").concat(x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(Uu(t),"?itemType=").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ju=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.postDeprecated("".concat(Uu(t),"/richText"),{name:n,richTextData:a});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Xu=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ke.get("".concat(Uu(t),"/").concat(n,"/deletable")).then((function(e){return e.data.isDeletable})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$u=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ke.delete("".concat(Uu(t),"/").concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ej={300:"SVG",301:"HTML",500:"HTML"},tj={300:Yu,301:Yu,500:Wu,400:Kn,401:Kn},nj={500:"pptLibraryItems",301:"excelLibraryItems",300:"excelLibraryItems"},aj=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),c=r.analysis.libraryItemsNew.items,o=Object(h.cloneDeep)(c).concat(e),n(k({libraryItems:o})),n(R());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},rj=function(e,t){var n=e.libraryItemId,a=e.libraryItemType,r=Object(h.cloneDeep)(Object(h.omit)(e,["libraryItemId","libraryItemType"]));return Object(b.a)(Object(b.a)({},r),{},{id:n,type:a,data:t})},cj=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c,o,i;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=t.data,a.next=4,tj[n.type](e,t);case 4:o=a.sent,i=rj(o,c),r(aj(i)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},oj=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),!(c=r.analysis.libraryItemGroups.powerBiLibraryItemList)||0!==c.length){t.next=3;break}return t.abrupt("return");case 3:c.forEach((function(t){var a={reportId:t.reportId,embedUrl:t.embedUrl};t.powerBiLibraryItems.forEach((function(t){var r=Object(b.a)(Object(b.a)({},a),{},{libraryItemId:t.id,libraryItemType:t.type,workspaceId:t.workspaceId,name:t.name,data:t.data});n(cj(e,r,t))}))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ij=function(e){var t=e.fileName;return e.fileContents.map((function(e){var n=Object(h.cloneDeep)(e);return Object(b.a)(Object(b.a)({},n),{},{fileName:t})}))},sj=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c,o;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,tj[n](e,t);case 3:c=a.sent,o=ij(c),r(aj(o)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},lj=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),!(c=r.analysis.libraryItemGroups.excelPptLibraryItemList)||0!==c.length){t.next=3;break}return t.abrupt("return");case 3:c.forEach((function(t){var a={groupedByKey:t.groupedByKey,sharePointItemUrl:t.sharePointItemUrl,driveId:t.driveId,driveItemId:t.driveItemId,siteId:t.siteId},r=t.excelPptLibraryItems[0].type;a[nj[r]]=t.excelPptLibraryItems.map((function(e){var t=Object(h.cloneDeep)(e),n=t.data;return n.formatType=ej[e.type],Object(b.a)(Object(b.a)({},t),{},{data:n})})),n(sj(e,a,r))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},dj=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o,i,s,l;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),!(c=r.analysis.libraryItemGroups.richTextLibraryItemList)||0!==c.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,o=c.reduce((function(e,t){var n=t.libraryItemId,a=Number.isInteger(parseInt(n,10))?parseInt(n,10):null;return e.concat([a])}),[]).filter((function(e){return null!==e})),i={libraryItemIds:o},t.next=8,Vu(e,i);case 8:s=t.sent,l=s.richTextLibraryItems,n(aj(l)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n){return t.apply(this,arguments)}}()},uj=function(e,t){var n,a=t.type;if(100===a){var r=t.data;n=Object(b.a)(Object(b.a)(Object(b.a)({},e),Object(h.omit)(t,["data"])),{},{richTextContent:{richTextData:r}})}else if(400===a||401===a)n=Object(b.a)(Object(b.a)({},e),t);else if(300===a||301===a||500===a){var c=t.data;n=Object(b.a)(Object(b.a)(Object(b.a)({},e),Object(h.omit)(t,["data"])),{},{value:c})}return n},jj=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o,i,s,l;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),c=r.analysis,o=c.libraryItemsShared.items,i=c.sections,s=Object(h.cloneDeep)(o).concat(e),l=i.map((function(e){var t=e.items.map((function(e){var t,n=Object(h.cloneDeep)(e),a=s.find((function(t){return t.id===(e.id||e.libraryItemId)}));return a?(t=uj(n,a),Object(b.a)({},t)):Object(b.a)({},n)}));return Object(b.a)(Object(b.a)({},e),{},{items:t})})),n(P({newSections:l}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},bj=function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ws(e,t);case 3:r=n.sent,a(D(r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},pj=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.isLoading){e.next=7;break}return t(y()),e.next=5,a();case 5:r=e.sent,t(I(r));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(E(e.t0.response?e.t0.response.status:500));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),mj=function(e,t){return"projects/".concat(e,"/workflow/").concat(t||"")},Oj=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(mj(t,n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fj=Object.freeze({UNDEFINED:0,REQUEST_APPROVAL:1,STOP_APPROVAL_REQUEST:2,APPROVE:3,REJECT:4,SHARE:5}),hj=(Pu={},Object($t.a)(Pu,fj.UNDEFINED,{actionName:void 0,buttonText:function(){},popOverText:void 0,icon:""}),Object($t.a)(Pu,fj.REQUEST_APPROVAL,{actionName:"request-approval",buttonText:function(){return"Request approval"},popOverText:"",icon:"confirmed"}),Object($t.a)(Pu,fj.STOP_APPROVAL_REQUEST,{actionName:"stop-approval-request",buttonText:function(){return"Stop approval request"},popOverText:void 0,icon:"end-process"}),Object($t.a)(Pu,fj.APPROVE,{actionName:"approve",buttonText:function(){return"Approve"},popOverText:void 0,icon:"thumbs-up"}),Object($t.a)(Pu,fj.REJECT,{actionName:"reject",buttonText:function(){return"Decline Approval"},popOverText:void 0,icon:""}),Object($t.a)(Pu,fj.SHARE,{actionName:"share",buttonText:function(e){return"Share ".concat(e," with client")},popOverText:{title:"Share with client team?",message:"This will allow the client team to view the latest version of the content.",confirmButtonText:"Yes, share now"},icon:"view"}),Pu),_j=function(e,t){var n=function(e){var t="";if(Object(h.isNil)(e))t="";else if(0===e.length)t="v1";else{var n=Object(m.a)(e).sort((function(e,t){return e.versionNumber>t.versionNumber})),a=n[n.length-1];t="v".concat(a.versionNumber)}return t}(t);return hj[e].buttonText(n)},xj=function(e,t,n,a,c,o){var i=Object(r.useState)(new Set([])),s=Object(Cr.a)(i,2),l=s[0],d=s[1],u=function(e){d(new Set(e&&e.nextSteps||[]))};Object(r.useEffect)((function(){c&&!c.hasError&&a&&e(n,a).then((function(e){u(e)}))}),[c,a,n,e]);var j=function(e,t,n,a){return function(e){return function(r,c){return e.has(r)?{action:r,name:hj[r].actionName,text:_j(r,t),confirmation:hj[r].popOverText,update:function(){return c().then((function(){n().then(a)}))},icon:hj[r].icon}:void 0}}}(0,o,(function(){return e(n,c&&a)}),u)(l);return Array.from(l).map((function(e){return j(e,(function(){return t(n,c&&a,e)}))}))},gj=function(e,t,n,a,r){return{onShowClientVersion:e,onShowDraftVersion:t,hasClientVersion:n&&!!n.find((function(e){return e.versionStatus===x.Constants.VERSION_STATUS.SHARED.value}))&&1!==n.length,isOnClientVersion:n&&a&&r&&!!n.find((function(e){return e.versionNumber>a}))&&r===x.Constants.VERSION_STATUS.SHARED.value}},vj=(n(1257),function(e){var t=e.cssLabel,n=e.label;return Object(Ma.jsx)("div",{className:"content-label ".concat(t),children:n})}),Lj=(n(1258),function(e){var t=e.label,n=e.value,a=e.sectionId,r=Object(p.m)().projectId;return n?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Cl,{roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,projectId:r,children:Object(Ma.jsx)("div",{className:"section-name",children:t})}),Object(Ma.jsx)("p",{className:"section-text","data-testid":"page-".concat(a||t.toLowerCase()),dangerouslySetInnerHTML:{__html:Qa(n)}})]}):null}),Cj=(n(1259),n(408),function(e){var t=e.projectId,n=e.libraryItemId,a=e.contentId,c=e.content,o=e.children,i=void 0===o?Object(Ma.jsx)("h5",{children:"Failed To Load Content"}):o,s=Object(r.useState)(null),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(!0),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(null),f=Object(Cr.a)(O,2),h=(f[0],f[1]),_=Object(r.useState)(!1),x=Object(Cr.a)(_,2),g=x[0],v=x[1];return Object(r.useEffect)((function(){c?(u(c),h(function(e){if(e.includes("svg")){var t=(new DOMParser).parseFromString(e,"application/xml").getElementsByTagName("svg")[0];if(t){var n=t.getAttribute("viewbox");if(n)return n.split(" ")[2]}}return null}(c)),m(!1)):(v(!0),m(!1))}),[t,n,a,c]),Object(Ma.jsxs)(Ma.Fragment,{children:[p&&Object(Ma.jsx)(er.Loader,{dataTestId:"excel-content-loader"}),!p&&Object(Ma.jsx)("div",{"data-testid":"excel-content-item",className:"content-item-container",dangerouslySetInnerHTML:{__html:Qa(g?Object(Ao.renderToStaticMarkup)(i):d)}})]})}),Tj=function(e){var t=e.embedToken,n=e.embedUrl,a=e.reportId,r=e.reportTitle,c=e.pageName,o=void 0===c?"":c;return Object(Ma.jsxs)("div",{"data-testid":"chart-config-wrapper",children:[Object(Ma.jsx)("p",{"data-testid":"powerbi-report-title",children:"Power BI Report Title: ".concat(r)}),Object(Ma.jsx)("p",{"data-testid":"embed-token",children:"Embed Token: ".concat(t)}),Object(Ma.jsx)("p",{"data-testid":"embed-url",children:"Embed Url: ".concat(n)}),Object(Ma.jsx)("p",{"data-testid":"report-id",children:"report Id: ".concat(a)}),Object(Ma.jsx)("p",{"data-testid":"powerbi-report-page-name",children:"Power BI Report Page Name: ".concat(o)})]})},yj=n(80),Ij=n(617),Ej=n(618),wj=function(e){return{themeJson:e?Ij:Ej}},Nj=function(e,t,n){return[n?e+8:e+8+36,n?t:t+37]},Aj=function(e){var t=e.embedToken,n=e.embedUrl,a=e.pageName,r=e.reportId,c=e.isDarkMode;return{type:"report",tokenType:yj.models.TokenType.Embed,accessToken:t,embedUrl:n,id:r,permissions:yj.models.Permissions.All,settings:{panes:{pageNavigation:{visible:!a},filters:{expanded:!1,visible:!a}},layoutType:yj.models.LayoutType.Custom,customLayout:{displayOption:yj.models.DisplayOption.ActualSize}},pageName:a,theme:wj(c)}},Sj=(n(1260),function(e){var t=e.item,n=e.projectId,a=Object(r.useState)(Boolean(window.Cypress)),c=Object(Cr.a)(a,1)[0],o=Object(r.useState)(null),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(r.useRef)(null),j=Object(s.useSelector)(Mr),p=Object(r.useState)({height:"650px",width:"100%"}),m=Object(Cr.a)(p,2),O=m[0],f=m[1],_=Object(r.useMemo)((function(){if(!Object(h.isEmpty)(t.data)&&!t.data.pageName){var e=JSON.parse(t.data);return!Object(h.isEmpty)(e.ReportId)}return!1}),[t]);Object(r.useEffect)((function(){var e=function(){var e=Object(te.a)(ee.a.mark((function e(){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.powerbi.reset(u.current),window.powerbi.bootstrap(u.current,{type:"report"}),e.next=4,Gn(n,t.id,t.isShared);case 4:a=e.sent,r=Object(h.get)(JSON.parse(t.data),"PageName",""),d(Object(b.a)(Object(b.a)({},a),{},{pageName:r}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(t&&t.type&&!_)if(Object(h.isEmpty)(t.data))d(t);else{var a=t.data.pageName;d(Object(b.a)(Object(b.a)({},t),{},{pageName:a}))}else _&&e()}),[t,n,_]),Object(r.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.powerbi.embed(u.current,Aj({embedToken:l.embedToken,embedUrl:l.embedUrl,pageName:l.pageName,reportId:l.reportId,isDarkMode:j}))).on("loaded",(function(){t.getPages().then((function(e){var t=e.findIndex((function(e){return e.name===l.pageName})),n=e[t<0?0:t].defaultSize,a=n.height,r=n.width,c=Nj(a,r,!!l.pageName),o=Object(Cr.a)(c,2),i=o[0],s=o[1];f({height:i,width:s})}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l&&function(){e.apply(this,arguments)}()}),[l,j]);var x=l?null:"none";return Object(Ma.jsxs)(Ma.Fragment,{children:[!l&&Object(Ma.jsx)(er.Loader,{dataTestId:"library-item-loading-indicator"}),Object(Ma.jsxs)("div",{"data-testid":"powerbi-wrapper",className:"powerbi-wrapper",children:[c&&l&&Object(Ma.jsx)(Tj,{embedToken:l.embedToken,reportId:l.reportId,embedUrl:l.embedUrl,reportTitle:l.reportTitle,pageName:l.pageName}),Object(Ma.jsx)("div",{ref:u,"data-testid":"powerbi-container",style:{height:O.height,maxWidth:O.width,display:x},children:"Loading Power BI Report..."})]})]})}),kj=function(e){var t=e.item.richTextContent.richTextData;return Object(Ma.jsx)("div",{className:"rich-text-content-item-container",dangerouslySetInnerHTML:{__html:Qa(t)}})},Dj=c.a.memo((function(e){var t=e.item,n=e.projectId,a=e.analysisId,r=[x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value,x.Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value,x.Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value],c=t.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value||t.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value;return Object(Ma.jsx)("div",{"data-testid":"analysis-library-item","data-library-item-name":t.name,className:"analysis-library-item-container",children:Object(Ma.jsxs)("div",{className:"analysis-library-item-content",children:[t.type&&Object(Ma.jsxs)(Ma.Fragment,{children:[r.includes(t.type)&&Object(Ma.jsx)(Cj,{projectId:n,libraryItemId:t.id,contentId:a,content:t.value||null}),t.type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value&&Object(Ma.jsx)(kj,{item:t}),c&&Object(Ma.jsx)(Sj,{item:t,projectId:n})]}),!t.type&&Object(Ma.jsx)(er.Loader,{dataTestId:"excel-content-loader"})]})})}),(function(e,t){return t.item.id===e.item.id&&t.item.isShared===e.item.isShared})),Rj=function(e){var t=e.items,n=e.projectId,a=e.analysisId;return wt()(t,[function(e){return e.order}]).map((function(e){return Object(Ma.jsx)(Dj,{item:e,projectId:n,analysisId:a},"".concat(e.id,"-").concat(e.name))}))},Pj=(n(1261),function(e){var t=e.columnPositionClassMap,n=e.items,a=e.analysisId,r=e.projectId,c=e.containerClass;return Object(Ma.jsx)("div",{"data-testid":"section-areas-container",className:c,children:Object.keys(t).map((function(e){return Object(Ma.jsx)("div",{className:"panel-area panel-area-".concat(t[e]),"data-testid":"panel-area-".concat(t[e]),children:Object(Ma.jsx)(Rj,{analysisId:a,projectId:r,items:n.filter((function(n){return n.analysisColumn===t[e]}))})},"panel-area-".concat(t[e]))}))})}),Mj=(n(1262),function(e){var t,n=e.projectId,a=e.analysisId,r=e.section,c=(t={},Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,{containerClass:"two-column-layout",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,{containerClass:"section-grid one-row-three-column",columnPositionClassMap:{LEFT:1,MIDDLE:2,RIGHT:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,{}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,{containerClass:"section-onecolumn--eighty-percent"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,{containerClass:"section-onecolumn--sixty-percent"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,{containerClass:"section-onecolumn--forty-percent"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,{containerClass:"section-onecolumn--one-column-overflow"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,{containerClass:"section-grid two-row-t80-1a-b20-1a",columnPositionClassMap:{TOP:1,BOTTOM:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,{containerClass:"section-grid two-row-t60-1a-b40-1a",columnPositionClassMap:{TOP:1,BOTTOM:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,{containerClass:"section-grid two-row-t20-1a-b80-1a",columnPositionClassMap:{TOP:1,BOTTOM:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,{containerClass:"section-grid two_column_left_50_2a_r_50_1a",columnPositionClassMap:{TOP_LEFT:1,RIGHT:2,BOTTOM_LEFT:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,{containerClass:"section-grid two-column-four-area-3left50-right50",columnPositionClassMap:{LEFT_FIRST:1,RIGHT:2,LEFT_SECOND:3,LEFT_THIRD:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,{containerClass:"section-grid two-column-l40-1a-r60-1a",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,{containerClass:"section-grid two-column-l67-1a-r33-1a",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,{containerClass:"section-grid two-column-left-67-2a-right-33-1a",columnPositionClassMap:{LEFT_FIRST:1,RIGHT:2,LEFT_SECOND:3,LEFT_THIRD:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,{containerClass:"section-grid two-column-l80-1a-r20-1a",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,{containerClass:"section-grid two_column_t_50_2a_b_50_1a",columnPositionClassMap:{LEFT:1,RIGHT:2,BOTTOM:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,{containerClass:"stack-two-block-bottom",columnPositionClassMap:{TOP:1,BOTTOM_LEFT:2,BOTTOM_RIGHT:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,{containerClass:"section-grid two-row-two-column-50-50",columnPositionClassMap:{TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_LEFT:3,BOTTOM_RIGHT:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,{containerClass:"section-grid four-block-narrow-right",columnPositionClassMap:{TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_LEFT:3,BOTTOM_RIGHT:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,{containerClass:"section-grid two-row-three-column",columnPositionClassMap:{TOP_LEFT:1,TOP_MIDDLE:2,TOP_RIGHT:3,BOTTOM_LEFT:4,BOTTOM_MIDDLE:5,BOTTOM_RIGHT:6}}),t)[r.layoutType],o=c.columnPositionClassMap,i=c.containerClass;return[x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA].includes(r.layoutType)?Object(Ma.jsx)("div",{className:nr()("section-onecolumn",i),"data-testid":"section-one-column",children:Object(Ma.jsx)(Rj,{projectId:n,analysisId:a,items:r.items})}):i&&o?Object(Ma.jsx)(Pj,{columnPositionClassMap:o,containerClass:i,projectId:n,analysisId:a,items:r.items}):Object(Ma.jsx)("div",{children:"Failed to load Analysis section. "})}),Fj=(n(1263),function(e){var t=e.dateModified,n=e.modifiedBy,a=e.version;return Object(Ma.jsxs)("p",{className:"page-last-updated","data-testid":"page-last-updated",children:[Object(Ma.jsxs)("span",{className:"text-lastupdated bold",children:[a&&"v".concat(a," "),"Last updated"," "]}),Object(Ma.jsxs)("span",{children:[Object(Ma.jsx)("span",{className:"text-timestamp",children:Rd.DateTime.fromISO(t,{zone:"utc"}).toLocal().toFormat("H:mm ZZZZ - d LLL yyyy")}),n&&" by ".concat(n)]})]})}),Uj=function(e){var t=e.projectId,n=e.content,a=e.allowDraftPill,r=e.className;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Cl,{projectId:t,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:Object(Ma.jsx)(Fj,{dateModified:n.dateModified,modifiedBy:n.modifiedBy,version:n.versionNumber})}),Object(Ma.jsx)(kl,{projectId:t,content:n,allowDraftPill:a,className:r})]})},Bj=function(e){var t=e.projectId,n=e.analysis,a=e.viewClient,r=Object(s.useSelector)(B),c=Object(m.a)(r).sort((function(e,t){return e.order-t.order}));return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(vj,{cssLabel:"analysis",label:"Analysis"}),Object(Ma.jsx)("div",{className:"section-name",children:"Title"}),Object(Ma.jsx)(ws,{title:n.title}),Object(Ma.jsx)(Uj,{className:"analysis-pill-container",projectId:t,content:n,allowDraftPill:!a.isOnClientVersion}),Object(Ma.jsx)(Lj,{label:"Description",value:n.body}),c.map((function(e){return Object(Ma.jsx)(Mj,{projectId:t,analysisId:n.contentThreadId,section:e},e.order)}))]})},Yj=(n(1264),function(){var e=Object(p.m)(),t=e.projectId,n=e.analysisId,a=Object(p.k)(),c=Object(s.useDispatch)(),o=Object(s.useSelector)(U),i=Object(s.useSelector)(V),l=Object(s.useSelector)(Y).isLoading,d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],b=u[1],m=Object(s.useSelector)(Z),O=Object(s.useSelector)(G),f=Object(s.useSelector)(H),h=Object(r.useCallback)((function(){var e=O.contentId;c(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o,i,s;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(w()),n.next=4,Vs(e,t);case 4:r=n.sent,c=r.content,o=void 0===c?{}:c,i=r.libraryItemGroups,s=void 0===i?{}:i,a(N({content:o})),a(A({libraryItemGroups:s})),a(lj(e)),a(oj(e)),a(dj(e)),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),a(S({isLoading:!1,hasError:!0,errorMessage:n.t0.toString()}));case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,e))}),[c,O,t]),_=Object(r.useCallback)((function(){var e=f.contentId;c(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Zs(e,t);case 3:r=n.sent,c=r.content,o=r.items,a(N({content:c})),a(jj(o)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,e))}),[c,f,t]);Object(r.useEffect)((function(){return c(bj(t,n)),function(){return c(T())}}),[c,t,n]),Object(r.useEffect)((function(){m&&(O&&!Eu()(O)?(h(),c(ko(O.versionNumber))):f&&!Eu()(f)&&(_(),c(ko(f.versionNumber))))}),[n,O,t,m,f,h,_,c]);var g=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(t,o.contentThreadId);case 2:a.push(bc(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=xj(Oj,function(){var e=Object(te.a)(ee.a.mark((function e(a,r,o){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qs(a,r,o);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),x.ErrorUtilities.hasLibraryItemCorruptedError(e.t0)?c(fu({itemId:r,moreMenuErrorType:x.Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED})):c(fu({itemId:r,moreMenuErrorType:x.Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE})),e.abrupt("return");case 9:c(bj(t,n));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),t,o&&o.contentThreadId,o,m),L=gj(function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!l&&f&&(_(),c(ko(f.versionNumber)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!l&&O&&(h(),c(ko(O.versionNumber)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m,o&&o.versionNumber,o&&o.versionStatus),C=o&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:j,onCancel:function(){return b(!1)},onConfirm:g,confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Analysis will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsx)(Mu,{isShared:i,workflowActions:v,onEdit:function(){a.push(xc(t,n))},onDelete:function(){return b(!0)},versions:m,analysis:o,viewClient:L})]});return o&&o.contentThreadId&&Object(Ma.jsx)("div",{className:"analysis-details-screen",children:Object(Ma.jsxs)(wu,{headerComponent:C,children:[Object(Ma.jsx)("div",{className:"analysis-main-content","data-testid":"analysis-detail-page",children:Object(Ma.jsx)(Bj,{projectId:t,analysis:o,versions:m,viewClient:L})}),o.tags&&o.tags.length>0&&Object(Ma.jsx)(Ll,{tags:o.tags,testId:"analysis-tag-list"}),Object(Ma.jsx)(Fu,{projectId:t,contentId:o.contentId})]})})}),Wj=function(e){var t=e.icon,n=e.pageLabel,a=e.children;return Object(Ma.jsx)("div",{className:"active-content-header-container",children:Object(Ma.jsxs)("div",{className:"active-content-header",children:[Object(Ma.jsxs)("div",{className:"active-content-header-title",children:[t,Object(Ma.jsx)("span",{className:"icon-label ml-md-3",children:n})]}),Object(Ma.jsx)("div",{className:"active-content-header-actions",children:a})]})})};Wj.defaultProps={icon:null};var Vj=Wj,Zj=(n(1265),function(e){var t=e.children;return Object(Ma.jsx)("div",{className:"project-list-layout",children:Object(Ma.jsx)("div",{className:"project-list",children:t})})}),Gj=(n(1266),function(e){var t=e.children;return Object(Ma.jsx)("div",{className:"blank-layout",children:t})}),Hj=function(e){var t=e.isSaving,n=e.isValid,a=e.buttonPosition,r=e.buttonSize,c=e.onSaveText,o=void 0===c?"Publishing...":c,i=e.standbyText,s=void 0===i?"Publish":i,l=e.dirty,d=void 0===l||l,u=e.dataTestId,j=void 0===u?void 0:u,b=!t&&n&&!1!==d;return Object(Ma.jsx)(er.Button,{className:"button-block ".concat(r),type:"submit",disabled:!b,"data-testid":j||"publish-button-".concat(a),children:t?o:s})},Kj=Hj,qj=(n(1267),function(e){var t=e.narrative,n=e.testId,a=e.getViewPath,r=e.parentContentId,c=e.linkNarrative,o=t,i=function(e,t){return!(!e||!e.length)&&e.some((function(e){return e.id.toString()===t.toString()&&!1!==e.linked}))};return Object(Ma.jsxs)("div",{"data-testid":"narrative-card",className:"narrative-card ".concat(i(t.links,r)?"narrative-card-connected":"narrative-card-disconnected"),children:[Object(Ma.jsx)(Ja.Link,{to:a(t.contentThreadId),className:"narrative-card-title","data-testid":"narrative-card-title-".concat(n),children:t.title}),t.body&&Object(Ma.jsx)("div",{className:"narrative-card-body truncate","data-testid":"narrative-card-body-".concat(n),dangerouslySetInnerHTML:{__html:Qa(t.body)}}),Object(Ma.jsxs)("div",{className:"link-content-buttons","data-testid":"narrative-card-link-buttons-".concat(n),children:[i(t.links,r)?Object(Ma.jsxs)(er.Button,{type:"button",className:"button-outline button-small mr-4",onClick:function(){o.links.find((function(e){return e.id===parseInt(r,10)})).linked=!1,c(o)},"data-testid":"btn-disconnect-content",children:[Object(Ma.jsx)(er.Icon,{name:"hyperlink-remove",width:16,className:"fill icon-orange"}),"\xa0 Disconnect"]}):Object(Ma.jsxs)(er.Button,{type:"button",className:"button-block button-small mr-4",onClick:function(){var e=parseInt(r,10),n=t.links.find((function(t){return t.id===e}))||{id:e},a=t.links.filter((function(t){return t.id!==e}));o.links=[].concat(Object(m.a)(a),[Object(b.a)(Object(b.a)({},n),{},{linked:!0})]),c(o)},"data-testid":"btn-connect-content",children:[Object(Ma.jsx)(er.Icon,{name:"hyperlink",width:16,className:"fill"}),"\xa0 Connect"]}),t.shareWithAll&&Object(Ma.jsx)("div",{className:"shared-pill","data-testid":"shared-with-client-icon",children:Object(Ma.jsx)(er.Icon,{name:"view",width:20,className:"fill icon-black"})})]})]})}),zj=function(e){var t=e.title,n=e.narratives,a=e.allNarratives,r=e.getViewPath,c=e.index,o=void 0===c?null:c,i=e.setNarratives,s=e.parentContentId,l=e.search,d=t.replace(/\s/g,"-").toLowerCase(),u=d+(null!==o?"-".concat(o):""),j=n.length,b=["narrative-section","narrative-section-".concat(d)];j||b.push("narrative-section-empty");var p=function(e){var t=n,a=t.findIndex((function(t){return t.contentThreadId===e.contentThreadId}));t[a]=e,i(t)};return Object(Ma.jsxs)("div",{className:b.join(" "),"data-testid":"narrative-section-".concat(u),children:[Object(Ma.jsx)("div",{className:"narrative-section-title","data-testid":"narrative-section-title-".concat(u),children:t}),n.length?n.map((function(e,t){return Object(Ma.jsx)(qj,{narrative:e,testId:"".concat(u,"-").concat(t),getViewPath:r,parentContentId:s,linkNarrative:p},"narrative-card-".concat(e.title))})):Object(Ma.jsx)("div",{className:"narrative-card narrative-card-empty","data-testid":"narrative-section-empty-".concat(u),children:a.length?void 0===l?"No connected ".concat(t):"0 ".concat(t," found for '").concat(l,"'"):"No ".concat(t.toLowerCase()," available to connect")})]})},Qj=function(e){var t=e.projectId,n=e.parentContentId,a=e.narratives,r=e.allNarratives,c=e.setNarratives,o=e.testId,i=void 0===o?"connected-content":o,s=e.title,l=void 0===s?void 0:s,d=e.search;return a&&Object.keys(a).length>0&&Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)("div",{className:"connected-content edit-connected-content","data-testid":i,children:[l&&l.length>0&&Object(Ma.jsx)("p",{children:l}),Object(Ma.jsxs)("div",{className:"linked-narratives","data-testid":"linked-narratives",children:[Object(Ma.jsx)(zj,{title:"Key Focus Areas",narratives:a.hypotheses,allNarratives:r.hypotheses,getViewPath:function(e){return oc(t,e)},setNarratives:function(e){c(Object(b.a)(Object(b.a)({},a),{},{hypotheses:e}))},parentContentId:n,projectId:t,edit:!0,search:d}),Object(Ma.jsx)(zj,{title:"Insights",narratives:a.insights,allNarratives:r.insights,getViewPath:function(e){return dc(t,e)},setNarratives:function(e){c(Object(b.a)(Object(b.a)({},a),{},{insights:e}))},parentContentId:n,projectId:t,edit:!0,search:d}),Object(Ma.jsx)(zj,{title:"Analyses",narratives:a.analyses,allNarratives:r.analyses,getViewPath:xl(a.analyses,t),setNarratives:function(e){c(Object(b.a)(Object(b.a)({},a),{},{analyses:e}))},parentContentId:n,projectId:t,edit:!0,search:d})]})]})})},Jj={hypotheses:[],insights:[],analyses:[]},Xj=function(e,t,n){var a=Object(r.useState)(Jj),c=Object(Cr.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(Jj),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(Jj),b=Object(Cr.a)(j,2),p=b[0],m=b[1];return Object(r.useEffect)((function(){var a=function(e,t){return(t||"").toLowerCase().includes(e.toLowerCase())};if(!t||!Object.keys(t).length)return i(Jj),void m(Jj);var r=function(t){return t.links.some((function(t){return t.id===parseInt(e,10)&&t.linkId}))},c=function(e){return!r(e)},o=function(e){return(a(n,e.title)||a(n,e.body)||a(n,e.conclusion))&&c(e)};m({hypotheses:t.hypotheses.filter(r),insights:t.insights.filter(r),analyses:t.analyses.filter(r)});var s={hypotheses:t.hypotheses.filter(c),insights:t.insights.filter(c),analyses:t.analyses.filter(c)};i(s),u(n?{hypotheses:t.hypotheses.filter(o),insights:t.insights.filter(o),analyses:t.analyses.filter(o)}:s)}),[t,n,e]),{availableToConnectNarratives:o,filteredAvailableToConnectNarratives:d,previouslyConnectedNarratives:p}},$j=(n(1268),function(e,t,n){return e[n].map((function(e){return Object(b.a)(Object(b.a)({},e),t[n].filter((function(t){return t.contentId===e.contentId}))[0]||{})}))}),eb=function(e){var t=e.projectId,n=e.parentContentId,a=e.narratives,c=e.setNarratives,o=Object(r.useState)(!1),i=Object(Cr.a)(o,2),s=i[0],l=i[1],d=Object(r.useState)(""),u=Object(Cr.a)(d,2),j=u[0],b=u[1],p=Xj(n,a,j),m=p.availableToConnectNarratives,O=p.filteredAvailableToConnectNarratives,f=p.previouslyConnectedNarratives,h=function(e){var t={hypotheses:$j(a,e,"hypotheses"),insights:$j(a,e,"insights"),analyses:$j(a,e,"analyses")};c(t)},_=a&&Object.keys(a).length>0,x=f&&Object.values(f).filter((function(e){return e.length})).length,g=a&&Object.keys(a).map((function(e){return a[e]})).reduce((function(e,t){return e.concat(t)}),[]),v={name:"connected-content-search",value:j,onChange:function(e){return b(e.target.value)}};return _&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("br",{}),Object(Ma.jsxs)("div",{className:"connected-content-controls",children:[Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)(er.Icon,{name:"hyperlink",width:16,className:"icon fill connect-content-icon"}),"Connect a Key Focus Area, Insight or Analysis (optional)"]}),Object(Ma.jsxs)("div",{className:"halfwidth",children:[Object(Ma.jsx)(er.TextInput,{field:v,placeholder:"Search and select",iconLeft:"search",basic:!0}),!s&&g.filter((function(e){return e.contentId!==n})).length>0&&Object(Ma.jsx)(er.Button,{className:"button-link",onClick:function(e){e.preventDefault(),l(!s)},"data-testid":"btn-view-all-content",children:"View All"})]})]}),(s||!!j)&&Object(Ma.jsx)(Qj,{projectId:t,narratives:O,allNarratives:m,parentContentId:n,setNarratives:h,testId:"unconnected-content",search:j}),x?Object(Ma.jsx)(Qj,{projectId:t,narratives:f,allNarratives:a,parentContentId:n,setNarratives:h,testId:"connected-content",title:"Connected content"}):null]})},tb=(n(1269),function(e,t){switch(e){case x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CELL_RANGE.value:case x.Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value:return"charts";case x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value:return"bar-chart";case x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value:return"powerbi-new";case x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value:return t?"powerbi-report":"powerbi-new";case x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value:return"textbox";case x.Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value:return"powerpoint";default:return"view"}}),nb=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24;return Object(Ma.jsx)(er.Icon,{name:tb(e,n),width:a,className:t})},ab=(n(1270),["libraryItem","isDragging","hoverClass","innerRef","children"]),rb=function(e){var t=e.libraryItemName;return Object(Ma.jsx)("div",{className:"library-item-card-title","data-testid":"library-item-card-title",children:t})},cb=function(e){var t=e.libraryItem,n=e.isDragging,a=e.hoverClass,r=e.innerRef,c=e.children,o=Object(Pi.a)(e,ab),i=[100,400,401,500],s=function(){var e="";if(n&&!a)e="fill icon-grey";else if(!n&&a){var r=i.includes(t.type)?"outline":"fill";e="".concat(r," ").concat("icon-grey-theme"," ").concat(a)}else e="outline icon-grey";return e}();return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({className:"library-item-card","data-testid":"library-item-card"},o),{},{ref:r,children:[Object(Ma.jsx)("div",{className:"library-item-card-icon","data-testid":"library-item-card-icon",children:nb(t.type,s,a)}),c||Object(Ma.jsx)(rb,{libraryItemName:t.name})]}))},ob=(n(1271),function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}),ib=function(e){var t=e.richText;return Object(Ma.jsx)("div",{className:"library-item-card-placeholder","data-testid":"rich-text-container",children:ob(t)})},sb=function(e){var t=e.handleDeleteClick,n=e.richText,a=e.isInSourceTray,r=e.handleEditClick,c=e.isReadOnly;return Object(Ma.jsxs)("div",{className:"rich-text-card-inner",children:[Object(Ma.jsx)(ib,{richText:n}),!c&&(a?Object(Ma.jsx)(er.Button,{className:"rich-text-card-inner__delete-button",onClick:t,"data-testid":"delete-text-box-button",children:Object(Ma.jsx)(er.Icon,{className:"rich-text-card-inner__delete-icon",name:"delete"})}):Object(Ma.jsx)(er.Button,{className:"rich-text-card-inner__edit-button",onClick:r,"data-testid":"edit-text-box-button",children:Object(Ma.jsx)(er.Icon,{className:"rich-text-card-inner__edit-icon",name:"pencil"})}))]})},lb=function(e){var t=e.selectedLibraryItems,n=void 0===t?[]:t,a=e.isValid,r=e.layoutSaved,c=Object(p.n)().url;return Object(Ma.jsxs)("div",{className:"add-library-items-box-container","data-testid":"add-library-items-box",children:["Data",Object(Ma.jsxs)("div",{className:"card",children:[0===n.length&&Object(Ma.jsx)("div",{"data-testid":"add-library-items-box-description",children:Object(Ma.jsx)("p",{className:"card-content",children:"To add data you can browse the library of items already added to the platform or add your own to the library."})}),Object(Ma.jsx)("div",{className:"library-item-card-container",children:n.map((function(e){return Object(Ma.jsx)(cb,{libraryItem:e,hoverClass:"hover-orange",children:e.type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value&&Object(Ma.jsx)(sb,{isReadOnly:!0,richText:x.TextUtilities.parseRichText(e.isShared,e.data)})},e.id?e.id:e.reportId)}))}),Object(Ma.jsxs)("div",{className:"editdatalink",children:[r?Object(Ma.jsxs)("span",{"data-testid":"layout-saved-container",children:[Object(Ma.jsx)(er.Icon,{name:"check","data-testid":"icon-layout-saved",className:"fill icon-green layout-saved-icon",width:"18"}),"Data and layout changes saved"]}):null,function(){var e=n.length>0,t=e?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.Icon,{"data-testid":"icon-edit-data",name:"pencil",className:"fill icon-orange edit-data-icon",width:"18"}),"Edit data"]}):Object(Ma.jsx)("span",{className:"as-button","data-testid":"add-data-button-text",children:"Add data"}),r=e?{float:"right"}:{float:"left"};return Object(Ma.jsx)(Ja.Link,{className:a?"":"button-disabled","data-testid":"browse-library-items",to:"".concat(c,"/library-items"),style:r,children:t})}()]})]})]})},db=(n(1272),function(e){var t=e.field,n=e.label,a=e.error,r=e.className,c=e.basic,o=e.placeholder,i=e.disabled,s=e.onBlur;return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsx)(er.TextArea,{error:a,label:n,field:t,basic:c,className:r,placeholder:o,disabled:i,onBlur:s,textareaLineHeight:44})})});db.defaultProps={error:"",label:""};var ub=db,jb=function(e){var t=e.label,n=e.name,a=e.value,c=e.validate,o=e.handleValidationChange,i=e.handleValueChange,s=e.error,l=Object(r.useState)(c(a)),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(!1),p=Object(Cr.a)(b,2),m=p[0],O=p[1];Object(r.useEffect)((function(){o(u)}),[u,o]),Object(r.useEffect)((function(){j(c(a))}),[a,c]);var f={name:n,value:a,onChange:function(e){O(!0),j(c(e.target.value)),i(e.target.value)}},h=s||(m?u:"");return Object(Ma.jsx)(ub,{label:t,placeholder:t,className:"title-fieldset analysis-title",field:f,error:h,onBlur:function(){return O(!0)}})};jb.defaultProps={validate:function(){return""},error:""};var bb=jb,pb="ITEM_MOVED_UP_TO_NEW_SECTION",mb="ITEM_MOVED_DOWN_TO_NEW_SECTION",Ob="ITEM_MOVED_WITHIN_SECTION",fb="ITEM_MOVED_TO_ADJACENT_AREA",hb="ITEM_ID_UPDATED",_b="CURRENT_DROPPABLE_SECTION_CHANGED",xb="ITEM_DROPPED",gb=function(e,t){var n=t.type,a=t.payload;switch(n){case Ob:return Object(b.a)(Object(b.a)({},e),{},{currentPosition:a.currentPosition,draggableWithinSectionsItemId:a.draggableWithinSectionsItemId});case hb:return Object(b.a)(Object(b.a)({},e),{},{draggableBetweenSectionsItemId:a.draggableBetweenSectionsItemId});case _b:return Object(b.a)(Object(b.a)({},e),{},{currentDroppableSectionId:a});case pb:return Object(b.a)(Object(b.a)({},e),{},{currentDroppableSectionId:a.currentSectionOrder-1});case mb:return Object(b.a)(Object(b.a)({},e),{},{currentDroppableSectionId:a.currentSectionOrder+1});case xb:return Object(b.a)(Object(b.a)({},e),{},{draggableWithinSectionsItemId:null,currentDroppableSectionId:null,currentPosition:null});default:return e}},vb="UPDATE_SECTIONS",Lb="UPDATE_RICH_TEXT",Cb="UPDATE_NON_LAID_OUT_LIBRARY_ITEMS",Tb="ITEM_DELETED",yb="SECTION_TO_SCROLL",Ib=function(e,t,n){var a=e.currentSections.find((function(e){return e.items.map((function(e){return e.id})).includes(t)}));if(a&&(!n&&1===a.order))return[a.items.find((function(e){return e.id===t}))].concat(e.nonLaidOutLibraryItems);return e.nonLaidOutLibraryItems},Eb=function(e,t,n){var a=e.currentSections.find((function(e){return e.items.map((function(e){return e.id})).includes(t)}));if(!a)return e.currentSections;var r=a.items.find((function(e){return e.id===t}));if(r.analysisColumn=1,!n&&1===a.order)return e.currentSections.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return e.id!==r.id}))})}));if(n?a.order<Object(h.max)(e.currentSections.map((function(e){return e.order}))):a.order>1){var c=n?a.order+1:a.order-1;return e.currentSections.map((function(e){var o=e.items;if(e.order===c)if(n)o=o.concat([r]).map((function(e){var t=e.id===r.id?1:e.order+1;return Object(b.a)(Object(b.a)({},e),{},{order:t})}));else{var i=1+Object(h.max)(e.items.map((function(e){return e.order}))),s=Object(b.a)(Object(b.a)({},r),{},{order:i});o=e.items.concat([s])}else e.order===a.order&&(o=e.items.filter((function(e){return e.id!==t})));return Object(b.a)(Object(b.a)({},e),{},{items:o})}))}return e.currentSections},wb=function(e,t){var n=t.map((function(e){return e.id}));return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return!n.includes(e.id)}))})}))},Nb=function(e,t){var n,a,r,c=t.type,o=t.payload;switch(c){case vb:return Object(b.a)(Object(b.a)({},e),{},{currentSections:o});case Lb:return Object(b.a)(Object(b.a)({},e),{},{currentSections:(n=o.libraryItemId,a=o.richText,r=e.currentSections,r.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.map((function(e){return e.id===n?Object(b.a)(Object(b.a)({},e),{},{isShared:!1,data:JSON.stringify({RichTextData:a})}):e}))})})))});case fb:var i=o.newAnalysisColumn,s=o.libraryItemId,l=e.currentSections.map((function(e){var t=e.items.map((function(e){if(e.id===s){var t=parseInt(i,10);e.analysisColumn=Number.isInteger(t)?t:1}return e}));return Object(b.a)(Object(b.a)({},e),{},{items:t})}));return Object(b.a)(Object(b.a)({},e),{},{currentSections:l});case pb:var d=Ib(e,o.libraryItemId,!1),u=Eb(e,o.libraryItemId,!1);return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:d,currentSections:u});case mb:var j=Ib(e,o.libraryItemId,!0),p=Eb(e,o.libraryItemId,!0);return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:j,currentSections:p});case Cb:return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:o.items,currentSections:wb(e.currentSections,o.items)});case Tb:return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:e.nonLaidOutLibraryItems.filter((function(e){return e.id!==o}))});case yb:return Object(b.a)(Object(b.a)({},e),{},{sectionIdToScroll:o});default:return e}},Ab=function(e){return{currentSections:e&&e.initialSections||[],nonLaidOutLibraryItems:e&&e.nonLaidOutLibraryItems||[]}},Sb=function(){return{draggableBetweenSectionsItemId:null,currentDroppableSectionId:null,currentPosition:null,draggableWithinSectionsItemId:null}},kb=Object(r.createContext)(null),Db=Object(r.createContext)(null);function Rb(){var e=Object(r.useContext)(kb);if(void 0===e)throw new Error("useSectionsState must be used within a SectionsProvider");return e}function Pb(){var e=Object(r.useContext)(Db);if(void 0===e)throw new Error("useSectionsDispatch must be used within a SectionsProvider");return e}function Mb(){return[Rb(),Pb()]}var Fb=function(e){var t=e.value,n=e.children,a=Object(r.useReducer)(Nb,t,Ab),o=Object(Cr.a)(a,2),i=o[0],s=o[1],l=Object(r.useReducer)(gb,t,Sb),d=Object(Cr.a)(l,2),u=d[0],j=d[1],p=c.a.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return t(e)}))}}(s,j),[s,j]),m=c.a.useMemo((function(){return Object(b.a)(Object(b.a)({},u),i)}),[u,i]);return Object(Ma.jsx)(kb.Provider,{value:m,children:Object(Ma.jsx)(Db.Provider,{value:p,children:n})})},Ub=function(e,t){t({type:Cb,payload:{items:e}})},Bb=function(e,t){t({type:vb,payload:e})},Yb=function(e,t){t({type:yb,payload:e})},Wb=(n(1273),n(571),n(66)),Vb=Object(O.createSlice)({name:"reportFormat",initialState:{layout:{showRightPanel:!0,showRightPanel2:!1,activeSectionIndex:0,floatingTabsHeight:0,floatingTabsWidth:0,floatingTabsTop:0},libraryItem:{draggableId:null},libraryItemPosition:{start:null,finish:null},reportPreview:{loading:null,error:null,errorMessage:null,data:null}},reducers:{toggleRightPanel:function(e){return Object(b.a)(Object(b.a)({},e),{},{layout:Object(b.a)(Object(b.a)({},e.layout),{},{showRightPanel:!e.layout.showRightPanel})})},toggleRightPanel2:function(e){return Object(b.a)(Object(b.a)({},e),{},{layout:Object(b.a)(Object(b.a)({},e.layout),{},{showRightPanel2:!e.layout.showRightPanel2})})},setActiveSectionId:function(e,t){var n=t.payload.index;return Object(b.a)(Object(b.a)({},e),{},{layout:Object(b.a)(Object(b.a)({},e.layout),{},{activeSectionIndex:n})})},setFloatingTabsHeight:function(e,t){var n=t.payload.height;return Object(b.a)(Object(b.a)({},e),{},{layout:Object(b.a)(Object(b.a)({},e.layout),{},{floatingTabsHeight:n})})},setFloatingTabsWidth:function(e,t){var n=t.payload.width;return Object(b.a)(Object(b.a)({},e),{},{layout:Object(b.a)(Object(b.a)({},e.layout),{},{floatingTabsWidth:n})})},setFloatingTabsTop:function(e,t){var n=t.payload.top;return Object(b.a)(Object(b.a)({},e),{},{layout:Object(b.a)(Object(b.a)({},e.layout),{},{floatingTabsTop:n})})},setLibraryItemStartPosition:function(e,t){var n=t.payload,a=n.start,r=n.draggableId;e.libraryItemPosition.start=a,e.libraryItem.draggableId=r},setLibraryItemFinishPosition:function(e,t){var n=t.payload.finish;e.libraryItemPosition.finish=n},setReportPreviewData:function(e,t){var n=t.payload.data;e.reportPreview.data=Object(h.cloneDeep)(n)},setReportPreviewLoading:function(e,t){var n=t.payload.loading;e.reportPreview.loading=n},setReportPreviewError:function(e,t){var n=t.payload,a=n.error,r=n.errorMessage,c=e.reportPreview.errorMessage;e.reportPreview.error=a,e.reportPreview.errorMessage=r||c}},extraReducers:function(e){e.addCase(Wb.b,(function(e,t){var n=t.payload.location.pathname;(n.includes("/".concat(Lr.PARTIAL_ROUTE.EDIT_LAYOUT_PREVIEW))||n.includes("/".concat(Lr.PARTIAL_ROUTE.CREATE_LAYOUT_PREVIEW)))&&n.includes("analyses")&&e.reportPreview.data&&(e.reportPreview.data=null)}))}}),Zb=Vb.actions,Gb=Zb.toggleRightPanel,Hb=Zb.toggleRightPanel2,Kb=Zb.setActiveSectionId,qb=Zb.setFloatingTabsHeight,zb=Zb.setFloatingTabsWidth,Qb=Zb.setFloatingTabsTop,Jb=Zb.setLibraryItemStartPosition,Xb=Zb.setLibraryItemFinishPosition,$b=Zb.setReportPreviewData,ep=Zb.setReportPreviewLoading,tp=Zb.setReportPreviewError,np=function(e){return e.reportFormat},ap=Object(f.a)(np,(function(e){return e.layout})),rp=Object(f.a)(np,(function(e){return e.libraryItemPosition})),cp=Object(f.a)(np,(function(e){return e.libraryItem})),op=Object(f.a)(np,(function(e){return e.reportPreview})),ip=Vb.reducer,sp=["heading","|","bold","|","italic","|","bulletedList","|","numberedList","|","indent","|","outdent","|","link"],lp={model:"intro",view:{name:"p",classes:"rich-text-editor-intro"}},dp={model:"paragraph",view:{name:"p",classes:"rich-text-editor-paragraph"}},up={model:"footnotes",view:{name:"p",classes:"rich-text-editor-footnotes"}},jp=function(e){var t=function(e,t,n){n.writer.addClass("rich-text-editor-intro",n.mapper.toViewElement(t.item))};e.conversion.for("downcast").add((function(e){e.on("insert:listItem",t,{priority:"low"}),e.on("insert:paragraph",t,{priority:"low"})}))},bp={language:"en",licenseKey:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",toolbar:sp,placeholder:"Start writing here...",extraPlugins:[function(e){e.conversion.elementToElement(lp),e.conversion.elementToElement(dp),e.conversion.elementToElement(up)}],heading:{options:[{model:"heading1",view:"h3",title:"Heading 1",class:"ck-heading-option-heading3"},{model:"heading2",view:"h4",title:"Heading 2",class:"ck-heading-option-heading4"},Object(b.a)(Object(b.a)({},lp),{},{title:"Intro",class:"ck-heading-option-intro"}),Object(b.a)(Object(b.a)({},dp),{},{title:"Paragraph",class:"ck-heading-option-paragraph"}),Object(b.a)(Object(b.a)({},up),{},{title:"Footnotes",class:"ck-heading-option-footnotes"})]}},pp=Object(b.a)(Object(b.a)({},bp),{},{toolbar:sp.slice(2)}),mp=Object(b.a)(Object(b.a)({},pp),{},{extraPlugins:[jp]}),Op=(Object(b.a)(Object(b.a)({},bp),{},{toolbar:["bold","|","italic","|","link"]}),Object(b.a)(Object(b.a)({},bp),{},{extraPlugins:[jp],toolbar:["bold","|","italic","|","link"]})),fp=bp,hp=(n(1274),function(e){var t=e.richTextData,n=e.onChange,a=e.onBlur,c=e.onFocus,o=e.isFocused,i=e.label,s=e.labelRef,l=e.config,d=void 0===l?fp:l,u=e.showCharactersCounter,j=void 0!==u&&u,b=o?" focused":"",p=Object(r.useState)(0),m=Object(Cr.a)(p,2),O=m[0],f=m[1];return Object(Ma.jsx)("div",{className:"text-input-fieldset fieldset d3-rich-text".concat(b),children:Object(Ma.jsxs)("div",{"data-testid":"ckEditor",className:"text-input-container basic allow-overflow",children:[i&&Object(Ma.jsx)("label",{className:"text-input-control-label",htmlFor:"ck-editor-component",ref:s,children:i}),Object(Ma.jsx)(No.a,{id:"ck-editor-component",editor:Eo.ClassicEditor,config:d,data:t,maxCharacters:650,onInit:function(e){f(e.plugins.get("WordCount").characters)},onChange:function(e,t){n(t.getData()),f(t.plugins.get("WordCount").characters)},onBlur:a,onFocus:c}),j&&Object(Ma.jsx)(er.CharacterCount,{value:Array(O).join("*"),maxLength:650})]})})}),_p=(n(1275),function(e){var t=e.richText,n=e.setCurrentRichText,a=e.handleCancel,c=e.handleSave,o=e.lightModeVariant,i=Object(r.useState)(!1),s=Object(Cr.a)(i,2),l=s[0],d=s[1];return Object(Ma.jsxs)("div",{className:"rich-text-form".concat(o?" light-mode-variant":""),children:[Object(Ma.jsx)(hp,{richTextData:t,onChange:n,config:pp,onBlur:function(e,t){d(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){d(!0),t.ui.view.toolbar.element.style.display="block"},isFocused:l,showCharactersCounter:!0}),Object(Ma.jsxs)("div",{className:"edit-button-container",children:[Object(Ma.jsx)(er.Button,{"data-testid":"cancel-button",className:"button-link mx-2 mr-4",onClick:a,children:"Cancel"}),Object(Ma.jsx)(er.Button,{"data-testid":"save-button",className:"button-block button-small",onClick:c,disabled:!t,children:"Update"})]})]})}),xp=(n(1276),["libraryItem","isInSourceTray","setIsDragDisabled","isDragging","innerRef"]),gp=function(e){var t=e.libraryItem,n=e.isInSourceTray,a=e.setIsDragDisabled,c=e.isDragging,o=e.innerRef,i=Object(Pi.a)(e,xp),s=Mb(),l=Object(Cr.a)(s,2)[1],d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],p=u[1],m=Object(r.useState)(x.TextUtilities.parseRichText(t.isShared,t.data)),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(r.useState)(""),g=Object(Cr.a)(_,2),v=g[0],L=g[1];return j?Object(Ma.jsx)("div",Object(b.a)(Object(b.a)({ref:o},i),{},{className:"rich-text-library-item-edit",children:Object(Ma.jsx)(_p,{richText:v,setCurrentRichText:L,handleCancel:function(){p(!1),a(!1),L("")},handleSave:function(){h(v),p(!1),a(!1),l({type:Lb,payload:{libraryItemId:t.id,richText:v}})}})})):Object(Ma.jsx)(cb,Object(b.a)(Object(b.a)({},i),{},{isDragging:c,innerRef:o,libraryItem:t,children:Object(Ma.jsx)(sb,{richText:f,isInSourceTray:n,handleDeleteClick:function(){l({type:Tb,payload:t.id})},handleEditClick:function(){var e;p(!0),a(!0),L((e=f)===x.Constants.EMPTY_RICH_TEXT_PLACEHOLDER?"":e)}})}))},vp=function(e,t){var n=t.toLowerCase();return Array(e).fill(n).map((function(e,t){return"".concat(e,"-layout-area-").concat(t+1)}))},Lp={SOURCE_TRAY_ID:"source-tray",SINGLE_COLUMN_AREA_ID:"single-column-layout-area",DOUBLE_COLUMN_FIRST_AREA_ID:"double-column-layout-area-1",DOUBLE_COLUMN_SECOND_AREA_ID:"double-column-layout-area-2",DOUBLE_ROW_FIRST_AREA_ID:"double-row-layout-area-1",DOUBLE_ROW_SECOND_AREA_ID:"double-row-layout-area-2",SINGLE_COLUMN_AREA_80:"single-column-layout-area-80",SINGLE_COLUMN_AREA_60:"single-column-layout-area-60",SINGLE_COLUMN_AREA_40:"single-column-layout-area-40",SINGLE_COLUMN_TEXT_OVERFLOW_AREA:"single-column-layout-text-overflow-area",TWO_ROW_THREE_AREA_100_50_50:["two-row-three-area-layout-top-area-1","two-row-three-area-layout-bottom-area-1","two-row-three-area-layout-bottom-area-2"],TWO_ROW_TWO_COLUMN_AREA_67_33:["two-row-two-column-layout-area-67-1","two-row-two-column-layout-area-33-1","two-row-two-column-layout-area-67-2","two-row-two-column-layout-area-33-2"],TWO_COLUMN_L_40_1A_R_60_1A:vp(2,"TWO_COLUMN_L_40_1A_R_60_1A"),TWO_COLUMN_L_67_1A_R_33_1A:vp(2,"TWO_COLUMN_L_67_1A_R_33_1A"),TWO_COLUMN_L_80_1A_R_20_1A:vp(2,"TWO_COLUMN_L_80_1A_R_20_1A"),TWO_ROW_T_80_1A_B_20_1A:vp(2,"TWO_ROW_T_80_1A_B_20_1A"),TWO_ROW_T_60_1A_B_40_1A:vp(2,"TWO_ROW_T_60_1A_B_40_1A"),TWO_ROW_T_20_1A_B_80_1A:vp(2,"TWO_ROW_T_20_1A_B_80_1A"),THREE_COLUMN:vp(3,"THREE_COLUMN"),TWO_COLUMN_L_50_2A_R_50_1A:vp(3,"TWO_COLUMN_L_50_2A_R_50_1A"),TWO_ROW_T_50_2A_B_50_1A:vp(3,"TWO_ROW_T_50_2A_B_50_1A"),TWO_COLUMN_L_67_2A_R_33_1A:vp(3,"TWO_COLUMN_L_67_2A_R_33_1A"),TWO_ROW_T_50_1A_B_50_2A:vp(3,"TWO_ROW_T_50_1A_B_50_2A"),TWO_COLUMN_L_50_3A_R_50_1A:vp(4,"TWO_COLUMN_L_50_3A_R_50_1A"),TWO_COLUMN_TWO_ROW_50_2A_50_2A:vp(4,"TWO_COLUMN_TWO_ROW_50_2A_50_2A"),TWO_COLUMN_TWO_ROW_67_2A_33_2A:vp(4,"TWO_COLUMN_TWO_ROW_67_2A_33_2A"),THREE_COLUMN_TWO_ROW:vp(6,"THREE_COLUMN_TWO_ROW")};n(1277);window["__react-beautiful-dnd-disable-dev-warnings"]=!0;var Cp=function(e){var t=e.libraryItem,n=e.index,a=e.droppableLocationId,c=e.droppableLocations,o=Mb(),i=Object(Cr.a)(o,2),l=i[0],d=l.draggableBetweenSectionsItemId,u=l.currentDroppableSectionId,j=l.currentPosition,p=l.currentSections,m=i[1],O=Object(s.useDispatch)(),f=Object(r.useState)(!1),h=Object(Cr.a)(f,2),_=h[0],g=h[1],v=Object(r.useState)(!1),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=Object(r.useState)(null),I=Object(Cr.a)(y,2),E=I[0],w=I[1],N=Object(r.useState)(null),A=Object(Cr.a)(N,2),S=A[0],k=A[1],D=function(e){return!(!e||!function(){var e=c[j.droppableId].libraryItemIds,n=e.includes(t.id)?e.length-1:e.length;return j.index===n}())&&!(Number(e.droppableId.slice(-1))===p.length)},R=Object(r.useCallback)((function(e){m({type:hb,payload:{draggableBetweenSectionsItemId:e}})}),[m]),P=function(e){R(t.id),E.dispatchEvent(new KeyboardEvent("keydown",{keyCode:x.Constants.space,bubbles:!1}));var n=p.find((function(e){return e.items.map((function(e){return e.id})).includes(t.id)}));m({type:e,payload:{libraryItemId:t.id,currentSectionOrder:n?n.order:1}})},M=function(e){if(j&&(e===x.Constants.arrowUp||e===x.Constants.arrowDown)){O(Jb({start:j,draggableId:t.id}));var a=function(e,t){var n=c[e.droppableId];return t===x.Constants.arrowUp&&n.areaAbove?n.areaAbove:!(t!==x.Constants.arrowDown||!n.areaBelow)&&n.areaBelow}(j,e);if(a){var r={droppableId:a,index:0};O(Xb({finish:r})),s=r,l=t.id,m({type:Ob,payload:{currentPosition:s,draggableWithinSectionsItemId:l}}),E.dispatchEvent(new KeyboardEvent("keydown",{keyCode:x.Constants.space,bubbles:!1}))}else e!==x.Constants.arrowUp||(o=n,(i=j)?C||0!==i.index:0!==o)?e===x.Constants.arrowDown&&!C&&D(j)&&P(mb):P(pb)}var o,i,s,l};Object(r.useEffect)((function(){E&&d===t.id&&u===(a===Lp.SOURCE_TRAY_ID?0:Number(a.slice(-1)))&&(E.focus(),E.dispatchEvent(new KeyboardEvent("keydown",{keyCode:x.Constants.space,bubbles:!1})),R(null))}),[u,d,a,t.id,R,E]),Object(r.useEffect)((function(){var e=j?j.droppableId:a;T(e===Lp.SOURCE_TRAY_ID)}),[j,a]);var F=function(){k(!0)},U=function(){k(!1)};return Object(Ma.jsx)(jd.b,{draggableId:t.id.toString(),index:n,isDragDisabled:_,children:function(e,n){return Object(Ma.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({className:"draggable-library-item-card","data-testid":"draggable-library-item-card"},e.draggableProps),e.dragHandleProps),{},{ref:function(t){e.innerRef(t),w(t)},onKeyDown:function(t){return M(t.keyCode,e.innerRef)},onMouseEnter:F,onMouseLeave:U,"data-draggable-mode":!!j,children:t.type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value?Object(Ma.jsx)(gp,{libraryItem:t,isInSourceTray:C,setIsDragDisabled:g,isDragging:n.isDragging||S}):Object(Ma.jsx)(cb,{libraryItem:t,isDragging:n.isDragging||S})}))}})};n(1278);function Tp(e){var t=e.areaClass,n=e.droppableLocation,a=e.libraryItems,r=e.libraryItemMap,c=e.droppableLocations,o=function(e){var t=Number.isInteger(parseInt(e,10))?parseInt(e,10):null;return!t||r[t].type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value||!n.id.includes("text-overflow")},i={border:"1px dashed var(--color-grey)",borderRadius:"2px",backgroundColor:"var(--dragdrop-container-background-hover)"},s="1px dashed #979797",l="2px solid var(--color-red-error-dark-mode)",d="var(--background-primary)",u=function(){return a.length>0};return Object(Ma.jsx)(jd.c,{droppableId:n.id,direction:n.direction,ignoreContainerClipping:!0,children:function(e,r){var j,p=function(e){var t=e.isDraggingOver,n=e.draggingOverWith,a=e.draggingFromThisWith,r=Object(b.a)({},i);return u()&&n&&n===a?Object.assign(r,{border:s,backgroundColor:d}):u()&&n&&!o(n)?Object.assign(r,{border:l}):u()?Object.assign(r,{border:"1px solid var(--color-grey-medium)"}):!u()&&t&&n&&o(n)?Object.assign(r,{border:s,backgroundColor:d}):!u()&&t&&n&&!o(n)&&Object.assign(r,{border:l}),r}(r),m=(j=r,n.id.includes("text-overflow")?o(j.draggingOverWith)?"Drop one text box item from the data list":"Only text items allowed":"Drop one item from the data list");return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({className:"".concat(t," section-area__droppable-container"),"data-testid":t,ref:e.innerRef},e.droppableProps),{},{style:p,children:[Object(Ma.jsxs)("div",{className:nr()("section-area__item-container",{"background-left":n.id.includes("text-overflow")}),children:[a.map((function(e,t){return Object(Ma.jsx)(Cp,{libraryItem:e,index:t,droppableLocationId:n.id,droppableLocations:c},e.id)})),e.placeholder]}),a.length<1&&Object(Ma.jsx)("div",{className:nr()("section-area__background",{"background-left":n.id.includes("text-overflow")}),children:Object(Ma.jsxs)("div",{className:"section-area__background__content",children:[Object(Ma.jsx)(er.Icon,{name:n.id.includes("text-overflow")?o(r.draggingOverWith)?"textbox":"end-process":"placeholder-dnd",height:"36px",width:"36px",className:nr()({"outline icon-red-error":!o(r.draggingOverWith),"fill icon-grey-medium":o(r.draggingOverWith)}),title:m}),Object(Ma.jsx)("span",{className:nr()("section-area__background__hint",{"hint-error":!o(r.draggingOverWith)}),children:m})]})}),n.id.includes("text-overflow")&&Object(Ma.jsx)("div",{className:"section-area__background background-right"})]}))}},n.id)}Tp.defaultProps={areaClass:""};var yp=Tp,Ip=["name","viewBox","width","height","className"],Ep=function(e){switch(e){case"one-column-full-width":return Object(Ma.jsx)("g",{fillRule:"evenodd",children:Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z",fill:"#FFFFFF"})});case"one-column-large":return Object(Ma.jsx)("g",{fillRule:"evenodd",children:Object(Ma.jsxs)("g",{id:"Group-2",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.0002 4.97379915e-14 34.0002 1.001 36.0002 1.001 36.0002 2.284 37.0002 2.284 37.0002 4.97379915e-14"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.0002 1.001 32.0012 1.001 32.0012 9.9475983e-14 29.0002 9.9475983e-14"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 7.285 37.0002 7.285 37.0002 4.285 36.0002 4.285"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 12.285 37.0002 12.285 37.0002 9.284 36.0002 9.284"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 17.285 37.0002 17.285 37.0002 14.285 36.0002 14.285"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 22.285 37.0002 22.285 37.0002 19.284 36.0002 19.284"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.7152 25 36.9992 25 36.9992 24 34.7152 24"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.7162 25 32.7162 25 32.7162 24 29.7162 24"}),Object(Ma.jsx)("path",{d:"M28,0.0004 L2,0.0004 C0.896,0.0004 0,0.8964 0,2.0004 L0,23.0004 C0,24.1044 0.896,25.0004 2,25.0004 L28,25.0004 L28,0.0004 Z M2,23.0004 L26,23.0004 L26,2.0004 L2,2.0004 L2,23.0004 Z",fill:"#FFFFFF"})]})});case"one-column-medium":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.0002 0.0003 34.0002 1.0003 36.0002 1.0003 36.0002 2.2843 37.0002 2.2843 37.0002 0.0003"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.0002 1.0003 32.0012 1.0003 32.0012 0.0003 29.0002 0.0003"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.0002 1.0003 27.0002 1.0003 27.0002 0.0003 24.0002 0.0003"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 7.2843 37.0002 7.2843 37.0002 4.2843 36.0002 4.2843"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 12.2843 37.0002 12.2843 37.0002 9.2833 36.0002 9.2833"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 17.2843 37.0002 17.2843 37.0002 14.2843 36.0002 14.2843"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 22.2843 37.0002 22.2843 37.0002 19.2843 36.0002 19.2843"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.7152 24.9993 36.9992 24.9993 36.9992 23.9993 34.7152 23.9993"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.7162 24.9993 32.7162 24.9993 32.7162 23.9993 29.7162 23.9993"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.7162 24.9993 27.7162 24.9993 27.7162 23.9993 24.7162 23.9993"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"one-column-small":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.0002 0.0001 34.0002 1.0001 36.0002 1.0001 36.0002 2.2841 37.0002 2.2841 37.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.0002 1.0001 32.0012 1.0001 32.0012 0.0001 29.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.0002 1.0001 27.0002 1.0001 27.0002 0.0001 24.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"19.0002 1.0001 22.0002 1.0001 22.0002 0.0001 19.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 7.2841 37.0002 7.2841 37.0002 4.2841 36.0002 4.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 12.2841 37.0002 12.2841 37.0002 9.2841 36.0002 9.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 17.2851 37.0002 17.2851 37.0002 14.2841 36.0002 14.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 22.2841 37.0002 22.2841 37.0002 19.2841 36.0002 19.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.7152 25.0001 36.9992 25.0001 36.9992 24.0001 34.7152 24.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.7162 25.0001 32.7162 25.0001 32.7162 24.0001 29.7162 24.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.7162 25.0001 27.7162 25.0001 27.7162 24.0001 24.7162 24.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"19.7152 25.0001 22.7162 25.0001 22.7162 24.0001 19.7152 24.0001"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-text-only":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 6 19 6 19 3 18 3"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 11 19 11 19 8 18 8"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 16 19 16 19 13 18 13"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 21 19 21 19 17.999 18 17.999"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 23 18 24 18 25 19 25 19 23"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-left-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L13,24 L13,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-left-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M14,23 L35,23 L35,2 L14,2 L14,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-right-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-right-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"two-column-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",fill:"#FFFFFF"})]});case"stacked-medium-top-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z",fill:"#FFFFFF"})]});case"stacked-medium-top-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-large-top-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z",fill:"#FFFFFF"})]});case"stacked-large-top-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-large-bottom-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M36,6 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,6 L36,6 L36,6 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,4 L35,4 L35,2 L2,2 L2,4 Z",fill:"#FFFFFF"})]});case"stacked-large-bottom-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,5 L1,5 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M2,23 L35,23 L35,7 L2,7 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-extra-narrow-left":case"two-column-extra-narrow-right-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L28,24 L28,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M2,23 L26,23 L26,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-extra-narrow-right-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M27,1 L27,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L27,1 L27,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M29,23 L35,23 L35,2 L29,2 L29,23 Z",fill:"#FFFFFF"})]});case"three-column-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"three-column-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z",fill:"#FFFFFF"})]});case"three-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"stacked-with-right-column-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-with-right-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",fill:"#FFFFFF"})]});case"stacked-with-right-column-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-with-narrow-right-column-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-with-narrow-right-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"stacked-with-narrow-right-column-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-two-block-top-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-two-block-top-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z",fill:"#FFFFFF"})]});case"stacked-two-block-top-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M2,23 L35,23 L35,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-two-block-bottom-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-two-block-bottom-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-two-block-bottom-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z",fill:"#FFFFFF"})]});case"four-block-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"four-block-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z",fill:"#FFFFFF"})]});case"four-block-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"four-block-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-left-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M2,7 L17,7 L17,2 L2,2 L2,7 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-left-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M2,15 L17,15 L17,10 L2,10 L2,15 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-left-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M2,23 L17,23 L17,18 L2,18 L2,23 Z",fill:"#FFFFFF"})]});case"six-block-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M2,11 L11,11 L11,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"six-block-top-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M14,11 L23,11 L23,2 L14,2 L14,11 Z",fill:"#FFFFFF"})]});case"six-block-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z",fill:"#FFFFFF"})]});case"six-block-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M2,23 L11,23 L11,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"six-block-bottom-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M14,23 L23,23 L23,14 L14,14 L14,23 Z",fill:"#FFFFFF"})]});case"six-block-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z",fill:"#FFFFFF"})]});default:return Object(Ma.jsx)("path",{})}},wp=function(e){var t=e.name,n=void 0===t?"":t,a=e.viewBox,r=void 0===a?"0 0 37 25":a,c=e.width,o=void 0===c?"37":c,i=e.height,s=void 0===i?"25":i,l=e.className,d=void 0===l?"section-area__layout-icon":l,u=Object(Pi.a)(e,Ip);return Object(Ma.jsx)("svg",Object(b.a)(Object(b.a)({"aria-label":"".concat(n),height:s,viewBox:r,width:o,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"".concat(d," ").concat(n)},u),{},{children:Ep(n)}))},Np=function(e){var t=e.iconType,n=e.handleClick,a=e.handleMouseEnter,r=e.handleMouseLeave,c=e.tooltipPlacement,o=e.tooltip;return Object(Ma.jsx)(er.Tooltip,{direction:c,tip:o,children:Object(Ma.jsx)(er.Button,{className:"button-no-underline",onClick:n,onMouseEnter:a,onMouseLeave:r,"data-testid":"remove-section",children:Object(Ma.jsx)(er.Icon,{name:"bin",className:"".concat(t," icon-orange-theme"),width:24,height:24})})})};n(1279);yp.propTypes={sectionData:lo.a.shape({order:lo.a.number,layoutType:lo.a.number,items:lo.a.arrayOf(lo.a.any)}),onAddSection:lo.a.func,onRemoveSection:lo.a.func,targetDroppableLocationIds:lo.a.arrayOf(lo.a.string),lastSection:lo.a.bool,activeSection:lo.a.bool};var Ap,Sp=function(e){var t=e.sectionData,n=e.libraryItemMap,a=e.droppableLocations,o=e.onAddSection,i=e.onRemoveSection,l=e.lastSection,d=e.showDeleteButton,u=e.targetDroppableLocationIds,j=e.scrollIntoView,b=void 0===j||j,p=Object(r.useRef)(),m=Object(r.useState)("outline"),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(r.useState)(!1),x=Object(Cr.a)(_,2),g=x[0],v=x[1],L=Mb(),C=Object(Cr.a)(L,2),T=C[0].sectionIdToScroll,y=C[1],I=Er(),E=Object(s.useDispatch)(),w=t.order-1,N=Object(s.useSelector)(ap),A=N.activeSectionIndex,S=N.floatingTabsHeight,k=p.current?p.current.offsetHeight:0,D=p.current?p.current.offsetTop:0;Object(r.useEffect)((function(){T===w&&k&&(b&&p.current.scrollIntoView({behavior:"smooth"}),Yb(null,y))}),[k,y,b,w,T]),Object(r.useEffect)((function(){A===w?(g||(E(Qb({top:D})),E(qb({height:k}))),v(!0)):g&&v(!1)}),[g,A,w,E,D,k]);var R=function(){var e=Math.max(0,t.order-1-1);E(Kb({index:e})),i(t.order),h("outline")},P=function(){h("fill")},M=function(){h("outline")},F=Lr.LAYOUT_TYPE_TO_LAYOUT_TITLE_DESCRIPTION_MAP[t.layoutType],U=F.title,B=F.description;return Object(Ma.jsxs)("div",{ref:p,"data-section-id":w,className:"section","data-testid":"section",onClick:function(){I||A===w||(E(Kb({index:w})),E(Qb({top:D})),k!==S&&E(qb({height:k})))},children:[Object(Ma.jsxs)("div",{className:"section__top-row","data-testid":"section-top-row",children:[Object(Ma.jsxs)("div",{className:"section__top-row__row-1",children:[Object(Ma.jsx)("div",{className:"section__title",children:"Section ".concat(t.order)}),I&&d&&Object(Ma.jsx)(Np,{handleClick:R,handleMouseEnter:P,handleMouseLeave:M,tooltipPlacement:"top",tooltip:"Remove section",iconType:f})]}),Object(Ma.jsxs)("div",{className:"section__top-row__row-2",children:[Object(Ma.jsxs)("div",{className:"section__layout",children:[Object(Ma.jsx)("span",{className:"section__layout__title",children:U}),Object(Ma.jsx)("span",{className:"section__layout__hyphen",children:"-"}),Object(Ma.jsx)("span",{className:"section__layout__description",children:B})]}),Object(Ma.jsx)("div",{className:"section__delete-button",children:!I&&d&&Object(Ma.jsx)(Np,{handleClick:R,handleMouseEnter:P,handleMouseLeave:M,tooltipPlacement:"top",tooltip:"Remove section",iconType:f})})]})]}),Object(Ma.jsx)("div",{className:nr()("section__middle-row",Object($t.a)({},Lr.LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP[t.layoutType],t.layoutType)),"data-testid":"section-middle-row",children:u&&u.map((function(e){var r=a[e],o=r&&r.libraryItemIds.map((function(e){return n[e]})).filter((function(e){return!!e}));return Object(Ma.jsx)(c.a.Fragment,{children:r&&Object(Ma.jsxs)(Ma.Fragment,{children:[I&&Object(Ma.jsx)(wp,{name:Lr.LAYOUT_TYPE_TO_ICON_MAP["".concat(t.layoutType,"-").concat(r.position)]}),Object(Ma.jsx)(yp,{areaClass:e,droppableLocation:a[e],libraryItems:o,libraryItemMap:n,droppableLocations:a},e)]})},e)}))}),l&&Object(Ma.jsxs)("div",{className:"section__bottom-row","data-testid":"section-bottom-row",children:[Object(Ma.jsx)("hr",{className:"section-line"}),Object(Ma.jsxs)(er.Button,{className:"button-no-underline",onClick:o,children:[Object(Ma.jsx)(er.Icon,{name:"add",width:24,height:24,className:"fill icon-orange-theme"}),Object(Ma.jsx)("span",{className:"section__bottom-row__button-text",children:"Add new section"})]}),Object(Ma.jsx)("hr",{className:"section-line"})]})]},"Section - ".concat(t.order))},kp=function(e,t){return"".concat(e,"-").concat(t)},Dp=function(e,t){return e.order>t.order?1:-1},Rp=(Ap={},Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,[Lp.SINGLE_COLUMN_AREA_ID]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,[Lp.DOUBLE_COLUMN_FIRST_AREA_ID,Lp.DOUBLE_COLUMN_SECOND_AREA_ID]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,[Lp.SINGLE_COLUMN_AREA_80]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,[Lp.SINGLE_COLUMN_AREA_60]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,[Lp.SINGLE_COLUMN_AREA_40]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,[Lp.SINGLE_COLUMN_TEXT_OVERFLOW_AREA]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,Lp.TWO_ROW_TWO_COLUMN_AREA_67_33),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,[Lp.SINGLE_COLUMN_AREA_60]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,[Lp.SINGLE_COLUMN_AREA_40]),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,Lp.TWO_COLUMN_L_40_1A_R_60_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,Lp.TWO_COLUMN_L_67_1A_R_33_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,Lp.TWO_COLUMN_L_80_1A_R_20_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,Lp.TWO_ROW_T_80_1A_B_20_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,Lp.TWO_ROW_T_60_1A_B_40_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,Lp.TWO_ROW_T_20_1A_B_80_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,Lp.THREE_COLUMN),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,Lp.TWO_COLUMN_L_50_2A_R_50_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,Lp.TWO_ROW_T_50_2A_B_50_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,Lp.TWO_COLUMN_L_67_2A_R_33_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,Lp.TWO_ROW_T_50_1A_B_50_2A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,Lp.TWO_COLUMN_L_50_3A_R_50_1A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,Lp.TWO_COLUMN_TWO_ROW_50_2A_50_2A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,Lp.TWO_COLUMN_TWO_ROW_67_2A_33_2A),Object($t.a)(Ap,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,Lp.THREE_COLUMN_TWO_ROW),Ap),Pp=function(e){var t={direction:"vertical"},n=e.layoutType,a={};return Rp[n].forEach((function(n,r,c){var o=r+1,i=kp(n,e.order),s=function(e,t,n){var a={areaAbove:null,areaBelow:null},r=t.slice(-1),c=t.slice(0,-1);if(c.includes("bottom")){var o=e.find((function(e){return e.includes("top")}));return a.areaAbove="".concat(o,"-").concat(n),a}if(c.includes("top")){var i=e.find((function(e){return e.includes("bottom")}));return a.areaBelow="".concat(i,"-").concat(n),a}var s=e.filter((function(e){return e.includes(c)&&e!==t}));return s.length>=1&&s.forEach((function(e){var t=e.slice(-1);t>r?a.areaBelow="".concat(e,"-").concat(n):t<r&&(a.areaAbove="".concat(e,"-").concat(n))})),a}(c,n,e.order),l=s.areaAbove,d=s.areaBelow;a[i]=Object(b.a)(Object(b.a)({},t),{},{position:o,id:i,areaAbove:l,areaBelow:d,libraryItemIds:e.items.filter((function(e){return e.analysisColumn===o})).sort(Dp).map((function(e){return e.id}))})})),a},Mp=(n(1280),function(e){var t=e.libraryItemMap,n=e.droppableLocations,a=e.onAddNewSection,r=Mb(),c=Object(Cr.a)(r,2),o=c[0],i=o.currentSections,l=void 0===i?[]:i,d=o.nonLaidOutLibraryItems,u=void 0===d?[]:d,j=c[1],p=Object(s.useSelector)(ap).activeSectionIndex,m=function(){a()},O=function(e){if(1!==l.length){var n=l.find((function(t){return t.order===e})),a=u.concat(n.items.map((function(e){return t[e.id]})));Ub(a,j);var r=l.filter((function(t){return t.order!==e})).map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{order:t+1})}));Bb(r,j)}};return Object(Ma.jsx)("div",{className:"left-panel","data-testid":"left-panel",children:l.map((function(e,a,r){var c=function(e){var t=Rp[e.layoutType],n=[];return t.forEach((function(t){var a=kp(t,e.order);n.push(a)})),n}(e);return Object(Ma.jsx)(Sp,{sectionData:e,libraryItemMap:t,droppableLocations:n,onAddSection:m,onRemoveSection:O,lastSection:a===l.length-1,showDeleteButton:r.length>1,targetDroppableLocationIds:c,activeSection:p===a},e.order)}))})}),Fp=n.p+"static/media/four-block-narrow-right.c286421d.svg",Up=n.p+"static/media/four-block.96773d17.svg",Bp=n.p+"static/media/one-column-full-width.267bb05f.svg",Yp=n.p+"static/media/one-column-large.3ef2f53d.svg",Wp=n.p+"static/media/one-column-medium.3ab2e9f1.svg",Vp=n.p+"static/media/one-column-small.1f3e5eca.svg",Zp=n.p+"static/media/six-block.eb4e953d.svg",Gp=n.p+"static/media/stacked-large-bottom.fc62a78b.svg",Hp=n.p+"static/media/stacked-large-top.5ae118c7.svg",Kp=n.p+"static/media/stacked-medium-top.5564b117.svg",qp=n.p+"static/media/stacked-two-block-bottom.c9acd65c.svg",zp=n.p+"static/media/stacked-two-block-top.f12cc733.svg",Qp=n.p+"static/media/stacked-with-narrow-right-column.04765665.svg",Jp=n.p+"static/media/stacked-with-right-column.1613d899.svg",Xp=n.p+"static/media/three-column.cfaf117b.svg",$p=n.p+"static/media/three-stacked-with-right-column.18af8f03.svg",em=n.p+"static/media/two-column.7d6b8301.svg",tm=n.p+"static/media/two-column-extra-narrow-right.1b3b0707.svg",nm=n.p+"static/media/two-column-narrow-left.71f71618.svg",am=n.p+"static/media/two-column-narrow-right.f87cb324.svg",rm=n.p+"static/media/two-column-text-only.37327032.svg",cm=[{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,type:Lr.COLUMN_TYPE.ONE,image:Bp,label:"",description:""},{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,type:Lr.COLUMN_TYPE.ONE,image:Vp},{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,type:Lr.COLUMN_TYPE.ONE,image:Wp},{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,type:Lr.COLUMN_TYPE.ONE,image:Yp},{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,type:Lr.COLUMN_TYPE.ONE,image:rm},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,type:Lr.COLUMN_TYPE.TWO,image:nm},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,type:Lr.COLUMN_TYPE.TWO,image:am},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,type:Lr.COLUMN_TYPE.TWO,image:em},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,type:Lr.COLUMN_TYPE.TWO,image:Kp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,type:Lr.COLUMN_TYPE.TWO,image:Hp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,type:Lr.COLUMN_TYPE.TWO,image:Gp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,type:Lr.COLUMN_TYPE.TWO,image:tm},{id:x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,type:Lr.COLUMN_TYPE.THREE,image:Xp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,type:Lr.COLUMN_TYPE.THREE,image:Jp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,type:Lr.COLUMN_TYPE.THREE,image:Qp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,type:Lr.COLUMN_TYPE.THREE,image:zp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,type:Lr.COLUMN_TYPE.THREE,image:qp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,type:Lr.COLUMN_TYPE.FOUR,image:Up},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,type:Lr.COLUMN_TYPE.FOUR,image:Fp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,type:Lr.COLUMN_TYPE.FOUR,image:$p},{id:x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,type:Lr.COLUMN_TYPE.FOUR,image:Zp}],om=(n(1281),"2"),im="3",sm="4+",lm=[{text:"1",conlumnType:Lr.COLUMN_TYPE.ONE,isSelected:!1},{text:om,conlumnType:Lr.COLUMN_TYPE.TWO,isSelected:!1},{text:im,conlumnType:Lr.COLUMN_TYPE.THREE,isSelected:!1},{text:sm,conlumnType:Lr.COLUMN_TYPE.FOUR,isSelected:!1},{text:"All",isSelected:!0}],dm=function(e){var t=e.filterLayouts,n=Object(r.useState)(lm),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=function(e){o(c.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{isSelected:e===t.text})})))},s=function(e){var n=e.text,a=e.conlumnType;a?(i(n),t(a)):(o(c.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{isSelected:!1})}))),t(),i(n))};return Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("div",{className:"filter-header_div",children:Object(Ma.jsx)("span",{children:"Filter by number of areas"})}),Object(Ma.jsx)("div",{id:"rs-panel-layout-buttons",className:"filter-container_div",children:c.map((function(e){return Object(Ma.jsx)("div",{"data-testid":"rs-panel-layout-filter",role:"button",className:nr()("filter-type",{"filter-type--selected-div":e.isSelected}),onClick:function(){return s(e)},onKeyDown:function(){return s(e)},tabIndex:0,children:e.text},"".concat(e.text,"-").concat(e.isSelected))}))})]})},um=(n(1282),function(e){var t=e.handleLayoutTypeChange,n=Object(r.useState)(cm),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=function(){var e=Mb(),t=Object(Cr.a)(e,1)[0].currentSections,n=void 0===t?[]:t,a=Object(s.useSelector)(ap).activeSectionIndex;return Object(r.useMemo)((function(){return n[a]&&n[a].layoutType}),[n,a])}(),l=function(e){t(e)};return Object(Ma.jsxs)("div",{"data-testid":"rs-panel-layout-tab",className:"rs-panel-layout-tab",children:[Object(Ma.jsx)(dm,{filterLayouts:function(e){if(e){var t=cm.filter((function(t){return t.type===e}));o(t)}else o(cm)}}),Object(Ma.jsx)("div",{className:"rs-panel-available-layouts",children:Object(Ma.jsx)("ul",{className:"rs-panel-available-layouts__list",children:c.map((function(e){return Object(Ma.jsxs)("div",{className:"small-container","data-testid":"layout-container",children:[Object(Ma.jsx)("img",{onClick:function(){l(e.id)},onKeyDown:function(){l(e.id)},src:e.image,id:e.id,alt:"One column",role:"button","data-testid":"layout-image:".concat(e.id)}),e.id===i&&Object(Ma.jsx)("div",{className:"layout-image-overlay"})]},"".concat(e.id,"-").concat(e.type))}))})})]})}),jm=(n(1283),function(e){var t=e.expanded,n=Object(s.useDispatch)(),a=Object(r.useState)("outline"),c=Object(Cr.a)(a,2),o=c[0],i=c[1],l=Er();return Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Collapse sidebar",dataTestId:"collapse-tooltip",children:Object(Ma.jsx)(er.Button,{className:"button-no-underline report-panel-toggle-button",onClick:function(){n(Gb())},"data-testid":"toggle-right-panel-button",title:"Collapse sidebar",onMouseEnter:function(){i("fill")},onMouseLeave:function(){i("outline")},children:Object(Ma.jsx)(er.Icon,{name:l?t?"down-chevron":"up-chevron":"right-chevron",width:"20px",height:"20px",className:"".concat(l?"fill":"".concat(o)," icon-orange-theme")})})})}),bm=(n(1284),function(e){var t=e.label,n=e.onClick,a=e.isActive;return Object(Ma.jsx)("li",{onClick:n,onKeyDown:function(e){["Enter"," "].includes(e.key)&&(e.preventDefault(),n())},className:nr()("report-panel-tabs__list-item",{"report-panel-tabs__list-item--active":a}),tabIndex:"0",role:"button",children:t})}),pm=function(e){var t=e.tabs,n=void 0===t?[]:t,a=e.initialActiveTab,c=void 0===a?0:a,o=e.sectionHeight,i=e.panelExpanded,s=void 0===i||i,l=Object(r.useState)(c),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(r.useMemo)((function(){return n[u]&&n[u].content}),[u,n]),p=Object(r.useMemo)((function(){return{height:o}}),[o]);return Object(Ma.jsxs)("div",{className:"report-panel-tabs",children:[Object(Ma.jsxs)("ul",{className:"report-panel-tabs__list",children:[n.map((function(e,t){var n=e.label;return Object(Ma.jsx)(bm,{label:n,onClick:function(){return j(t)},isActive:u===t},"".concat(t,"-").concat(n))})),Object(Ma.jsx)("li",{className:"report-panel-tabs__list-toggle",children:Object(Ma.jsx)(jm,{expanded:s})})]}),s&&Object(Ma.jsx)("div",{"data-testid":"report-tabs-content",className:"report-tabs-content",style:p,children:b})]})},mm=(n(1285),function(e){var t=e.libraryItems,n=void 0===t?[]:t,a=e.dispatch,r=e.droppableLocations,c=Object(p.m)().projectId,o="source-tray",i=Er(),s=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,r,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(So.a)(),r=JSON.stringify({RichTextData:x.Constants.EMPTY_RICH_TEXT_PLACEHOLDER}),e.next=4,Ju(c,t,r);case 4:o=e.sent,Ub([{id:o,name:t,type:x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value,isShared:!1,data:r}].concat(Object(m.a)(n)),a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ma.jsxs)("div",{className:"library-items-list-data","data-testid":"library-items-list-data",children:[Object(Ma.jsxs)(er.Button,{className:"button-no-underline library-items-list-data__button",onClick:s,children:[Object(Ma.jsx)(er.Icon,{name:"add",width:24,height:24,className:"fill icon-orange-theme"}),Object(Ma.jsx)("span",{className:"library-items-list-data__button__text",children:"Add text-box"})]}),Object(Ma.jsx)(jd.c,{droppableId:o,direction:i?"horizontal":"vertical",children:function(e){return Object(Ma.jsx)("div",Object(b.a)(Object(b.a)({},e.droppableProps),{},{ref:e.innerRef,className:"library-items-list-data__droppable-container","data-testid":"source-tray",children:Object(Ma.jsxs)("ul",{className:"library-items-list-data__droppable-container__list",children:[n&&n.map((function(e,t){return Object(Ma.jsx)(Cp,{libraryItem:e,index:t,droppableLocationId:o,droppableLocations:r},e.id)})),e.placeholder]})}))}})]})}),Om=function(){var e=Mb(),t=Object(Cr.a)(e,1)[0].nonLaidOutLibraryItems,n=void 0===t?[]:t;return Object(r.useMemo)((function(){return"Data (".concat(n.length,")")}),[n])},fm=function(e){var t=e.droppableLocations,n=Mb(),a=Object(Cr.a)(n,2),r=a[0].nonLaidOutLibraryItems,c=void 0===r?[]:r,o=a[1];return Object(Ma.jsx)(mm,{libraryItems:c,dispatch:o,droppableLocations:t})},hm=(n(1286),"right-panel"),_m=function(e){var t=e.panelRef,n=e.handleLayoutTypeChange,a=e.droppableLocations,c=e.panelExpanded,o=Object(r.useMemo)((function(){return[{label:Object(Ma.jsx)(Om,{}),content:Object(Ma.jsx)(fm,{droppableLocations:a})},{label:"Layout",content:Object(Ma.jsx)(um,{handleLayoutTypeChange:n})}]}),[n,a]),i=Object(s.useSelector)(ap),l=i.floatingTabsHeight,d=i.floatingTabsWidth,u=i.floatingTabsTop,j=Object(r.useMemo)((function(){return{transition:"all 0.3s ease 0s",translateY:0,position:"absolute",top:u,width:d}}),[u,d]),b=l-54;return Object(Ma.jsx)("div",{className:hm,id:hm,ref:t,"data-testid":hm,children:Object(Ma.jsx)("div",{className:"right-panel__children-container",style:j,children:Object(Ma.jsx)(pm,{tabs:o,sectionHeight:b,panelExpanded:c})})})},xm=(n(1287),"right-panel-expand__button"),gm=function(){var e=Object(s.useDispatch)(),t=Object(r.useState)("outline"),n=Object(Cr.a)(t,2),a=n[0],c=n[1];return Object(Ma.jsx)("div",{"data-testid":"right-panel-expand",className:"right-panel-expand",children:Object(Ma.jsx)("div",{className:"right-panel-expand__tooltip-container",children:Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Expand sidebar",dataTestId:"expand-tooltip",children:Object(Ma.jsx)(er.Button,{"data-testid":xm,className:nr()("button-no-underline",xm),title:"Expand sidebar",onClick:function(){e(Gb())},onMouseEnter:function(){c("fill")},onMouseLeave:function(){c("outline")},children:Object(Ma.jsx)(er.Icon,{name:"left-chevron",width:"20px",height:"20px",className:"".concat(a," icon-orange-theme")})})})})})},vm=function(e,t){return!(!function(e){return e.type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value}(e)&&(n=t,n===x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA));var n},Lm=function(e,t,n,a,r,c){var o,i=t[e];return function(n){o=Object(b.a)(Object(b.a)({},i),{},{layoutType:n,items:[]});var s=Rp[n],l=i.items.map((function(e){var t=Object(h.cloneDeep)(e),a=e.analysisColumn<=s.length&&vm(e,n)?e.analysisColumn:null;return a?t.analysisColumn=a:delete t.analysisColumn,t})),d=l.filter((function(e){return!e.analysisColumn})),u=l.filter((function(e){return e.analysisColumn}));o.items=Object(m.a)(u),c([].concat(Object(m.a)(r),Object(m.a)(d)));var j=Object(h.cloneDeep)(t);j[e]=o,a(j)}};n(1288),n(1289);var Cm=function(e){var t=e.handleLayoutTypeChange,n=e.droppableLocations,a=e.panelRef,c=e.panelExpanded,o=Object(r.useMemo)((function(){return[{label:Object(Ma.jsx)(Om,{}),content:Object(Ma.jsx)(fm,{droppableLocations:n})},{label:"Layout",content:Object(Ma.jsx)(um,{handleLayoutTypeChange:t})}]}),[t,n]);return Object(Ma.jsx)("div",{className:"bottom-panel","data-testid":"bottom-panel",ref:a,children:Object(Ma.jsx)(pm,{tabs:o,panelExpanded:c})})};var Tm=Lr.USER_EVENTS;var ym,Im=function(e,t,n){var a=Object(s.useDispatch)(),c=Er(),o=Object(s.useSelector)(ap).activeSectionIndex,i=Object(r.useState)(!1),l=Object(Cr.a)(i,2),d=l[0],u=l[1],j=Object(r.useCallback)((function(){n.current&&a(zb({width:n.current.offsetWidth}))}),[a,n]),b=Object(r.useCallback)((function(){var n;Object(h.isEmpty)(e)||(n=c?function(e,t){if(e.current&&t&&t.length>1){var n=e.current.getBoundingClientRect(),a=Array.from(t).map((function(e,t){return{index:t,nodeRect:e.getBoundingClientRect()}}));a.reverse();var r=a.findIndex((function(e){return e.nodeRect.bottom<n.top}));if(r>-1)return a[r].index}return 0}(t,e):function(e){var t=e.length,n=Object(h.ceil)((document.documentElement.scrollHeight-window.innerHeight)/t);return n?Math.max(0,Math.min(Object(h.floor)(document.documentElement.scrollTop/n),t-1)):0}(e),o!==n&&Boolean(e[n])&&a(Kb({index:n})))}),[o,t,a,c,e]);Object(r.useEffect)((function(){d||!n.current||Object(h.isEmpty)(e)||(a(Qb({top:e[0].offsetTop})),a(qb({height:e[0].offsetHeight})),a(zb({width:n.current.offsetWidth})),u(!0))}),[a,d,n,e]),Object(r.useEffect)((function(){return window.addEventListener(Tm.SCROLL,b),function(){window.removeEventListener(Tm.SCROLL,b)}}),[b]),Object(r.useEffect)((function(){return window.addEventListener(Tm.RESIZE,j),function(){window.removeEventListener(Tm.RESIZE,j)}}),[j])},Em=function(e){var t=e.showRightPanel,n=void 0===t||t,a=e.libraryItemMap,c=e.droppableLocations,o=e.onAddNewSection,i=e.setDroppableLocations,l=e.onDragStart,d=e.onDragUpdate,u=e.onDragEnd,j=Mb(),b=Object(Cr.a)(j,2),p=b[0],m=p.currentSections,O=void 0===m?[]:m,f=p.nonLaidOutLibraryItems,_=void 0===f?[]:f,x=b[1],g=Object(r.useRef)(null),v=Object(r.useRef)(null),L=Object(r.useState)(null),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(s.useSelector)(ap).activeSectionIndex,E=Er(),w=Array.from(document.querySelectorAll(".edit-layout__left .section"));Im(T,g,v),Object(r.useEffect)((function(){w&&!Object(h.isEqual)(w,T)&&y(w)}),[w,T]);var N=Lm(I,O,i,(function(e){Bb(e,x)}),_,(function(e){Ub(e,x)}));return Object(Ma.jsx)("div",{className:nr()("edit-layout",{"edit-layout--collapsed-column":!n&&!E,"edit-layout--mobile":E}),"data-testid":"edit-layout",children:Object(Ma.jsxs)(jd.a,{onDragStart:l,onDragUpdate:d,onDragEnd:u,children:[Object(Ma.jsx)("div",{className:"edit-layout__left","data-testid":"edit-layout-left-panel",children:Object(Ma.jsx)(Mp,{libraryItemMap:a,droppableLocations:c,onAddNewSection:o,setDroppableLocations:i})}),!E&&Object(Ma.jsx)("div",{className:"edit-layout__right","data-testid":"edit-layout-right-panel",children:n?Object(Ma.jsx)(_m,{handleLayoutTypeChange:N,droppableLocations:c,panelRef:v,panelExpanded:n}):Object(Ma.jsx)(gm,{})}),E&&Object(Ma.jsx)("div",{className:"edit-layout__bottom","data-testid":"edit-layout-bottom-panel",children:Object(Ma.jsx)(Cm,{handleLayoutTypeChange:N,droppableLocations:c,panelRef:g,panelExpanded:n})})]})})},wm=function(e,t,n){return["projects",e,"preview","content",t,n].join("/")},Nm=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c,o=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>3&&void 0!==o[3]?o[3]:void 0,e.next=3,Be.get(wm(t,n,a),void 0,void 0,r);case 3:return c=e.sent,e.abrupt("return",c.data.previewImage);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Am=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c,o;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(ep({loading:!0})),r(tp({error:!1})),a.prev=2,a.next=5,Nm(e,t,n,(function(e){ym=e}));case 5:c=a.sent,r(ep({loading:!1})),r($b({data:c})),a.next=16;break;case 10:a.prev=10,a.t0=a.catch(2),o=a.t0.message,"preview-request-canceled"===ym.token.reason.message&&(o="Failed to retrieve updated analysis layout preview"),r(ep({loading:!1})),r(tp({error:!0,errorMessage:o}));case 16:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()},Sm=function(e,t,n,a){return function(){var r=Object(te.a)(ee.a.mark((function r(c){var o,i,s;return ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,c(tp({error:!1})),!t){r.next=8;break}return r.next=5,Hs(e,t,n);case 5:o=r.sent,r.next=11;break;case 8:return r.next=10,Gs(e,n);case 10:o=r.sent;case 11:o&&Number.isInteger(o)&&a?(i="".concat(a,"/").concat(o,"/").concat(Lr.PARTIAL_ROUTE.EDIT_LAYOUT_PREVIEW),c(Object(Wb.g)(i))):o||(c(tp({error:!0,errorMessage:"Failed to ".concat(t?"update":"create"," analysis layout")})),"undefined"!==typeof ym&&ym.cancel("preview-request-canceled")),r.next=21;break;case 14:r.prev=14,r.t0=r.catch(0),s=r.t0.message,r.t0.message.includes("400")&&(s="Bad request on ".concat(t?"updating":"creating"," analysis layout")),c(ep({loading:!1})),c(tp({error:!0,errorMessage:s})),"undefined"!==typeof ym&&ym.cancel("preview-request-canceled");case 21:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e){return r.apply(this,arguments)}}()},km=(n(1290),function(e){var t=e.analysisDto,n=Object(p.m)(),a=n.projectId,c=n.analysisId,o=n.version,i=Object(s.useSelector)(op),l=i.data,d=i.loading,u=i.error,j=i.errorMessage,b=Object(s.useDispatch)(),m=Object(r.useState)(null),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(p.n)();return Object(r.useEffect)((function(){function e(){return n.apply(this,arguments)}function n(){return(n=Object(te.a)(ee.a.mark((function e(){var t,n,a,r,c,o,i,s=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,n=new Array(t),a=0;a<t;a++)n[a]=s[a];return r=n[0],c=n[1],o=n[2],i=n[3],e.next=4,b(Sm(r,c,o,i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(a&&t&&!c&&_.url.includes("create")){var r="/projects/".concat(a,"/analyses");e(a,void 0,t,r)}else a&&t&&c&&_.url.includes("edit")&&e(a,c,t,void 0)}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(Am(a,c,o||"latest"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&!f&&function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){!f&&l&&h(l)}),[f,l]),Object(Ma.jsxs)("div",{className:"save-and-preview","data-testid":"save-and-preview",children:[!d&&u&&Object(Ma.jsx)("div",{"data-testid":"error",children:j}),!d&&!u&&f&&0===f.length&&Object(Ma.jsx)("div",{"data-testid":"save-and-preview__no-data",children:"Failed to load content"}),d&&!u&&Object(Ma.jsx)(er.Loader,{"data-testid":"loading"}),!d&&!u&&f&&f.length?Object(Ma.jsx)("div",{"data-testid":"save-and-preview__preview-image",children:f.map((function(e){return Object(Ma.jsx)("img",{className:"preview-image",src:e,alt:"report preview"},e)}))}):null]})}),Dm=n(213),Rm=n.n(Dm),Pm=function(e){var t="";return e&&0!==e.trim().length||(t="Title is required"),t},Mm=function(e,t,n,a){return{title:e,body:t,tags:n.map((function(e){return{text:e}})),sections:a}},Fm=(n(1291),function(e){var t=e.activeTab,n=e.label,a=e.onClick,c=e.disabled,o=e.setTabByIndex,i=e.tabNumber,s=e.numOfTabs,l="edit-layout-tab-list-item",d=Object(r.useRef)(null);t===n&&(l+=" edit-layout-tab-list-active"),c&&(l+=" edit-layout-tab-list-inactive"),Object(r.useEffect)((function(){t&&t===d.current.getAttribute("aria-label")&&d.current.focus()}),[t]);return Object(Ma.jsx)("li",{className:l,role:"tab","aria-label":n,"aria-selected":t===n,tabIndex:t===n?0:-1,onClick:c?function(){}:function(){return a(n)},onKeyDown:function(e){39===e.keyCode&&"ArrowRight"===e.key?function(e){var t=null;e+1<s?t=e+1:e+1>=s&&(t=0),o(t)}(i):37===e.keyCode&&"ArrowLeft"===e.key&&function(e){var t=null;e-1>=0?t=e-1:e-1<0&&(t=s-1),o(t)}(i)},"data-testid":n?"".concat(n.replace(" ",""),"Tab"):"",ref:d,children:"".concat(n)})});Fm.defaultProps={tabNumber:1,numOfTabs:1,setTabByIndex:function(){},disabled:!1};var Um=Fm,Bm=function(e){var t=e.defaultTab,n=e.children,a=e.onChange,r=e.setTabByIndex,c=n.filter((function(e){return e}));return Object(Ma.jsx)(Ma.Fragment,{children:t&&Object(Ma.jsx)("div",{className:"edit-layout-tabs",children:Object(Ma.jsx)("ul",{className:"edit-layout-tab-list",role:"tablist","aria-label":"Tab panel of layout",tabIndex:0,children:c.map((function(e,n){var o=e.props,i=o.label,s=o.disabled;return Object(Ma.jsx)(Um,{activeTab:t,label:i,tabNumber:n,numOfTabs:c.length,onClick:a,setTabByIndex:r,disabled:s},i)}))})})})};Bm.defaultProps={setTabByIndex:function(){}};var Ym=Bm;function Wm(e){var t=e[Lp.SOURCE_TRAY_ID];return!(!t||!t.libraryItemIds||0!==t.libraryItemIds.length)&&Object.keys(e).filter((function(e){return e!==Lp.SOURCE_TRAY_ID})).every((function(t){return e[t].libraryItemIds.length>0}))}n(1292);var Vm=function(e){var t,n=e.droppableLocations,a=Object(p.k)(),c=Object(p.l)(),o=Object(p.m)(),i=o.projectId,s=o.analysisId,l=c.pathname,d=(t={},Object($t.a)(t,Lr.TABS.EDIT_LAYOUT,Lr.TABS_ROUTE.LAYOUT),Object($t.a)(t,Lr.TABS.SAVE_PREVIEW_REPORT,Lr.TABS_ROUTE.PREVIEW),t),u=Object(r.useCallback)((function(){return l.includes(Lr.TABS_ROUTE.PREVIEW)?Lr.TABS.SAVE_PREVIEW_REPORT:Lr.TABS.EDIT_LAYOUT}),[l]),j=Object(r.useState)((function(){return u()})),b=Object(Cr.a)(j,2),m=b[0],O=b[1],f=function(e){var t=d[e];t&&function(e){var t,n="/projects/".concat(i,"/analyses/");e===Lr.TABS_ROUTE.PREVIEW&&l.includes("create")?t="".concat(n).concat(Lr.PARTIAL_ROUTE.CREATE_LAYOUT_PREVIEW):e===Lr.TABS_ROUTE.PREVIEW&&l.includes("edit")?t="".concat(n).concat(s,"/").concat(Lr.PARTIAL_ROUTE.EDIT_LAYOUT_PREVIEW):e===Lr.TABS_ROUTE.LAYOUT&&l.includes("create")?t="".concat(n).concat(Lr.PARTIAL_ROUTE.CREATE_LAYOUT):e===Lr.TABS_ROUTE.LAYOUT&&l.includes("edit")&&(t="".concat(n).concat(s,"/").concat(Lr.PARTIAL_ROUTE.EDIT_LAYOUT)),a.push(t)}(t)};return Object(r.useEffect)((function(){O((function(){return u()}))}),[u,c]),Object(Ma.jsx)("div",{className:"add-report-data-layout-main-tabs","data-testid":"add-report-data-tabs",children:Object(Ma.jsxs)(Ym,{defaultTab:m,onChange:f,setTabByIndex:function(e){var t=Object.keys(d)[e];f(t)},children:[Object(Ma.jsx)("div",{label:Lr.TABS.EDIT_LAYOUT}),Object(Ma.jsx)("div",{label:Lr.TABS.SAVE_PREVIEW_REPORT,disabled:!Wm(n)})]})})},Zm=c.a.memo(Vm),Gm=function(e){var t=e.onDragStart,n=e.onDragUpdate,a=e.onDragEnd,c=e.libraryItemMap,o=e.droppableLocations,i=e.onAddNewSection,l=e.setDroppableLocations,d=e.analysisTitle,u=e.analysisDescription,j=e.tags,m=Object(s.useDispatch)(),O=Object(s.useSelector)(ap).showRightPanel,f=Mb(),h=Object(Cr.a)(f,2),_=h[0].currentSections,x=void 0===_?[]:_,g=h[1],v=Object(s.useSelector)(rp),L=v.start,C=v.finish,T=Object(s.useSelector)(cp).draggableId,y=Mm(d,u,j,x),I=Object(r.useCallback)((function(){var e,t=o[L.droppableId],n=o[C.droppableId];if(!n.libraryItemIds.includes(T)){var a=function(e,t){var n=Array.from(e.libraryItemIds);return n.splice(t,1),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:n})}(t,L.index),r=function(e,t,n){var a=Array.from(e.libraryItemIds);return a.splice(t,0,n),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:a})}(n,C.index,T),c=Object(b.a)(Object(b.a)({},o),{},(e={},Object($t.a)(e,a.id,a),Object($t.a)(e,r.id,r),e));l(c),m(Jb({start:null,draggableId:null})),m(Xb({finish:null}));var i=n.position;g({type:fb,payload:{newAnalysisColumn:i,libraryItemId:T}})}}),[L,C,T,o,l,m,g]);return Object(r.useEffect)((function(){L&&C&&T&&I()}),[L,C,T,I]),Object(Ma.jsxs)("div",{"data-testid":"add-report-data-layout-container",children:[Object(Ma.jsx)(Zm,{droppableLocations:o}),Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{path:Lr.SUB_ROUTES.CREATE_PREVIEW,exact:!0,children:Object(Ma.jsx)(km,{analysisDto:y})}),Object(Ma.jsx)(p.d,{path:Lr.SUB_ROUTES.EDIT_PREVIEW,exact:!0,children:Object(Ma.jsx)(km,{analysisDto:y})}),Object(Ma.jsx)(p.d,{path:Lr.SUB_ROUTES.CREATE_LAYOUT,exact:!0,children:Object(Ma.jsx)(Em,{showRightPanel:O,libraryItemMap:c,droppableLocations:o,onAddNewSection:i,setDroppableLocations:l,onDragStart:t,onDragUpdate:n,onDragEnd:a})}),Object(Ma.jsx)(p.d,{path:Lr.SUB_ROUTES.EDIT_LAYOUT,exact:!0,children:Object(Ma.jsx)(Em,{showRightPanel:O,libraryItemMap:c,droppableLocations:o,onAddNewSection:i,setDroppableLocations:l,onDragStart:t,onDragUpdate:n,onDragEnd:a})})]})]})},Hm=[{title:"first",description:"Select data"},{title:"second",description:"Edit layout"}],Km=function(e){var t=e.droppableLocations,n=e.libraryItemMap,a=e.handleDragEnd,r=e.setDroppableLocations,c=e.analysisTitle,o=e.analysisDescription,i=e.tags,s=Mb(),l=Object(Cr.a)(s,2),d=l[0].currentSections,u=l[1],j=function(e,t){u({type:Ob,payload:{currentPosition:e,draggableWithinSectionsItemId:t}})};return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("h1",{children:"Edit Layout"}),Object(Ma.jsx)("div",{className:"step-indicator-container",children:Object(Ma.jsx)(er.ProgressSteps,{current:2,steps:Hm})}),Object(Ma.jsx)("div",{className:"drag-and-drop-layout",children:Object(Ma.jsx)(Gm,{onDragStart:function(e){var t=e.source,n=e.draggableId;j(t,n)},onDragUpdate:function(e){var t=e.destination,n=e.draggableId;j(t,n)},onDragEnd:a,libraryItemMap:n,droppableLocations:t,onAddNewSection:function(){var e=Object(h.max)(d.map((function(e){return e.order}))),t=d.find((function(t){return t.order===e})),n={order:e+1,layoutType:t.layoutType,items:[]};Bb([].concat(Object(m.a)(d),[n]),u),Yb(e,u)},setDroppableLocations:r,analysisTitle:c,analysisDescription:o,tags:i})})]})},qm=function(e,t){return t.map(Pp).reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),t)}),Object($t.a)({},Lp.SOURCE_TRAY_ID,{id:Lp.SOURCE_TRAY_ID,libraryItemIds:e.map((function(e){return e.id})),className:"library-item-source-tray",direction:"vertical"}))};function zm(e){var t,n;return Object.keys(Rp).forEach((function(a){var r=Rp[a].findIndex((function(t){return t===e}));r>-1&&(t=a,n=r)})),Number.isInteger(parseInt(t,10))?{layoutType:parseInt(t,10),analysisCol:n}:{layoutType:1,analysisCol:0}}function Qm(e,t){for(var n=e[Lp.SOURCE_TRAY_ID].libraryItemIds.map((function(e,n){var a=Ss()(t[e]);return a.analysisColumn&&delete a.analysisColumn,a.order=n+1,a})),a=Object.values(Lp).filter((function(e){return e!==Lp.SOURCE_TRAY_ID})),r=a.length,c=[],o=1,i=!0,s=function(){for(var n={order:o},s=[],l=a.map((function(){return!1})),d=function(r){var c=a[r];if(Array.isArray(c)||"string"!==typeof c)c.forEach((function(a,c){var i=kp(a,o),d=e[i];if(d){l[r]=!0;var u=zm(a).layoutType;n.layoutType=u;var j=d.libraryItemIds.map((function(e){return t[e]})).map((function(e,t){return e.analysisColumn=c+1,e.order=t+1,e}));s=[].concat(Object(m.a)(s),Object(m.a)(j))}}));else{var i=kp(c,o),d=e[i];if(d){l[r]=!0;var u=zm(c),j=u.layoutType,b=u.analysisCol;n.layoutType=j;var p=d.libraryItemIds.map((function(e){return t[e]})).map((function(e,t){return e.analysisColumn=b+1,e.order=t+1,e}));s=[].concat(Object(m.a)(s),Object(m.a)(p))}}},u=0;u<r;u+=1)d(u);l.includes(!0)||(i=!1),i&&(n.items=s,c.push(n),o+=1)};i;)s();return{nonLaidOutLibraryItems:n,sections:c}}var Jm=function(e){var t=e.goBackUrl,n=e.basePageUrl,a=e.operationType,c=e.setLayoutSaved,o=e.initialSections,i=e.analysisTitle,s=e.analysisDescription,l=e.tags,d=Er(),u=Mb(),j=Object(Cr.a)(u,2),O=j[0],f=O.currentSections,h=O.nonLaidOutLibraryItems,_=j[1],g=Object(p.m)().projectId,v=f.flatMap((function(e){return e.items})),L=[].concat(Object(m.a)(h),Object(m.a)(v)).reduce((function(e,t){return e[t.id]=Ss()(t),e}),{}),C=Object(r.useState)(qm(h,f)),T=Object(Cr.a)(C,2),y=T[0],I=T[1];Object(r.useEffect)((function(){var e=qm(h,f);I(e)}),[f,h]);var E=Object(p.k)(),w=function(){Bb(o,_),E.replace(n)},N=function(e){var t=Qm(y,L),n=t.nonLaidOutLibraryItems,a=t.sections;Bb(a,_),Ub(n,_),E.replace(e)},A=function(){c(!0),N(n)},S=function(){return Object(Ma.jsxs)(er.Button,{className:"button-menu back-button",type:"button",onClick:function(){return N(t)},"data-testid":"back-button",children:[Object(Ma.jsx)(er.Icon,{name:"left-chevron",width:14,className:"fill icon-orange"}),"Back"]})};return Object(Ma.jsxs)(wu,{className:"freeform-analysis-layout",headerComponent:Object(Ma.jsx)("div",{className:"freeform-analysis-form-header",children:Object(Ma.jsxs)(Vj,{pageLabel:d&&S(),children:[!d&&Object(Ma.jsx)(er.Button,{className:"button-link button-theme mx-2 mr-4",onClick:w,type:"button","data-testid":"cancel-button-top",children:"Back to ".concat(a," analysis")}),Object(Ma.jsx)(er.Button,{className:"button-small","data-testid":"save-button-top",onClick:A,type:"button",disabled:!Wm(y),children:"Save layout"})]})}),children:[!d&&Object(Ma.jsx)("div",{className:"analysis-layout-contained",children:S()}),Object(Ma.jsx)(Km,{droppableLocations:y,libraryItemMap:L,handleDragEnd:function(e){var t=e.destination,n=e.source,a=e.draggableId;if(_({type:xb}),t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var r=y[n.droppableId],c=y[t.droppableId];if(!c.id.includes("text-overflow")||L[a].type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value){var o;if(r===c){var i=function(e,t,n,a){var r=Array.from(e.libraryItemIds);r.splice(n,1);var c=parseInt(t,10);return r.splice(a,0,c),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:r})}(r,a,n.index,t.index);o=Object(b.a)(Object(b.a)({},y),{},Object($t.a)({},i.id,i))}else if(c.libraryItemIds.length>0&&c.id!==Lp.SOURCE_TRAY_ID){var s,l=function(e,t,n){var a=parseInt(n,10),r=t.libraryItemIds[0],c=t.libraryItemIds.indexOf(r),o=Object(m.a)(t.libraryItemIds);o.splice(c,1,a);var i=Object(b.a)(Object(b.a)({},t),{},{libraryItemIds:o}),s=e.libraryItemIds.indexOf(a),l=Object(m.a)(e.libraryItemIds);l.splice(s,1);var d=l.length;return l.splice(d,0,r),{updatedStart:Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:l}),updatedFinish:i}}(r,c,a),d=l.updatedStart,u=l.updatedFinish;o=Object(b.a)(Object(b.a)({},y),{},(s={},Object($t.a)(s,d.id,d),Object($t.a)(s,u.id,u),s))}else{var j,p=function(e,t){var n=Array.from(e.libraryItemIds);return n.splice(t,1),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:n})}(r,n.index),O=function(e,t,n){var a=Array.from(e.libraryItemIds),r=parseInt(n,10);return a.splice(t,0,r),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:a})}(c,t.index,a);o=Object(b.a)(Object(b.a)({},y),{},(j={},Object($t.a)(j,p.id,p),Object($t.a)(j,O.id,O),j))}var f=Qm(o,L),h=f.sections,g=f.nonLaidOutLibraryItems;I(o),Ub(g,_),Bb(h,_)}}},setDroppableLocations:I,projectId:g,analysisTitle:i,analysisDescription:s,tags:l}),Object(Ma.jsxs)("div",{className:"layout-bottom-buttons analysis-layout-contained",children:[Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",onClick:w,type:"button",children:"Back to ".concat(a," analysis")}),Object(Ma.jsx)(er.Button,{className:"",onClick:A,type:"button",disabled:!Wm(y),children:"Save layout"})]})]})]})},Xm=n(430),$m=(n(1294),function(e){var t=e.data,n=e.columns,a=e.initialSortColumn,c=e.initialSortDirection,o=void 0===c?"desc":c,i=e.type,s=e.rowClassFunction,l=e.renderSubRowComponent,d=Object(Xm.useTable)({columns:n,data:t,disableMultiSort:!0,disableSortRemove:!0,initialState:{sortBy:[{id:a,desc:"desc"===o}]}},Xm.useSortBy),u=d.getTableProps,j=d.getTableBodyProps,p=d.headerGroups,m=d.rows,O=d.prepareRow,f=function(e){return e.isSorted?"icon-table-sort-desc ".concat(e.isSortedDesc?"desc":"asc"):""};return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({className:"list-table content-container","data-testid":"list-table"},u()),{},{children:[p.map((function(e){return Object(Ma.jsx)("div",Object(b.a)(Object(b.a)({className:"header-row"},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"header-cell","data-testid":"sort-column-".concat(e.id),children:[e.render("Header"),Object(Ma.jsx)("span",{className:f(e),children:Object(Ma.jsx)(er.Icon,{name:"desc",width:"10",className:"fill icon-orange"})})]}))}))}))})),Object(Ma.jsx)("div",Object(b.a)(Object(b.a)({className:"rowgroup"},j()),{},{children:m.map((function(e,t){O(e);var n=e.original;return Object(Ma.jsx)(r.Fragment,{children:Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({className:"list-table-row content-list-table-row ".concat(s&&s(n)).trim(),"data-testid":"".concat(i,"-row-").concat(t)},e.getRowProps()),{},{children:[Object(Ma.jsx)("div",{className:"list-table-subrow",children:e.cells.map((function(e,n){return Object(Ma.jsx)("div",Object(b.a)(Object(b.a)({className:"cell","data-testid":"".concat(i,"-row-").concat(t,"-cell-").concat(n)},e.getCellProps({className:e.column.className})),{},{children:e.render("Cell")}))}))}),l&&Object(Ma.jsx)("div",{className:"list-table-subrow list-table-row-sub-component",children:l(n)})]}))},e.index)}))}))]}))}),eO=(n(1295),n(1296),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"report":t,a=e.tokenType,r=void 0===a?yj.models.TokenType.Embed:a,c=e.accessToken,o=e.embedUrl,i=e.id,s=e.pageName,l=e.theme,d={type:n,tokenType:r,accessToken:c,embedUrl:o,id:i,settings:{panes:{pageNavigation:{visible:!1},filters:{visible:!1}},layoutType:yj.models.LayoutType.Custom,customLayout:{displayOption:yj.models.DisplayOption.FitToPage}},theme:l};return s&&(d.pageName=s),d}),tO=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r,c){var o,i,s,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPages();case 2:return o=e.sent,e.next=5,Qu(t,x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value);case 5:i=e.sent,s=i.map((function(e){var t=JSON.parse(e.data),n=t.ReportId,a=t.PageName;return"".concat(n," - ").concat(a)})),l=o.filter((function(e){return!s.includes("".concat(a," - ").concat(e.name))})),r(l),c(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),nO=function(e){var t=e.projectId,n=e.selectedReportId,a=e.reportOptions,c=e.setSelectedReportId,o=e.selectedPage,i=e.setSelectedPage,l=Object(r.useState)(!1),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(""),p=Object(Cr.a)(b,2),m=p[0],O=p[1],f=Object(r.useRef)(null),h=Object(r.useState)([]),_=Object(Cr.a)(h,2),x=_[0],g=_[1],v=Object(r.useState)(""),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=Object(s.useSelector)(Mr);Object(r.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){var a,r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return j(!0),e.next=4,Hn(t,n);case 4:a=e.sent,O(a),a&&n&&(r=eO({accessToken:a.embedToken,embedUrl:a.embedUrl,id:n,theme:wj(y)}),f.current&&(c=window.powerbi.load(f.current,r)).on("loaded",(function(){return tO(t,c,n,g,j)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i({}),function(){e.apply(this,arguments)}()}),[t,n,i,y]);var I,E=!n||0===x.length;return Object(Ma.jsxs)("div",{className:"power-bi-report-select",children:[Object(Ma.jsx)("div",{className:"report-select",children:Object(Ma.jsx)(er.Select,{id:"power-bi-report-select","data-testid":"power-bi-report-select",field:{name:"power-bi-report-select"},basic:!0,label:"Report name",placeholder:"Select report",options:a,value:n,onChange:function(e){return""===(t=e.target.value)&&j(!1),T(""),g([]),void c(t);var t},characterLimit:49})}),u&&Object(Ma.jsx)(er.Loader,{dataTestId:"power-bi-reports-loader"}),!u&&(0===x.length&&n?Object(Ma.jsx)("span",{className:"no-reports-span",children:"No more pages for the selected Power BI Report to ingest"}):Object(Ma.jsx)("div",{className:"page-select",children:Object(Ma.jsx)(er.Select,{id:"power-bi-page-select","data-testid":"power-bi-page-select",label:"Tab",basic:!0,disabled:E,placeholder:"Select tab",field:{name:"power-bi-page-select"},options:(I=x,I.map((function(e){return{label:"".concat(e.displayName),value:e.name}}))),value:o.name,onChange:function(e){return function(e){if(T(e),""===e)i({});else{var t=x.find((function(t){return t.name===e})),a=t.name,r=t.displayName,c=eO({accessToken:m.embedToken,embedUrl:m.embedUrl,id:n,pageName:a,theme:wj(y)});f.current&&window.powerbi.embed(f.current,c),i({name:a,displayName:r})}}(e.target.value)},characterLimit:40})})),Object(Ma.jsx)("div",{className:"".concat(""===C?"hidden-power-bi-hint":"visible-power-bi-hint"),children:Object(Ma.jsxs)("div",{className:"import-hint",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16,"data-testid":"hint-icon"}),Object(Ma.jsx)("p",{children:"To resize the tab, use the options available in Power BI."})]})}),Object(Ma.jsx)("div",{className:"".concat(""===C?"hidden-power-bi-container":"visible-power-bi-container"),"data-testid":"power-bi-embed-container",ref:f})]})},aO=(n(1297),function(e){var t=e.ingestionType,n=e.reportOptions,a=e.filteredReportOptions,c=e.setSelectedReportId,o=e.selectedReportId,i=e.selectedPage,l=e.setSelectedPage,d=e.projectId,u=Object(r.useState)(!1),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=Object(r.useRef)(null),O=Object(r.useState)(""),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(s.useSelector)(Mr),v=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(t),!t){e.next=9;break}return p(!0),e.next=5,Hn(d,t);case 5:n=e.sent,a=eO({accessToken:n.embedToken,embedUrl:n.embedUrl,id:t,theme:wj(g)}),m.current&&window.powerbi.embed(m.current,a),p(!1);case 9:c(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(t){case x.Constants.POWERBI_INGESTION_TYPES.report:return a.length>0?Object(Ma.jsxs)("div",{className:"power-bi-report-select",children:[Object(Ma.jsx)(er.Select,{"data-testid":"power-bi-select",basic:!0,options:a,label:"Report name",onChange:function(e){v(e.target.value)},value:o,placeholder:"Select report",characterLimit:49}),b&&Object(Ma.jsx)(er.Loader,{dataTestId:"power-bi-reports-loader"}),Object(Ma.jsx)("div",{className:"".concat(b||!h?"hidden-power-bi-hint":"visible-power-bi-hint"),children:Object(Ma.jsxs)("div",{className:"import-hint",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16,"data-testid":"hint-icon"}),Object(Ma.jsx)("p",{children:"To resize the report, use the options available in Power BI."})]})}),Object(Ma.jsx)("div",{className:"".concat(b||!h?"hidden-power-bi-container":"visible-power-bi-container"),"data-testid":"power-bi-report-container",ref:m})]}):Object(Ma.jsx)("span",{className:"no-reports-span",children:"No more Power BI Reports to ingest"});case x.Constants.POWERBI_INGESTION_TYPES.page:return Object(Ma.jsx)(nO,{projectId:d,reportOptions:n,selectedPage:i,setSelectedPage:l,selectedReportId:o,setSelectedReportId:c});default:return null}}),rO=function(e){var t=e.pbiItems,n=e.handleSuccessfulIngestion,a=e.projectId,c=Object(r.useState)([]),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)([]),u=Object(Cr.a)(d,2),j=u[0],b=u[1],p=Object(r.useState)(""),m=Object(Cr.a)(p,2),O=m[0],f=m[1],h=Object(r.useState)({}),_=Object(Cr.a)(h,2),g=_[0],v=_[1],L=Object(r.useState)(!0),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(r.useState)(""),E=Object(Cr.a)(I,2),w=E[0],N=E[1],A=Object(r.useState)(""),S=Object(Cr.a)(A,2),k=S[0],D=S[1],R=Object(s.useSelector)(ba),P=Object(r.useCallback)((function(){y(!0),Zn(a).then((function(e){var n=e.map((function(e){return{label:e.name,value:e.reportId}})).sort((function(e,t){return e.label>t.label?1:-1}));l(n);var a=t.map((function(e){return JSON.parse(e.data).ReportId})),r=n.filter((function(e){return-1===a.indexOf(e.value)}));b(r),y(!1)}))}),[t,a]);Object(r.useEffect)((function(){P([t,a])}),[t,a,P]);var M=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,r,c,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.filter((function(e){return e.value===O}))[0].label,w!==x.Constants.POWERBI_INGESTION_TYPES.report){e.next=13;break}return e.prev=2,e.next=5,Ku(a,O,t);case 5:n(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),D("Error ingesting Power Bi Report");case 11:e.next=24;break;case 13:return r=g.name,c=g.displayName,o="".concat(t," - ").concat(c),e.prev=15,e.next=18,qu(a,O,r,o);case 18:n(),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),D("Error ingesting Power Bi Report Tab");case 24:case"end":return e.stop()}}),e,null,[[2,8],[15,21]])})));return function(){return e.apply(this,arguments)}}(),F={name:"ingestion-type",onChange:function(e){return(t=e.target.value)===x.Constants.POWERBI_INGESTION_TYPES.report&&f(""),void N(t);var t},value:w},U=[{key:x.Constants.POWERBI_INGESTION_TYPES.report,label:"Report",value:x.Constants.POWERBI_INGESTION_TYPES.report},{key:x.Constants.POWERBI_INGESTION_TYPES.page,label:"Tab",value:x.Constants.POWERBI_INGESTION_TYPES.page}];return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)(hs.a.Body,{children:[T&&Object(Ma.jsx)(er.Loader,{dataTestId:"power-bi-reports-loader"}),!T&&(j.length>0?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"radio-group-label",children:"Select type"}),Object(Ma.jsxs)("div",{className:"import-hint",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16,"data-testid":"hint-icon"}),Object(Ma.jsx)("p",{children:"The Power BI report must be published to Workbench to appear as an option here."})]}),Object(Ma.jsx)(er.RadioGroup,{field:F,options:U,direction:"column",className:"layout-radio-group"}),Object(Ma.jsx)(aO,{ingestionType:w,reportOptions:i,filteredReportOptions:j,setSelectedReportId:f,selectedReportId:O,selectedPage:g,setSelectedPage:v,projectId:a})]}):Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"no-results-header",children:[Object(Ma.jsx)(er.Icon,{name:"alert",width:24,className:"fill icon-yellow"}),Object(Ma.jsx)("p",{className:"no-results-title",children:"No Results Found"})]}),Object(Ma.jsxs)("div",{className:"no-results-body",children:[Object(Ma.jsx)("p",{children:"All Power BI reports in the workspace have been imported to Junction."}),Object(Ma.jsxs)("p",{"data-testid":"workbench-link-copy",children:["Please make sure your report is published to"," ",Object(Ma.jsx)("a",{"data-testid":"workbench-link",href:"".concat(R,"/reports"),children:"Workbench"}),", or check the library if the data has already been imported."]}),Object(Ma.jsx)("div",{children:Object(Ma.jsxs)("button",{className:"ui-button button-link refresh-button","data-testid":"refresh-button",onClick:function(){return P()},type:"button",children:[Object(Ma.jsx)(er.Icon,{name:"refresh",width:24,className:"fill icon-orange-theme"}),"Refresh data"]})})]})]}))]}),Object(Ma.jsx)(hs.a.Footer,{children:j.length>0&&Object(Ma.jsxs)("div",{className:"modal-actions",children:[Object(Ma.jsx)("span",{children:k}),Object(Ma.jsx)(er.Button,{className:"button",onClick:M,type:"button","data-testid":"ingest-powerbi-submit",disabled:!O||w===x.Constants.POWERBI_INGESTION_TYPES.page&&!g.name,children:"Import"})]})})]})},cO={ingestionError:"",fileError:"",slideNumberError:"",groupNameError:"",noAvailableGroupsError:""},oO="Ingestion Error",iO="File Error",sO="Slide Number Error",lO="Group Name Error",dO="No Available Groups Error",uO="Clear",jO={NoFilesInSharePointError:{type:iO,value:"No PowerPoint files found."},NoSlidesInPowerPointFileError:{type:sO,value:"There are no slides for the selected PowerPoint file"},NoGroupsInPowerPointSlideError:{type:lO,value:"No groups or items available from the selected slide. Please make sure you've selected the correct slide."},NoAvailableGroupsInPowerPointSlideError:{type:dO,value:"No new groups or items are available to import from the selected slide. Please check the library if they've already been imported."},FailedRetrievingPowerPointSlides:{type:sO,value:"There was a problem retrieving slide information from the selected PowerPoint file"},IngestionError:{type:oO,value:"No groups or items available from the selected file. Please make sure your file has been created correctly and try re-uploading it to Sharepoint."},Clear:{type:uO,value:cO}},bO=function(e){var t=e.ingestionError,n=void 0===t?"":t,a=e.fileError,r=void 0===a?"":a,c=e.slideNumberError,o=void 0===c?"":c,i=e.groupNameError,s=void 0===i?"":i,l=e.noAvailableGroupsError;return{ingestionError:n,fileError:r,slideNumberError:o,groupNameError:s,noAvailableGroupsError:void 0===l?"":l}},pO=function(e,t){switch(t.type){case oO:return Object(b.a)(Object(b.a)({},e),{},{ingestionError:t.value});case iO:return Object(b.a)(Object(b.a)({},e),{},{fileError:t.value});case sO:return Object(b.a)(Object(b.a)({},e),{},{slideNumberError:t.value});case lO:return Object(b.a)(Object(b.a)({},e),{},{groupNameError:t.value});case dO:return Object(b.a)(Object(b.a)({},e),{},{noAvailableGroupsError:t.value});case uO:return t.value;default:return Object(b.a)({},e)}},mO=Object(r.createContext)(null),OO=Object(r.createContext)(null);function fO(){var e=Object(r.useContext)(mO);if(void 0===e)throw new Error("useIngestionErrorsState must be used within an IngestionErrorsProvider");return e}function hO(){var e=Object(r.useContext)(OO);if(void 0===e)throw new Error("useIngestionErrorsDispatch must be used within an IngestionErrorsProvider");return e}function _O(){return[fO(),hO()]}var xO=function(e){var t=e.children,n=Object(r.useReducer)(pO,cO,bO),a=Object(Cr.a)(n,2),c=a[0],o=a[1];return Object(Ma.jsx)(mO.Provider,{value:c,children:Object(Ma.jsx)(OO.Provider,{value:o,children:t})})},gO=function(e,t,n){return e&&t.trim()&&n.trim()},vO=function(e){var t=e.driveItemId,n=e.driveId,a=e.fileName,r=e.slideNumber,c=e.groupName,o=e.loading,i=e.handleSuccessfulIngestion,s=e.projectId,l=e.sharePointItemUrl,d=e.setIsLoading,u=e.setSlideNumber,j=e.setGroupName,b=_O(),p=Object(Cr.a)(b,2)[1],m=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),p({type:oO,value:""}),e.next=5,Hu(s,l,t,a,c,r,n);case 5:u(""),j(""),i(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),d(!1),p(jO.IngestionError);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(Ma.jsx)(er.Button,{className:"button",disabled:!gO(a,r,c)||o,onClick:m,type:"button","data-testid":"ingest-powerpoint-submit",children:"Import"})},LO=function(e){return"projects/".concat(e,"/sharepoint/pptx")},CO=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(LO(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),TO=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(LO(t),"/slides?driveId=").concat(n,"&fileId=").concat(a),e.next=3,ke.get(r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),yO=function(e){var t=e.fileName,n=e.pptFiles,a=e.setFileName,c=e.setSlideNumber,o=e.setGroupName,i=e.setSelectedFileOption,s=e.projectId,l=e.setPptFiles,d=e.setIsLoading,u=_O(),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=function(e){return(e||[]).map((function(e,t){return{value:e.fileName,key:"".concat(e.fileName,"-").concat(t)}}))}(n),O=function(e){var t=n.find((function(t){return t.fileName===e}));n.find((function(t){return t.fileName===e}))&&i(t),p(jO.Clear),a(e),c(""),o("")},f={name:"powerpoint-file-search",value:t,onChange:function(e){return O(e.target.value)}};return Object(r.useEffect)((function(){n||function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,CO(s);case 4:0===(t=e.sent).length&&p(jO.NoFilesInSharePointError),l(t),d(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),a=e.t0.response,(n=a&&a.data&&a.data.errors?a.data.errors:[]).length>0&&p({type:iO,value:n[0].apiErrorMessage}),d(!1);case 15:case"end":return e.stop()}var a}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}()()}),[p,n,s,d,l]),Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"text-input-control-label",children:"File name"}),Object(Ma.jsxs)("div",{className:"import-hint",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16,"data-testid":"hint-icon"}),Object(Ma.jsx)("p",{children:"The PowerPoint file must be saved to Sharepoint's \u2018Free Form PowerPoint\u2019 folder to appear as an option here."})]}),Object(Ma.jsx)(er.Select,{field:f,placeholder:"Select file","data-testid":"powerpoint-select",options:m,value:t,onChange:function(e){return O(e.target.value)},error:b.fileError,maxWidth:"100%"})]})},IO=function(e){var t=e.groupName,n=e.setGroupName,a=e.groupNames,c=e.slideNumber,o=e.isSlideListLoading,i=_O(),s=Object(Cr.a)(i,2),l=s[0],d=s[1],u=function(e){d(jO.Clear),n(e)},j={name:"groupName",value:t,onChange:function(e){return u(e.target.value)}};return Object(r.useEffect)((function(){var e=a[c];e&&0===e.options.length&&(e.allOptionsAlreadyIngested?d(jO.NoAvailableGroupsInPowerPointSlideError):d(jO.NoGroupsInPowerPointSlideError))}),[d,a,c]),o?null:Object(Ma.jsx)(er.Select,{field:j,label:"Group or item name",placeholder:"Select group or item","data-testid":"groupName-select",disabled:!c,options:a&&c?a[c].options:[],onChange:function(e){u(e.target.value)},value:t,error:l.groupNameError||l.noAvailableGroupsError})},EO=(n(1298),function(e){var t=e.pptFiles,n=e.fileName,a=e.slideNumber,c=e.setSlideNumber,o=e.setSharePointItemUrl,i=e.projectId,s=e.setGroupName,l=e.ingestedPowerPointGroups,d=e.setSlides,u=e.selectedFileOption,j=e.setIsSlideListLoading,b=e.isSlideListLoading,p=_O(),m=Object(Cr.a)(p,2),O=m[0],f=m[1],h=Object(r.useState)([]),_=Object(Cr.a)(h,2),x=_[0],g=_[1];Object(r.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=18;break}return j(!0),t="".concat(u.driveUrl,"/").concat(u.fileName),o(t),e.prev=4,e.next=7,TO(i,u.driveId,u.driveItemId);case 7:n=e.sent,d(n),0===n.length?f(jO.NoSlidesInPowerPointFileError):g(n.map((function(e,t){return{value:e.slideNumber,key:"".concat(e,"-").concat(t)}}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),f(jO.FailedRetrievingPowerPointSlides);case 15:j(!1),e.next=20;break;case 18:o(""),g([]);case 20:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}})()()}),[i,t,n,l,d,u,o,f,j]);var v=function(e){f(jO.Clear),c(e),s("")},L={name:"slideNumber-select",value:a,onChange:function(e){return v(e.target.value)}};return b?Object(Ma.jsx)(er.Loader,{dataTestId:"powerpoint-slide-list-loader"}):Object(Ma.jsx)(er.Select,{field:L,label:"Slide number",placeholder:"Select slide number","data-testid":"slideNumber-select",options:x,value:a,disabled:!n,onChange:function(e){return v(e.target.value)},error:O.slideNumberError})}),wO=function(){var e=_O(),t=Object(Cr.a)(e,1)[0];return Object(Ma.jsx)(Ma.Fragment,{children:t.ingestionError&&Object(Ma.jsxs)("span",{className:"a-form-error","data-testid":"ingest-powerpoint-error-message",children:[Object(Ma.jsx)(er.Icon,{name:"alert",className:"fill icon-peach ingestion-alert",width:"16"}),t.ingestionError]})})},NO=function(e){var t=e.handleSuccessfulIngestion,n=e.ingestedPowerPointGroups,a=Object(r.useState)(""),c=Object(Cr.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(null),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(void 0),O=Object(Cr.a)(j,2),f=O[0],h=O[1],_=Object(r.useState)(""),x=Object(Cr.a)(_,2),g=x[0],v=x[1],L=Object(r.useState)(""),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(r.useState)([]),E=Object(Cr.a)(I,2),w=E[0],N=E[1],A=Object(r.useState)(""),S=Object(Cr.a)(A,2),k=S[0],D=S[1],R=Object(r.useState)({}),P=Object(Cr.a)(R,2),M=P[0],F=P[1],U=Object(r.useState)(!1),B=Object(Cr.a)(U,2),Y=B[0],W=B[1],V=Object(r.useState)(!1),Z=Object(Cr.a)(V,2),G=Z[0],H=Z[1],K=Object(p.m)().projectId;return Object(r.useEffect)((function(){w&&w.length>0&&F(function(e,t,n){var a=(t?t.filter((function(e){return e.driveItemId===n})):[]).reduce((function(e,t){var n=t.slideNumber,a=t.groupName,r=e[n]||[];return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},n,[].concat(Object(m.a)(r),[a])))}),{});return e.reduce((function(e,t){var n,r=t.slideNumber,c=a[r]?t.groupNames.filter((function(e){return!a[r].includes(e)})):t.groupNames,o=(a[r]?a[r].length:0)===t.groupNames.length&&0!==t.groupNames.length;return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},r,{allOptionsAlreadyIngested:o,options:(n=c,n.map((function(e){return{value:e,key:e}})))}))}),{})}(w,n,f.driveItemId))}),[n,f,w]),Object(Ma.jsxs)(xO,{children:[Object(Ma.jsx)(hs.a.Body,{children:Y?Object(Ma.jsx)(er.Loader,{dataTestId:"powerpoint-file-list-loader"}):Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(yO,{fileName:o,pptFiles:d,setFileName:i,setSlideNumber:y,setGroupName:D,setSelectedFileOption:h,projectId:K,setPptFiles:u,setIsLoading:W}),Object(Ma.jsx)(EO,{pptFiles:d,fileName:o,slideNumber:T,setSlideNumber:y,setSharePointItemUrl:v,projectId:K,setGroupName:D,ingestedPowerPointGroups:n,setSlides:N,selectedFileOption:f,setIsSlideListLoading:H,isSlideListLoading:G}),Object(Ma.jsx)(IO,{groupName:k,setGroupName:D,groupNames:M,slideNumber:T,isSlideListLoading:G}),Object(Ma.jsx)(wO,{})]})}),Object(Ma.jsx)(hs.a.Footer,{children:Object(Ma.jsx)("div",{className:"modal-actions",children:Object(Ma.jsx)(vO,{driveItemId:f?f.driveItemId:"",driveId:f?f.driveId:"",fileName:o,slideNumber:T,groupName:k,loading:Y,handleSuccessfulIngestion:t,projectId:K,sharePointItemUrl:g,setIsLoading:W,setSlideNumber:y,setGroupName:D})})})]})},AO=function(e){var t=e.handleStartClick,n=Object(r.useState)(""),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i={name:"ingestion-type-select",value:c,onChange:function(e){return o(e.target.value)}};return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(hs.a.Body,{children:Object(Ma.jsxs)("div",{"data-testid":"start-ingestion-body",children:[Object(Ma.jsx)("h5",{children:"Select to import from PowerPoint or Power BI"}),Object(Ma.jsxs)("div",{className:"import-hint",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16,"data-testid":"hint-icon"}),Object(Ma.jsx)("p",{children:"Make sure your PowerPoint files are saved in SharePoint, and your Power BI reports are published to Workbench"})]}),Object(Ma.jsx)(er.RadioGroup,{field:i,options:[{label:"PowerPoint",value:"PowerPoint"},{label:"Power BI",value:"PowerBI"}]}),Object(Ma.jsx)("div",{className:"import-callout",children:"To ingest data from an Excel file, use the Junction Excel add-in."})]})}),Object(Ma.jsx)(hs.a.Footer,{children:Object(Ma.jsx)("div",{className:"modal-actions",children:Object(Ma.jsx)(er.Button,{type:"button",disabled:!c,onClick:function(){return t(c)},"data-testid":"start-ingestion-button",children:"Next"})})})]})},SO=(n(1299),function(e){var t=e.modalContentType,n=e.handleStartClick,a=e.handleSuccessfulIngestion,r=e.pbiItems,c=e.projectId,o=e.ingestedPowerPointGroups;switch(t){case"start":return Object(Ma.jsx)(AO,{handleStartClick:n});case"PowerPoint":return Object(Ma.jsx)(NO,{handleSuccessfulIngestion:a,ingestedPowerPointGroups:o});case"PowerBI":return Object(Ma.jsx)(rO,{pbiItems:r,handleSuccessfulIngestion:a,projectId:c});default:return null}}),kO=function(e){var t=e.show,n=e.handleCancel,a=e.handleSuccessfulIngestion,c=e.pbiItems,o=e.projectId,i=e.ingestedPowerPointGroups,s=Object(r.useState)("start"),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(""),f=Object(Cr.a)(O,2),h=f[0],_=f[1];return Object(r.useEffect)((function(){switch(d){case"start":m(!1);break;case"PowerPoint":case"PowerBI":m(!0);break;default:m(!1)}}),[d]),Object(r.useEffect)((function(){switch(d){case"start":_("Import data");break;case"PowerPoint":_("Import from PowerPoint");break;case"PowerBI":_("Import from Power BI");break;default:_("")}}),[d]),Object(Ma.jsxs)(hs.a,{className:"import-modal",show:t,onHide:n,children:[Object(Ma.jsxs)(hs.a.Header,{closeButton:!0,children:[p&&Object(Ma.jsx)("div",{className:"back-button",children:Object(Ma.jsxs)(er.Button,{className:"button-menu back-button mb-3",type:"button",onClick:function(){return u("start")},"data-testid":"back-button",children:[Object(Ma.jsx)(er.Icon,{name:"left-chevron",width:14,className:"fill icon-orange"}),"Back"]})}),Object(Ma.jsx)(hs.a.Title,{children:Object(Ma.jsx)(ws,{title:h,size:"h2"})})]}),Object(Ma.jsx)(SO,{handleStartClick:function(e){return u(e)},handleSuccessfulIngestion:a,modalContentType:d,pbiItems:c,projectId:o,ingestedPowerPointGroups:i})]})},DO=function(e){var t=e.cell;return Fd(new Date(t.value))},RO=(n(1300),["libraryItemId","disabled"]),PO=function(e){var t=e.libraryItemId,n=e.disabled,a=Object(Pi.a)(e,RO);return Object(Ma.jsx)(er.Button,Object(b.a)(Object(b.a)({className:"delete-library-item-button button-small","data-testid":"delete-library-item-button-".concat(t),disabled:n},a),{},{children:Object(Ma.jsx)(er.Icon,{name:"delete",className:n?"fill icon-grey-medium":"fill icon-orange",width:"24",height:"24"})}))},MO=1,FO=2,UO=3,BO=function(e){var t=e.projectId,n=e.libraryItemId,a=e.onDelete,c=e.disabled,o=function(e,t,n){var a=Object(r.useState)(!1),c=Object(Cr.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(null),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(null),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),_=f[0],x=f[1],g=Object(r.useRef)(null),v=function(){var n=Object(te.a)(ee.a.mark((function n(){var a;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p){n.next=16;break}return x(!0),n.prev=2,n.next=5,Xu(e,t);case 5:if(a=n.sent,x(!1),!a){n.next=9;break}return n.abrupt("return",m(FO));case 9:return n.abrupt("return",m(MO));case 12:return n.prev=12,n.t0=n.catch(2),x(!1),n.abrupt("return",m(UO));case 16:return n.abrupt("return",null);case 17:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(){return n.apply(this,arguments)}}(),L=function(e){e.preventDefault(),i(!1),m()},C=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o?i(!1):(v(),i(!0)),u(t.target);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var a=Object(te.a)(ee.a.mark((function a(r){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,x(!0),a.next=5,$u(e,t);case 5:return x(!1),i(!1),a.abrupt("return",n&&n());case 10:return a.prev=10,a.t0=a.catch(1),x(!1),a.abrupt("return",m(UO));case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}(),y=Object(h.cond)([[function(){return p===MO},Object(h.constant)({title:"Item in use",description:"This library item cannot be deleted at this time.",close:L})],[function(){return p===FO},Object(h.constant)({title:"Delete this item?",description:"This will remove the file from the platform.",close:L,delete:T})],[function(){return p===UO},Object(h.constant)({title:"An error occured",description:"This library item could not be deleted at this time.",close:L})],[h.stubTrue,Object(h.constant)(null)]]);return{ref:g,target:d,show:o,handleClose:L,handleToggle:C,popoverData:y(),isLoading:_}}(t,n,a),i=o.ref,s=o.target,l=o.show,d=o.handleClose,u=o.handleToggle,j=o.popoverData,b=o.isLoading;return Object(Ma.jsxs)("div",{ref:i,children:[Object(Ma.jsx)(PO,{disabled:c,libraryItemId:n,onClick:u}),Object(Ma.jsx)(wr.default,{show:l,target:s,placement:"left",rootClose:!0,onHide:d,container:i.current,children:Object(Ma.jsxs)(Nr.a,{id:"popover-delete-library-item-".concat(n),"data-testid":"popover-delete-library-item-".concat(n),className:"popover-delete-library-item",children:[j&&Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)(Nr.a.Content,{children:[j.title&&Object(Ma.jsx)(Nr.a.Title,{"data-testid":"popover-title-".concat(n),children:j.title}),j.title&&Object(Ma.jsx)("span",{"data-testid":"popover-description-".concat(n),children:j.description}),(j.close||j.delete)&&Object(Ma.jsxs)("div",{className:"actions-container",children:[j.close&&Object(Ma.jsx)(er.Button,{"data-testid":"popover-close-".concat(n),onClick:j.close,className:"button-outline button-xs close",children:"Close"}),j.delete&&Object(Ma.jsx)(er.Button,{"data-testid":"popover-delete-confirmation-".concat(n),onClick:j.delete,disabled:b,className:"button-xs confirm",children:"Yes, delete"})]})]})}),!j&&b&&Object(Ma.jsx)(Nr.a.Content,{children:Object(Ma.jsx)(er.Loader,{dataTestId:"popover-loader-".concat(n)})})]})})]})},YO=function(e){return Object.values(x.Constants.LIBRARY_ITEM_TYPES).find((function(t){return t.value===e})).displayName};var WO=function(e,t,n,a,r){return[{Header:"Name",accessor:"name",className:"bold-cell title-cell cell",sortType:x.SortUtilities.caseInsensitiveAlphaSort,Cell:function(e){var r=e.row,c=e.state.sortBy,o=r.original,i="library-item-checkbox-".concat(o.id);return Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Checkbox,{id:i,selected:o.selected,dataTestId:"library-item-select-label",onChange:function(){a((function(e){var t=new Set(e);return t.has(o.id)?t.delete(o.id):t.add(o.id),Array.from(t)}));var e=c[0];t(e.id),n(e.desc?"desc":"asc")},label:o.name})})}},{Header:"Date ingested",accessor:"dateCreated",Cell:function(e){var t=e.cell;return Object(Ma.jsx)("span",{"data-testid":"item-date-created",children:t.value?Object(Ma.jsx)(DO,{cell:t}):""})}},{Header:"Type",id:"type",accessor:function(e){return YO(e.type)}},{Header:"",id:"delete",disableSortBy:!0,className:"right-align-cell cell",Cell:function(e){var t=e.row.original;return Object(Ma.jsx)(BO,{projectId:t.projectId,libraryItemId:t.id,onDelete:r,disabled:t.selected})}}]},VO=(n(1301),function(e){var t=e.children;return Object(Ma.jsxs)("div",{className:"empty-library-items-list-card content-container",children:[Object(Ma.jsx)("div",{className:"empty-library-items-list-text",children:"Add analysis data to the library using the Junction Excel add-in, or import the content from PowerPoint and Power BI below."}),t]})});n(1302);var ZO,GO,HO=[{title:"first",description:"Select data"},{title:"second",description:"Edit layout"}],KO=function(e){var t=e.title,n=e.returnUrl,a=e.operationType,c=Mb(),o=Object(Cr.a)(c,2),i=o[0],s=i.currentSections,l=i.nonLaidOutLibraryItems,d=o[1],u=Object(r.useState)(!0),j=Object(Cr.a)(u,2),O=j[0],f=j[1],h=Object(r.useState)([]),_=Object(Cr.a)(h,2),g=_[0],v=_[1],L=Object(r.useState)([]),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(r.useState)("dateCreated"),E=Object(Cr.a)(I,2),w=E[0],N=E[1],A=Object(r.useState)("desc"),S=Object(Cr.a)(A,2),k=S[0],D=S[1],R=Object(r.useState)(function(e,t){return[].concat(Object(m.a)(e.map((function(e){return e.id}))),Object(m.a)(t.flatMap((function(e){return e.items})).map((function(e){return e.id}))))}(l,s)),P=Object(Cr.a)(R,2),M=P[0],F=P[1],U=Object(r.useState)(!1),B=Object(Cr.a)(U,2),Y=B[0],W=B[1],V=Object(p.m)().projectId,Z=Object(p.k)(),G=Object(r.useState)(!1),H=Object(Cr.a)(G,2),K=H[0],q=H[1],z=Object(r.useCallback)(function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu(V);case 2:t=e.sent,n=t.filter((function(e){return e.type!==x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value&&e.type!==x.Constants.LIBRARY_ITEM_TYPES.UNDEFINED.value})),a=t.filter((function(e){return e.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value})),y(a),v(n),f(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[V]);Object(r.useEffect)((function(){f(!0),z()}),[z]);var Q=Object(r.useCallback)(Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,z();case 3:case"end":return e.stop()}}),e)}))),[z]),J=Object(r.useMemo)((function(){return WO(v,N,D,F,Q)}),[v,N,D,F,Q]),X=function(){Z.replace(n)};return Object(Ma.jsx)("form",{"data-testid":"library-item-list-container-form",className:"library-item-list-container",onSubmit:function(e){e.preventDefault();var t=function(e,t,n){var a=n.flatMap((function(e){return e.items})).map((function(e){return e.id})),r=t.filter((function(e){return a.includes(e)})),c=t.filter((function(e){return!r.includes(e)}));return{nonLaidOutLibraryItems:e.filter((function(e){return c.includes(e.id)})),sections:n.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return r.includes(e.id)}))})}))}}(g,M,s),a=t.nonLaidOutLibraryItems,r=t.sections;Ub(a,d),Bb(r,d),Z.replace("".concat(n,"/layout"))},children:Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsxs)(Vj,{children:[Object(Ma.jsx)(er.Button,{className:"button-link button-theme mx-2 mr-4",onClick:X,"data-testid":"cancel-button-top",type:"button",children:"Back to ".concat(a," analysis")}),Object(Ma.jsx)(Kj,{type:"submit",isSaving:!1,isValid:!0,buttonSize:"button-small",buttonPosition:"top",onSaveText:"Adding data to analysis...",standbyText:"Add","data-testid":"publish-button-top"})]}),children:[Object(Ma.jsx)("h1",{children:t}),Object(Ma.jsx)("div",{className:"step-indicator-container",children:Object(Ma.jsx)(er.ProgressSteps,{current:1,steps:HO})}),g.length>0&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("p",{className:"library-item-description twothirds",children:"Choose pre-ingested data or ingest your own using the Excel add-in. You can also import data from Power BI and PowerPoint."}),Object(Ma.jsxs)(er.Button,{className:"button button-no-underline button-theme mb-4 mt-3","data-testid":"ingest-power-bi-button",type:"button",onClick:function(){W(!1),q(!0)},children:[Object(Ma.jsx)(er.Icon,{name:"upload",width:"24",className:"fill icon-orange mr-2"}),"Import data"]})]}),K&&Object(Ma.jsx)(kO,{show:K,handleCancel:function(){return q(!1)},handleSuccessfulIngestion:Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),q(!1),e.next=4,z();case 4:case"end":return e.stop()}}),e)}))),pbiItems:T,projectId:V,ingestedPowerPointGroups:g.filter((function(e){return e.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value})).map((function(e){var t=JSON.parse(e.data);return{driveItemId:t.DriveItemId,slideNumber:t.SlideNumber,groupName:t.GroupName}}))}),Y&&Object(Ma.jsx)(er.Banner,{notice:"success",text:"Data imported successfully.",icon:"checkmark","data-testid":"ingest-success-message"}),O?Object(Ma.jsx)(er.Loader,{dataTestId:"library-item-loading-indicator"}):Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)("div",{"data-testid":"library-item-list-container",children:[0===g.length&&Object(Ma.jsx)(VO,{children:Object(Ma.jsxs)(er.Button,{className:"ui-button button-block import-data","data-testid":"ingest-power-bi-button",type:"button",onClick:function(){W(!1),q(!0)},children:[Object(Ma.jsx)(er.Icon,{name:"upload",width:"24",className:"fill icon-white mr-2"}),"Import data"]})}),g.length>0&&Object(Ma.jsx)($m,{data:g.map((function(e){var t=Object(b.a)({},e);return t.selected=!!M.includes(e.id),t})),columns:J,initialSortColumn:w,initialSortDirection:k,type:"library-item",rowClassFunction:function(e){return e.selected?"row-selected":""}})]})}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:X,"data-testid":"cancel-button-bottom",children:"Back to ".concat(a," analysis")}),Object(Ma.jsx)(Kj,{isSaving:!1,isValid:!0,buttonPosition:"bottom",onSaveText:"Adding data to analysis...",standbyText:"Add and continue"})]})]})})},qO=(n(1303),n(1304),function(e){var t=e.field,n=t.value,a=t.name,c=e.form.setFieldValue,o=e.label,i=e.dataTestId,s=void 0===i?"rte-formik-field-container":i,l=e.config,d=void 0===l?pp:l,u=e.lightModeVariant,j=Object(r.useState)(!1),p=Object(Cr.a)(j,2),m=p[0],O=p[1];return Object(Ma.jsxs)("div",{className:"rte-formik-field textarea-container rte-textarea-container ".concat(n||m?"label-lifted":""," ").concat(m?"focused":"").concat(u?" light-mode-variant":""),"data-testid":s,children:[Object(Ma.jsx)(hp,{richTextData:n,onChange:function(e){c(a,e)},onBlur:function(e,t){O(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){O(!0),t.ui.view.toolbar.element.style.display="block"},label:o,config:Object(b.a)(Object(b.a)({},d),{},{placeholder:null}),isFocused:m}),Object(Ma.jsx)(er.Icon,{name:"edit",className:"fill icon-grey-alt-lighter"})]})}),zO=function(e){var t=e.analysisTitle,n=e.analysisBody,a=e.publishAction,c=e.cancelAction,o=e.formTitle,i=e.appliedTags,s=e.onSaveText,l=e.standbyText,d=e.parentContentId,u=e.sections,j=e.lightModeVariant,m=Object(r.useState)(!1),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(r.useState)(!1),g=Object(Cr.a)(_,2),v=g[0],L=g[1],C=Object(r.useState)({title:""}),T=Object(Cr.a)(C,2),y=T[0],I=T[1],E=Object(r.useState)(i||[]),w=Object(Cr.a)(E,2),N=w[0],A=w[1],S=Object(r.useState)(t),k=Object(Cr.a)(S,2),D=k[0],R=k[1],P=Object(r.useState)(n),M=Object(Cr.a)(P,2),F=M[0],U=M[1],B=Object(r.useState)(!1),Y=Object(Cr.a)(B,2),W=Y[0],V=Y[1],Z=Object(p.n)(),G=Z.path,H=Z.url,K=Rb().currentSections,q=Object(r.useState)(null),z=Object(Cr.a)(q,2),Q=z[0],J=z[1],X=Object(p.m)(),$=X.projectId,ne=X.analysisId,ae=Object(r.useState)(!1),re=Object(Cr.a)(ae,2),ce=re[0],oe=re[1],ie="publish"===f,se=ie||"title"!==me()(f,"fieldName","").toLowerCase()?void 0:f.apiErrorMessage,le=ie||!se?f:void 0;Object(r.useEffect)((function(){tt($).then((function(e){if(ne){var t=Object(b.a)(Object(b.a)({},e),{},{analyses:e.analyses.filter((function(e){return e.contentThreadId!==parseInt(ne,10)}))});J(t)}else J(e)}))}),[ne,$]),Object(r.useEffect)((function(){V(function(e){for(var t=Object.values(e),n=0;n<t.length;n+=1)if(""!==t[n])return!1;return!0}(y))}),[y]);var de=Object(r.useCallback)((function(e){I((function(t){return Object(b.a)(Object(b.a)({},t),{},{title:e})}))}),[]),ue={name:"body",value:F},je=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,h(),e.next=5,a(Mm(D,F,N,K),Q);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),L(!1),h(x.ErrorUtilities.getContentErrorType(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),be=function(e){A(e)};return Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{exact:!0,path:G,children:Object(Ma.jsx)("form",{onSubmit:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,je();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsxs)(Vj,{children:[Object(Ma.jsx)(er.Button,{className:"button-link button-theme mx-2 mr-4",onClick:c,"data-testid":"cancel-button-top",type:"button",children:"Cancel"}),Object(Ma.jsx)(Kj,{isSaving:v,isValid:W,buttonSize:"button-small",buttonPosition:"top",onSaveText:s,standbyText:l})]}),children:[Object(Ma.jsxs)("div",{className:"form-content-wrapper",children:[Object(Ma.jsx)("h1",{children:o}),Object(Ma.jsxs)("div",{className:"input-container".concat(j?" light-mode-variant":""),children:[Object(Ma.jsx)(bb,{label:"Title",name:"title",value:D,validate:Pm,handleValidationChange:de,handleValueChange:R,error:se}),Object(Ma.jsx)(qO,{field:ue,form:{setFieldValue:function(e,t){U(t)}},label:"Description (optional)",dataTestId:"text-area-body",config:Op}),Object(Ma.jsx)(lb,{selectedLibraryItems:K.flatMap((function(e){return e.items})),layoutSaved:ce,isValid:W})]}),Object(Ma.jsxs)("div",{className:"analysis-form-extras",children:[Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(Qs.Formik,{initialValues:{tags:N},enableReinitialize:!0,children:function(){return Object(Ma.jsx)(od,{projectId:$,onSelect:be})}}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(eb,{projectId:$,parentContentId:d,narratives:Q,setNarratives:J})]}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:c,"data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Kj,{isSaving:v,isValid:W,buttonPosition:"bottom",onSaveText:s,standbyText:l})]})]}),le&&Object(Ma.jsx)(Io,{configType:le})]})})}),Object(Ma.jsx)(p.d,{path:"".concat(G,"/library-items"),children:Object(Ma.jsx)(KO,{title:"Add data",returnUrl:H,operationType:ne?"edit":"add"})}),Object(Ma.jsx)(p.d,{path:"".concat(G,"/layout"),children:Object(Ma.jsx)(Jm,{goBackUrl:"".concat(H,"/library-items"),basePageUrl:H,operationType:ne?"edit":"add",setLayoutSaved:oe,initialSections:u,analysisTitle:D,analysisDescription:F,tags:N})})]})},QO=function(){var e=Object(p.k)(),t=Object(p.m)().projectId,n=function(){var n=Object(te.a)(ee.a.mark((function n(a,r){var c;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.links=$e(r,-1),n.next=3,Gs(t,a);case 3:c=n.sent,o=c,e.replace(hc(t,o));case 5:case"end":return n.stop()}var o}),n)})));return function(e,t){return n.apply(this,arguments)}}(),a=[{order:1,layoutType:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,items:[]}];return Object(Ma.jsx)(Fb,{value:{initialSections:a},children:Object(Ma.jsx)(zO,{analysisTitle:"",analysisBody:"",publishAction:n,cancelAction:function(){return e.goBack()},formTitle:"Add an Analysis",appliedTags:[],onSaveText:"Adding...",standbyText:"Add",sections:a,parentContentId:-1})})},JO=function(){var e=Object(p.m)(),t=e.projectId,n=e.analysisId,a=Object(p.k)(),c=Object(r.useState)(null),o=Object(Cr.a)(c,2),i=o[0],s=o[1];Object(r.useEffect)((function(){Ys(t,n).then((function(e){s(e)}))}),[t,n]);var l=function(){return a.replace("/projects/".concat(t,"/analyses/").concat(n,"/view"))},d=function(){var e=Object(te.a)(ee.a.mark((function e(a,r){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.links=$e(r,i.contentId),e.next=3,Hs(t,n,a);case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return i&&Object(Ma.jsx)(Fb,{value:{initialSections:i.sections},children:Object(Ma.jsx)(zO,{projectId:t,analysisTitle:i.title,analysisBody:i.body,publishAction:d,cancelAction:l,formTitle:"Edit Analysis",appliedTags:i.tags?i.tags.map((function(e){return e.text})):[],onSaveText:"Updating...",standbyText:"Update",parentContentId:i.contentId,sections:i.sections})})},XO=Object(O.createAction)("".concat(en,"/viewingToggledUpdated"),(function(e){return{payload:{isViewingToggled:e}}})),$O=Object(O.createAction)("".concat(en,"/processingBegan")),ef=Object(O.createAction)("".concat(en,"/processingEnded")),tf=Object(O.createAction)("".concat(en,"/resetAllToggles")),nf={isProcessing:!1,isViewingToggled:!1},af=Object(O.createReducer)(nf,(ZO={},Object($t.a)(ZO,$O,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isProcessing:!0})})),Object($t.a)(ZO,ef,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isProcessing:!1})})),Object($t.a)(ZO,XO,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isViewingToggled:t.payload.isViewingToggled})})),Object($t.a)(ZO,tf,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isViewingToggled:!1})})),Object($t.a)(ZO,ls,(function(e){return Object(b.a)(Object(b.a)({},e),{},{isViewingToggled:!1})})),Object($t.a)(ZO,kn,(function(){return nf})),ZO)),rf=function(e){return me()(e,[cn,"isProcessing"],!1)},cf=function(e){return me()(e,[cn,"isViewingToggled"],!1)},of=af,sf=Object(O.createAction)("".concat(en,"/resetCalculationDataForDocument"),(function(e){return{payload:{documentCode:e}}})),lf={loadingInProcess:!1,hasError:!1,structuredDocuments:[]},df=Object(O.createSlice)({name:"structuredAnalysisViewSlice",initialState:lf,reducers:{startProcessing:function(e,t){return{loadingInProcess:!0,hasError:!1,structuredDocuments:[]}},processingSucceeded:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{loadingInProcess:!1,hasError:!1,structuredDocuments:t.payload.documentsWithContent})},processingFailed:function(e,t){return{loadingInProcess:!1,hasError:!0,structuredDocuments:[]}}},extraReducers:function(e){e.addCase(kn,(function(){return lf})),e.addCase(sf,(function(e,t){if(!t.payload||!t.payload.documentCode)return e;var n=t.payload.documentCode,a=e.structuredDocuments.filter((function(e){return e.code!==n}));return Object(b.a)(Object(b.a)({},e),{},{structuredDocuments:a})}))}}),uf=df.reducer,jf=df.actions,bf=jf.startProcessing,pf=jf.processingSucceeded,mf=jf.processingFailed,Of=function(e){return e.structuredAnalysisView.loadingInProcess},ff=function(e){return e.structuredAnalysisView.hasError},hf=function(e){return e.structuredAnalysisView.structuredDocuments},_f=function(e){return Object(f.a)(hf,(function(t){return t.find((function(t){return t.code===e}))}))},xf=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=x.DocumentUtilities.getDocumentWithDependencies(n),[r.document].concat(Object(m.a)(r.dependencies)).forEach((function(e){a(sf(e))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),gf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){var n=Object(te.a)(ee.a.mark((function n(a){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.forEach((function(t){xf(e,t,a)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},vf=Object(O.createAction)("".concat(en,"/longDescriptionUpdated"),(function(e,t,n){return{payload:{documentCode:e,shortDescription:t,longDescription:n}}})),Lf=function(e,t){return function(n){return n.longDescriptionsByCode[e][t]}},Cf=Object(O.createReducer)({},(GO={},Object($t.a)(GO,vf,(function(e,t){if(!t.payload||!t.payload.shortDescription||!t.payload.longDescription||!t.payload.documentCode)return e;var n=t.payload,a=n.documentCode,r=n.shortDescription,c=n.longDescription,o=Object(h.cloneDeep)(e)[a]||{};return o[r]=c,Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,o))})),Object($t.a)(GO,sf,(function(e,t){return t.payload&&t.payload.documentCode?(delete e[t.payload.documentCode],e):e})),Object($t.a)(GO,kn,(function(){return{}})),GO)),Tf=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r,c){var o,i,s,l,d=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=d.length>5&&void 0!==d[5]?d[5]:[],e.prev=1,0!==o.length){e.next=4;break}return e.abrupt("return",null);case 4:if(i=o.find((function(e){return e.textKey===c}))){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,Zu(t,i.libraryItemId,a,r);case 9:if(null!==(s=e.sent)){e.next=12;break}return e.abrupt("return",null);case 12:return l={relatedTextKey:c,libraryItemId:i.libraryItemId,data:s.data.richTextData,childrenData:s.childrenData},e.abrupt("return",l);case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),yf=function(e){var t=e.projectId,n=e.libraryItemId,a=e.name,r=e.richTextData,c=e.childItemIds,o="projects/".concat(t,"/LibraryItems/richText/").concat(n),i={name:a,richTextData:r,childItemIds:c};return ke.put(o,i)},If={loading:!1,libraryItemLinks:{},basisOfPresentation:"",selectedAdjustment:"",longDescription:{header:"",subheader:"",childrenData:[],content:{plainText:"",richText:""}},adjustmentMetadata:{libraryItemId:"",relatedTextKey:"",adjustmentGroup:"",adjustmentKey:"",documentCode:"",projectId:"",contentId:"",contentVersionNumber:""}},Ef=Object(O.createSlice)({name:"structuredDocumentDescription",initialState:If,reducers:{loadDescriptionBegin:function(e,t){var n=t.payload,a=n.header,r=n.subheader,c=n.adjustmentGroup,o=n.adjustmentKey,i=n.documentCode,s=n.projectId,l=n.contentId,d=n.contentVersionNumber;e.loading=!0,e.selectedAdjustment=o,e.longDescription.header=a,e.longDescription.subheader=r,e.adjustmentMetadata={libraryItemId:void 0,relatedTextKey:"",adjustmentGroup:c,adjustmentKey:o,documentCode:i,projectId:s,contentId:l,contentVersionNumber:d}},loadDescriptionComplete:function(e,t){var n=t.payload,a=n.content,r=n.childrenData,c=n.libraryItemId,o=n.relatedTextKey;e.loading=!1,e.longDescription.content=a,e.longDescription.childrenData=r,e.adjustmentMetadata.relatedTextKey=o,e.adjustmentMetadata.libraryItemId=c},descriptionResetToBasisOfPresentation:function(e){e.longDescription.header="Basis of Presentation",e.longDescription.subheader="",e.longDescription.content={plainText:e.basisOfPresentation,richText:""},e.longDescription.childrenData=[]},basisOfPresentationSet:function(e,t){e.basisOfPresentation=t.payload},libraryItemLinksSet:function(e,t){e.libraryItemLinks[t.payload.documentCode]=t.payload.libraryItemLinks}},extraReducers:function(e){e.addCase(kn,(function(){return If}))}}),wf=Ef.reducer,Nf=Ef.actions,Af=Nf.loadDescriptionBegin,Sf=Nf.loadDescriptionComplete,kf=Nf.basisOfPresentationSet,Df=Nf.libraryItemLinksSet,Rf=Nf.descriptionResetToBasisOfPresentation,Pf=function(e){return{loading:me()(e,"structuredDocumentDescription.loading",!1),selectedAdjustment:me()(e,"structuredDocumentDescription.selectedAdjustment",""),header:me()(e,"structuredDocumentDescription.longDescription.header",""),subheader:me()(e,"structuredDocumentDescription.longDescription.subheader",""),content:me()(e,"structuredDocumentDescription.longDescription.content",{}),childrenData:me()(e,"structuredDocumentDescription.longDescription.childrenData",[]),relatedTextKey:me()(e,"structuredDocumentDescription.adjustmentMetadata.relatedTextKey",""),libraryItemId:me()(e,"structuredDocumentDescription.adjustmentMetadata.libraryItemId",void 0)}},Mf=function(e,t,n,a,r,c){return function(){var o=Object(te.a)(ee.a.mark((function o(i,s){var l,d,u,j;return ee.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(Af({header:e,subheader:t,adjustmentGroup:e,adjustmentKey:t,documentCode:n,projectId:a,contentId:r,contentVersionNumber:c}));case 2:return l=Lf(n,t)(s()),b=s(),p=n,d=me()(b,"structuredDocumentDescription.libraryItemLinks[".concat(p,"]"),[]),o.next=6,Tf(a,n,r,c,l.adjustmentRowId,d);case 6:u=o.sent,j={content:{plainText:me()(l,"data","")},childrenData:me()(l,"childrenData",[])},u&&(j.relatedTextKey=u.relatedTextKey,j.libraryItemId=u.libraryItemId,j.content={richText:u.data},j.childrenData=u.childrenData),i(Sf(j));case 10:case"end":return o.stop()}var b,p}),o)})));return function(e,t){return o.apply(this,arguments)}}()},Ff=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o,i,s,l,d,u;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=document.createElement("html")).innerHTML=e,c=r.querySelectorAll(".placeholder.ck-widget"),o=[],c.forEach((function(e){return o.push(parseInt(e.getAttribute("id"),10))})),i=Pf(a()),s=i.relatedTextKey,l=i.libraryItemId,j=a(),d=j.structuredDocumentDescription.adjustmentMetadata,u={projectId:d.projectId,libraryItemId:l,name:s,richTextData:e,childItemIds:o},t.prev=8,t.next=11,yf(u);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:return t.next=17,Mf(d.adjustmentGroup,d.adjustmentKey,d.documentCode,d.projectId,d.contentId,d.contentVersionNumber)(n,a);case 17:case"end":return t.stop()}var j}),t,null,[[8,13]])})));return function(e,n){return t.apply(this,arguments)}}()},Uf=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r,c,o){var i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Xi(n,a,r,c);case 3:i=e.sent,o(Df({libraryItemLinks:i,documentCode:a})),e.next=8;break;case 7:o(Df({libraryItemLinks:[],documentCode:a}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),Bf=Object(O.createAction)("".concat(en,"/adjustmentsForDocumentUpdated"),(function(e,t){return{payload:{documentCode:e,adjustments:t}}})),Yf=Object(O.createAction)("".concat(en,"/factsForDocumentUpdated"),(function(e,t){return{payload:{documentCode:e,facts:t}}})),Wf=Object(O.createAction)("".concat(en,"/headerRowIngested"),(function(e,t,n){return{payload:{code:e,headers:t,config:n}}})),Vf=Object(O.createAction)("".concat(en,"/rowIngested"),(function(e,t,n,a){return{payload:{code:e,headers:t,data:n,config:a}}})),Zf=Object(O.createAction)("".concat(en,"/timePeriodMetadataIngested"),(function(e,t){return{payload:{documentCode:e,timePeriodFlags:t}}})),Gf=function(e){return"string"===typeof e||e instanceof String?e.trim():e},Hf=function(e,t,n,a){var r=n.map((function(e){return Gf(t[e])}));return[Gf(e)].concat(Object(m.a)(r),[Gf(a)]).join(tn)},Kf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn;if(e){var n=e.split(t),a=Object(Cr.a)(n,7),r=a[0],c=a[1],o=a[2],i=a[3],s=a[4],l=a[5],d=a[6];return{documentCode:r,adjustmentNumber:c,shortDescription:o,adjustmentType:i,adjustmentCategory:s,trialBalanceAccount:l,timePeriod:d}}return e},qf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn;if(e){var n=e.split(t),a=Object(Cr.a)(n,6),r=a[0],c=a[1],o=a[2],i=a[3],s=a[4],l=a[5];return{documentCode:r,uniqueAccountId:c,shortDescription:o,aggregator:i,ebitdaFlag:s,timePeriod:l}}return e},zf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e[t];return void 0===a?n:a},Qf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e[t];return void 0===a?(e[t]=n,e[t]):a},Jf=function(e,t,n,a){return t.reduce((function(t,r){var c=e.slice(n.summableColumnStartIndex),o=r.slice(0,n.summableColumnStartIndex);return r.slice(n.summableColumnStartIndex).forEach((function(e,r){if(""!==c[r]){var i=Hf(a,o,n.keyPositions,c[r]);a===x.Constants.DEBT_AND_DEBT_LIKE&&(i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn,n=e.split(t),a=Object(Cr.a)(n,7),r=a[0],c=a[1],o=a[2],i=a[3],s=a[4],l=a[5],d=a[6],u=i;return tu(i)&&(u=vn),au(i)&&(u=Ln),cu(i)&&(u=Tn),"".concat(r).concat(t).concat(c).concat(t).concat(o).concat(t).concat(u).concat(t).concat(s).concat(t).concat(l).concat(t).concat(d)}(i));var s=Kf(i),l=s.shortDescription,d=s.adjustmentType,u=s.adjustmentNumber,j=Qf(t,d);Qf(j,"".concat(u," ").concat(l))[i]=e}})),t}),{})},Xf=function(e,t,n,a){return t.reduce((function(t,r){var c=e.slice(n.summableColumnStartIndex),o=r.slice(0,n.summableColumnStartIndex);return r.slice(n.summableColumnStartIndex).forEach((function(e,r){if(""!==c[r]){var i=Hf(a,o,n.keyPositions,c[r]),s=qf(i).aggregator;Qf(t,s)[i]=e}})),t}),{})},$f=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c,o,i,s,l,d;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r($O()),c=n.values,o=c[a.rawDataHeaderRowIndex],i=c.slice(a.rawDataHeaderRowIndex+1),r(Wf(t,o,a)),a.metadata&&(s=Ol(a.metadata,a.summableColumnStartIndex,c,a.rawDataHeaderRowIndex),r(Zf(t,s))),i.forEach((function(e){var n=Vf(t,o,e,a);r(n)})),a.rowType===_n&&(l=Jf(o,i,a,t),r(Bf(t,l))),"fact"===a.rowType&&(d=Xf(o,i,a,t),r(Yf(t,d)));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),eh=function(e,t,n,a){return"".concat(e,"_").concat(t,"_").concat(n,"_").concat(a)},th=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("_");return 4!==t.length?"":{code:t[0],group:t[1],number:t[2],name:t[3]}},nh=function(e,t){var n=th(e),a=th(t);return{sourceDocumentCode:n.code,sourceAdjustmentType:n.group,sourceAdjustmentNumber:parseInt(n.number,10),sourceAdjustmentName:n.name,targetDocumentCode:a.code,targetAdjustmentType:a.group,targetAdjustmentNumber:parseInt(a.number,10),targetAdjustmentName:a.name}},ah=function(e){return"projects/".concat(e,"/structuredAnalysisAdjustmentLinks")},rh=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nh(n,a),e.next=3,ke.post("".concat(ah(t)),r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ch=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.delete("".concat(ah(t),"/").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return!Boolean(t.find((function(t){return t.id===e.id})))}))},ih=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,r,c,o,i=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2&&void 0!==i[2]?i[2]:[],r=i.length>3?i[3]:void 0,c=a.filter((function(e){return void 0===e.id&&void 0!==e.newId})),o=oh(n,a),(c.length>0||o.length>0)&&r(tf()),e.next=8,Promise.all([].concat(Object(m.a)(o.map((function(e){return ch(t,e.id)}))),Object(m.a)(c.map((function(e){return rh(t,e.sourceAdjustment,e.targetAdjustment)})))));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sh=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.get("".concat(ah(t),"/").concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),lh=Object(O.createAction)("".concat(en,"/addLinkedAdjustment"),(function(e,t){return{payload:{documentCode:e,linkedAdjustments:t}}})),dh=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sh(t,n);case 2:r=e.sent,a(lh(n,r));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),uh=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map((function(e){return qi(t,e.content.contentThreadId)})));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jh=function(e,t){return e.map((function(e){var n=t.find((function(t){return t.analysisId===e.content.contentThreadId}));return Object(b.a)(Object(b.a)({},e),{},{versions:n?n.data:[]})}))},bh=function(e){return e.map((function(e){var t=Object(b.a)({},e);return delete t.rawCellData,t}))},ph=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uf(!0,t,n.code,n.content.contentThreadId,n.content.versionNumber,a);case 2:return e.next=4,dh(t,n.code,a);case 4:return e.next=6,$f(n.code,JSON.parse(n.rawCellData),n.configurationValues,a);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),mh=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c,o,i,s,l;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(bf()),c=[],a.prev=2,a.next=5,Ji(e,n);case 5:c=a.sent,a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(2),r(mf()),a.abrupt("return");case 12:if(o=c.find((function(e){return e.code===t}))){a.next=16;break}return r(mf()),a.abrupt("return");case 16:return a.next=18,uh(e,c);case 18:return i=a.sent,s=jh(c,i),a.next=22,Promise.all(s.map(function(){var t=Object(te.a)(ee.a.mark((function t(n){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ph(e,n,r));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 22:l=bh(s),r(kf(o.content.body)),r(Rf()),r(ko(o.content.versionNumber)),r(pf({documentsWithContent:l}));case 27:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()},Oh=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a){var r=[{code:x.Constants.QUALITY_OF_EARNINGS,fetchLibraryItems:!0},{code:x.Constants.REPORTED_INCOME_STATEMENT,fetchLibraryItems:!1},{code:x.Constants.DEBT_AND_DEBT_LIKE,fetchLibraryItems:!0},{code:x.Constants.NET_WORKING_CAPITAL,fetchLibraryItems:!0},{code:x.Constants.BALANCE_SHEET,fetchLibraryItems:!1}];a(gf(e,r.map((function(e){return e.code})))),a(mh(e,t,n))}},fh=function(e){var t=Object(s.useDispatch)(),n=Object(p.k)(),a=Object(p.m)().projectId,c=Ps.a.parse(Object(p.l)().search),o=me()(c,"adjustmentType",null),i=me()(c,"adjustmentName",null),l=ue.isClientUser(),d=Object(s.useSelector)(ps),u=Object(s.useSelector)(ff),j=Object(r.useState)(!1),b=Object(Cr.a)(j,2),m=b[0],O=b[1],f=Object(r.useState)(!1),h=Object(Cr.a)(f,2),_=h[0],g=h[1],v=Object(s.useSelector)(ii),L=Object(s.useSelector)(rf),C=Object(s.useSelector)(bs),T=!!l,y=Object(r.useState)(T),I=Object(Cr.a)(y,2),E=I[0],w=I[1],N=Object(s.useSelector)(Of),A=Object(s.useSelector)(_f(e)),S=Object(r.useState)(1),k=Object(Cr.a)(S,2),D=k[0],R=k[1],P=Object(r.useCallback)((function(){return R((function(e){return e+1}))}),[R]);Object(r.useEffect)((function(){P()}),[v,P]);var M=Object(r.useCallback)(Object(te.a)(ee.a.mark((function n(){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Oh(a,e,E));case 2:O(!0);case 3:case"end":return n.stop()}}),n)}))),[t,e,a,E]);Object(r.useEffect)((function(){M()}),[M]);var F=gj((function(){L||w(!0)}),(function(){L||w(!1)}),A&&A.versions,A&&A.content.versionNumber,A&&A.content.versionStatus),U=function(){var t=Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,es(a,e);case 2:n.push(bc(a));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var n=Object(te.a)(ee.a.mark((function n(){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(T),n.next=3,t(fs(a,e));case 3:return n.next=5,M();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Y=A?A.versions:[],W=xj(Oj,function(){var e=Object(te.a)(ee.a.mark((function e(n,a,r){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns(n,a,r);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),x.ErrorUtilities.hasLibraryItemCorruptedError(e.t0)?t(fu({itemId:a,moreMenuErrorType:x.Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED})):t(fu({itemId:a,moreMenuErrorType:x.Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE})),e.abrupt("return");case 9:return e.next=11,M();case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),a,A&&A.content.contentThreadId,A&&A.content,Y),V=l||F.isOnClientVersion,Z=u||d,G=!m||N||L||C.length>0,H=me()(A,"content",void 0);return{dispatch:t,projectId:a,targetAdjustmentType:o,targetAdjustmentName:i,hasError:Z,analysis:H,isConfirmVisible:_,setIsConfirmVisible:g,isLoading:G,versions:Y,chartKey:D,incrementChartKey:P,viewClient:F,handleEdit:function(){n.push(xc(a,nc[e]))},handleDelete:U,handleRefresh:B,workflowActions:W,isClientView:V}},hh=(n(1305),function(e){var t=e.sourceText;return Object(Ma.jsxs)("div",{className:"source-display","data-testid":"source-display",children:["Source: ",t]})}),_h=function(e){var t=e.projectId,n=e.contentId,a=e.classModifier,c=Object(r.useState)(null),o=Object(Cr.a)(c,2),i=o[0],s=o[1];return Object(r.useEffect)((function(){return t&&n&&function(){var e=Object(te.a)(ee.a.mark((function e(){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(t,n);case 2:a=e.sent,s(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return s(null)}}),[t,n]),i&&Object.values(i).some((function(e){return e.length}))?Object(Ma.jsxs)("div",{className:"connected-content ".concat(a),"data-testid":"connected-content",children:[Object(Ma.jsx)("div",{className:"connected-content-title",children:"Connected content"}),Object(Ma.jsxs)("div",{className:"linked-narratives","data-testid":"linked-narratives",children:[Object(Ma.jsx)(dl,{title:"Key Focus Areas",narratives:i.hypotheses,getViewPath:function(e){return oc(t,e)},setNarratives:s,projectId:t}),Object(Ma.jsx)(dl,{title:"Insights",narratives:i.insights,getViewPath:function(e){return dc(t,e)},setNarratives:s,projectId:t}),Object(Ma.jsx)(dl,{title:"Analyses",narratives:i.analyses,getViewPath:xl(i.analyses,t),setNarratives:s,projectId:t})]})]}):null},xh=(n(1306),function(e){var t=e.text;return Object(Ma.jsx)("div",{className:"notes-display","data-testid":"notes-display",children:t&&"Notes: ".concat(t)})}),gh=n(91),vh=n.n(gh),Lh=n(619),Ch=n.n(Lh),Th=n(78),yh=n.n(Th),Ih=function(e){return me()(e,"adjustmentTogglesByDocument",{})},Eh=function(e){return Object(f.a)(Ih,(function(t){return me()(t,e,{})}))},wh=Eh(x.Constants.QUALITY_OF_EARNINGS),Nh=Eh(x.Constants.NET_WORKING_CAPITAL),Ah=Eh(x.Constants.DEBT_AND_DEBT_LIKE),Sh=Object(f.a)(Ih,(function(e){return yh()(ze.a,vh()(ze.a),vh()(ze.a),Ch()((function(e){return!1===e.active})))(e).length>0})),kh=(n(1337),function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)(Sh),n=Object(s.useSelector)(cf);return t?Object(Ma.jsxs)("div",{className:"client-manipulation-bar","data-testid":"client-manipulation-bar",children:[Object(Ma.jsx)(Da.b,{children:Object(Ma.jsx)("body",{"data-appbanner":n?"open":"closed"})}),Object(Ma.jsxs)("div",{className:"toggles",children:[Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Switch to your\n  modifications",dataTestId:"your-view-tooltip",children:Object(Ma.jsx)("button",{className:nr()(n?"active your-view":null),type:"button","data-testid":"your-view-toggle",onClick:function(){return e(XO(!0))},children:"Your View"})}),Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Switch to the default\n  figures proposed by PwC",dataTestId:"view-default-tooltip",children:Object(Ma.jsx)("button",{type:"button",className:nr()(n?null:"active pwc-default"),"data-testid":"view-default-toggle",onClick:function(){return e(XO(!1))},children:"PwC Default"})})]}),Object(Ma.jsx)("button",{className:"reset-all",type:"button","data-testid":"toggle-reset-all",onClick:function(){return e(tf())},children:"Reset All"})]}):null});var Dh={language:"en",licenseKey:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",toolbar:{items:[]}},Rh=function(e){var t=e.richTextData,n=e.childrenData,a=void 0===n?[]:n,c=Object(r.useState)(null),o=Object(Cr.a)(c,2),i=o[0],s=o[1];return Object(r.useEffect)((function(){i&&function(e,t,n){e.isReadOnly=!1,n.forEach((function(t){e.execute("registerLibraryItem",{id:t.id,rendered:t.htmlData})})),e.setData(t),e.isReadOnly=!0}(i,t,a)}),[t,a,i]),Object(Ma.jsx)("div",{className:"text-input-fieldset fieldset",children:Object(Ma.jsx)("div",{"data-testid":"ckEditor",className:"text-input-container basic",children:Object(Ma.jsx)(No.a,{editor:Eo.ClassicEditor,onInit:s,config:Dh})})})},Ph=function(e){var t=e.richTextData,n=e.childrenData;return n.length>0?Object(Ma.jsx)("div",{className:"description-body",children:Object(Ma.jsx)(Rh,{richTextData:t,childrenData:n})}):Object(Ma.jsx)("div",{"data-testid":"description-with-innerhtml",className:"description-body",dangerouslySetInnerHTML:{__html:Qa(t)}})};Ph.defaultProps={richTextData:"",childrenData:[]};var Mh=Ph,Fh=["onClick","children","element"],Uh=function(e){var t=e.onClick,n=e.children,a=e.element,c=void 0===a?"div":a,o=Object(Pi.a)(e,Fh),i=Object(r.useRef)(null),s=c;function l(e){i.current&&!i.current.contains(e.target)&&t(e)}return Object(r.useEffect)((function(){return document.addEventListener("mousedown",l),function(){document.removeEventListener("mousedown",l)}})),Object(Ma.jsx)(s,Object(b.a)(Object(b.a)({ref:i},o),{},{children:n}))},Bh=(n(1338),function(e){var t=e.isViewingSharedVersion,n=e.lightModeVariant,a=Object(s.useDispatch)(),c=Object(s.useSelector)(Pf),o=c.header,i=c.subheader,l=c.content,d=c.childrenData,u=c.loading,j=Object(s.useSelector)(ua),b=Object(r.useState)(!1),p=Object(Cr.a)(b,2),m=p[0],O=p[1],f=!!l.richText&&l.richText.length>0,h=Object(r.useState)(f?l.richText:""),_=Object(Cr.a)(h,2),x=_[0],g=_[1],v=Object(r.useState)(!1),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=function(){a(Ff(x)),O(!1)},I=!u&&!m&&!t&&f;return Object(Ma.jsx)(Uh,{onClick:function(){return O(!1)},children:Object(Ma.jsxs)("div",{id:"analysisDescription","aria-live":"polite",children:[Object(Ma.jsx)("div",{className:"description-header",role:"heading","aria-level":"3",children:o}),i&&Object(Ma.jsxs)("div",{className:"description-subheader",role:"heading","aria-level":"4",children:[Object(Ma.jsx)("div",{children:i}),Object(Ma.jsx)(mo,{projectId:j,permissions:["Contribute"],children:I&&Object(Ma.jsx)(er.Button,{className:"button-menu",onClick:function(){return O(!0)},"data-testid":"icon-button-edit",children:Object(Ma.jsx)(er.Icon,{name:"pencil",width:"16",className:"sr2 fill icon-orange"})})})]}),u?Object(Ma.jsx)(er.Loader,{dataTestId:"analysis-description-loader"}):m?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"".concat(n?" light-mode-variant":""),children:Object(Ma.jsx)(hp,{richTextData:l.richText,onChange:g,label:"Adjustment Description",onBlur:function(e,t){T(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){T(!0),t.ui.view.toolbar.element.style.display="block"},isFocused:C})}),Object(Ma.jsxs)("div",{className:"edit-button-container",children:[Object(Ma.jsx)(er.Button,{"data-testid":"cancel-button",className:"button-link mx-2 mr-4",onClick:function(){return O(!1)},children:"Cancel"}),Object(Ma.jsx)(er.Button,{"data-testid":"save-button",className:"button-block button-small",onClick:y,children:"Update"})]})]}):Object(Ma.jsx)(Mh,{richTextData:l.richText||l.plainText,childrenData:d})]})})}),Yh=(n(1339),function(){return Object(Ma.jsxs)("section",{className:"structured-analysis-error","data-testid":"structured-analysis-error",children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Icon,{className:"fill icon-orange",width:"64",name:"search-error"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)("h1",{children:"Error Loading"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsxs)("h2",{children:["Unable to load data,",Object(Ma.jsx)("br",{}),"refresh the page to try again"]})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)("button",{className:"ui-button",type:"button",onClick:function(){return window.location.reload()},children:"Reload Page"})})]})}),Wh=function(e){var t=e.title,n=e.projectId,a=e.analysis,r=e.isOnClientVersion;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(ws,{title:t}),Object(Ma.jsx)(Uj,{projectId:n,content:a,className:"analysis-pill-container",allowDraftPill:!r})]})};Wh.defaultProps={isOnClientVersion:!1};var Vh,Zh=Wh,Gh=n(214),Hh=n.n(Gh),Kh=n(215),qh=n.n(Kh),zh=n(216),Qh=n.n(zh),Jh=n(252),Xh=n.n(Jh),$h=function(e){return function(t){var n=t.accessibility.description.replace("'",""),a=Wd(t.y,{formatForScreenReader:!0,decimalCount:e});return"".concat(n," ").concat(a)}},e_=function(e){return"".concat(e/16,"rem")},t_=function(e){var t=$h(e);return{chart:{backgroundColor:u.getOptions().colors[6],height:300,styledMode:!1,borderRadius:2,spacing:[24,24,24,24]},accessibility:{announceNewData:{enabled:!0,interruptUser:!0,minAnnounceInterval:4e3},point:{descriptionFormatter:t}},caption:{text:""},title:{text:"",align:"left",useHTML:!0,style:{color:u.getOptions().colors[4],fontSize:e_(22),fontFamily:"Helvetica",fontWeight:"bold"}},subtitle:{text:"",align:"left",style:{color:u.getOptions().colors[5]}},credits:{enabled:!1},xAxis:{title:{text:""},labels:{style:{color:u.getOptions().colors[7],fontSize:e_(16)}}},yAxis:{visible:!1},legend:{enabled:!1},tooltip:{enabled:!1},series:[{data:[]}]}},n_=function(e){var t=t_(e);return t.title.text="Adjusted Net Working Capital",t.title.margin=30,t.chart.type="line",t.legend={enabled:!0,itemStyle:{color:u.getOptions().colors[4]}},t.plotOptions={line:{marker:{enabled:!1}}},t.xAxis={labels:Object(b.a)(Object(b.a)({},t.xAxis),{},{y:24,style:{color:u.getOptions().colors[7],fontSize:e_(12)}}),lineWidth:0},t.yAxis={title:{text:""},labels:{format:"{value}",style:{color:u.getOptions().colors[7],fontSize:e_(12)}},tickAmount:5,gridLineColor:u.getOptions().colors[8]},t},a_=function(e,t,n,a){var r=Wd(t,{decimalCount:n,formatForScreenReader:!1}),c="font-family: Helvetica; font-size: ".concat(e_(12),"; color: ").concat(a,";");return'<span style="'.concat("font-family: Helvetica;",'">').concat(r,'</span><br /><span style="').concat(c,'">').concat(e,"</span>")},r_=function(e,t,n,a,r,c,o){return{name:a_(e,t,n,c),x:o,y:t,isSum:r,accessibility:{description:e},color:a}},c_=["#1C1C1C","#2f7cf8","#03c6f7","#ffb600","var(--chart-text-color)","var(--chart-secondary-color)","var(--chart-background-color)","var(--chart-axis-label-color)","var(--chart-grid-line-color)"],o_=["#1C1C1C","var(--chart-bar-blue)","var(--chart-bar-gold)","var(--chart-bar-desert-rose)","var(--chart-text-color)","var(--chart-secondary-color)","var(--chart-background-color)","var(--chart-axis-label-color)","var(--chart-grid-line-color)"],i_=function(e){return me()(e,ln,{})},s_=function(e){return me()(e,"timePeriodMetadataByDocument",{})},l_=function(e){return Object(f.a)(i_,(function(t){return me()(t,e,[])}))},d_=l_(x.Constants.QUALITY_OF_EARNINGS),u_=l_(x.Constants.NET_WORKING_CAPITAL),j_=l_(x.Constants.DEBT_AND_DEBT_LIKE),b_=(Vh=x.Constants.NET_WORKING_CAPITAL,Object(f.a)(s_,(function(e){return me()(e,Vh,{})}))),p_=Object(f.a)(b_,(function(e){return me()(e,[dn,"tableViewDisplayColumns"],[])})),m_=Object(f.a)(b_,(function(e){return me()(e,[dn,"chartViewDisplayColumns"],[])})),O_=function(e,t){return e.filter((function(e,n){return t[n]}))},f_=Object(f.a)(u_,p_,O_),h_=Object(f.a)(u_,m_,O_),__=function(e){return me()(e,"".concat(sn,".").concat(jn),{})},x_=function(e){return me()(e,"".concat(sn,".").concat(pn),{})},g_=function(e){return me()(e,"".concat(sn,".").concat(On),{})},v_=function(e){return me()(e,"".concat(sn,".").concat(fn),{})},L_=Object(f.a)(u_,g_,v_,(function(e,t,n){return e.reduce((function(e,a){var r=t[a],c=n[a],o=parseFloat(r)+parseFloat(c),i=pl()(o)?o:void 0;return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,i))}),{})})),C_=function(e,t){return e===hn?t:function(e){var t=parseFloat(e);return pl()(t)}(t)?fl(e)+fl(t):e},T_=n(331),y_=n.n(T_),I_=(n(620),n(157)),E_=n.n(I_),w_=function(e){var t=e.toLowerCase();return!("other consideration"===t||"other considerations"===t)},N_=Object(f.a)((function(e){return e.adjustmentSumsByDocument}),(function(e){return e.toggledAdjustmentSumsByDocument}),cf,(function(e,t,n){return n?t:e})),A_=function(e){return e.adjustmentsByDocument},S_=function(e){return Object(f.a)(N_,(function(t){return me()(t,e,{})}))},k_=function(e){return Object(f.a)(N_,(function(t){var n,a=me()(t,"".concat(e,".").concat(on),{}),r=E_()(a,(function(e,t){return t!==nn}));return n=r,E_()(n,(function(e,t){return w_(t)}))}))},D_=function(e){return Object(f.a)(N_,(function(t){var n,a=me()(t,"".concat(e,".").concat(on),{}),r=E_()(a,(function(e,t){return t!==nn}));return n=r,E_()(n,(function(e,t){return!w_(t)}))}))},R_=function(e){return Object(f.a)(A_,(function(t){var n=me()(t,e,{}),a=[];return be()(n).forEach((function(t){return be()(n[t]).forEach((function(n){var r=n.indexOf(" "),c=n.substring(0,r).trim(),o=n.substring(r).trim();a.push({value:eh(e,t,c,o),label:"".concat(c," ").concat(o)})}))})),a}))},P_=k_(x.Constants.QUALITY_OF_EARNINGS),M_=D_(x.Constants.QUALITY_OF_EARNINGS),F_=function(e){return Object(f.a)(N_,(function(t){return me()(t,"".concat(e,".").concat(mn,".").concat(nn),{})}))}(x.Constants.QUALITY_OF_EARNINGS),U_=R_(x.Constants.QUALITY_OF_EARNINGS),B_=S_(x.Constants.NET_WORKING_CAPITAL),Y_=R_(x.Constants.NET_WORKING_CAPITAL),W_=R_(x.Constants.DEBT_AND_DEBT_LIKE),V_=function(e,t,n){return be()(e).reduce((function(a,r){var c,o=e[r].totals,i=be()(o).reduce((function(e,n){return void 0!==t[n]&&(t[n]+=fl(o[n]),e[n]=t[n]),e}),{});return a[r]=(c={},Object($t.a)(c,an,n(r)),Object($t.a)(c,nn,i),c),a}),{})},Z_=Object(f.a)(d_,P_,x_,(function(e,t,n){var a=e.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t,n[t]))}),{});return V_(t,a,Qd)})),G_=k_(x.Constants.NET_WORKING_CAPITAL),H_=D_(x.Constants.NET_WORKING_CAPITAL),K_=D_(x.Constants.DEBT_AND_DEBT_LIKE),q_=Object(f.a)(u_,G_,L_,(function(e,t,n){var a=e.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t,n[t]))}),{});return V_(t,a,Jd)})),z_=Object(f.a)(u_,B_,L_,(function(e,t,n){return e.reduce((function(e,a){var r=me()(t,[on,nn,a],{}),c=n[a],o=parseFloat(fl(r))+parseFloat(c),i=pl()(o)?o:void 0;return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,i))}),{})})),Q_=Object(f.a)(h_,z_,(function(e,t){return e.reduce((function(e,n){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},n,t[n]))}),{})})),J_=S_(x.Constants.DEBT_AND_DEBT_LIKE),X_=function(e,t){var n=E_()(e,(function(e,n){return n===t}));return Eu()(n)?function(e){return Object($t.a)({},e,Object($t.a)({},nn,{}))}(t):n},$_=function(e,t){var n=me()(e,[on],{}),a=E_()(n,(function(e,t){return t!==nn}));return X_(a,t)},ex=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(f.a)(A_,(function(t){var n=[];return e.forEach((function(e){var a=me()(t,e,{}),r=yh()(ze.a,y_()(be.a),Ke.a)(a).map((function(t){var n=t.indexOf(" "),a=t.substring(0,n).trim(),r=t.substring(n).trim();return{documentCode:e,adjustmentNumber:a,adjustmentName:r}}));n=n.concat(r)})),n}))}([x.Constants.QUALITY_OF_EARNINGS,x.Constants.NET_WORKING_CAPITAL,x.Constants.DEBT_AND_DEBT_LIKE]),Object(f.a)(J_,(function(e){return $_(e,vn)}))),tx=Object(f.a)(J_,(function(e){return $_(e,Ln)})),nx=Object(f.a)(J_,(function(e){return $_(e,Tn)})),ax=Object(f.a)(j_,ex,tx,(function(e,t,n){return e.reduce((function(e,a){var r=me()(t,[vn,nn,a],void 0),c=me()(n,[Ln,nn,a],void 0),o=parseFloat(fl(r))+parseFloat(fl(c));return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,o))}),{})})),rx=Object(f.a)(j_,ax,nx,(function(e,t,n){return e.reduce((function(e,a){var r=me()(t,[a],void 0),c=me()(n,[Tn,nn,a],void 0),o=r+parseFloat(fl(c));return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,o))}),{})})),cx=function(e){var t=be()(e);return t.map((function(n,a){return{adjustmentType:n,adjustments:e[n],isLastGroup:a===t.length-1}}))},ox=Object(f.a)(P_,cx),ix=Object(f.a)(M_,cx),sx=Object(f.a)(G_,cx),lx=Object(f.a)(H_,cx),dx=Object(f.a)(ex,cx),ux=Object(f.a)(tx,cx),jx=Object(f.a)(nx,cx),bx=Object(f.a)(K_,cx),px=Object(f.a)(N_,(function(e){return me()(e,[x.Constants.QUALITY_OF_EARNINGS,on,nn],{})})),mx=Object(f.a)((function(e){return me()(e,"".concat(sn,".").concat(pn),{})}),px,(function(e){return me()(e,"".concat(ln,".").concat(x.Constants.QUALITY_OF_EARNINGS),[])}),(function(e,t,n){return a=e,r=t,n.reduce((function(e,t){var n=C_(r[t],a[t]);return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t,n))}),{});var a,r})),Ox=Object(f.a)(d_,__,F_,(function(e,t,n){return e.reduce((function(e,a){var r=me()(n,a,0),c=me()(t,a,0),o=(r=pl()(r)?r:0)+(c=pl()(c)?c:0);return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,o))}),{})})),fx=Object(f.a)(d_,__,x_,(function(e,t,n){return e.reduce((function(e,a){var r=t[a],c=n[a],o=parseFloat(c)/parseFloat(r),i=pl()(o)?o:void 0;return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,i))}),{})})),hx=Object(f.a)(d_,Ox,mx,(function(e,t,n){return e.reduce((function(e,a){var r=t[a],c=n[a],o=parseFloat(c)/parseFloat(r),i=pl()(o)?o:void 0;return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,i))}),{})})),_x=(n(1341),function(){Qh()(u),qh()(u),u.setOptions({colors:o_});var e=Object(r.useState)(function(e){var t=t_(e);return t.title.text="EBITDA Adjustment Bridge",t.chart.type="waterfall",t.chart.height=380,t.chart.marginTop=80,t.chart.spacing=[0,0,0,0],t.xAxis.min=.5,t.xAxis.type="category",t.xAxis.labels.align="left",t.xAxis.labels.style.color=u.getOptions().colors[4],t.xAxis.lineColor=u.getOptions().colors[8],t.xAxis.style={color:u.getOptions().colors[4]},t.series=[{upColor:u.getOptions().colors[2],color:u.getOptions().colors[3],data:[],borderWidth:0,lineColor:u.getOptions().colors[4],pointPadding:0}],t.responsive={rules:[{condition:{maxWidth:500},chartOptions:{xAxis:{labels:{align:"right",x:25,rotation:-60,overflow:"allow"}}}},{condition:{maxWidth:300},chartOptions:{chart:{marginTop:85}}}]},t.plotOptions={waterfall:{pointPlacement:.25}},t}(0)),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(s.useSelector)(pa,s.shallowEqual),o=Object(s.useSelector)(d_),i=Object(s.useSelector)(x_),l=Object(s.useSelector)(mx),d=Object(s.useSelector)(P_);return Object(r.useEffect)((function(){var e=function(e,t,n,a,r,c,o){var i=Xh()(e),s=0,l=me()(t,i,0),d=r_(pn,l,c,r,!1,o,s),u=be()(a).map((function(e){var t=me()(a,[e,nn,i],0);return Object(h.isNumber)(t)||(t=0),r_(e,t,c,null,!1,o,s+=1)}));s+=1;var j=me()(n,i,0),b=r_("Adjusted EBITDA",j,c,r,!0,o,s);return[d].concat(Object(m.a)(u),[b])}(o,i,l,d,u.getOptions().colors[1],c.financialsDecimalCount,u.getOptions().colors[7]),t=Xh()(o),n="".concat(t," - ").concat(Hd(c)),r=$h(c.financialsDecimalCount);a({series:[{data:e}],xAxis:{max:e.length-1+.25},subtitle:{text:n},accessibility:{point:{descriptionFormatter:r}}})}),[c,o,i,l,d]),Object(Ma.jsx)("div",{className:"bridge-chart-container",children:Object(Ma.jsx)(Hh.a,{highcharts:u,options:n})})}),xx=function(e){return e.linkedAdjustmentsByDocument},gx=function(e){return Object(f.a)(xx,A_,(function(t,n){var a=me()(t,e,[]),r=function(e){return function(t){var n=t.sourceDocumentCode,a=t.sourceAdjustmentType,r=t.sourceAdjustmentNumber,c=t.sourceDisplayName,o=t.targetDocumentCode,i=t.targetAdjustmentType,s=t.targetAdjustmentNumber,l=t.targetDisplayName;return{source:e===n?{documentCode:n,adjustmentType:a,adjustmentNumber:r,adjustmentDisplayName:c}:{documentCode:o,adjustmentType:i,adjustmentNumber:s,adjustmentDisplayName:l},target:e===n?{documentCode:o,adjustmentType:i,adjustmentNumber:s,adjustmentDisplayName:l}:{documentCode:n,adjustmentType:a,adjustmentNumber:r,adjustmentDisplayName:c}}}}(e);return a.map(r).map((function(e){return function(e,t){var n=e.source,a=n.documentCode,r=n.adjustmentType,c=n.adjustmentDisplayName,o=e.target,i=o.documentCode,s=o.adjustmentType,l=o.adjustmentDisplayName,d=me()(t,[a,r,c],null),u=me()(t,[i,s,l],null);return Object(b.a)(Object(b.a)({},e),{},{isSourceBroken:null===d,isTargetBroken:null===u})}(e,n)})).filter((function(e){return!e.isSourceBroken})).map((function(e){return{source:e.source,target:Object(b.a)(Object(b.a)({},e.target),{},{queryString:e.isTargetBroken?null:Ps.a.stringify({adjustmentType:e.target.adjustmentType,adjustmentName:e.target.adjustmentDisplayName})}),isBroken:e.isTargetBroken}}))}))},vx=gx(x.Constants.QUALITY_OF_EARNINGS),Lx=gx(x.Constants.NET_WORKING_CAPITAL),Cx=gx(x.Constants.DEBT_AND_DEBT_LIKE),Tx=n(621),yx=n.n(Tx),Ix=n(431),Ex=n.n(Ix),wx=n(622),Nx=n.n(wx),Ax=n(623),Sx=n.n(Ax),kx=Object(O.createAction)("".concat(en,"/adjustmentToggled"),(function(e,t,n,a){return{payload:{documentCode:e,adjustmentType:t,adjustmentName:n,active:a}}})),Dx=function(e,t){var n=t.filter((function(t){return a=t,(n=e).documentCode===a.sourceDocumentCode&&n.adjustmentName===a.sourceDisplayName||function(e,t){return e.documentCode===t.targetDocumentCode&&e.adjustmentName===t.targetDisplayName}(e,t);var n,a})).reduce((function(e,t){var n;return e.push.apply(e,Object(m.a)([{documentCode:(n=t).sourceDocumentCode,adjustmentType:n.sourceAdjustmentType,adjustmentName:n.sourceDisplayName},{documentCode:n.targetDocumentCode,adjustmentType:n.targetAdjustmentType,adjustmentName:n.targetDisplayName}])),e}),[]);return{rootAdjustment:e,relatedLinks:n}},Rx=function(e,t){var n=e.find((function(e){return e.rootAdjustment.documentCode===t.documentCode&&e.rootAdjustment.adjustmentType===t.adjustmentType&&e.rootAdjustment.adjustmentName===t.adjustmentName}));return Boolean(n)},Px=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Dx(t,n);return a.push(r),r.relatedLinks.reduce((function(t,a){return Rx(t,a)?t:e(a,n,t)}),a)},Mx=function(e,t){var n=Px(e,t).reduce((function(e,t){return e.push.apply(e,Object(m.a)(t.relatedLinks)),e}),[e]);return Sx()(n,Rm.a)},Fx=function(e,t,n,a){return function(){var r=Object(te.a)(ee.a.mark((function r(c,o){var i,s;return ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=yh()(yx()(void 0,un),Ex.a,vh()(Ex.a),Nx()("id")),s=i(o()),Mx({documentCode:e,adjustmentName:n,adjustmentType:t},s).forEach((function(e){c(kx(e.documentCode,e.adjustmentType,e.adjustmentName,a))}));case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},Ux=kx,Bx=function(e){var t=e.isActive,n=e.disabled,a=e.documentCode,r=e.adjustmentType,c=e.adjustmentKey,o=Object(s.useDispatch)();return Object(Ma.jsx)(er.Toggle,{checked:t,disabled:n,name:"toggle-adjustment",dataTestId:"toggle-adjustment-".concat(c),onClick:function(){o(Fx(a,r,c,!t))}})},Yx=function(e){var t=e.text,n=e.emptyDataMarker,a=void 0===n?gn:n,r=e.showColumnHighlight,c=nr()("financial-value",Object($t.a)({},Sn,r)),o=Object(s.useSelector)(pa,s.shallowEqual);return Object(Ma.jsxs)("td",{role:"cell",className:c,"data-testid":"financial-value",children:[Object(Ma.jsx)("span",{"aria-hidden":"true","data-testid":"visual-content",children:""===t?a:Wd(t,{decimalCount:o.financialsDecimalCount,formatForScreenReader:!1,emptyDataMarker:a})}),Object(Ma.jsx)("span",{className:"visually-hidden","data-testid":"screen-reader-content",children:Wd(t,{decimalCount:o.financialsDecimalCount,formatForScreenReader:!0,emptyDataMarker:a})})]})};Yx.defaultProps={text:"",emptyDataMarker:"-",showColumnHighlight:!1};var Wx=Yx,Vx=function(e){var t=e.role,n=e.scope,a=e.children;return Object(Ma.jsx)("th",{"data-testid":"adjustment-controls-column",role:t,scope:n,className:"adjustment-controls-column",children:a})};Vx.defaultProps={role:"rowheader",scope:"row",children:void 0};var Zx=Vx,Gx=n(394),Hx=n(224),Kx=n.n(Hx),qx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length>0,n=!1;return t&&(n=fe()(e,(function(e){return me()(e,"isBroken",!1)}))),{hasLinks:t,hasBrokenLinks:n}},zx=(n(1343),function(e){var t=e.interactive,n=e.isSelected,a=e.isBroken;return Object(Ma.jsx)("div",{className:"linked-adjustment-icon-container",children:Object(Ma.jsx)(er.Icon,{name:a?"link-remove":"link",width:"18px",className:nr()("linked-adjustment-icon",{"icon-gray":!t,"icon-orange":t&&!a,"icon-red":t&&a,fill:n,outline:!n,interactive:t})})})});zx.defaultProps={interactive:!0,isSelected:!1,isBroken:!1};n(1344);var Qx=["adjustmentLinks","projectId"],Jx=c.a.forwardRef((function(e,t){var n=e.adjustmentLinks,a=e.projectId,r=Object(Pi.a)(e,Qx),c=function(e){var t=Vi()(e.map((function(e){return me()(e,["target","documentCode"],"UNKNOWN")}))).map((function(t){var n=e.filter((function(e){return me()(e,["target","documentCode"],null)===t})),a=Kx()(n,(function(e){return me()(e,["target","adjustmentNumber"],0)})).map((function(e){return{displayName:me()(e,["target","adjustmentDisplayName"],"UNKNOWN"),isBroken:e.isBroken,queryString:me()(e,["target","queryString"],null)}}));return{documentCode:t,documentDisplayName:Nn[t],links:a}}));return Kx()(t,"documentDisplayName")}(n);return Object(Ma.jsx)(Nr.a,Object(b.a)(Object(b.a)({id:"popover-linked-adjustments",ref:t,"data-testid":"popover-linked-adjustments"},r),{},{children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-menu scrollable",children:[Object(Ma.jsx)("div",{className:"linked-adjustments-title",children:"Linked Adjustments"}),c.map((function(e){return Object(Ma.jsxs)("section",{className:"link-target-document",children:[Object(Ma.jsx)("div",{className:"link-target-document-name",children:e.documentDisplayName}),e.links.map((function(t){if(t.isBroken)return Object(Ma.jsx)("span",{className:"link-target-adjustment-name strikethrough",children:t.displayName},"link-target-".concat(t.displayName));var n=yc(a,e.documentCode);return Object(Ma.jsx)(Ja.Link,{className:"link-target-adjustment-name",to:{pathname:n,search:t.queryString},children:t.displayName},"link-target-".concat(t.displayName))}))]},"link-target-".concat(e.documentDisplayName))}))]})}))}));Jx.defaultProps={adjustmentLinks:[]};var Xx=Jx,$x=(n(1345),function(e){var t=e.adjustmentLinks,n=e.projectId,a=Object(r.useState)(!1),c=Object(Cr.a)(a,2),o=c[0],i=c[1],s=qx(t);return s.hasLinks?Object(Ma.jsx)(Gx.default,{rootClose:!0,trigger:"click",placement:"top-end",overlay:Object(Ma.jsx)(Xx,{adjustmentLinks:t,projectId:n}),onToggle:function(e){return i(e)},children:Object(Ma.jsx)("div",{className:"adjustment-link","data-testid":"adjustment-link",children:Object(Ma.jsx)(zx,{isSelected:o,isBroken:s.hasBrokenLinks})})}):null});$x.defaultProps={adjustmentLinks:[]};var eg=$x,tg=function(e){var t=e.projectId,n=e.documentCode,a=void 0===n?x.Constants.QUALITY_OF_EARNINGS:n,r=e.contentId,c=e.contentVersionNumber,o=e.adjustmentType,i=e.adjustmentKey,l=e.adjustment,d=e.timePeriods,u=e.adjustmentLinks,j=e.isActive,b=e.showToggle,p=e.disableToggle,m=e.isPublishMode,O=e.isFinalRow,f=Object(s.useDispatch)(),h=a===x.Constants.NET_WORKING_CAPITAL,_=Object(s.useSelector)(Pf);return Object(Ma.jsxs)("tr",{role:"row",className:nr()("adjustment",{inactive:!j,"final-details-row":O}),"data-testid":"adjustment",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"adjustment__heading ".concat(_.selectedAdjustment===i?"adjustment-selected":""),children:m?Object(Ma.jsx)("span",{children:i}):Object(Ma.jsxs)("button",{className:"button-avoid-focus adjustment__button",onClick:function(){f(Mf(o,i,a,t,r,c))},type:"button","data-testid":"adjustment-header-button","aria-controls":"analysisDescription",children:[Object(Ma.jsx)("span",{children:i}),Object(Ma.jsx)("span",{"data-testid":"adjustment-button-helper-text",className:"visually-hidden",children:". Click for long description"})]})}),d.map((function(e){var t=$d(e),n=h&&t;return Object(Ma.jsx)(Wx,{text:l[e],showColumnHighlight:n},e)})),!m&&Object(Ma.jsxs)(Zx,{children:[b&&Object(Ma.jsx)(Bx,{isActive:j,disabled:p,documentCode:a,adjustmentType:o,adjustmentKey:i}),Object(Ma.jsx)(eg,{adjustmentLinks:u,projectId:t})]})]})};tg.defaultProps={adjustmentLinks:[],isActive:!0,showToggle:!0,disableToggle:!1,isFinalRow:!1};var ng=tg,ag=function(e){var t=e.totals,n=e.totalOverrideValue,a=e.timePeriods,r=e.documentCode,c=e.isPublishMode,o=r===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"group-summary","data-testid":"group-summary",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:"Total"}),a.map((function(e){var a=$d(e),r=o&&a;return Object(Ma.jsx)(Wx,{text:n||t[e],showColumnHighlight:r},e)})),!c&&Object(Ma.jsx)(Zx,{})]})};ag.defaultProps={totalOverrideValue:"",isPublishMode:!1};var rg=ag,cg=function(e){var t=e.projectId,n=e.documentCode,a=e.contentId,r=e.contentVersionNumber,c=e.group,o=e.groupName,i=e.timePeriods,s=e.showTotalRow,l=e.totalOverrideValue,d=e.showToggles,u=e.adjustmentToggles,j=e.disableAllToggles,b=e.linkedAdjustments,p=e.isPublishMode,m=be()(c).filter((function(e){return e!==nn}));return Object(Ma.jsxs)(Ma.Fragment,{children:[m.map((function(e,l){var O=l===m.length-1&&!s,f=function(e,t,n){return me()(e,[t,n,rn],!0)}(u,o,e),h=!!j||f,_=c[e],x=function(e,t,n){return n.filter((function(n){var a=me()(n,["source","adjustmentType"],null),r=me()(n,["source","adjustmentDisplayName"],null);return a===e&&r===t}))}(o,e,b);return Object(Ma.jsx)(ng,{projectId:t,documentCode:n,contentId:a,contentVersionNumber:r,adjustmentType:o,adjustmentKey:e,adjustment:_.totals,timePeriods:i,isActive:h,adjustmentLinks:x,showToggle:d,disableToggle:j,isPublishMode:p,isFinalRow:O},e)})),s?Object(Ma.jsx)(rg,{totals:c.totals,totalOverrideValue:l,timePeriods:i,documentCode:n,isPublishMode:p}):null]})};cg.defaultProps={totalOverrideValue:void 0,showToggles:!0,isPublishMode:!1};var og=cg,ig=function(e){var t=e.showColumnHighlight,n=nr()("financial-spacer",Object($t.a)({},Sn,t));return Object(Ma.jsx)("td",{role:"cell",className:n})};ig.defaultProps={showColumnHighlight:!1};var sg=ig,lg=function(e){var t=e.title,n=e.expanded,a=e.onClick;return Object(Ma.jsxs)("button",{type:"button",className:"adjustment-group__toggle-button",onClick:a,"data-testid":"adjustment-rollup-toggle-button",children:[Object(Ma.jsx)("span",{"aria-hidden":"true","data-testid":"expanded-indicator-icon",className:"icon-expanded ".concat(n?"asc":"desc"),children:Object(Ma.jsx)(er.Icon,{name:"desc",width:"10",className:"fill icon-orange",viewBox:"-4 0 32 32"})}),Object(Ma.jsx)("span",{children:t})]})},dg=function(e){var t=e.hasLinks,n=e.hasBrokenLinks;return!e.expanded&&t?Object(Ma.jsx)(zx,{interactive:!1,isBroken:n}):null},ug=function(e){var t=e.documentCode,n=e.group,a=e.title,r=e.expanded,c=e.onClick,o=e.totalOverrideValue,i=e.timePeriods,s=e.hasLinks,l=e.hasBrokenLinks,d=e.isPublishMode,u=a.replace(/(\s|\W)/g,"").toLowerCase(),j=n.totals,b=t===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{className:"adjustment-group group-header".concat(r?" expanded":""),role:"row","data-testid":"adjustment-group-header-".concat(u),children:[Object(Ma.jsxs)("th",{role:"rowheader",scope:"row",className:"row-description",children:[d&&Object(Ma.jsx)("span",{children:a}),!d&&Object(Ma.jsx)(lg,{onClick:c,title:a,expanded:r})]}),i.map((function(e){var t=$d(e),n=b&&t;return r?Object(Ma.jsx)(sg,{showColumnHighlight:n},e):Object(Ma.jsx)(Wx,{text:o||j[e],showColumnHighlight:n},e)})),!d&&Object(Ma.jsxs)(Zx,{children:[Object(Ma.jsx)("div",{children:"\xa0"}),Object(Ma.jsx)(dg,{expanded:r,hasLinks:s,hasBrokenLinks:l})]})]})};ug.defaultProps={onClick:function(){},totalOverrideValue:void 0,isPublishMode:!1};var jg=ug,bg=function(e){var t=e.rowDescription,n=e.totals,a=e.timePeriods,r=e.isTotalsRowStyle,c=e.documentCode,o=e.isPublishMode,i=c===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"group-ebitda-contribution".concat(r?" totals-row":""),"data-testid":"adjustment-group-ebitda-contribution",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:t}),a.map((function(e){var t=$d(e),a=i&&t;return Object(Ma.jsx)(Wx,{text:n[e],showColumnHighlight:a},e)})),!o&&Object(Ma.jsx)(Zx,{})]})};bg.defaultProps={rowDescription:"",totals:{},isTotalsRowStyle:!1,isPublishMode:!1};var pg=bg,mg=function(e){var t=e.rowDescription,n=e.totals,a=e.timePeriods,r=e.isTotalsRowStyle,c=e.documentCode,o=e.isPublishMode,i=c===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"group-capital-contribution".concat(r?" totals-row":""),"data-testid":"adjustment-group-capital-contribution",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:t}),a.map((function(e){var t=$d(e),a=i&&t;return Object(Ma.jsx)(Wx,{text:n[e],showColumnHighlight:a},e)})),!o&&Object(Ma.jsx)(Zx,{})]})};mg.defaultProps={rowDescription:"",totals:{},isTotalsRowStyle:!1,isPublishMode:!1};var Og=mg,fg=function(e){var t=e.projectId,n=e.documentCode,a=e.contentId,c=e.contentVersionNumber,o=e.group,i=e.groupName,l=e.timePeriods,d=e.ebitdaContributions,u=e.workingCapitalContributions,j=e.totalOverrideValue,b=e.linkedAdjustments,p=e.showToggles,m=e.adjustmentToggles,O=e.isLastGroup,f=e.showTotalRow,h=e.targetAdjustmentType,_=e.targetAdjustmentName,x=e.nameOfAdjustmentToExpand,g=e.isPublishMode,v=Object(s.useDispatch)(),L=Object(r.useRef)(1),C=Object(r.useState)(h===i||"all"===x||x===i),T=Object(Cr.a)(C,2),y=T[0],I=T[1];Object(r.useEffect)((function(){g&&("all"!==x&&x!==i||I(!0))}),[x,g,I,i]),Object(r.useEffect)((function(){L.current+=1})),1===L.current&&null!==h&&null!==_&&v(Mf(h,_,n,t,a,c));var E=function(e,t){var n=t.filter((function(t){return me()(t,["source","adjustmentType"],null)===e}));return qx(n)}(i,b),w=Object(s.useSelector)(Sh),N=Object(s.useSelector)(cf),A=w&&!N;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(jg,{documentCode:n,group:o,title:i,expanded:y,onClick:function(){y&&v(Rf()),I((function(e){return!e}))},totalOverrideValue:j,timePeriods:l,hasLinks:E.hasLinks,hasBrokenLinks:E.hasBrokenLinks,isPublishMode:g}),y&&Object(Ma.jsx)(og,{projectId:t,documentCode:n,contentId:a,contentVersionNumber:c,group:o,groupName:i,showTotalRow:f,totalOverrideValue:j,timePeriods:l,showToggles:p,adjustmentToggles:m,disableAllToggles:A,linkedAdjustments:b,isPublishMode:g}),d[i]&&Object(Ma.jsx)(pg,{timePeriods:l,rowDescription:d[i].label,totals:d[i].totals,isTotalsRowStyle:O,documentCode:n,isPublishMode:g}),u[i]&&Object(Ma.jsx)(Og,{timePeriods:l,rowDescription:u[i].label,totals:u[i].totals,isTotalsRowStyle:O,documentCode:n,isPublishMode:g})]})};fg.defaultProps={ebitdaContributions:{},workingCapitalContributions:{},totalOverrideValue:void 0,linkedAdjustments:[],showToggles:!0,adjustmentToggles:{},isLastGroup:!1,showTotalRow:!0,isPublishMode:!1,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null};var hg=fg,_g=function(e){var t=e.projectId,n=e.documentCode,a=e.contentId,r=e.contentVersionNumber,c=e.group,o=e.groupName,i=e.timePeriods,s=e.ebitdaContributions,l=e.workingCapitalContributions,d=e.totalOverrideValue,u=e.linkedAdjustments,j=e.showToggles,b=e.adjustmentToggles,p=e.isLastGroup,m=e.showTotalRow,O=e.targetAdjustmentType,f=e.targetAdjustmentName,h=e.nameOfAdjustmentToExpand,_=e.isPublishMode,x=_?[]:u,g=!_&&j,v=_?{}:b;return Object(Ma.jsx)(hg,{projectId:t,documentCode:n,contentId:a,contentVersionNumber:r,group:c,groupName:o,timePeriods:i,ebitdaContributions:s,workingCapitalContributions:l,linkedAdjustments:x,totalOverrideValue:d,showToggles:g,adjustmentToggles:v,isLastGroup:p,showTotalRow:m,targetAdjustmentType:O,targetAdjustmentName:f,nameOfAdjustmentToExpand:h,isPublishMode:_})};_g.defaultProps={ebitdaContributions:{},workingCapitalContributions:{},totalOverrideValue:void 0,linkedAdjustments:[],showToggles:!0,adjustmentToggles:{},isLastGroup:!1,showTotalRow:!0,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null,isPublishMode:!1};var xg=_g,gg=function(e){var t=e.text,n=e.showColumnHighlight,a=void 0!==n&&n,r=nr()("financial-value",Object($t.a)({},Sn,a));return Object(Ma.jsx)("th",{role:"columnheader",scope:"col",className:r,"data-testid":"table-header-cell",children:Wd(t)})},vg=function(e){var t=e.timePeriods,n=e.documentCode,a=e.isPublishMode,r=n===x.Constants.NET_WORKING_CAPITAL,c=Object(s.useSelector)(pa,s.shallowEqual);return Object(Ma.jsxs)("tr",{className:"table-headers",role:"row","data-testid":"table-headers",children:[Object(Ma.jsx)("th",{scope:"col",className:"row-description","data-testid":"table-header-cell",role:"columnheader",children:Hd(c)}),t.map((function(e){var t=$d(e),n=r&&t;return Object(Ma.jsx)(gg,{text:e,showColumnHighlight:n},"tph-".concat(e))})),!a&&Object(Ma.jsx)(Zx,{role:"columnheader",scope:"col"})]})};vg.defaultProps={documentCode:"",isPublishMode:!1};var Lg=vg,Cg=function(e){var t=e.testId,n=e.rowText,a=e.financials,r=e.timePeriods,c=e.className,o=e.emptyDataMarker,i=void 0===o?gn:o,s=e.documentCode,l=e.isPublishMode,d=s===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"reported-financials ".concat(c),"data-testid":t,children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:n}),r.map((function(e){var t=$d(e),n=d&&t;return Object(Ma.jsx)(Wx,{text:a[e],emptyDataMarker:i,showColumnHighlight:n},"reportedFinancialsColumnValue-".concat(e))})),!l&&Object(Ma.jsx)(Zx,{})]})},Tg=Cg;Cg.defaultProps={testId:"reported-financials",className:"",emptyDataMarker:gn,documentCode:"",isPublishMode:!1};var yg=function(e){var t=e.isClientView,n=e.contentVersionNumber,a=e.contentId,r=e.projectId,c=e.forUseWithPublishingSSRService,o=e.nameOfAdjustmentToExpand,i=e.targetAdjustmentType,l=e.targetAdjustmentName,d=Object(s.useSelector)(j_),u=Object(s.useSelector)(dx),j=Object(s.useSelector)(ux),b=Object(s.useSelector)(ax),p=Object(s.useSelector)(jx),m=Object(s.useSelector)(rx),O=Object(s.useSelector)(bx),f=Object(s.useSelector)(Ah),h=Object(s.useSelector)(Cx).filter((function(e){return!t||!e.isBroken})),_=c;return Object(Ma.jsxs)("table",{role:"table",className:"analysis-table","data-testid":"structured-analysis-view-DDL","aria-label":"Debt and Debt Like",children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsx)(Lg,{timePeriods:d,isPublishMode:_})}),Object(Ma.jsxs)("tbody",{children:[u.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,adjustmentToggles:f,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),j.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,adjustmentToggles:f,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),Object(Ma.jsx)(Tg,{rowText:Cn,financials:b,timePeriods:d,testId:"net-debt",className:"net-debt",isPublishMode:_}),p.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,adjustmentToggles:f,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),Object(Ma.jsx)(Tg,{rowText:yn,financials:m,timePeriods:d,testId:"net-debt-and-debt-like",className:"net-debt",isPublishMode:_}),O.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,totalOverrideValue:xn,showToggles:!1,showTotalRow:!1,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)}))]})]})};yg.defaultProps={isClientView:!1,nameOfAdjustmentToExpand:null,targetAdjustmentType:null,targetAdjustmentName:null,forUseWithPublishingSSRService:!1};var Ig=yg,Eg=(n(1346),function(){Qh()(u),qh()(u),u.setOptions({colors:c_});var e=Object(r.useState)(n_(0)),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(s.useSelector)(pa,s.shallowEqual),o=Object(s.useSelector)(Q_);return Object(r.useEffect)((function(){var e=be()(o).map((function(e){return{y:o[e],accessibility:{description:e}}}));a({subtitle:{text:Hd(c)},xAxis:{categories:be()(o)},series:[{name:"Adjusted Working Capital",color:u.getOptions().colors[3],data:e}],legend:{enabled:!1},tooltip:{enabled:!0,useHTML:!0,style:{fontFamily:"Helvetica",lineHeight:"1.4rem"},formatter:function(){var e=this.x,t=Wd(this.y,{decimalCount:c.financialsDecimalCount});return"".concat(e,"<br/><b>").concat(t,"</b>")}}})}),[c,o]),Object(Ma.jsx)("div",{"data-testid":"networking-capital-chart",className:"nwc-chart-container",children:Object(Ma.jsx)(Hh.a,{highcharts:u,options:n})})}),wg=function(e){var t=e.timePeriods,n=e.documentCode,a=e.isPublishMode,r=n===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"final-border-row",children:[Object(Ma.jsx)("td",{className:"row-description final-row"}),t.map((function(e){var t=$d(e),n=r&&t;return Object(Ma.jsx)(sg,{showColumnHighlight:n},e)})),!a&&Object(Ma.jsx)(Zx,{})]})},Ng=wg;wg.defaultProps={documentCode:"",isPublishMode:!1};var Ag=function(e){var t=e.isClientView,n=e.contentVersionNumber,a=e.contentId,r=e.projectId,c=e.forUseWithPublishingSSRService,o=e.nameOfAdjustmentToExpand,i=e.targetAdjustmentType,l=e.targetAdjustmentName,d=Object(s.useSelector)(f_),u=Object(s.useSelector)(sx),j=Object(s.useSelector)(lx),b=Object(s.useSelector)(q_),p=Object(s.useSelector)(g_),m=Object(s.useSelector)(v_),O=Object(s.useSelector)(L_),f=Object(s.useSelector)(Nh),h=Object(s.useSelector)(Lx).filter((function(e){return!t||!e.isBroken})),_=c;return Object(Ma.jsxs)("table",{role:"table",className:"analysis-table","data-testid":"structured-analysis-view-NWC","aria-label":"Net Working Capital",children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsx)(Lg,{timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_})}),Object(Ma.jsxs)("tbody",{children:[Object(Ma.jsx)(Tg,{testId:"current-assets",rowText:On,financials:p,timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_}),Object(Ma.jsx)(Tg,{testId:"current-liabilities",rowText:fn,financials:m,timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_}),Object(Ma.jsx)(Tg,{testId:"reported-working-capital",rowText:"Reported Working Capital",financials:O,timePeriods:d,className:"reported-working-capital",documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_}),u.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.NET_WORKING_CAPITAL,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,workingCapitalContributions:b,linkedAdjustments:h,adjustmentToggles:f,isLastGroup:e.isLastGroup,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),j.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.NET_WORKING_CAPITAL,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,totalOverrideValue:xn,showToggles:!1,showTotalRow:!1,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),Object(Ma.jsx)(Ng,{timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_})]})]})};Ag.defaultProps={isClientView:!1,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null,forUseWithPublishingSSRService:!1};var Sg=Ag,kg=function(e,t){return e?Vd(e):t},Dg=function(e){var t=e.rowText,n=e.financials,a=e.timePeriods,r=e.emptyDataMarker,c=e.isPublishMode;return Object(Ma.jsxs)("tr",{role:"row",className:"percent-of-revenue","data-testid":"percent-of-".concat(x.TextUtilities.slugify(t)),children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:"As a % of ".concat(t)}),a.map((function(e,a){return Object(Ma.jsx)("td",{"data-testid":"percent-of-".concat(x.TextUtilities.slugify(t),"-column-value"),role:"cell",className:"financial-value",children:kg(n[e],r)},"PercentageRowColumnValue-".concat(e,"-").concat(a))})),!c&&Object(Ma.jsx)(Zx,{})]})};Dg.defaultProps={emptyDataMarker:gn,isPublishMode:!1};var Rg=Dg,Pg=function(e){var t=e.isClientView,n=e.contentVersionNumber,a=e.contentId,r=e.projectId,c=e.forUseWithPublishingSSRService,o=e.nameOfAdjustmentToExpand,i=e.targetAdjustmentType,l=e.targetAdjustmentName,d=Object(s.useSelector)(d_),u=Object(s.useSelector)(__),j=Object(s.useSelector)(Ox),b=Object(s.useSelector)(x_),p=Object(s.useSelector)(Z_),m=Object(s.useSelector)(fx),O=Object(s.useSelector)(hx),f=Object(s.useSelector)(ox),h=Object(s.useSelector)(ix),_=Object(s.useSelector)(wh),g=Object(s.useSelector)(vx).filter((function(e){return!t||!e.isBroken})),v=c;return Object(Ma.jsxs)("table",{role:"table",className:"analysis-table","data-testid":"structured-analysis-view-QofE","aria-label":"Quality of Earnings",children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsx)(Lg,{timePeriods:d,isPublishMode:v})}),Object(Ma.jsxs)("tbody",{children:[Object(Ma.jsx)(Tg,{testId:"reported-revenue",rowText:jn,financials:u,timePeriods:d,isPublishMode:v}),Object(Ma.jsx)(Tg,{testId:"adjusted-revenue",rowText:bn,financials:j,timePeriods:d,isPublishMode:v}),Object(Ma.jsx)(Tg,{testId:"reported-ebitda",rowText:pn,financials:b,timePeriods:d,className:"reported-ebitda",isPublishMode:v}),Object(Ma.jsx)(Rg,{rowText:"Reported Revenue",financials:m,timePeriods:d,isPublishMode:v}),f.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.QUALITY_OF_EARNINGS,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,ebitdaContributions:p,linkedAdjustments:g,adjustmentToggles:_,isLastGroup:e.isLastGroup,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:v},e.adjustmentType)})),Object(Ma.jsx)(Rg,{rowText:"Adjusted Revenue",financials:O,timePeriods:d,isPublishMode:v}),h.map((function(e){return Object(Ma.jsx)(xg,{projectId:r,documentCode:x.Constants.QUALITY_OF_EARNINGS,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:g,totalOverrideValue:xn,showToggles:!1,showTotalRow:!1,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:v},e.adjustmentType)}))]})]})};Pg.defaultProps={isClientView:!1,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null,forUseWithPublishingSSRService:!1};var Mg,Fg,Ug,Bg,Yg=Pg,Wg=function(){return null},Vg="tableComponent",Zg="chartComponent",Gg=(Bg={},Object($t.a)(Bg,x.Constants.QUALITY_OF_EARNINGS,(Mg={},Object($t.a)(Mg,Vg,Yg),Object($t.a)(Mg,Zg,_x),Mg)),Object($t.a)(Bg,x.Constants.NET_WORKING_CAPITAL,(Fg={},Object($t.a)(Fg,Vg,Sg),Object($t.a)(Fg,Zg,Eg),Fg)),Object($t.a)(Bg,x.Constants.DEBT_AND_DEBT_LIKE,(Ug={},Object($t.a)(Ug,Vg,Ig),Object($t.a)(Ug,Zg,Wg),Ug)),Bg),Hg=(n(1347),function(e){var t=e.projectId,n=e.documentCode,a=e.hasError,r=e.isLoading,c=e.isConfirmVisible,o=e.setIsConfirmVisible,i=e.handleDelete,s=e.chartKey,l=e.incrementChartKey,d=e.analysis,u=e.workflowActions,j=e.handleRefresh,b=e.handleEdit,p=e.versions,m=e.viewClient,O=e.isClientView,f=e.targetAdjustmentType,h=e.targetAdjustmentName,_=e.initialPaneOneAvailable,g=e.initialPaneTwoAvailable,v=e.initialPaneThreeAvailable,L=function(e){return me()(Gg,[e,Vg],Wg)}(n),C=function(e){return me()(Gg,[e,Zg],Wg)}(n);return a?Object(Ma.jsx)(Yh,{}):r?Object(Ma.jsx)(er.Loader,{dataTestId:"structured-loading-indicator"}):d?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:c,onCancel:function(){return o(!1)},onConfirm:i,confirmTitle:"Confirm ".concat(Nn[n]," Delete"),confirmationMessage:"This Analysis will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsxs)(er.TriPane,{onChange:l,initialPaneOneAvailable:_,initialPaneTwoAvailable:g,initialPaneThreeAvailable:v,children:[Object(Ma.jsx)(Mu,{isShared:d.shareWithAll,workflowActions:u,onRefresh:j,onEdit:b,onDelete:function(){return o(!0)},versions:p,analysis:d,viewClient:m,children:Object(Ma.jsx)(er.TriPane.Controls,{})}),Object(Ma.jsx)("div",{className:"structured-analysis-view",children:Object(Ma.jsxs)("div",{className:"tri-pane-container","data-testid":"tri-pane-display",children:[Object(Ma.jsx)(er.TriPane.HeaderContent,{children:Object(Ma.jsx)(Zh,{title:Nn[n],projectId:t,analysis:d,isOnClientVersion:m.isOnClientVersion})}),Object(Ma.jsx)(er.TriPane.PaneOne,{children:Object(Ma.jsx)("div",{className:"scrollable structured-table",children:Object(Ma.jsx)(L,{isClientView:O,contentId:d.contentThreadId,contentVersionNumber:d.versionNumber,projectId:t,targetAdjustmentType:f,targetAdjustmentName:h})})}),Object(Ma.jsx)(er.TriPane.PaneTwo,{children:Object(Ma.jsx)(C,{},s)}),Object(Ma.jsx)(er.TriPane.PaneThree,{children:Object(Ma.jsx)(Bh,{isViewingSharedVersion:d.versionStatus===x.Constants.VERSION_STATUS.SHARED.value,lightModeVariant:!0})}),Object(Ma.jsxs)(er.TriPane.SourceContent,{children:[Object(Ma.jsx)(hh,{sourceText:d.source}),Object(Ma.jsx)(xh,{text:d.notes}),Object(Ma.jsx)(Ll,{tags:d.tags,testId:"analysis-tag-list"})]})]})})]}),Object(Ma.jsx)(_h,{classModifier:"structured-analysis",projectId:t,contentId:d.contentId}),Object(Ma.jsx)(kh,{})]}):null});Hg.defaultProps={hasError:!1,isLoading:!1,analysis:void 0,isClientView:!1,targetAdjustmentType:null,targetAdjustmentName:null,initialPaneOneAvailable:!0,initialPaneTwoAvailable:!0,initialPaneThreeAvailable:!0,versions:null,incrementChartKey:function(){}};var Kg=Hg,qg=function(){var e=fh(x.Constants.DEBT_AND_DEBT_LIKE),t=e.projectId,n=e.targetAdjustmentType,a=e.targetAdjustmentName,r=e.hasError,c=e.analysis,o=e.isConfirmVisible,i=e.setIsConfirmVisible,s=e.isLoading,l=e.versions,d=e.chartKey,u=e.viewClient,j=e.handleEdit,b=e.handleDelete,p=e.handleRefresh,m=e.workflowActions,O=e.isClientView;return Object(Ma.jsx)(Kg,{projectId:t,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,hasError:r,isLoading:s,analysis:c,viewClient:u,isClientView:O,targetAdjustmentType:n,targetAdjustmentName:a,versions:l,workflowActions:m,handleEdit:j,handleRefresh:p,handleDelete:b,isConfirmVisible:o,setIsConfirmVisible:i,initialPaneTwoAvailable:!1,chartKey:d})},zg=function(e){return e.linkedAdjustmentsByDocument},Qg=function(e){return Object(f.a)(function(e){return Object(f.a)(zg,(function(t){return me()(t,e,[])}))}(e),(function(t){var n=function(e){return function(t){var n=t.id,a=t.sourceDocumentCode,r=t.sourceAdjustmentType,c=t.sourceAdjustmentName,o=t.sourceAdjustmentNumber,i=t.targetDocumentCode,s=t.targetAdjustmentType,l=t.targetAdjustmentName,d=t.targetAdjustmentNumber;return{id:n,sourceAdjustment:e===a?eh(a,r,o,c):eh(i,s,d,l),targetAdjustment:e===a?eh(i,s,d,l):eh(a,r,o,c)}}}(e);return t.map(n)}))},Jg=(n(1348),["onCancel","isSaving","_errors","_touched","isValid","dirty","onSaveText","standbyText"]),Xg=function(e){var t=e.onCancel,n=e.isSaving,a=(e._errors,e._touched,e.isValid),r=e.dirty,c=e.onSaveText,o=e.standbyText,i=Object(Pi.a)(e,Jg);return Object(Ma.jsx)(Qs.Form,Object(b.a)(Object(b.a)({"data-testid":"hypothesis-header"},i),{},{children:Object(Ma.jsxs)(Vj,{children:[Object(Ma.jsx)(er.Button,{type:"button",className:"button-link button-theme mx-2 mr-4",onClick:t,"data-testid":"cancel-button-top",children:"Cancel"}),Object(Ma.jsx)(Hj,{isSaving:n,isValid:a,buttonSize:"button-small",buttonPosition:"top",dirty:r,onSaveText:c,standbyText:o})]})}))},$g=function(e){var t=e.field;return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsx)("div",{"data-testid":"source-input-container",children:Object(Ma.jsx)(er.TextArea,{name:"source",field:t,label:"Source",placeholder:"Start typing here to give your analysis a source",helperText:"Include a description referencing the original data source.",helperIcon:"information",helperIconColor:"yellow",maxLength:100,basic:!0})})})},ev=(n(1349),function(e){var t,n=e.field,a=Object(r.useState)([]),c=Object(Cr.a)(a,2),o=c[0],i=c[1],s=Object(p.m)().projectId;Object(r.useEffect)((function(){var e=!0;return function(){var t=Object(te.a)(ee.a.mark((function t(){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bu(s);case 2:(n=t.sent)&&e&&i(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[s]);var l=[{type:300,label:"Charts"},{type:301,label:"NamedRanges"}],d=l.map((function(e){return o.filter((function(t){return t.type===e.type})).map((function(e){return{type:e.type,value:e.id,label:e.name}}))})),u=(t=[]).concat.apply(t,Object(m.a)(d));return Object(Ma.jsx)(er.Select,{className:"library-item-select",selectTestId:"library-item-select",label:"Library Item",name:n.name,onBlur:n.onBlur,onChange:n.onChange,optiongroup:l,options:u,placeholder:"Please select a Library Item",value:n.value})}),tv=function(e){var t,n,a=e.editMode,r=e.name,c=e.onChange,o=e.onDelete,i=e.options,s=e.value,l=e.placeholder,d=function(e,t){return(e.find((function(e){return e.value===t}))||{label:null}).label}(i,s),u=th(s),j=(t=u.number,n=u.name,"".concat(t," ").concat(n)),b=!d;return a?Object(Ma.jsx)(er.Select,{selectTestId:"select-input-".concat(r),value:s,options:i,onChange:function(e){return c(e.target.value)},placeholder:l,maxWidth:"240px"}):Object(Ma.jsx)("div",{className:"pill-container",children:Object(Ma.jsx)(Vl,{onClearClick:o,tag:j,index:r,iconName:b?"link-remove":null})})};tv.defaultProps={options:[],value:"",placeholder:""};var nv=tv,av=function(e,t){return(e.find((function(e){return e.value===t}))||{label:null}).label},rv=function(e){var t=e.editMode,n=e.name,a=e.onDocumentChange,r=e.onAdjustmentChange,c=e.onDelete,o=e.documentOptions,i=e.adjustmentOptions,s=e.documentValue,l=e.adjustmentValue,d=av(o,s),u=av(i,l),j=th(l),b=function(e,t,n){return"".concat(e," / ").concat(t," ").concat(n)}(d,j.number,j.name),p=!d||!u;return Object(Ma.jsxs)("div",{"data-testid":"document-and-adjustment-selection",className:"document-row",children:[Object(Ma.jsx)("div",{className:"link-to",children:"Link to"}),t?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.Select,{selectTestId:"select-input-target-document-".concat(n),value:s,options:o,onChange:function(e){return a(e.target.value)},placeholder:"Select analyses",maxWidth:"240px"}),Object(Ma.jsx)(er.Select,{selectTestId:"select-input-target-adjustment-".concat(n),value:l,options:i,onChange:function(e){return r(e.target.value)},placeholder:"Select Adjustment",maxWidth:"240px"})]}):Object(Ma.jsx)("div",{"data-testid":"document-and-adjustment-pill",className:"pill-container",children:Object(Ma.jsx)(Vl,{onClearClick:c,tag:b,index:"target-document-and-adjustment-pill-".concat(n),iconName:p?"link-remove":null})})]})};rv.defaultProps={documentOptions:[],documentValue:"",adjustmentOptions:[],adjustmentValue:""};var cv=rv,ov=(n(585),function(e){var t=e.documentCode,n=e.value,a=e.name,c=e.editMode,o=e.adjustmentOptions,i=e.targetDocumentOptions,s=e.onToggleEditMode,l=e.onChange,d=e.onDelete,u=th(n.targetAdjustment),j=Object(r.useState)(u.code||""),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(n.sourceAdjustment||""),f=Object(Cr.a)(O,2),h=f[0],_=f[1],x=Object(r.useState)(n.targetAdjustment||""),g=Object(Cr.a)(x,2),v=g[0],L=g[1],C=Object(r.useState)([]),T=Object(Cr.a)(C,2),y=T[0],I=T[1];Object(r.useEffect)((function(){I(o[p]||[])}),[o,p]);var E=function(){var e=function(e){return void 0===e||""===e};return e(h)||e(v)||e(p)};return Object(Ma.jsxs)("div",{"data-testid":"linked-adjustment",className:nr()("linked-adjustment-row",c?"editable":"viewing"),children:[Object(Ma.jsx)(nv,{editMode:c,name:"source-adjustment-".concat(a),onChange:_,onDelete:d,options:o[t],value:h,placeholder:"Select Adjustment"}),Object(Ma.jsx)(cv,{editMode:c,name:a,onDocumentChange:m,onAdjustmentChange:L,onDelete:d,documentOptions:i,adjustmentOptions:y,documentValue:p,adjustmentValue:v}),c&&Object(Ma.jsx)("div",{className:"linked-adjustment-row-actions",children:Object(Ma.jsx)(er.Button,{type:"button",className:"button-outline ".concat(E()),"data-testid":"button-add-".concat(a),onClick:function(){s(),l({sourceAdjustment:h,targetAdjustment:v})},disabled:E(),children:"Add"})})]})});ov.defaultProps={adjustmentOptions:{QofE:[],NWC:[],DDL:[]},targetDocumentOptions:[],value:{sourceAdjustment:"",targetDocument:""}};var iv=ov,sv=function(e){return"linkedAdjustments[".concat(e,"]")},lv=function(e){var t=e.documentCode,n=e.adjustmentOptions,a=e.formValues,o=e.targetDocumentOptions,i=e.setFieldValue,s=Object(r.useState)(!1),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=function(e){i("linkedAdjustments",[].concat(Object(m.a)(a),[Object(b.a)({newId:Object(So.a)()},e)])),u(!1)};return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"linked-adjustment-container","data-testid":"linked-adjustments-container",children:[Object(Ma.jsxs)("div",{className:"linked-adjustments-title",children:[Object(Ma.jsx)(er.Icon,{name:"link",width:21,className:"icon fill connect-content-icon"}),"Link Adjustments"]}),0===a.length&&Object(Ma.jsxs)("div",{className:"linked-adjustment-description helper-text",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow helper-icon",width:18,"data-testid":"no-linked-adjustments"})," ","\xa0No analysis adjustments have been linked"]}),(d||a.length>0)&&Object(Ma.jsx)(Fa,{}),a.map((function(e,r){return Object(Ma.jsxs)(c.a.Fragment,{children:[Object(Ma.jsx)(iv,{documentCode:t,name:sv(r),value:e,adjustmentOptions:n,targetDocumentOptions:o,editMode:!1,onToggleEditMode:function(){},onDelete:function(){return function(e){var t=a.filter((function(t){return t.id!==e.id||t.newId!==e.newId}));i("linkedAdjustments",t)}(e)},onChange:function(e){return j(r)}},e.id||e.newId),Object(Ma.jsx)(Fa,{},"separator-".concat(sv(r)))]},sv(r))})),d&&Object(Ma.jsxs)(c.a.Fragment,{children:[Object(Ma.jsx)(iv,{documentCode:t,name:sv(a.length+1),value:void 0,adjustmentOptions:n,targetDocumentOptions:o,editMode:!0,onToggleEditMode:function(){},onDelete:function(){},onChange:function(e){return j(e)}}),Object(Ma.jsx)(Fa,{},"separator-".concat(sv(a.length+1)))]},sv(a.length+1))]}),Object(Ma.jsxs)(er.Button,{type:"button","data-testid":"add-new-linked-adjustment",className:"add-link button-link",onClick:function(){u(!0)},disabled:void 0===d,children:[Object(Ma.jsx)(er.Icon,{name:"add",className:"fill icon-orange helper-icon",width:21}),Object(Ma.jsx)("span",{className:"menu-item-title",children:"New Link"})]})]})};lv.defaultProps={adjustmentOptions:{QofE:[],NWC:[],DDL:[]},targetDocumentOptions:[],formValues:[]};var dv=lv,uv=function(e){var t=e.field;return Object(Ma.jsx)("div",{"data-testid":"notes-input-container",children:Object(Ma.jsx)(er.TextArea,{name:"notes",field:t,label:"Notes (optional)",placeholder:"Add notes",maxLength:250,basic:!0})})},jv=(n(1350),["documentCode","onCancel","isSaving","errorType","errors","touched","isValid","children","values","setFieldValue","canEditTitle","showLibraryItemPicker","showLinkedAdjustments","showNotes","projectId","parentContentId","narratives","setNarratives","adjustmentOptions","targetDocumentOptions","dirty","onSaveText","standbyText"]),bv=function(e){var t=e.documentCode,n=void 0===t?"":t,a=e.onCancel,r=e.isSaving,c=e.errorType,o=e.errors,i=e.touched,s=e.isValid,l=e.children,d=e.values,u=e.setFieldValue,j=e.canEditTitle,p=void 0===j||j,m=e.showLibraryItemPicker,O=void 0===m||m,f=e.showLinkedAdjustments,h=void 0!==f&&f,_=e.showNotes,x=void 0!==_&&_,g=e.projectId,v=e.parentContentId,L=e.narratives,C=e.setNarratives,T=e.adjustmentOptions,y=e.targetDocumentOptions,I=(e.dirty,e.onSaveText),E=e.standbyText,w=Object(Pi.a)(e,jv);return Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsx)(Xg,{onCancel:a,isSaving:r,errors:o,touched:i,isValid:s,dirty:!0,onSaveText:I,standbyText:E}),children:[l,Object(Ma.jsxs)(Qs.Form,Object(b.a)(Object(b.a)({"data-testid":"analysis-form",className:"analysis-form mt-5"},w),{},{children:[o.title&&i.title&&Object(Ma.jsx)("div",{children:o.title}),Object(Ma.jsx)("div",{className:"form-fields",children:Object(Ma.jsxs)("div",{className:"input-container",children:[Object(Ma.jsx)(Qs.Field,{name:"title",component:ub,label:"Title",placeholder:"Start typing here to give your new Analysis a title",className:"title-fieldset",disabled:!p,validate:function(e){var t;return e&&0!==e.trim().length||(t="Title cannot be blank"),t}}),Object(Ma.jsx)(Qs.Field,{name:"body",component:qO,label:"Description (optional)",dataTestId:"text-area-body"}),Object(Ma.jsxs)("div",{className:"analysis-form-extras",children:[Object(Ma.jsx)(Qs.Field,{name:"source",component:$g}),x&&Object(Ma.jsx)(Qs.Field,{name:"notes",component:uv}),O&&Object(Ma.jsx)(Qs.Field,{name:"libraryItemId",component:ev}),h&&Object(Ma.jsx)(dv,{adjustmentOptions:T,targetDocumentOptions:y,formValues:d.linkedAdjustments,setFieldValue:u,documentCode:n}),Object(Ma.jsx)(od,{projectId:g})]})]})}),Object(Ma.jsx)(eb,{projectId:g,parentContentId:v,narratives:L,setNarratives:C}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:a,"data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Kj,{isSaving:r,isValid:s,buttonPosition:"bottom",onSaveText:"Updating...",standbyText:"Update"})]}),c&&Object(Ma.jsx)(Io,{configType:c})]}))]})},pv=n(43),mv=pv.c().shape({title:pv.d().required("Title is required")}),Ov=function(e){var t,n=e.type,a=e.title,c=e.getReturnPath,o=e.showLinkedAdjustments,i=e.documentCode,l=Object(s.useDispatch)(),d=Object(p.m)().projectId,u=Object(p.k)(),j=Object(r.useState)({title:"",body:"",tags:[],linkedAdjustments:[]}),O=Object(Cr.a)(j,2),f=O[0],h=O[1],_=Object(r.useState)([]),g=Object(Cr.a)(_,2),v=g[0],L=g[1],C=Object(r.useState)(!1),T=Object(Cr.a)(C,2),y=T[0],I=T[1],E=Object(r.useState)([]),w=Object(Cr.a)(E,2),N=w[0],A=w[1],S=Object(r.useState)(),k=Object(Cr.a)(S,2),D=k[0],R=k[1],P=Object(r.useState)(!1),M=Object(Cr.a)(P,2),F=M[0],U=M[1],B=Object(r.useState)(null),Y=Object(Cr.a)(B,2),W=Y[0],V=Y[1],Z=Object(r.useState)(""),G=Object(Cr.a)(Z,2),H=G[0],K=G[1],q=Object(r.useState)(""),z=Object(Cr.a)(q,2),Q=z[0],J=z[1],X=Object(s.useSelector)(rf),$=Object(s.useSelector)(Of),ne=Object(s.useSelector)(Qg(i)),ae=function(){return u.replace(c(d))},re=(t={},Object($t.a)(t,x.Constants.QUALITY_OF_EARNINGS,Object(s.useSelector)(U_)),Object($t.a)(t,x.Constants.NET_WORKING_CAPITAL,Object(s.useSelector)(Y_)),Object($t.a)(t,x.Constants.DEBT_AND_DEBT_LIKE,Object(s.useSelector)(W_)),t);Object(r.useEffect)((function(){d&&(K("loading"),Qi(d).then((function(e){var t=e.filter((function(e){return!0===e.hasDetailView&&e.code!==i})).map((function(e){return{value:e.code,label:e.displayName}}));A((function(){return t})),K("")})))}),[d,i]),Object(r.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t,r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J("loading"),e.next=3,ts(d,n);case 3:if((t=e.sent).length){e.next=8;break}u.push("/unauthorized"),e.next=17;break;case 8:if((r=t[0]).title=a,h(r),!r.contentThreadId){e.next=16;break}return e.next=14,tt(d);case 14:c=e.sent,V(Object(b.a)(Object(b.a)({},c),{},{analyses:c.analyses.filter((function(e){return e.contentThreadId.toString()!==r.contentThreadId.toString()}))}));case 16:J("");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d,a,n,u,i,l]),Object(r.useEffect)((function(){d&&function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{l(Oh(d,i,!1))}catch(t){}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l,d,i]);var ce=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,r,c,o,i,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=t.tags,c=t.linkedAdjustments,o=t.source,i=t.notes,U(!0),e.prev=2,s=$e(W,f.contentId),L(r),I(!0),e.next=8,$i(d,{contentThreadId:f.contentThreadId,contentId:f.contentId,contentSubType:f.contentSubType,title:a,body:n,source:o,notes:i,tags:r,links:s});case 8:return e.next=10,ih(d,ne,c,l);case 10:R(),ae(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),U(!1),R(x.ErrorUtilities.getContentErrorType(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(f.tags||[]).map((function(e){return e.text}));return y?v:e}(),ie={title:f.title,body:f.body||"",status:f.status||300,source:f.source||"",notes:f.notes||"",tags:oe,linkedAdjustments:Object(m.a)(ne)};return""!==H||""!==Q||X||$?Object(Ma.jsx)(er.Loader,{dataTestId:"structured-loading-indicator"}):Object(Ma.jsx)(Qs.Formik,{initialValues:ie,enableReinitialize:!0,onSubmit:ce,validationSchema:mv,validateOnChange:!0,children:function(e){var t=e.errors,n=e.touched,a=e.isValid,r=e.values,c=e.setFieldValue;return Object(Ma.jsx)(bv,{documentCode:i,onCancel:ae,isSaving:F,errorType:D,errors:t,touched:n,isValid:a,values:r,setFieldValue:c,canEditTitle:!1,showLibraryItemPicker:!1,showLinkedAdjustments:o,showNotes:!0,projectId:d,parentContentId:f.contentId||0,narratives:W,setNarratives:V,adjustmentOptions:re,onSaveText:"Updating...",standbyText:"Update",targetDocumentOptions:N,children:Object(Ma.jsx)("h1",{children:"Edit Analysis"})})}})};Ov.defaultProps={showLinkedAdjustments:!1};var fv=Ov,hv=function(){return Object(Ma.jsx)(fv,{getReturnPath:Tc,title:"Debt and Debt Like",type:Ms[x.Constants.DEBT_AND_DEBT_LIKE],documentCode:x.Constants.DEBT_AND_DEBT_LIKE,showLinkedAdjustments:!0})},_v=function(){var e=fh(x.Constants.NET_WORKING_CAPITAL),t=e.projectId,n=e.targetAdjustmentType,a=e.targetAdjustmentName,r=e.hasError,c=e.analysis,o=e.isConfirmVisible,i=e.setIsConfirmVisible,s=e.isLoading,l=e.versions,d=e.chartKey,u=e.incrementChartKey,j=e.viewClient,b=e.handleEdit,p=e.handleDelete,m=e.handleRefresh,O=e.workflowActions,f=e.isClientView;return Object(Ma.jsx)(Kg,{projectId:t,documentCode:x.Constants.NET_WORKING_CAPITAL,hasError:r,isLoading:s,analysis:c,viewClient:j,isClientView:f,targetAdjustmentType:n,targetAdjustmentName:a,versions:l,workflowActions:O,handleEdit:b,handleRefresh:m,handleDelete:p,isConfirmVisible:o,setIsConfirmVisible:i,incrementChartKey:u,chartKey:d})},xv=function(){return Object(Ma.jsx)(fv,{getReturnPath:Cc,title:"Net Working Capital",type:Ms[x.Constants.NET_WORKING_CAPITAL],documentCode:x.Constants.NET_WORKING_CAPITAL,showLinkedAdjustments:!0})},gv=function(){var e=fh(x.Constants.QUALITY_OF_EARNINGS),t=e.projectId,n=e.targetAdjustmentType,a=e.targetAdjustmentName,r=e.hasError,c=e.analysis,o=e.isConfirmVisible,i=e.setIsConfirmVisible,s=e.isLoading,l=e.versions,d=e.chartKey,u=e.incrementChartKey,j=e.viewClient,b=e.handleEdit,p=e.handleDelete,m=e.handleRefresh,O=e.workflowActions,f=e.isClientView;return Object(Ma.jsx)(Kg,{projectId:t,documentCode:x.Constants.QUALITY_OF_EARNINGS,hasError:r,isLoading:s,analysis:c,viewClient:j,isClientView:f,targetAdjustmentType:n,targetAdjustmentName:a,versions:l,workflowActions:O,handleEdit:b,handleRefresh:m,handleDelete:p,isConfirmVisible:o,setIsConfirmVisible:i,incrementChartKey:u,chartKey:d})},vv=function(){return Object(Ma.jsx)(fv,{getReturnPath:Lc,title:"Quality of Earnings",type:Ms[x.Constants.QUALITY_OF_EARNINGS],documentCode:x.Constants.QUALITY_OF_EARNINGS,showLinkedAdjustments:!0})},Lv=Object(f.a)(l.getLocation,(function(e){return Object.keys(nc).filter((function(t){var n=nc[t];return e.pathname.endsWith(n)})).length>0})),Cv=Object(f.a)(cf,Lv,(function(e,t){return{showBanner:e&&t}})),Tv=function(e){var t=e.showDisclaimerModal,n=Object(s.useSelector)(Cv);return Object(Ma.jsx)(er.AppBanner,{showBanner:n.showBanner,dataTestId:"viewing-toggled-data-banner",children:Object(Ma.jsxs)("div",{"data-testid":"disclaimer-warning-text",children:["You are outside of the PwC default view. Your data selections may not be consistent with the commentary and/or observations presented on this screen. Information should be viewed in conjunction with the following\xa0",Object(Ma.jsx)(er.Button,{className:"button-link","data-testid":"project-disclaimer-link",onClick:function(){return t(!0)},children:"disclaimer."},"project-disclaimer")]})})},yv=(n(1351),function(e){return function(){return Object(Ma.jsx)(Ev,{children:Object(Ma.jsx)(e,{})})}}),Iv=function(e){var t=e.showModal,n=e.closeModal;return Object(Ma.jsxs)(hs.a,{show:t,onHide:function(){return n(!1)},className:"disclaimer-modal",centered:!0,children:[Object(Ma.jsx)(hs.a.Header,{closeButton:!0,children:Object(Ma.jsx)(hs.a.Title,{className:"disclaimer-modal-title",children:Object(Ma.jsx)("h4",{children:"Visual Interactive Disclaimer"})})}),Object(Ma.jsx)(hs.a.Body,{className:"scrollable disclaimer-modal-body",children:Object(Ma.jsx)("div",{"data-testid":"project-disclaimer-content",className:"project-disclaimer-content",children:"Any adjustments to the output prepared by PwC are at your discretion and for your convenience and general information purposes only. PwC accepts no liability to you or anyone else in connection with the results."})})]})},Ev=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(Cr.a)(n,2),c=a[0],o=a[1];return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Tv,{showDisclaimerModal:o}),Object(Ma.jsx)(Iv,{showModal:c,closeModal:o}),t]})},wv=(n(1352),n(1353),function(e){var t=e.projectId;return Object(Ma.jsxs)(Ja.Link,{to:Ac(t),className:"report-builder-link",children:[Object(Ma.jsx)(er.Icon,{name:"report",width:24,className:"report-builder-link__icon fill icon-orange"}),"Go to Report Builder"]})}),Nv=function(){var e=Object(p.m)(),t=e.projectId,n=e.analysisId,a=e.version,c=Object(p.l)(),o=Object(r.useState)([]),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!0),j=Object(Cr.a)(u,2),b=j[0],m=j[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(s.useDispatch)(),v=Object(s.useSelector)(F),L=Ps.a.parse(c.search).isUnStructured;Object(r.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nm(t,n,a);case 3:r=e.sent,d(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_(!0);case 10:return e.prev=10,m(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t,a]),Object(r.useEffect)((function(){var e="shared"===a?x.Constants.VERSION_STATUS.SHARED.value:"";return g("false"===L?function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r,c){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pj(r,c,Object(te.a)(ee.a.mark((function a(){var r;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(e,t,n);case 2:return(r=a.sent).title=An[r.contentSubType],a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)}))));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t,n,e):function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r,c){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pj(r,c,(function(){return Ys(e,t,n)}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t,n,e)),function(){return g(T())}}),[g,t,n,a,L]);var C=v.isUnStructured?hc(t,v.contentThreadId):Ic(t,v.contentSubType);return Object(Ma.jsxs)("div",{className:"analysis-report-preview",children:[Object(Ma.jsx)("div",{className:"analysis-top-bar-container",children:Object(Ma.jsx)("div",{className:"analysis-top-bar",children:v.contentId&&Object(Ma.jsxs)(Ja.Link,{to:C,className:"analysis-report-preview__back-link",children:[Object(Ma.jsx)(er.Icon,{name:"left-chevron",width:14,className:"analysis-report-preview__back-icon fill icon-orange"}),"Back to working view"]})})}),Object(Ma.jsxs)("div",{className:"analysis-report-preview-container",children:[Object(Ma.jsxs)("div",{className:"analysis-report-preview__inner",children:[Object(Ma.jsx)("div",{className:"analysis-report-preview__inner__status",children:v.contentId&&Object(Ma.jsx)(Uj,{projectId:t,content:v,className:"analysis-pill-container",allowDraftPill:!0})}),Object(Ma.jsx)("div",{className:"analysis-report-preview__inner__builder-link",children:Object(Ma.jsx)(wv,{projectId:t})})]}),h&&Object(Ma.jsx)("div",{children:"Failed to load content"}),Object(Ma.jsx)(Ma.Fragment,{children:b||v.isLoading?Object(Ma.jsx)(er.Loader,{dataTestId:"loading-spinner"}):l.map((function(e){return Object(Ma.jsx)("img",{className:"preview-image",src:e,alt:"report preview"},e)}))})]})]})},Av="/projects/:projectId/analyses/",Sv=yv(gv),kv=yv(_v),Dv=yv(qg),Rv=function(){var e=[{path:"",component:yu},{path:nc[x.Constants.NET_WORKING_CAPITAL],component:kv},{path:nc[x.Constants.QUALITY_OF_EARNINGS],component:Sv},{path:nc[x.Constants.DEBT_AND_DEBT_LIKE],component:Dv},{path:":analysisId/view",component:Yj}],t=[{path:"add-type",component:Ns},{path:"create",exact:!1,component:QO},{path:"add-from-template",component:Ts},{path:"".concat(nc[x.Constants.DEBT_AND_DEBT_LIKE],"/edit"),component:hv},{path:"".concat(nc[x.Constants.NET_WORKING_CAPITAL],"/edit"),component:xv},{path:"".concat(nc[x.Constants.QUALITY_OF_EARNINGS],"/edit"),component:vv},{path:":analysisId/edit",exact:!1,component:JO},{path:":analysisId/report-preview/:version(latest|shared)",exact:!0,component:Nv}];return Object(Ma.jsxs)(p.g,{children:[e.map((function(e){return Object(Ma.jsx)(p.d,{exact:me()(e,"exact",!0),path:"".concat(Av).concat(e.path),component:e.component},e.path)})),t.map((function(e){return Object(Ma.jsx)(Ui,{exact:me()(e,"exact",!0),permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],isAuthorized:ue.hasValidToken,path:"".concat(Av).concat(e.path),component:e.component},e.path)})),Object(Ma.jsx)(p.d,{path:Av,render:function(e){var t=e.match;return Object(Ma.jsx)(p.c,{to:"/projects/".concat(t.params.projectId,"/analyses/")})}})]})},Pv=function(e){var t=e.documentCode,n=e.onIngestion;return Object(Ma.jsx)(er.Button,{"data-testid":"ingest-analysis-button-".concat(t),onClick:n,children:"Add"})};Pv.defaultProps={documentCode:""};var Mv=Pv,Fv=(n(1354),function(e){var t=e.projectId,n=e.documentName,a=e.documentCode,r=e.showDetailLink,c=Object(s.useSelector)(bs),o=Object(s.useSelector)(ps),i=Object(s.useSelector)(ms),l=Object(s.useSelector)(js),d=Object(s.useDispatch)(),u=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(Os(t,a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){return d(ss())};return Object(Ma.jsxs)("div",{className:"analysis-card","data-testid":"analysis-card-".concat(a),children:[Object(Ma.jsx)("div",{className:"analysis-card-header","data-testid":"card-header-".concat(a),children:n}),Object(Ma.jsx)("div",{className:"template-placeholder"}),Object(Ma.jsxs)("div",{className:"button-spinner-group",children:[!l.includes(a)&&Object(Ma.jsx)(Mv,{projectId:t,documentCode:a,onIngestion:u}),c.includes(a)&&Object(Ma.jsx)(er.Loader,{className:"small",dataTestId:"loading-spinner"})]}),r&&l.includes(a)&&Object(Ma.jsx)(Ja.Link,{to:"/projects/".concat(t,"/analyses/").concat(nc[a]),children:Object(Ma.jsxs)("div",{className:"status-container",children:[Object(Ma.jsx)(er.Icon,{name:"check","data-testid":"".concat(a,"-confirm-icon"),width:14,className:"fill icon-green"}),Object(Ma.jsx)("div",{"data-testid":"".concat(a,"-link"),children:"View analysis"}),Object(Ma.jsx)(er.Icon,{"data-testid":"structured-analysis-card-arrow",name:"arrow-right",className:"outline right",width:15})]})}),!r&&l.includes(a)&&Object(Ma.jsxs)("div",{className:"status-container",children:[Object(Ma.jsx)(er.Icon,{name:"check","data-testid":"".concat(a,"-confirm-icon"),width:14,className:"fill icon-green"}),Object(Ma.jsx)("div",{"data-testid":"".concat(a,"-no-link"),children:"Ingestion Successful"})]}),Object(Ma.jsx)(_s,{show:o,onCancel:j,onConfirm:j,confirmTitle:"Failed attempt on import",confirmationMessage:i,showCancel:!1,confirmButtonText:"OK"})]})});Fv.defaultProps={projectId:"",documentName:"",documentCode:""};var Uv=Fv,Bv=(n(1355),function(){return Object(Ma.jsx)("div",{className:"empty-structured-analysis-card","data-testid":"empty-structured-analysis-card",children:Object(Ma.jsx)("h2",{children:"No structured documents defined for ingestion"})})}),Yv=(n(1356),function(e){var t=e.projectId,n=e.structuredDocuments,a=!!n.length;return Object(Ma.jsxs)(Ma.Fragment,{children:[!a&&Object(Ma.jsx)(Bv,{}),a&&Object(Ma.jsx)("div",{children:Object(Ma.jsx)("div",{className:"structured-analysis-add-from-template","data-testid":"structured-analysis-table",children:n.map((function(e){return Object(Ma.jsx)("div",{children:Object(Ma.jsx)(Uv,{projectId:t,documentName:e.displayName,documentCode:e.code,showDetailLink:e.hasDetailView})},e.code)}))})})]})});Yv.defaultProps={projectId:"",structuredDocuments:[]};var Wv,Vv=Yv,Zv=(n(1357),function(){var e=Object(p.m)().projectId,t=Object(r.useState)([]),n=Object(Cr.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(){var t=Object(te.a)(ee.a.mark((function t(){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ki(e);case 2:n=t.sent,c(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(Ma.jsxs)("div",{"data-testid":"structured-analysis-container",className:"add-analysis-from-template-container",children:[Object(Ma.jsx)("h2",{children:"Add Analysis from template"}),Object(Ma.jsx)("p",{className:"description",children:"Please select the Analyses required for this project."}),Object(Ma.jsx)("div",{className:"divider"}),Object(Ma.jsx)(Vv,{"data-testid":"structured-analysis-table",projectId:e,structuredDocuments:a})]})}),Gv=(n(1358),function(e){var t=e.toolTipDirection,n=void 0===t?"left":t,a=Object(s.useSelector)(ja),r=Object(s.useSelector)(ba),c="Make sure your PowerPoint ".concat("\n","files are saved in SharePoint, ","\n","and your Power BI reports are","\n"," published to Workbench.");return Object(Ma.jsxs)("div",{className:"external-source-links",children:["View in"," ",Object(Ma.jsx)("a",{className:"external-source-link",target:"_blank",rel:"noopener noreferrer","data-testid":"project-sharepoint-link",href:"//".concat(a,"/Shared%20Documents/Forms/AllItems.aspx"),children:"Sharepoint"})," ","or"," ",Object(Ma.jsx)("a",{className:"external-source-link",target:"_blank",rel:"noopener noreferrer","data-testid":"project-workbench-link",href:"".concat(r,"/reports"),children:"Workbench"})," ",Object(Ma.jsx)(er.Tooltip,{direction:n,dataTestId:"source-links-tooltip-popup",tip:c,children:Object(Ma.jsx)(er.Icon,{name:"information",width:"16",className:"icon fill icon-yellow source-file-tooltip-icon"})})]})}),Hv=(n(1359),function(){var e=Object(p.m)().projectId,t=fc(e),n=Ec(e),a=function(e){return"/projects/".concat(e,"/analyses2/create")}(e);return Object(Ma.jsxs)("div",{className:"add-analysis-type-container",children:[Object(Ma.jsx)(ws,{title:"Add a new analysis",size:"h1"}),Object(Ma.jsxs)("section",{className:"custom-analysis-section",children:[Object(Ma.jsx)(ws,{title:"Custom",size:"h2"}),Object(Ma.jsx)("p",{children:"Build and customize the layout to include data from Excel, PowerPoint or Power BI. These update automatically and give you flexibility in how your Analysis is presented."}),Object(Ma.jsxs)(Ja.Link,{to:a,"data-testid":"create-new-custom",children:[Object(Ma.jsx)(er.Icon,{name:"add",width:18}),"New custom"]})]}),Object(Ma.jsxs)("div",{className:"card-container",children:[Object(Ma.jsxs)("section",{className:"card","data-testid":"analysis-type-card",children:[Object(Ma.jsxs)("div",{className:"title",children:[Object(Ma.jsx)(er.Icon,{name:"from-template",width:20}),"From template"]}),Object(Ma.jsx)("div",{className:"card-content",children:"Add common analyses to generate the tables and charts. Populate the relevant data fields in the Excel template on SharePoint."}),Object(Ma.jsxs)(Ja.Link,{to:t,"data-testid":"add-from-template-link",className:"add-from-template-button",children:[Object(Ma.jsx)(er.Icon,{name:"add",width:18}),"Start from template"]})]}),Object(Ma.jsxs)("section",{className:"card",children:[Object(Ma.jsxs)("div",{className:"title",children:[Object(Ma.jsx)(er.Icon,{name:"free-form",width:20}),"Free-form"]}),Object(Ma.jsx)("div",{className:"card-content",children:"Choose pre-ingested data or ingest your own using the Excel add-in. You can also import data from Power BI and PowerPoint."}),Object(Ma.jsxs)(Ja.Link,{to:n,"data-testid":"add-freeform-link",className:"add-from-template-button",children:[Object(Ma.jsx)(er.Icon,{name:"add",width:18}),"Start free-form"]})]})]}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(Gv,{})]})}),Kv=(Wv={Unstructured:100},Object($t.a)(Wv,x.Constants.QUALITY_OF_EARNINGS,200),Object($t.a)(Wv,x.Constants.NET_WORKING_CAPITAL,300),Object($t.a)(Wv,x.Constants.DEBT_AND_DEBT_LIKE,400),Wv);Object.freeze(Kv);var qv=function(e,t,n){var a=t?"/".concat(t):"",r=n?"/".concat(n):"";return"projects/".concat(e,"/analyses").concat(a).concat(r)},zv=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/analyses").concat(n?"?".concat(Ps.a.stringify({TagIds:n})):""));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qv=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,r,c=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,a=c.length>2&&void 0!==c[2]?c[2]:10,e.next=4,Re.get("/projects/".concat(t,"/analyses?currentPage=").concat(n,"&pageSize=").concat(a));case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jv=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(qv(t,n,a)));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Xv=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/contents/").concat(n,"/versions"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$v=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/contents/").concat(n,"/draft"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),eL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/projects/".concat(t,"/contents/").concat(n,"/shared"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post(qv(t),Object(b.a)(Object(b.a)({},n),{},{createdBy:"unset"}));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.put(qv(t,n),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),aL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.delete(qv(t,n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(qv(t,n),"/").concat(a),e.abrupt("return",ke.post(r));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),cL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post("".concat(qv(t),"/sortorder"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oL=(n(1360),n(1361),function(e){var t=e.tags,n=e.testId;if(t&&0===t.length)return null;var a=wt()(t,[function(e){return e.text.toLowerCase()}],["asc"]);return Object(Ma.jsxs)("div",{className:"tags-list-container","data-testid":n,children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Icon,{name:"tag",className:"fill tag-icon",width:15,"data-testid":"draft-icon"})}),Object(Ma.jsx)("div",{className:"tags",children:a.map((function(e,t){return Object(Ma.jsxs)("span",{"data-testid":"tag",children:[Object(Ma.jsx)("span",{className:"punctuation",children:t?", ":""}),Object(Ma.jsx)("span",{className:"tag-text",children:e.text})]},"".concat(e.text,"-").concat(t))}))})]})});oL.defaultProps={tags:[]};var iL=oL,sL=function(e){var t=e.analysis,n=e.projectId,a=e.onEditMenuClick,r=e.onDeleteMenuClick,c=e.index;return Object(Ma.jsxs)("div",{className:"card-container",children:[Object(Ma.jsx)("div",{className:"row",children:Object(Ma.jsxs)("div",{className:"col down",children:[Object(Ma.jsx)("div",{className:"card-title",children:Object(Ma.jsx)(Ja.Link,{to:t.isUnStructured?_c(n,t.frontendIdentifier):hl(n,t.title),"data-testid":"analysis-title","aria-label":"View Analysis",children:Object(Ma.jsx)("h2",{children:t.displayName||t.title})})}),Object(Ma.jsx)("span",{className:"card-description","data-testid":"analysis-description",dangerouslySetInnerHTML:{__html:Qa(t.body)}}),Object(Ma.jsx)(gl,{hasConnectedContent:t.hasConnectedContent,projectId:n,contentId:t.contentId,index:c})]})}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"card-action-footer",children:[Object(Ma.jsx)(kl,{content:t,projectId:n,allowDraftPill:!0}),Object(Ma.jsx)("div",{className:"card-actions",children:Object(Ma.jsx)(mo,{projectId:n,permissions:["Contribute"],children:Object(Ma.jsx)(ol,{projectId:n,itemId:t.frontendIdentifier,onEditMenuClick:a,onDeleteMenuClick:r})})})]}),Object(Ma.jsx)("div",{className:"row",children:t.tags&&t.tags.length>0&&Object(Ma.jsx)(iL,{tags:t.tags,testId:"analysis-tag-list"})})]})},lL=function(e){var t=e.data,n=e.onDelete,a=e.projectId,r=e.dataLength,c=e.currentPage,o=e.next,i=e.hasMore,s=Object(p.k)(),l=function(e){return s.push(gc(a,e))};return Object(Ma.jsx)("div",{className:"analyses-grid-container",children:Object(Ma.jsx)("div",{"data-testid":"list-grid",children:Object(Ma.jsx)(Xs.a,{dataLength:r,hasMore:i,next:function(){o(c+1)},scrollThreshold:1,className:"grid-cards list-grid",children:t.map((function(e,t){return Object(Ma.jsx)(sL,{analysis:e,projectId:a,onEditMenuClick:l,onDeleteMenuClick:function(){return n(e)},index:t},"content-grid-card-".concat(e.contentThreadId))}))})})})},dL=function(e){var t=e.projectId,n=mc(t);return Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(Ja.Link,{to:!t&&n,children:Object(Ma.jsx)(er.Button,{disabled:t,className:"mt-3",children:"Create Analysis"})})}})},uL=function(e){var t=e.projectId;return Object(Ma.jsx)(Ml,{projectId:t,pluralName:"Analyses",singularName:"analysis",children:Object(Ma.jsx)(dL,{projectId:t})})},jL=(n(1362),{content:null,status:{isLoading:!1,hasError:!1,errorMessage:null},sharedStatus:null,sections:null,versions:null,sharedVersion:null,draftVersion:null,libraryItemsNew:{items:[]},libraryItemsShared:{items:[]},libraryItemGroups:null,tags:null}),bL=Object(O.createSlice)({name:"analysis",initialState:jL,reducers:{resetAnalysis:function(){return jL},fetchAnalysisBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0,hasError:!1,errorStatusCode:null})},fetchAnalysisSucceeded:function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isLoading:!1,hasError:!1,errorStatusCode:null})},fetchAnalysisFailed:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1,hasError:!0,errorStatusCode:t.payload})},fetchAnalysisDetailBegin:function(e){e.status.isLoading=!0,e.status.hasError=!1,e.status.errorMessage=null},fetchAnalysisContent:function(e,t){var n=t.payload,a=n.content,r=n.content.sections,c=Object(h.omit)(a,["sections"]);e.content=c,e.sections=r,e.status.isLoading=!1,e.status.hasError=!1},fetchAnalysisLibraryItemGroups:function(e,t){var n=t.payload.libraryItemGroups;e.libraryItemGroups=n,e.status.isLoading=!1,e.status.hasError=!1},fetchAnalysisDetailFailed:function(e,t){var n=t.payload,a=n.isLoading,r=n.hasError,c=n.errorMessage;e.status.isLoading=a,e.status.hasError=r,e.status.errorMessage=c},fetchLibraryItemsNew:function(e,t){var n=t.payload.libraryItems;e.libraryItemsNew.items=n},updateSharedStatus:function(e,t){e.sharedStatus=Object(b.a)({},t.payload)},updateVersions:function(e,t){e.versions=Object(m.a)(t.payload)},updateSectionItems:function(e){var t=e.libraryItemsNew.items,n=Object(h.cloneDeep)(e.sections);if(n&&n.length>0){var a=n.map((function(e){var n=e.items.map((function(e){var n=Object(h.cloneDeep)(e),a=t.findIndex((function(t){return t.id===e.libraryItemId}));if(a>-1){var r=t[a];return Object(b.a)(Object(b.a)({},n),r)}return Object(b.a)({},n)}));return Object(b.a)(Object(b.a)({},e),{},{items:n})}));e.sections=a}},updateSections:function(e,t){var n=t.payload.newSections;e.sections=n},fetchAnalysisVersionsSuccess:function(e,t){var n=t.payload.versions;e.versions=n},fetchAllTags:function(e,t){var n=t.payload.tags;e.tags=n}}}),pL=(bL.reducer,bL.actions),mL=pL.resetAnalysis,OL=pL.fetchAnalysisBegan,fL=pL.fetchAnalysisSucceeded,hL=pL.fetchAnalysisFailed,_L=pL.fetchAnalysisDetailBegin,xL=pL.fetchAnalysisContent,gL=pL.fetchAnalysisLibraryItemGroups,vL=pL.fetchAnalysisDetailFailed,LL=pL.fetchLibraryItemsNew,CL=(pL.updateSharedStatus,pL.updateVersions),TL=pL.updateSectionItems,yL=pL.updateSections,IL=(pL.updateSectionSharedItems,pL.fetchAnalysisVersionsSuccess,pL.fetchAllTags,function(e){return e.analysis}),EL=Object(f.a)(IL,(function(e){return e.content})),wL=Object(f.a)(IL,(function(e){return e.sections})),NL=(Object(f.a)(IL,(function(e){return e.libraryItemsNew})),Object(f.a)(IL,(function(e){return e.status}))),AL=Object(f.a)(IL,(function(e){return e.tags})),SL=Object(f.a)(IL,(function(e){return e.content&&e.content.shareWithAll})),kL=Object(f.a)(IL,(function(e){return e.versions})),DL=Object(f.a)(kL,(function(e){return e&&e.length>0&&e.find((function(e){return e.versionStatus===x.Constants.VERSION_STATUS.DRAFT.value}))})),RL=Object(f.a)(kL,(function(e){return e&&e.length>0&&e.find((function(e){return e.versionStatus===x.Constants.VERSION_STATUS.SHARED.value}))})),PL=(Object(f.a)(IL,(function(e){return e.sharedStatus})),function(e){var t=e.projectId,n=e.dataLength,a=e.currentPage,c=e.pageSize,o=e.next,i=e.hasMore,l=e.analyses,d=e.isFetching,u=e.toggleView,j=e.onFilter,b=e.viewGrid,p=e.onDelete,m=e.onReorder,O=Object(r.useState)(!0),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(r.useState)(!1),v=Object(Cr.a)(g,2),L=v[0],C=v[1],T=Object(r.useState)(null),y=Object(Cr.a)(T,2),I=y[0],E=y[1],w=Object(r.useState)([]),N=Object(Cr.a)(w,2),A=N[0],S=N[1],k=Object(r.useState)(null),D=Object(Cr.a)(k,2),R=D[0],P=D[1],M=Object(s.useSelector)(AL);Object(r.useEffect)((function(){l&&l.length>0?(l.sort((function(e,t){return e.sortOrder-t.sortOrder})),P(l),_(!1)):l&&0===l.length&&A.length>0?(P(l),_(!1)):(P(null),_(!!d))}),[l,d,A.length]);var F=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t),b&&((n=M.filter((function(e){return t.includes(e.text)})))&&n.length>0?(a=n.map((function(e){return e.id})),j(a)):o());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(r.useMemo)((function(){return R&&R.length>0&&R.filter((function(e){var t=new Set((e.tags||[]).map((function(e){return e.text})));return!A.length||A.some((function(e){return t.has(e)}))}))}),[R,A]);return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:L,onCancel:function(){return C(!1)},onConfirm:function(){C(!1),p(I)},confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Analysis will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsxs)("div",{"data-testid":"analysis-list-container",className:"analysis-list-container",children:[Object(Ma.jsxs)("div",{className:"list-container-header",children:[Object(Ma.jsx)("h2",{className:"analyses-view-h2",children:"Analyses"}),Object(Ma.jsxs)("div",{className:"list-container-header-source-links",children:[Object(Ma.jsx)(Cl,{roles:x.Constants.USER_ROLE_GROUPS.INTERNAL_READWRITE,projectId:t,restrictedForRoleElement:Object(Ma.jsx)("div",{"data-testid":"analysis-source-links-placeholder"}),children:Object(Ma.jsx)(Gv,{toolTipDirection:"left"})}),Object(Ma.jsx)(Js,{viewGrid:b,onClick:u})]})]}),Object(Ma.jsx)(Qs.Formik,{initialValues:{tags:[]},children:function(){return Object(Ma.jsx)(od,{projectId:t,onSelect:F,tagsRight:!0,title:!1,subtitle:!1,allowCreateTags:!1,placeholderText:"Filter by tag"})}}),h&&!R&&Object(Ma.jsx)(er.Loader,{dataTestId:"loader"}),!h&&R&&Object(Ma.jsxs)("div",{className:"content",children:[U&&U.length>0&&b&&Object(Ma.jsx)("div",{"data-testid":"analysis-grid-view",children:Object(Ma.jsx)(lL,{data:U,hasContent:!!R.length,projectId:t,onDelete:function(e){E(e),C(!0)},dataLength:n,currentPage:a,pageSize:c,hasMore:i,next:o})}),U&&U.length>0&&!b&&Object(Ma.jsx)("div",{"data-testid":"analysis-list-view",children:Object(Ma.jsx)(Lu,{contentType:vd,projectId:t,contentItems:U,projectHasContent:!!R.length,onDelete:p,onReorder:m,updateSortOrderApiCall:cL,isFiltered:!!A.length})}),(!U||0===U.length)&&Object(Ma.jsx)(id,{})]}),!h&&!R&&Object(Ma.jsx)(uL,{projectId:t})]})]})}),ML=function(e){switch(e.contentSubType){case x.Constants.structuredDocumentSubtypeCodes[x.Constants.QUALITY_OF_EARNINGS]:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:nc[x.Constants.QUALITY_OF_EARNINGS],code:x.Constants.QUALITY_OF_EARNINGS});case x.Constants.structuredDocumentSubtypeCodes[x.Constants.NET_WORKING_CAPITAL]:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:nc[x.Constants.NET_WORKING_CAPITAL],code:x.Constants.NET_WORKING_CAPITAL});case x.Constants.structuredDocumentSubtypeCodes[x.Constants.DEBT_AND_DEBT_LIKE]:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:nc[x.Constants.DEBT_AND_DEBT_LIKE],code:x.Constants.DEBT_AND_DEBT_LIKE});default:return Object(b.a)(Object(b.a)({},e),{},{frontendIdentifier:e.contentThreadId})}},FL=function(){var e=Object(p.m)().projectId,t=Object(r.useState)(null),n=Object(Cr.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(0),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(null),j=Object(Cr.a)(u,2),b=j[0],O=j[1],f=Object(r.useState)(null),h=Object(Cr.a)(f,2),_=h[0],x=h[1],g=Object(s.useSelector)(Pr),v=Object(s.useDispatch)(),L=Tr().height,C=Object(r.useCallback)((function(){return L&&document.body.scrollHeight>L}),[L]),T=Object(r.useCallback)((function(){return a&&b&&a.length<b}),[a,b]),y=Object(r.useCallback)((function(e,t,n){if(O(t),d(n),0!==n){var r=a?Ss()(a):[],o=Ds()(r.concat(e),"contentThreadId");c(o.map(ML))}else{var i=Ds()(e,"contentThreadId");c(i.map(ML))}x(!1)}),[a]),I=Object(r.useCallback)(Object(te.a)(ee.a.mark((function t(){var n,a,r,c,o,i=arguments;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,x(!0),t.next=4,Qv(e,n,10);case 4:a=t.sent,r=a.items,c=a.rowCount,o=a.currentPage,y(r,c,o);case 7:case"end":return t.stop()}}),t)}))),[e,y]),E=Object(r.useCallback)(function(){var t=Object(te.a)(ee.a.mark((function t(n){var a,r,c,o;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.next=3,zv(e,n);case 3:a=t.sent,r=a.items,c=a.currentPage,o=a.rowCount,y(r,o,c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[y,e]);Object(r.useEffect)((function(){g&&!g.settings.viewGrid?E():I()}),[]),Object(r.useEffect)((function(){if(a&&a.length>0&&b){var e=C(),t=T();!1!==e||!0!==t||_||I(l+1)}}),[a,L,b,l,I,C,T,_]);var w=function(){var t=Object(te.a)(ee.a.mark((function t(n){var r,o,i,s,l,d;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.contentThreadId,o=n.code,i=n.isUnStructured,s=i?aL(e,r):es(e,o),t.next=4,s;case 4:!0===t.sent.data&&(l=a.findIndex((function(e){return e.contentThreadId===r})))>-1&&((d=Ss()(a)).splice(l,1),c(Object(m.a)(d)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Ma.jsx)("div",{"data-testid":"analyses-container",className:"analyses-container",children:Object(Ma.jsx)(PL,{toggleView:function(){c(null);var e=g.settings.viewGrid,t=!e;v(Dr({viewGrid:!e})),t?I(l):E()},onFilter:function(e){c(null),E(e)},viewGrid:g.settings.viewGrid,projectId:e,dataLength:a&&a.length,currentPage:l,pageSize:10,hasMore:T(),isFetching:_,next:I,fetchAllAnalyses:E,analyses:a,onDelete:w,onReorder:function(e){c(e)}})})},UL=(n(245),n(586),function(e){var t=e.onEdit,n=e.onDelete,a=e.onRefresh,c=e.deleteConfirmation,o=e.analysis,i=e.viewClient,l=e.workflowActions,d=void 0===l?[]:l,u=e.libraryItemCorruptedError,j=e.onCloseErrorState,b=e.children,m=e.isShared,O=Object(p.m)().projectId,f=Object(s.useDispatch)();Object(r.useEffect)((function(){f(ei(m))}),[f,m]);var h=vc(O,o.contentThreadId,i.isOnClientVersion?"shared":"latest",o.isUnStructured);return Object(Ma.jsx)("div",{className:"analysis-top-bar-container",children:Object(Ma.jsxs)("div",{className:"analysis-top-bar",children:[b,Object(Ma.jsx)("div",{}),Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(mo,{projectId:O,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:[Object(Ma.jsx)(jo,{projectId:O,children:function(e){var n=e.isProjectDisabled;return Object(Ma.jsx)(er.Button,{"data-testid":"edit-button",type:"button",onClick:t,className:"button-block button-small mr-3",disabled:n||i.isOnClientVersion,children:"Edit"})}}),Object(Ma.jsx)(Du,{itemId:o.contentThreadId,onDelete:n,onRefresh:a,deleteConfirmation:c,workflowActions:d,viewClient:i,libraryItemCorruptedError:u,onCloseErrorState:j,reportPreviewUrl:h})]})})]})})});UL.defaultProps={onRefresh:void 0};var BL=UL,YL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a||!1,e.next=3,ke.get("projects/".concat(t,"/powerBiReports/search?libraryItemId=").concat(n,"&shared=").concat(r));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),WL=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.post("/projects/".concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),VL={300:"SVG",301:"HTML",500:"HTML"},ZL={300:Yu,301:Yu,500:Wu,400:WL,401:WL},GL={500:"pptLibraryItems",301:"excelLibraryItems",300:"excelLibraryItems"},HL=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),c=r.analysis.libraryItemsNew.items,o=Object(h.cloneDeep)(c).concat(e),n(LL({libraryItems:o})),n(TL());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},KL=function(e,t){var n=e.libraryItemId,a=e.libraryItemType,r=Object(h.cloneDeep)(Object(h.omit)(e,["libraryItemId","libraryItemType"]));return Object(b.a)(Object(b.a)({},r),{},{id:n,type:a,data:t})},qL=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c,o,i;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=t.data,a.next=4,ZL[n.type](e,t);case 4:o=a.sent,i=KL(o,c),r(HL(i)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},zL=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),!(c=r.analysis.libraryItemGroups.powerBiLibraryItemList)||0!==c.length){t.next=3;break}return t.abrupt("return");case 3:c.forEach((function(t){var a={reportId:t.reportId,embedUrl:t.embedUrl};t.powerBiLibraryItems.forEach((function(t){var r=Object(b.a)(Object(b.a)({},a),{},{libraryItemId:t.id,libraryItemType:t.type,workspaceId:t.workspaceId,name:t.name,data:t.data});n(qL(e,r,t))}))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},QL=function(e){var t=e.fileName;return e.fileContents.map((function(e){var n=Object(h.cloneDeep)(e);return Object(b.a)(Object(b.a)({},n),{},{fileName:t})}))},JL=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c,o;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ZL[n](e,t);case 3:c=a.sent,o=QL(c),r(HL(o)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},XL=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),!(c=r.analysis.libraryItemGroups.excelPptLibraryItemList)||0!==c.length){t.next=3;break}return t.abrupt("return");case 3:c.forEach((function(t){var a={groupedByKey:t.groupedByKey,sharePointItemUrl:t.sharePointItemUrl,driveId:t.driveId,driveItemId:t.driveItemId,siteId:t.siteId},r=t.excelPptLibraryItems[0].type;a[GL[r]]=t.excelPptLibraryItems.map((function(e){var t=Object(h.cloneDeep)(e),n=t.data;return n.formatType=VL[e.type],Object(b.a)(Object(b.a)({},t),{},{data:n})})),n(JL(e,a,r))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},$L=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o,i,s,l;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a(),!(c=r.analysis.libraryItemGroups.richTextLibraryItemList)||0!==c.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,o=c.reduce((function(e,t){var n=t.libraryItemId,a=Number.isInteger(parseInt(n,10))?parseInt(n,10):null;return e.concat([a])}),[]).filter((function(e){return null!==e})),i={libraryItemIds:o},t.next=8,Vu(e,i);case 8:s=t.sent,l=s.richTextLibraryItems,n(HL(l)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n){return t.apply(this,arguments)}}()},eC=function(e,t){var n,a=t.type;if(100===a){var r=t.data;n=Object(b.a)(Object(b.a)(Object(b.a)({},e),Object(h.omit)(t,["data"])),{},{richTextContent:{richTextData:r}})}else if(400===a||401===a)n=Object(b.a)(Object(b.a)({},e),t);else if(300===a||301===a||500===a){var c=t.data;n=Object(b.a)(Object(b.a)(Object(b.a)({},e),Object(h.omit)(t,["data"])),{},{value:c})}return n},tC=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n,a){var r,c,o,i,s,l;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),c=r.analysis,o=c.libraryItemsShared.items,i=c.sections,s=Object(h.cloneDeep)(o).concat(e),l=i.map((function(e){var t=e.items.map((function(e){var t,n=Object(h.cloneDeep)(e),a=s.find((function(t){return t.id===(e.id||e.libraryItemId)}));return a?(t=eC(n,a),Object(b.a)({},t)):Object(b.a)({},n)}));return Object(b.a)(Object(b.a)({},e),{},{items:t})})),n(yL({newSections:l}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},nC=function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Xv(e,t);case 3:r=n.sent,a(CL(r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},aC=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.isLoading){e.next=7;break}return t(OL()),e.next=5,a();case 5:r=e.sent,t(fL(r));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(hL(e.t0.response?e.t0.response.status:500));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),rC=(n(1363),function(e){var t=e.embedToken,n=e.embedUrl,a=e.reportId,r=e.reportTitle,c=e.pageName,o=void 0===c?"":c;return Object(Ma.jsxs)("div",{"data-testid":"chart-config-wrapper",children:[Object(Ma.jsx)("p",{"data-testid":"powerbi-report-title",children:"Power BI Report Title: ".concat(r)}),Object(Ma.jsx)("p",{"data-testid":"embed-token",children:"Embed Token: ".concat(t)}),Object(Ma.jsx)("p",{"data-testid":"embed-url",children:"Embed Url: ".concat(n)}),Object(Ma.jsx)("p",{"data-testid":"report-id",children:"report Id: ".concat(a)}),Object(Ma.jsx)("p",{"data-testid":"powerbi-report-page-name",children:"Power BI Report Page Name: ".concat(o)})]})}),cC=function(e,t,n){return[n?e+8:e+8+36,n?t:t+37]},oC=function(e){var t=e.embedToken,n=e.embedUrl,a=e.pageName,r=e.reportId,c=e.isDarkMode;return{type:"report",tokenType:yj.models.TokenType.Embed,accessToken:t,embedUrl:n,id:r,permissions:yj.models.Permissions.All,settings:{panes:{pageNavigation:{visible:!a},filters:{expanded:!1,visible:!a}},layoutType:yj.models.LayoutType.Custom,customLayout:{displayOption:yj.models.DisplayOption.ActualSize}},pageName:a,theme:wj(c)}},iC=(n(1364),function(e){var t=e.item,n=e.projectId,a=Object(r.useState)(Boolean(window.Cypress)),c=Object(Cr.a)(a,1)[0],o=Object(r.useState)(null),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(r.useRef)(null),j=Object(s.useSelector)(Mr),p=Object(r.useState)({height:"650px",width:"100%"}),m=Object(Cr.a)(p,2),O=m[0],f=m[1],_=Object(r.useMemo)((function(){if(!Object(h.isEmpty)(t.data)&&!t.data.pageName){var e=JSON.parse(t.data);return!Object(h.isEmpty)(e.ReportId)}return!1}),[t]);Object(r.useEffect)((function(){var e=function(){var e=Object(te.a)(ee.a.mark((function e(){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.powerbi.reset(u.current),window.powerbi.bootstrap(u.current,{type:"report"}),e.next=4,YL(n,t.id,t.isShared);case 4:a=e.sent,r=Object(h.get)(JSON.parse(t.data),"PageName",""),d(Object(b.a)(Object(b.a)({},a),{},{pageName:r}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(t&&t.type&&!_)if(Object(h.isEmpty)(t.data))d(t);else{var a=t.data.pageName;d(Object(b.a)(Object(b.a)({},t),{},{pageName:a}))}else _&&e()}),[t,n,_]),Object(r.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.powerbi.embed(u.current,oC({embedToken:l.embedToken,embedUrl:l.embedUrl,pageName:l.pageName,reportId:l.reportId,isDarkMode:j}))).on("loaded",(function(){t.getPages().then((function(e){var t=e.findIndex((function(e){return e.name===l.pageName})),n=e[t<0?0:t].defaultSize,a=n.height,r=n.width,c=cC(a,r,!!l.pageName),o=Object(Cr.a)(c,2),i=o[0],s=o[1];f({height:i,width:s})}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l&&function(){e.apply(this,arguments)}()}),[l,j]);var x=l?null:"none";return Object(Ma.jsxs)(Ma.Fragment,{children:[!l&&Object(Ma.jsx)(er.Loader,{dataTestId:"library-item-loading-indicator"}),Object(Ma.jsxs)("div",{"data-testid":"powerbi-wrapper",className:"powerbi-wrapper",children:[c&&l&&Object(Ma.jsx)(rC,{embedToken:l.embedToken,reportId:l.reportId,embedUrl:l.embedUrl,reportTitle:l.reportTitle,pageName:l.pageName}),Object(Ma.jsx)("div",{ref:u,"data-testid":"powerbi-container",style:{height:O.height,maxWidth:O.width,display:x},children:"Loading Power BI Report..."})]})]})}),sC=c.a.memo((function(e){var t=e.item,n=e.projectId,a=e.analysisId,r=[x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value,x.Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value,x.Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value],c=t.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value||t.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value;return Object(Ma.jsx)("div",{"data-testid":"analysis-library-item","data-library-item-name":t.name,className:"analysis-library-item-container",children:Object(Ma.jsxs)("div",{className:"analysis-library-item-content",children:[t.type&&Object(Ma.jsxs)(Ma.Fragment,{children:[r.includes(t.type)&&Object(Ma.jsx)(Cj,{projectId:n,libraryItemId:t.id,contentId:a,content:t.value||null}),t.type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value&&Object(Ma.jsx)(kj,{item:t}),c&&Object(Ma.jsx)(iC,{item:t,projectId:n})]}),!t.type&&Object(Ma.jsx)(er.Loader,{dataTestId:"excel-content-loader"})]})})}),(function(e,t){return t.item.id===e.item.id&&t.item.isShared===e.item.isShared})),lC=function(e){var t=e.items,n=e.projectId,a=e.analysisId;return wt()(t,[function(e){return e.order}]).map((function(e){return Object(Ma.jsx)(sC,{item:e,projectId:n,analysisId:a},"".concat(e.id,"-").concat(e.name))}))},dC=(n(1365),function(e){var t=e.columnPositionClassMap,n=e.items,a=e.analysisId,r=e.projectId,c=e.containerClass;return Object(Ma.jsx)("div",{"data-testid":"section-areas-container",className:c,children:Object.keys(t).map((function(e){return Object(Ma.jsx)("div",{className:"panel-area panel-area-".concat(t[e]),"data-testid":"panel-area-".concat(t[e]),children:Object(Ma.jsx)(lC,{analysisId:a,projectId:r,items:n.filter((function(n){return n.analysisColumn===t[e]}))})},"panel-area-".concat(t[e]))}))})}),uC=(n(1366),function(e){var t,n=e.projectId,a=e.analysisId,r=e.section,c=(t={},Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,{containerClass:"two-column-layout",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,{containerClass:"section-grid one-row-three-column",columnPositionClassMap:{LEFT:1,MIDDLE:2,RIGHT:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,{}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,{containerClass:"section-onecolumn--eighty-percent"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,{containerClass:"section-onecolumn--sixty-percent"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,{containerClass:"section-onecolumn--forty-percent"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,{containerClass:"section-onecolumn--one-column-overflow"}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,{containerClass:"section-grid two-row-t80-1a-b20-1a",columnPositionClassMap:{TOP:1,BOTTOM:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,{containerClass:"section-grid two-row-t60-1a-b40-1a",columnPositionClassMap:{TOP:1,BOTTOM:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,{containerClass:"section-grid two-row-t20-1a-b80-1a",columnPositionClassMap:{TOP:1,BOTTOM:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,{containerClass:"section-grid two_column_left_50_2a_r_50_1a",columnPositionClassMap:{TOP_LEFT:1,RIGHT:2,BOTTOM_LEFT:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,{containerClass:"section-grid two-column-four-area-3left50-right50",columnPositionClassMap:{LEFT_FIRST:1,RIGHT:2,LEFT_SECOND:3,LEFT_THIRD:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,{containerClass:"section-grid two-column-l40-1a-r60-1a",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,{containerClass:"section-grid two-column-l67-1a-r33-1a",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,{containerClass:"section-grid two-column-left-67-2a-right-33-1a",columnPositionClassMap:{LEFT_FIRST:1,RIGHT:2,LEFT_SECOND:3,LEFT_THIRD:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,{containerClass:"section-grid two-column-l80-1a-r20-1a",columnPositionClassMap:{LEFT:1,RIGHT:2}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,{containerClass:"section-grid two_column_t_50_2a_b_50_1a",columnPositionClassMap:{LEFT:1,RIGHT:2,BOTTOM:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,{containerClass:"stack-two-block-bottom",columnPositionClassMap:{TOP:1,BOTTOM_LEFT:2,BOTTOM_RIGHT:3}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,{containerClass:"section-grid two-row-two-column-50-50",columnPositionClassMap:{TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_LEFT:3,BOTTOM_RIGHT:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,{containerClass:"section-grid four-block-narrow-right",columnPositionClassMap:{TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_LEFT:3,BOTTOM_RIGHT:4}}),Object($t.a)(t,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,{containerClass:"section-grid two-row-three-column",columnPositionClassMap:{TOP_LEFT:1,TOP_MIDDLE:2,TOP_RIGHT:3,BOTTOM_LEFT:4,BOTTOM_MIDDLE:5,BOTTOM_RIGHT:6}}),t)[r.layoutType],o=c.columnPositionClassMap,i=c.containerClass;return[x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA].includes(r.layoutType)?Object(Ma.jsx)("div",{className:nr()("section-onecolumn",i),"data-testid":"section-one-column",children:Object(Ma.jsx)(lC,{projectId:n,analysisId:a,items:r.items})}):i&&o?Object(Ma.jsx)(dC,{columnPositionClassMap:o,containerClass:i,projectId:n,analysisId:a,items:r.items}):Object(Ma.jsx)("div",{children:"Failed to load Analysis section. "})}),jC=function(e){var t=e.projectId,n=e.analysis,a=e.viewClient,r=Object(s.useSelector)(wL),c=Object(m.a)(r).sort((function(e,t){return e.order-t.order}));return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(vj,{cssLabel:"analysis",label:"Analysis"}),Object(Ma.jsx)("div",{className:"section-name",children:"Title"}),Object(Ma.jsx)(ws,{title:n.title}),Object(Ma.jsx)(Uj,{className:"analysis-pill-container",projectId:t,content:n,allowDraftPill:!a.isOnClientVersion}),Object(Ma.jsx)(Lj,{label:"Description",value:n.body}),c.map((function(e){return Object(Ma.jsx)(uC,{projectId:t,analysisId:n.contentThreadId,section:e},e.order)}))]})},bC=(n(1367),function(){var e=Object(p.m)(),t=e.projectId,n=e.analysisId,a=Object(p.k)(),c=Object(s.useDispatch)(),o=Object(s.useSelector)(EL),i=Object(s.useSelector)(SL),l=Object(s.useSelector)(NL).isLoading,d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],b=u[1],m=Object(s.useSelector)(kL),O=Object(s.useSelector)(DL),f=Object(s.useSelector)(RL),h=Object(r.useCallback)((function(){var e=O.contentId;c(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o,i,s;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(_L()),n.next=4,$v(e,t);case 4:r=n.sent,c=r.content,o=void 0===c?{}:c,i=r.libraryItemGroups,s=void 0===i?{}:i,a(xL({content:o})),a(gL({libraryItemGroups:s})),a(XL(e)),a(zL(e)),a($L(e)),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),a(vL({isLoading:!1,hasError:!0,errorMessage:n.t0.toString()}));case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,e))}),[c,O,t]),_=Object(r.useCallback)((function(){var e=f.contentId;c(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,eL(e,t);case 3:r=n.sent,c=r.content,o=r.items,a(xL({content:c})),a(tC(o)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,e))}),[c,f,t]);Object(r.useEffect)((function(){return c(nC(t,n)),function(){return c(mL())}}),[c,t,n]),Object(r.useEffect)((function(){m&&(O&&!Eu()(O)?(h(),c(ko(O.versionNumber))):f&&!Eu()(f)&&(_(),c(ko(f.versionNumber))))}),[n,O,t,m,f,h,_,c]);var g=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aL(t,o.contentThreadId);case 2:a.push(pc(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=xj(Oj,function(){var e=Object(te.a)(ee.a.mark((function e(a,r,o){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rL(a,r,o);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),x.ErrorUtilities.hasLibraryItemCorruptedError(e.t0)?c(fu({itemId:r,moreMenuErrorType:x.Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED})):c(fu({itemId:r,moreMenuErrorType:x.Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE})),e.abrupt("return");case 9:c(nC(t,n));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),t,o&&o.contentThreadId,o,m),L=gj(function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!l&&f&&(_(),c(ko(f.versionNumber)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!l&&O&&(h(),c(ko(O.versionNumber)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m,o&&o.versionNumber,o&&o.versionStatus),C=o&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:j,onCancel:function(){return b(!1)},onConfirm:g,confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Analysis will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsx)(BL,{isShared:i,workflowActions:v,onEdit:function(){a.push(gc(t,n))},onDelete:function(){return b(!0)},versions:m,analysis:o,viewClient:L})]});return o&&o.contentThreadId&&Object(Ma.jsx)("div",{className:"analysis-details-screen",children:Object(Ma.jsxs)(wu,{headerComponent:C,children:[Object(Ma.jsx)("div",{className:"analysis-main-content","data-testid":"analysis-detail-page",children:Object(Ma.jsx)(jC,{projectId:t,analysis:o,versions:m,viewClient:L})}),o.tags&&o.tags.length>0&&Object(Ma.jsx)(iL,{tags:o.tags,testId:"analysis-tag-list"}),Object(Ma.jsx)(Fu,{projectId:t,contentId:o.contentId})]})})}),pC=(n(1368),function(e){var t=e.label,n=e.name,a=e.value,c=e.validate,o=e.handleValidationChange,i=e.handleValueChange,s=e.error,l=Object(r.useState)(c(a)),d=Object(Cr.a)(l,2),u=d[0],j=d[1];Object(r.useEffect)((function(){o(u)}),[u,o]),Object(r.useEffect)((function(){j(c(a))}),[a,c]);var b={name:n,value:a,onChange:function(e){j(c(e.target.value)),i(e.target.value)}},p=s;return Object(Ma.jsx)("div",{className:"title-container",children:Object(Ma.jsx)(er.InlineText,{field:b,placeholder:t,error:p})})});pC.defaultProps={validate:function(){return""},error:""};var mC=pC,OC="ITEM_MOVED_UP_TO_NEW_SECTION",fC="ITEM_MOVED_DOWN_TO_NEW_SECTION",hC="ITEM_MOVED_WITHIN_SECTION",_C="ITEM_MOVED_TO_ADJACENT_AREA",xC="ITEM_ID_UPDATED",gC="CURRENT_DROPPABLE_SECTION_CHANGED",vC="ITEM_DROPPED",LC=function(e,t){var n=t.type,a=t.payload;switch(n){case hC:return Object(b.a)(Object(b.a)({},e),{},{currentPosition:a.currentPosition,draggableWithinSectionsItemId:a.draggableWithinSectionsItemId});case xC:return Object(b.a)(Object(b.a)({},e),{},{draggableBetweenSectionsItemId:a.draggableBetweenSectionsItemId});case gC:return Object(b.a)(Object(b.a)({},e),{},{currentDroppableSectionId:a});case OC:return Object(b.a)(Object(b.a)({},e),{},{currentDroppableSectionId:a.currentSectionOrder-1});case fC:return Object(b.a)(Object(b.a)({},e),{},{currentDroppableSectionId:a.currentSectionOrder+1});case vC:return Object(b.a)(Object(b.a)({},e),{},{draggableWithinSectionsItemId:null,currentDroppableSectionId:null,currentPosition:null});default:return e}},CC="UPDATE_SECTIONS",TC="UPDATE_RICH_TEXT",yC="UPDATE_NON_LAID_OUT_LIBRARY_ITEMS",IC="ITEM_DELETED",EC="ITEM_TO_ADD",wC="ITEM_TO_ADD_CLEAR",NC="SECTION_TO_SCROLL",AC=function(e,t,n){var a=e.currentSections.find((function(e){return e.items.map((function(e){return e.id})).includes(t)}));if(a&&(!n&&1===a.order))return[a.items.find((function(e){return e.id===t}))].concat(e.nonLaidOutLibraryItems);return e.nonLaidOutLibraryItems},SC=function(e,t,n){var a=e.currentSections.find((function(e){return e.items.map((function(e){return e.id})).includes(t)}));if(!a)return e.currentSections;var r=a.items.find((function(e){return e.id===t}));if(r.analysisColumn=1,!n&&1===a.order)return e.currentSections.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return e.id!==r.id}))})}));if(n?a.order<Object(h.max)(e.currentSections.map((function(e){return e.order}))):a.order>1){var c=n?a.order+1:a.order-1;return e.currentSections.map((function(e){var o=e.items;if(e.order===c)if(n)o=o.concat([r]).map((function(e){var t=e.id===r.id?1:e.order+1;return Object(b.a)(Object(b.a)({},e),{},{order:t})}));else{var i=1+Object(h.max)(e.items.map((function(e){return e.order}))),s=Object(b.a)(Object(b.a)({},r),{},{order:i});o=e.items.concat([s])}else e.order===a.order&&(o=e.items.filter((function(e){return e.id!==t})));return Object(b.a)(Object(b.a)({},e),{},{items:o})}))}return e.currentSections},kC=function(e,t){var n=t.map((function(e){return e.id}));return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return!n.includes(e.id)}))})}))},DC=function(e,t){var n,a,r,c=t.type,o=t.payload;switch(c){case CC:return Object(b.a)(Object(b.a)({},e),{},{currentSections:o});case TC:return Object(b.a)(Object(b.a)({},e),{},{currentSections:(n=o.libraryItemId,a=o.richText,r=e.currentSections,r.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:e.items.map((function(e){return e.id===n?Object(b.a)(Object(b.a)({},e),{},{isShared:!1,data:JSON.stringify({RichTextData:a})}):e}))})})))});case _C:var i=o.newAnalysisColumn,s=o.libraryItemId,l=e.currentSections.map((function(e){var t=e.items.map((function(e){if(e.id===s){var t=parseInt(i,10);e.analysisColumn=Number.isInteger(t)?t:1}return e}));return Object(b.a)(Object(b.a)({},e),{},{items:t})}));return Object(b.a)(Object(b.a)({},e),{},{currentSections:l});case OC:var d=AC(e,o.libraryItemId,!1),u=SC(e,o.libraryItemId,!1);return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:d,currentSections:u});case fC:var j=AC(e,o.libraryItemId,!0),p=SC(e,o.libraryItemId,!0);return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:j,currentSections:p});case yC:return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:o.items,currentSections:kC(e.currentSections,o.items)});case IC:return Object(b.a)(Object(b.a)({},e),{},{nonLaidOutLibraryItems:e.nonLaidOutLibraryItems.filter((function(e){return e.id!==o}))});case NC:return Object(b.a)(Object(b.a)({},e),{},{sectionIdToScroll:o});case EC:return Object(b.a)(Object(b.a)({},e),{},{locationToAdd:o});case wC:return Object(b.a)(Object(b.a)({},e),{},{locationToAdd:void 0});default:return e}},RC=function(e){return{currentSections:e&&e.initialSections||[],nonLaidOutLibraryItems:e&&e.nonLaidOutLibraryItems||[]}},PC=function(){return{draggableBetweenSectionsItemId:null,currentDroppableSectionId:null,currentPosition:null,draggableWithinSectionsItemId:null}},MC=Object(r.createContext)(null),FC=Object(r.createContext)(null);function UC(){var e=Object(r.useContext)(MC);if(void 0===e)throw new Error("useSectionsState must be used within a SectionsProvider");return e}function BC(){var e=Object(r.useContext)(FC);if(void 0===e)throw new Error("useSectionsDispatch must be used within a SectionsProvider");return e}function YC(){return[UC(),BC()]}var WC=function(e){var t=e.value,n=e.children,a=Object(r.useReducer)(DC,t,RC),o=Object(Cr.a)(a,2),i=o[0],s=o[1],l=Object(r.useReducer)(LC,t,PC),d=Object(Cr.a)(l,2),u=d[0],j=d[1],p=c.a.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return t(e)}))}}(s,j),[s,j]),m=c.a.useMemo((function(){return Object(b.a)(Object(b.a)({},u),i)}),[u,i]);return Object(Ma.jsx)(MC.Provider,{value:m,children:Object(Ma.jsx)(FC.Provider,{value:p,children:n})})},VC=c.a.createContext({}),ZC=function(e){var t=e.value,n=e.children;return Object(Ma.jsx)(VC.Provider,{value:t,children:n})};var GC,HC,KC,qC=function(e,t){t({type:yC,payload:{items:e}})},zC=function(e,t){t({type:CC,payload:e})},QC=function(e,t){t({type:NC,payload:e})},JC=function(e,t){t({type:EC,payload:e})},XC=function(e,t){var n=t.toLowerCase();return Array(e).fill(n).map((function(e,t){return"".concat(e,"-layout-area-").concat(t+1)}))},$C={SOURCE_TRAY_ID:"source-tray",SINGLE_COLUMN_AREA_ID:"single-column-layout-area",DOUBLE_COLUMN_FIRST_AREA_ID:"double-column-layout-area-1",DOUBLE_COLUMN_SECOND_AREA_ID:"double-column-layout-area-2",DOUBLE_ROW_FIRST_AREA_ID:"double-row-layout-area-1",DOUBLE_ROW_SECOND_AREA_ID:"double-row-layout-area-2",SINGLE_COLUMN_AREA_80:"single-column-layout-area-80",SINGLE_COLUMN_AREA_60:"single-column-layout-area-60",SINGLE_COLUMN_AREA_40:"single-column-layout-area-40",SINGLE_COLUMN_TEXT_OVERFLOW_AREA:"single-column-layout-text-overflow-area",TWO_ROW_THREE_AREA_100_50_50:["two-row-three-area-layout-top-area-1","two-row-three-area-layout-bottom-area-1","two-row-three-area-layout-bottom-area-2"],TWO_ROW_TWO_COLUMN_AREA_67_33:["two-row-two-column-layout-area-67-1","two-row-two-column-layout-area-33-1","two-row-two-column-layout-area-67-2","two-row-two-column-layout-area-33-2"],TWO_COLUMN_L_40_1A_R_60_1A:XC(2,"TWO_COLUMN_L_40_1A_R_60_1A"),TWO_COLUMN_L_67_1A_R_33_1A:XC(2,"TWO_COLUMN_L_67_1A_R_33_1A"),TWO_COLUMN_L_80_1A_R_20_1A:XC(2,"TWO_COLUMN_L_80_1A_R_20_1A"),TWO_ROW_T_80_1A_B_20_1A:XC(2,"TWO_ROW_T_80_1A_B_20_1A"),TWO_ROW_T_60_1A_B_40_1A:XC(2,"TWO_ROW_T_60_1A_B_40_1A"),TWO_ROW_T_20_1A_B_80_1A:XC(2,"TWO_ROW_T_20_1A_B_80_1A"),THREE_COLUMN:XC(3,"THREE_COLUMN"),TWO_COLUMN_L_50_2A_R_50_1A:XC(3,"TWO_COLUMN_L_50_2A_R_50_1A"),TWO_ROW_T_50_2A_B_50_1A:XC(3,"TWO_ROW_T_50_2A_B_50_1A"),TWO_COLUMN_L_67_2A_R_33_1A:XC(3,"TWO_COLUMN_L_67_2A_R_33_1A"),TWO_ROW_T_50_1A_B_50_2A:XC(3,"TWO_ROW_T_50_1A_B_50_2A"),TWO_COLUMN_L_50_3A_R_50_1A:XC(4,"TWO_COLUMN_L_50_3A_R_50_1A"),TWO_COLUMN_TWO_ROW_50_2A_50_2A:XC(4,"TWO_COLUMN_TWO_ROW_50_2A_50_2A"),TWO_COLUMN_TWO_ROW_67_2A_33_2A:XC(4,"TWO_COLUMN_TWO_ROW_67_2A_33_2A"),THREE_COLUMN_TWO_ROW:XC(6,"THREE_COLUMN_TWO_ROW")},eT=function(e,t){return"".concat(e,"-").concat(t)},tT=function(e,t){return e.order>t.order?1:-1},nT=(GC={},Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,[$C.SINGLE_COLUMN_AREA_ID]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,[$C.DOUBLE_COLUMN_FIRST_AREA_ID,$C.DOUBLE_COLUMN_SECOND_AREA_ID]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,[$C.SINGLE_COLUMN_AREA_80]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,[$C.SINGLE_COLUMN_AREA_60]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,[$C.SINGLE_COLUMN_AREA_40]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,[$C.SINGLE_COLUMN_TEXT_OVERFLOW_AREA]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,$C.TWO_ROW_TWO_COLUMN_AREA_67_33),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,[$C.SINGLE_COLUMN_AREA_60]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,[$C.SINGLE_COLUMN_AREA_40]),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,$C.TWO_COLUMN_L_40_1A_R_60_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,$C.TWO_COLUMN_L_67_1A_R_33_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,$C.TWO_COLUMN_L_80_1A_R_20_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,$C.TWO_ROW_T_80_1A_B_20_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,$C.TWO_ROW_T_60_1A_B_40_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,$C.TWO_ROW_T_20_1A_B_80_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,$C.THREE_COLUMN),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,$C.TWO_COLUMN_L_50_2A_R_50_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,$C.TWO_ROW_T_50_2A_B_50_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,$C.TWO_COLUMN_L_67_2A_R_33_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,$C.TWO_ROW_T_50_1A_B_50_2A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,$C.TWO_COLUMN_L_50_3A_R_50_1A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,$C.TWO_COLUMN_TWO_ROW_50_2A_50_2A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,$C.TWO_COLUMN_TWO_ROW_67_2A_33_2A),Object($t.a)(GC,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,$C.THREE_COLUMN_TWO_ROW),GC),aT=function(e){var t={direction:"vertical"},n=e.layoutType,a={};return nT[n].forEach((function(n,r,c){var o=r+1,i=eT(n,e.order),s=function(e,t,n){var a={areaAbove:null,areaBelow:null},r=t.slice(-1),c=t.slice(0,-1);if(c.includes("bottom")){var o=e.find((function(e){return e.includes("top")}));return a.areaAbove="".concat(o,"-").concat(n),a}if(c.includes("top")){var i=e.find((function(e){return e.includes("bottom")}));return a.areaBelow="".concat(i,"-").concat(n),a}var s=e.filter((function(e){return e.includes(c)&&e!==t}));return s.length>=1&&s.forEach((function(e){var t=e.slice(-1);t>r?a.areaBelow="".concat(e,"-").concat(n):t<r&&(a.areaAbove="".concat(e,"-").concat(n))})),a}(c,n,e.order),l=s.areaAbove,d=s.areaBelow;a[i]=Object(b.a)(Object(b.a)({},t),{},{position:o,id:i,areaAbove:l,areaBelow:d,libraryItemIds:e.items.filter((function(e){return e.analysisColumn===o})).sort(tT).map((function(e){return e.id}))})})),a},rT=function(e,t){return!(!function(e){return e.type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value}(e)&&(n=t,n===x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA));var n},cT=function(e,t,n,a,r,c){var o,i=t[e];return function(n){o=Object(b.a)(Object(b.a)({},i),{},{layoutType:n,items:[]});var s=nT[n],l=i.items.map((function(e){var t=Object(h.cloneDeep)(e),a=e.analysisColumn<=s.length&&rT(e,n)?e.analysisColumn:null;return a?t.analysisColumn=a:delete t.analysisColumn,t})),d=l.filter((function(e){return!e.analysisColumn})),u=l.filter((function(e){return e.analysisColumn}));o.items=Object(m.a)(u),c([].concat(Object(m.a)(r),Object(m.a)(d)));var j=Object(h.cloneDeep)(t);j[e]=o,a(j)}};var oT=Object.freeze({TABS:{EDIT_LAYOUT:"Edit Layout",SAVE_PREVIEW_REPORT:"Save and preview report"},TABS_ROUTE:{LAYOUT:"layout",PREVIEW:"preview"},SUB_ROUTES:{CREATE_PREVIEW:"/projects/:projectId/analyses/create/layout/preview",CREATE_LAYOUT:"/projects/:projectId/analyses/create/layout",EDIT_PREVIEW:"/projects/:projectId/analyses/:analysisId/edit/layout/preview",EDIT_LAYOUT:"/projects/:projectId/analyses/:analysisId/edit/layout"},PARTIAL_ROUTE:{CREATE_LAYOUT:"create/layout",EDIT_LAYOUT:"edit/layout",CREATE_LAYOUT_PREVIEW:"create/layout/preview",EDIT_LAYOUT_PREVIEW:"edit/layout/preview"},COLUMN_TYPE:{ONE:"ONE_COLUM",TWO:"TWO_COLUM",THREE:"THREE_COLUM",FOUR:"FOUR_COLUM"},USER_EVENTS:{SCROLL:"scroll",RESIZE:"resize"},LAYOUT_TYPE_TO_LAYOUT_TITLE_DESCRIPTION_MAP:(HC={},Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,{title:"One column, full width",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,{title:"Two column",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,{title:"Three column",description:"excess text in each column will cut off in the report."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,{title:"One column, large",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,{title:"One column, medium",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,{title:"One column, small",description:"charts and tables shrink to fit the area, and excess text continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,{title:"Two column, text only",description:"text will fill in the left column and continue in the right column, and excess text continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,{title:"Stacked with right column",description:"excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,{title:"Three stacked with right column",description:"excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,{title:"Two column, narrow left",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,{title:"Two column, narrow right",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,{title:"Stacked with narrow right column",description:"excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,{title:"Two column, extra narrow right",description:"excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,{title:"Stacked, large top",description:"excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,{title:"Stacked, medium top",description:"excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,{title:"Stacked, large bottom",description:"excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,{title:"Stacked, two block top",description:"excess text in the top areas will cut off in the report, and excess text in the bottom area continues onto a new page."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,{title:"Stacked, two block bottom",description:"excess text in each area will cut off in the report."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,{title:"Four block",description:"excess text in each area will cut off in the report."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,{title:"Four block, narrow right",description:"excess text in each area will cut off in the report."}),Object($t.a)(HC,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,{title:"Six block",description:"excess text in each area will cut off in the report."}),HC),LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP:(KC={},Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,"one-column"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,"two-column"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,"three-column"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,"one-column-80"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,"one-column-60"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,"one-column-40"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,"one-column-text-overflow-area"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,"two-column-three-area-2left50-right50"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,"two-column-four-area-3left50-right50"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,"two-column-left40-right60"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,"two-column-left67-right33"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,"two-column-three-area-2left67-right33"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,"two-column-left80-right20"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,"two-row-top80-bottom20"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,"two-row-top60-bottom40"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,"two-row-top20-bottom80"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,"two-row-three-area-2top50-bottom100"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,"two-row-three-area-top100-2bottom50"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,"two-row-two-column-50-50"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,"two-row-two-column-67-33"),Object($t.a)(KC,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,"two-row-three-column"),KC),VIEWPORT_WIDTHS:{TABLET:768},LAYOUT_TYPE_TO_ICON_MAP:{"1-1":"one-column-full-width","4-1":"one-column-large","5-1":"one-column-medium","6-1":"one-column-small","7-1":"two-column-text-only","10-1":"two-column-narrow-left-left","10-2":"two-column-narrow-left-right","11-1":"two-column-narrow-right-left","11-2":"two-column-narrow-right-right","2-1":"two-column-left","2-2":"two-column-right","15-1":"stacked-medium-top-top","15-2":"stacked-medium-top-bottom","14-1":"stacked-large-top-top","14-2":"stacked-large-top-bottom","16-1":"stacked-large-bottom-top","16-2":"stacked-large-bottom-bottom","13-1":"two-column-extra-narrow-right-left","13-2":"two-column-extra-narrow-right-right","3-1":"three-column-left","3-2":"three-column-middle","3-3":"three-column-right","8-1":"stacked-with-right-column-top-left","8-2":"stacked-with-right-column-right","8-3":"stacked-with-right-column-bottom-left","12-1":"stacked-with-narrow-right-column-top-left","12-2":"stacked-with-narrow-right-column-right","12-3":"stacked-with-narrow-right-column-bottom-left","17-1":"stacked-two-block-top-top-left","17-2":"stacked-two-block-top-top-right","17-3":"stacked-two-block-top-bottom","18-1":"stacked-two-block-bottom-top","18-2":"stacked-two-block-bottom-bottom-left","18-3":"stacked-two-block-bottom-bottom-right","19-1":"four-block-top-left","19-2":"four-block-top-right","19-3":"four-block-bottom-left","19-4":"four-block-bottom-right","20-1":"four-block-narrow-right-top-left","20-2":"four-block-narrow-right-top-right","20-3":"four-block-narrow-right-bottom-left","20-4":"four-block-narrow-right-bottom-right","9-1":"three-stacked-with-right-column-left-top","9-2":"three-stacked-with-right-column-right","9-3":"three-stacked-with-right-column-left-middle","9-4":"three-stacked-with-right-column-left-bottom","21-1":"six-block-top-left","21-2":"six-block-top-middle","21-3":"six-block-top-right","21-4":"six-block-bottom-left","21-5":"six-block-bottom-middle","21-6":"six-block-bottom-right"}}),iT=oT.USER_EVENTS;var sT,lT=function(e,t,n){var a=Object(s.useDispatch)(),c=Er(),o=Object(s.useSelector)(ap).activeSectionIndex,i=Object(r.useState)(!1),l=Object(Cr.a)(i,2),d=l[0],u=l[1],j=Object(r.useCallback)((function(){n.current&&a(zb({width:n.current.offsetWidth}))}),[a,n]),b=Object(r.useCallback)((function(){var n;Object(h.isEmpty)(e)||(n=c?function(e,t){if(e.current&&t&&t.length>1){var n=e.current.getBoundingClientRect(),a=Array.from(t).map((function(e,t){return{index:t,nodeRect:e.getBoundingClientRect()}}));a.reverse();var r=a.findIndex((function(e){return e.nodeRect.bottom<n.top}));if(r>-1)return a[r].index}return 0}(t,e):function(e){var t=e.length,n=Object(h.ceil)((document.documentElement.scrollHeight-window.innerHeight)/t);return n?Math.max(0,Math.min(Object(h.floor)(document.documentElement.scrollTop/n),t-1)):0}(e),o!==n&&Boolean(e[n])&&a(Kb({index:n})))}),[o,t,a,c,e]);Object(r.useEffect)((function(){d||!n.current||Object(h.isEmpty)(e)||(a(Qb({top:e[0].offsetTop})),a(qb({height:e[0].offsetHeight})),a(zb({width:n.current.offsetWidth})),u(!0))}),[a,d,n,e]),Object(r.useEffect)((function(){return window.addEventListener(iT.SCROLL,b),function(){window.removeEventListener(iT.SCROLL,b)}}),[b]),Object(r.useEffect)((function(){return window.addEventListener(iT.RESIZE,j),function(){window.removeEventListener(iT.RESIZE,j)}}),[j])},dT=(n(1369),["name","viewBox","width","height","className"]),uT=function(e){switch(e){case"one-column-full-width":return Object(Ma.jsx)("g",{fillRule:"evenodd",children:Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z",fill:"#FFFFFF"})});case"one-column-large":return Object(Ma.jsx)("g",{fillRule:"evenodd",children:Object(Ma.jsxs)("g",{id:"Group-2",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.0002 4.97379915e-14 34.0002 1.001 36.0002 1.001 36.0002 2.284 37.0002 2.284 37.0002 4.97379915e-14"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.0002 1.001 32.0012 1.001 32.0012 9.9475983e-14 29.0002 9.9475983e-14"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 7.285 37.0002 7.285 37.0002 4.285 36.0002 4.285"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 12.285 37.0002 12.285 37.0002 9.284 36.0002 9.284"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 17.285 37.0002 17.285 37.0002 14.285 36.0002 14.285"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 22.285 37.0002 22.285 37.0002 19.284 36.0002 19.284"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.7152 25 36.9992 25 36.9992 24 34.7152 24"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.7162 25 32.7162 25 32.7162 24 29.7162 24"}),Object(Ma.jsx)("path",{d:"M28,0.0004 L2,0.0004 C0.896,0.0004 0,0.8964 0,2.0004 L0,23.0004 C0,24.1044 0.896,25.0004 2,25.0004 L28,25.0004 L28,0.0004 Z M2,23.0004 L26,23.0004 L26,2.0004 L2,2.0004 L2,23.0004 Z",fill:"#FFFFFF"})]})});case"one-column-medium":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.0002 0.0003 34.0002 1.0003 36.0002 1.0003 36.0002 2.2843 37.0002 2.2843 37.0002 0.0003"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.0002 1.0003 32.0012 1.0003 32.0012 0.0003 29.0002 0.0003"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.0002 1.0003 27.0002 1.0003 27.0002 0.0003 24.0002 0.0003"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 7.2843 37.0002 7.2843 37.0002 4.2843 36.0002 4.2843"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 12.2843 37.0002 12.2843 37.0002 9.2833 36.0002 9.2833"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 17.2843 37.0002 17.2843 37.0002 14.2843 36.0002 14.2843"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 22.2843 37.0002 22.2843 37.0002 19.2843 36.0002 19.2843"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.7152 24.9993 36.9992 24.9993 36.9992 23.9993 34.7152 23.9993"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.7162 24.9993 32.7162 24.9993 32.7162 23.9993 29.7162 23.9993"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.7162 24.9993 27.7162 24.9993 27.7162 23.9993 24.7162 23.9993"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"one-column-small":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.0002 0.0001 34.0002 1.0001 36.0002 1.0001 36.0002 2.2841 37.0002 2.2841 37.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.0002 1.0001 32.0012 1.0001 32.0012 0.0001 29.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.0002 1.0001 27.0002 1.0001 27.0002 0.0001 24.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"19.0002 1.0001 22.0002 1.0001 22.0002 0.0001 19.0002 0.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 7.2841 37.0002 7.2841 37.0002 4.2841 36.0002 4.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 12.2841 37.0002 12.2841 37.0002 9.2841 36.0002 9.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 17.2851 37.0002 17.2851 37.0002 14.2841 36.0002 14.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"36.0002 22.2841 37.0002 22.2841 37.0002 19.2841 36.0002 19.2841"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"34.7152 25.0001 36.9992 25.0001 36.9992 24.0001 34.7152 24.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"29.7162 25.0001 32.7162 25.0001 32.7162 24.0001 29.7162 24.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"24.7162 25.0001 27.7162 25.0001 27.7162 24.0001 24.7162 24.0001"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"19.7152 25.0001 22.7162 25.0001 22.7162 24.0001 19.7152 24.0001"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-text-only":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 6 19 6 19 3 18 3"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 11 19 11 19 8 18 8"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 16 19 16 19 13 18 13"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 21 19 21 19 17.999 18 17.999"}),Object(Ma.jsx)("polygon",{fill:"#7D7D7D",points:"18 23 18 24 18 25 19 25 19 23"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-left-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L13,24 L13,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-left-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M14,23 L35,23 L35,2 L14,2 L14,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-right-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-narrow-right-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"two-column-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",fill:"#FFFFFF"})]});case"stacked-medium-top-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z",fill:"#FFFFFF"})]});case"stacked-medium-top-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-large-top-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z",fill:"#FFFFFF"})]});case"stacked-large-top-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-large-bottom-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M36,6 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,6 L36,6 L36,6 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,4 L35,4 L35,2 L2,2 L2,4 Z",fill:"#FFFFFF"})]});case"stacked-large-bottom-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,5 L1,5 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M2,23 L35,23 L35,7 L2,7 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-extra-narrow-left":case"two-column-extra-narrow-right-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L28,24 L28,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M2,23 L26,23 L26,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"two-column-extra-narrow-right-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M27,1 L27,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L27,1 L27,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M29,23 L35,23 L35,2 L29,2 L29,23 Z",fill:"#FFFFFF"})]});case"three-column-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z",fill:"#FFFFFF"})]});case"three-column-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z",fill:"#FFFFFF"})]});case"three-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"stacked-with-right-column-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-with-right-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",fill:"#FFFFFF"})]});case"stacked-with-right-column-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-with-narrow-right-column-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-with-narrow-right-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",fill:"#FFFFFF"})]});case"stacked-with-narrow-right-column-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-two-block-top-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-two-block-top-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z",fill:"#FFFFFF"})]});case"stacked-two-block-top-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M2,23 L35,23 L35,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-two-block-bottom-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"stacked-two-block-bottom-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"stacked-two-block-bottom-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z",fill:"#FFFFFF"})]});case"four-block-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"four-block-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z",fill:"#FFFFFF"})]});case"four-block-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"four-block-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"four-block-narrow-right-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-left-top":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M2,7 L17,7 L17,2 L2,2 L2,7 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-left-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M2,15 L17,15 L17,10 L2,10 L2,15 Z",fill:"#FFFFFF"})]});case"three-stacked-with-right-column-left-bottom":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M2,23 L17,23 L17,18 L2,18 L2,23 Z",fill:"#FFFFFF"})]});case"six-block-top-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M2,11 L11,11 L11,2 L2,2 L2,11 Z",fill:"#FFFFFF"})]});case"six-block-top-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M14,11 L23,11 L23,2 L14,2 L14,11 Z",fill:"#FFFFFF"})]});case"six-block-top-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z",fill:"#FFFFFF"})]});case"six-block-bottom-left":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M2,23 L11,23 L11,14 L2,14 L2,23 Z",fill:"#FFFFFF"})]});case"six-block-bottom-middle":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M14,23 L23,23 L23,14 L14,14 L14,23 Z",fill:"#FFFFFF"})]});case"six-block-bottom-right":return Object(Ma.jsxs)("g",{fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z",fill:"#FFFFFF"})]});default:return Object(Ma.jsx)("path",{})}},jT=function(e){var t=e.name,n=void 0===t?"":t,a=e.viewBox,r=void 0===a?"0 0 37 25":a,c=e.width,o=void 0===c?"37":c,i=e.height,s=void 0===i?"25":i,l=e.className,d=void 0===l?"section-area__layout-icon":l,u=Object(Pi.a)(e,dT);return Object(Ma.jsx)("svg",Object(b.a)(Object(b.a)({"aria-label":"".concat(n),height:s,viewBox:r,width:o,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"".concat(d," ").concat(n)},u),{},{children:uT(n)}))},bT=x.Constants.SECTION_LAYOUT_TYPE,pT=Object.freeze({LAYOUT_TO_ICON:(sT={},Object($t.a)(sT,bT.ONE_COLUMN,"1-col-fw"),Object($t.a)(sT,bT.ONE_COLUMN_80,"1-col-l"),Object($t.a)(sT,bT.ONE_COLUMN_60,"1-col-m"),Object($t.a)(sT,bT.ONE_COLUMN_40,"1-col-s"),Object($t.a)(sT,bT.TWO_COLUMN,"2-col"),Object($t.a)(sT,bT.ONE_COLUMN_OVERFLOW_AREA,"2-col-text"),Object($t.a)(sT,bT.TWO_COLUMN_L_40_1A_R_60_1A,"2-col-narrow-r"),Object($t.a)(sT,bT.TWO_COLUMN_L_67_1A_R_33_1A,"2-col-narrow-l"),Object($t.a)(sT,bT.TWO_COLUMN_L_80_1A_R_20_1A,"2-col-extra-narrow-r"),Object($t.a)(sT,bT.THREE_COLUMN,"3-col"),Object($t.a)(sT,bT.TWO_COLUMN_L_50_3A_R_50_1A,"3-stacked-r-col"),Object($t.a)(sT,bT.TWO_COLUMN_L_50_2A_R_50_1A,"stacked-r-col"),Object($t.a)(sT,bT.TWO_COLUMN_L_67_2A_R_33_1A,"stacked-narrow-r-col"),Object($t.a)(sT,bT.TWO_ROW_T_50_2A_B_50_1A,"stacked-2-blk-top"),Object($t.a)(sT,bT.TWO_ROW_T_50_1A_B_50_2A,"stacked-2-blk-btm"),Object($t.a)(sT,bT.TWO_ROW_T_80_1A_B_20_1A,"stacked-l-top"),Object($t.a)(sT,bT.TWO_ROW_T_60_1A_B_40_1A,"stacked-m-top"),Object($t.a)(sT,bT.TWO_ROW_T_20_1A_B_80_1A,"stacked-l-btm"),Object($t.a)(sT,bT.TWO_COLUMN_TWO_ROW_50_2A_50_2A,"4-blk-btm"),Object($t.a)(sT,bT.TWO_COLUMN_TWO_ROW_67_2A_33_2A,"4-blk-narrow-r-btm"),Object($t.a)(sT,bT.THREE_COLUMN_TWO_ROW,"6-blk-top"),sT)}),mT=function(e){var t=e.layoutType,n=pT.LAYOUT_TO_ICON[t];return Object(Ma.jsx)(er.Icon,{name:n,className:"fill icon-orange"})},OT=function(e){var t=e.controlsActive,n=e.section,a=e.lastSection,c=e.handleMoveSection,o=e.handleRemoveSection,i=Object(s.useDispatch)(),l=Object(r.useState)({moveDown:"outline",moveUp:"outline",remove:"outline"}),d=Object(Cr.a)(l,2),u=d[0],j=d[1];return Object(Ma.jsxs)("div",{className:"section__controls",children:[Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)(er.Button,{className:"ui-button button-no-underline",onClick:function(e){e.preventDefault(),i(Hb())},children:Object(Ma.jsx)("span",{className:"mx-2 layout_type-label",children:"Report Layout"})}),Object(Ma.jsx)(mT,{layoutType:n.layoutType})]}),Object(Ma.jsx)("div",{className:"divider"}),Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Move down",children:Object(Ma.jsx)(er.Button,{className:"mr-2 control-item button-no-underline",disabled:!t||a,onClick:function(e){e.preventDefault(),c("down")},onMouseEnter:function(){return j(Object(b.a)(Object(b.a)({},u),{},{moveDown:"fill"}))},onMouseLeave:function(){return j(Object(b.a)(Object(b.a)({},u),{},{moveDown:"outline"}))},"data-testid":"move-section-down",children:Object(Ma.jsx)(er.Icon,{name:"move-down",className:"".concat(u.moveDown," icon-").concat(t&&!a?"orange-theme":"grey-medium"),width:24,height:24})})}),Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Move up",children:Object(Ma.jsx)(er.Button,{className:"mx-2 control-item button-no-underline",disabled:!t||1===n.order,onClick:function(e){e.preventDefault(),c("up")},onMouseEnter:function(){return j(Object(b.a)(Object(b.a)({},u),{},{moveUp:"fill"}))},onMouseLeave:function(){return j(Object(b.a)(Object(b.a)({},u),{},{moveUp:"outline"}))},"data-testid":"move-section-up",children:Object(Ma.jsx)(er.Icon,{name:"move-up",className:"".concat(u.moveUp," icon-").concat(t&&1!==n.order?"orange-theme":"grey-medium"),width:24,height:24})})}),Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Remove section",children:Object(Ma.jsx)(er.Button,{className:"ml-2 control-item button-no-underline",onClick:function(e){e.preventDefault(),o()},disabled:!t,onMouseEnter:function(){return j(Object(b.a)(Object(b.a)({},u),{},{remove:"fill"}))},onMouseLeave:function(){return j(Object(b.a)(Object(b.a)({},u),{},{remove:"outline"}))},"data-testid":"remove-section",children:Object(Ma.jsx)(er.Icon,{name:"bin",className:"".concat(u.remove," icon-").concat(t?"orange-theme":"grey-medium"),width:24,height:24})})})]})},fT=function(e){var t=e.iconType,n=e.handleClick,a=e.handleMouseEnter,r=e.handleMouseLeave,c=e.tooltipPlacement,o=e.tooltip,i=t.includes("-theme")?t:"".concat(t," icon-orange-theme");return Object(Ma.jsx)(er.Tooltip,{direction:c,tip:o,children:Object(Ma.jsx)(er.Button,{className:"button-no-underline",onClick:n,onMouseEnter:a,onMouseLeave:r,"data-testid":"remove-section",children:Object(Ma.jsx)(er.Icon,{name:"bin",className:i,width:24,height:24})})})},hT=(n(1370),{fileName:"https://devpwc365.sharepoint.com/sites/D3sq89hqpa/Shared Documents/Free Form Excel/Freeform - Smart Styles Reference Updated.xlsx",groupedByKey:"01AESXELUSJBDP464E4FFJ4I4RN2EHO63Q",fileContents:[{type:301,id:3327,name:"_Smart_ExampleTableStylesWithSource",value:'<table class="excel-named-range"><caption class="excel-named-range__title excel-named-range__title--vertical-align-bottom excel-named-range__title--text-align-left">Table name</caption><tr><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td></tr><tr><th class="excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--first-col excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-left">Heading</th><th class="excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right">Column 1<br>wrapping</th><th class="excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right">Column 2</th><th class="excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right">Column 3</th><th class="excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right">Column 4</th><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><th class="excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right">Highlight</th><th class="excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right">Forecast</th></tr><tr><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-normal excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">General</td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">2,300</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Merged cells</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--border-bottom-normal excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-middle excel-named-range__data--text-align-center" colspan="2" rowspan="2">n/a</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Merged cells</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">General</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td></tr><tr><th class="excel-named-range__header excel-named-range__header--first-col excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-left">PA\'s</th><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Thick border</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">(100)</td><td class="excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">(100)</td><td class="excel-named-range__data excel-named-range__data--border-left-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Superscript1</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Dash border2</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">-</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">-</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">General</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Subtotal</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">General</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left">Return</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-left-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__memo excel-named-range__memo--bg-highlight excel-named-range__memo--italic excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left"></td><td class="excel-named-range__memo excel-named-range__memo--bg-forecast excel-named-range__memo--italic excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left"></td></tr><tr><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td></tr><tr><td class="excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">General</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left">Return</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--border-left-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">10000%</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__memo excel-named-range__memo--bg-highlight excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left"></td><td class="excel-named-range__memo excel-named-range__memo--bg-forecast excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left"></td></tr><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Subtotal</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td><td class="excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left"></td></tr><tr><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">General</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Total</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-left-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td></tr><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Accent 1 (underlined)</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">20</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">40</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">60</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Accent 2</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">20</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">40</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">60</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Accent 3</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">20</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">40</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">60</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><caption class="excel-named-range__title excel-named-range__title--vertical-align-bottom excel-named-range__title--text-align-right">100</caption><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Accent 5</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">20</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">40</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">60</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left">Accent 6 (strike)</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">20</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">40</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">60</td><td class="excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right">100</td></tr><tr><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td></tr><tr><td class="excel-named-range__memo excel-named-range__memo--border-left-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left" colspan="5">Memo-box heading in merged cell</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td></tr><tr><td class="excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--border-left-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left">General</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td></tr><tr><td class="excel-named-range__memo excel-named-range__memo--border-left-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left">General</td><td class="excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td></tr><tr><td class="excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--border-left-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left">General</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right">100</td><td class="excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td></tr><tr><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td></tr><tr><td class="excel-named-range__memo excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left">Source: 3.16.1 - LPI 1Q 2015 Results</td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td><td class="excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left"></td></tr><tr><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td></tr><tr><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td><td class="excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left"></td></tr></table>',error:{isError:!1,message:"",errorCode:"Success"}}]}),_T=function(e,t){switch(e){case x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CELL_RANGE.value:case x.Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value:return"charts";case x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value:return"bar-chart";case x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value:return"powerbi-new";case x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value:return t?"powerbi-report":"powerbi-new";case x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value:return"textbox";case x.Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value:return"powerpoint";default:return"view"}},xT=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24;return Object(Ma.jsx)(er.Icon,{name:_T(e,n),width:a,className:t})},gT=(n(1371),["libraryItem","isDragging","hoverClass","innerRef","children"]),vT=function(e){var t=e.libraryItemName;return Object(Ma.jsx)("div",{className:"library-item-card-title","data-testid":"library-item-card-title",children:t})},LT=function(e){var t=e.libraryItem,n=e.isDragging,a=e.hoverClass,r=e.innerRef,c=e.children,o=Object(Pi.a)(e,gT),i=[100,400,401,500],s=function(){var e="";if(n&&!a)e="fill icon-grey";else if(!n&&a){var r=i.includes(t.type)?"outline":"fill";e="".concat(r," ").concat("icon-grey-theme"," ").concat(a)}else e="outline icon-grey";return e}();return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({className:"library-item-card2","data-testid":"library-item-card"},o),{},{ref:r,children:[Object(Ma.jsx)("div",{className:"library-item-card-icon","data-testid":"library-item-card-icon",style:{display:n?"none":"block"},children:!n&&xT(t.type,s,a)}),c&&Object(Ma.jsx)("div",{className:"draggedLibraryItemCard",children:c}),!c&&Object(Ma.jsx)(vT,{libraryItemName:t.name})]}))},CT=(n(1372),function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}),TT=function(e){var t=e.richText;return Object(Ma.jsx)("div",{className:"library-item-card-placeholder","data-testid":"rich-text-container",children:CT(t)})},yT=function(e){var t=e.handleDeleteClick,n=e.richText,a=e.isInSourceTray,r=e.handleEditClick,c=e.isReadOnly;return Object(Ma.jsxs)("div",{className:"rich-text-card-inner",children:[Object(Ma.jsx)(TT,{richText:n}),!c&&(a?Object(Ma.jsx)(er.Button,{className:"rich-text-card-inner__delete-button",onClick:t,"data-testid":"delete-text-box-button",children:Object(Ma.jsx)(er.Icon,{className:"rich-text-card-inner__delete-icon",name:"delete"})}):Object(Ma.jsx)(er.Button,{className:"rich-text-card-inner__edit-button",onClick:r,"data-testid":"edit-text-box-button",children:Object(Ma.jsx)(er.Icon,{className:"rich-text-card-inner__edit-icon",name:"pencil"})}))]})},IT=(n(1373),["libraryItem","isInSourceTray","setIsDragDisabled","isDragging","innerRef"]),ET=function(e){var t=e.libraryItem,n=e.isInSourceTray,a=e.setIsDragDisabled,c=e.isDragging,o=e.innerRef,i=Object(Pi.a)(e,IT),s=YC(),l=Object(Cr.a)(s,2)[1],d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],p=u[1],m=Object(r.useState)(x.TextUtilities.parseRichText(t.isShared,t.data)),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(r.useState)(""),g=Object(Cr.a)(_,2),v=g[0],L=g[1];return j?Object(Ma.jsx)("div",Object(b.a)(Object(b.a)({ref:o},i),{},{className:"rich-text-library-item-edit",children:Object(Ma.jsx)(_p,{richText:v,setCurrentRichText:L,handleCancel:function(){p(!1),a(!1),L("")},handleSave:function(){h(v),p(!1),a(!1),l({type:TC,payload:{libraryItemId:t.id,richText:v}})}})})):Object(Ma.jsx)(LT,Object(b.a)(Object(b.a)({},i),{},{isDragging:c,innerRef:o,libraryItem:t,children:Object(Ma.jsx)(yT,{richText:f,isInSourceTray:n,handleDeleteClick:function(){l({type:IC,payload:t.id})},handleEditClick:function(){var e;p(!0),a(!0),L((e=f)===x.Constants.EMPTY_RICH_TEXT_PLACEHOLDER?"":e)}})}))};n(1374);window["__react-beautiful-dnd-disable-dev-warnings"]=!0;var wT=function(e){var t=e.libraryItem,n=e.index,a=e.droppableLocationId,c=e.droppableLocations,o=YC(),i=Object(Cr.a)(o,2),l=i[0],d=l.draggableBetweenSectionsItemId,u=l.currentDroppableSectionId,j=l.currentPosition,p=l.currentSections,m=i[1],O=Object(s.useDispatch)(),f=Object(r.useState)(!1),h=Object(Cr.a)(f,2),_=h[0],g=h[1],v=Object(r.useState)(!1),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=Object(r.useState)(null),I=Object(Cr.a)(y,2),E=I[0],w=I[1],N=Object(r.useState)(!1),A=Object(Cr.a)(N,2),S=A[0],k=A[1],D=function(e){return!(!e||!function(){var e=c[j.droppableId].libraryItemIds,n=e.includes(t.id)?e.length-1:e.length;return j.index===n}())&&!(Number(e.droppableId.slice(-1))===p.length)},R=Object(r.useCallback)((function(e){m({type:xC,payload:{draggableBetweenSectionsItemId:e}})}),[m]),P=function(e){R(t.id),E.dispatchEvent(new KeyboardEvent("keydown",{keyCode:x.Constants.space,bubbles:!1}));var n=p.find((function(e){return e.items.map((function(e){return e.id})).includes(t.id)}));m({type:e,payload:{libraryItemId:t.id,currentSectionOrder:n?n.order:1}})},M=function(e){if(j&&(e===x.Constants.arrowUp||e===x.Constants.arrowDown)){O(Jb({start:j,draggableId:t.id}));var a=function(e,t){var n=c[e.droppableId];return t===x.Constants.arrowUp&&n.areaAbove?n.areaAbove:!(t!==x.Constants.arrowDown||!n.areaBelow)&&n.areaBelow}(j,e);if(a){var r={droppableId:a,index:0};O(Xb({finish:r})),s=r,l=t.id,m({type:hC,payload:{currentPosition:s,draggableWithinSectionsItemId:l}}),E.dispatchEvent(new KeyboardEvent("keydown",{keyCode:x.Constants.space,bubbles:!1}))}else e!==x.Constants.arrowUp||(o=n,(i=j)?C||0!==i.index:0!==o)?e===x.Constants.arrowDown&&!C&&D(j)&&P(fC):P(OC)}var o,i,s,l};Object(r.useEffect)((function(){E&&d===t.id&&u===(a===$C.SOURCE_TRAY_ID?0:Number(a.slice(-1)))&&(E.focus(),E.dispatchEvent(new KeyboardEvent("keydown",{keyCode:x.Constants.space,bubbles:!1})),R(null))}),[u,d,a,t.id,R,E]),Object(r.useEffect)((function(){var e=j?j.droppableId:a;T(e===$C.SOURCE_TRAY_ID)}),[j,a]);var F=Object(r.useRef)();return Object(Ma.jsx)(jd.b,{draggableId:t.id.toString(),index:n,isDragDisabled:_,children:function(e,n){return Object(Ma.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({className:"draggable-library-item-card2","data-testid":"draggable-library-item-card"},e.draggableProps),e.dragHandleProps),{},{ref:function(t){e.innerRef(t),w(t)},onKeyDown:function(t){return M(t.keyCode,e.innerRef)},onMouseDown:function(){if(F&&F.current){var e=F.current.getBoundingClientRect();window.scrollTo(e.left,e.top+window.scrollY-64),k(!0)}},onMouseUp:function(){return k(!1)},"data-draggable-mode":!!j,children:t.type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value?Object(Ma.jsx)(ET,{libraryItem:t,isInSourceTray:C,setIsDragDisabled:g,isDragging:n.isDragging,children:t.data}):Object(Ma.jsx)(LT,{libraryItem:t,isDragging:n.isDragging||S,children:null})}))}})},NT=(n(1375),function(e){var t=e.show,n=void 0===t||t,a=e.onHide,c=void 0===a?function(){}:a,o=Object(r.useRef)();return Object(Ma.jsxs)(hs.a,{ref:o,className:"object-injest-empty-modal",show:n,onHide:c,children:[Object(Ma.jsx)(hs.a.Header,{closeButton:!0,children:Object(Ma.jsx)(hs.a.Title,{children:Object(Ma.jsx)(ws,{title:"Adding an Excel or PowerPoint object",size:"h2"})})}),Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("p",{children:"You can add chart or table objects from Excel or PowerPoint to your Junction analysis. Once added, they will automatically update, so you won't need to add it again."}),Object(Ma.jsx)("h4",{children:"To add an object:"}),Object(Ma.jsxs)("ol",{children:[Object(Ma.jsxs)("li",{children:["Open the desired Excel or PowerPoint file in your"," ",Object(Ma.jsx)("a",{href:"/to-do",children:"project's SharePoint folder"})]}),Object(Ma.jsx)("li",{children:"Highlight the cells that make up your preferred chart ore table and click the 'Add to Junction' button on the toolbar."}),Object(Ma.jsx)("li",{children:"With the object chosen, you can add it to the analysis or text area. In Junction, select 'Add an Item' and choose 'Excel or PowerPoint'. To add it as a mini table, select '+ Minitable/chart' in a text area."})]})]})]})}),AT=function(e){var t=e.target,n=e.show,a=e.onCancel,c=void 0===a?function(){}:a,o=e.onInsertPowerBi,i=void 0===o?function(){}:o,s=e.droppableLocation,l=Object(r.useRef)(),d=YC(),u=Object(Cr.a)(d,2)[1],j=Object(r.useState)(!1),b=Object(Cr.a)(j,2),m=b[0],O=b[1],f=Object(p.n)().url;return m?Object(Ma.jsx)(NT,{show:m,onHide:function(){return O(!1)}}):Object(Ma.jsx)("div",{ref:l,"data-testid":"injest-select-popover",children:Object(Ma.jsx)(wr.default,{show:n,target:t,rootClose:!0,onHide:c,container:l.current,placement:"bottom",children:Object(Ma.jsx)(Nr.a,{className:"injest-select-popover",children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-menu popup-confirmation injest-select-popover",children:[Object(Ma.jsxs)(Ja.Link,{className:"ui-button button-no-underline",to:"".concat(f,"/library-items"),onClick:function(){JC(s,u)},children:[Object(Ma.jsx)(er.Icon,{name:"powerpoint",width:24,height:24,className:"outline icon-orange-theme"}),Object(Ma.jsx)("span",{children:"Excel or PowerPoint"})]}),Object(Ma.jsxs)(er.Button,{className:"button-no-underline",onClick:function(e){e.preventDefault(),i&&i()},children:[Object(Ma.jsx)(er.Icon,{name:"powerbi-new",width:24,height:24,className:"outline icon-orange-theme"}),Object(Ma.jsx)("span",{children:"Power BI..."})]}),Object(Ma.jsxs)(er.Button,{className:"button-no-underline",onClick:function(e){e.preventDefault()},children:[Object(Ma.jsx)(er.Icon,{name:"textbox",width:24,height:24,className:"outline icon-orange-theme"}),Object(Ma.jsx)("span",{children:"Text"})]})]})})})})},ST=function(e){var t=e.onInsertPowerBi,n=void 0===t?function(){}:t,a=e.onPopover,c=void 0===a?function(){}:a,o=e.droppableLocation,i=Object(r.useRef)(),s=Object(r.useState)(!1),l=Object(Cr.a)(s,2),d=l[0],u=l[1];return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{ref:i,children:Object(Ma.jsx)(er.Button,{className:"ui-button button-link object-injest-toggle",onClick:function(e){e.preventDefault(),u(!0),c(!0)},children:Object(Ma.jsx)(er.Icon,{name:"plus",width:24,className:"outline icon-orange"})})}),Object(Ma.jsx)(AT,{target:i,show:d,onCancel:function(){u(!1),c(!1)},onInsertPowerBi:n,droppableLocation:o}),Object(Ma.jsx)("p",{className:"object-injest-label",children:"Add an item"})]})};n(1376);function kT(e){var t=e.areaClass,n=e.droppableLocation,a=e.libraryItems,c=e.libraryItemMap,o=e.droppableLocations,i=function(e){var t=Number.isInteger(parseInt(e,10))?parseInt(e,10):null;return!t||c[t].type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value||!n.id.includes("text-overflow")},s=Object(r.useState)(!1),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j={border:"var(--s1px) dashed var(--color-grey)",borderRadius:"var(--s2px)",backgroundColor:"var(--dragdrop-container-background-hover)"},p="var(--s2px) dashed var(--hovered-section-border-color)",O="var(--s2px) solid var(--color-red-error-dark-mode)",f="var(--background-primary)",_=function(){return a.length>0},g=YC(),v=Object(Cr.a)(g,2),L=v[0],C=L.currentSections,T=void 0===C?[]:C,y=(L.nonLaidOutLibraryItems,v[1]),I=function(){var e=Object(r.useContext)(VC);if(void 0===e)throw new Error("useDragAndDrop must be used within a DragAndDropContextProvider");return e}().setDroppableLocations,E=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a,r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),t=Object(So.a)(),a=Date.now(),(r=Object(h.cloneDeep)(T))[0].items.push({id:a,name:t,type:x.Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value,isShared:!1,data:hT.fileContents[0].value,analysisColumn:1}),zC(r,y),(c=Object(h.cloneDeep)(o))[n.id]=Object(b.a)(Object(b.a)({},n),{},{libraryItemIds:[].concat(Object(m.a)(n.libraryItemIds),[a])}),I(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object(r.useState)(!1),N=Object(Cr.a)(w,2),A=N[0],S=N[1],k=function(){S(!1)},D=function(e){e.preventDefault();var t=Object(h.cloneDeep)(o);t[n.id]=Object(b.a)(Object(b.a)({},n),{},{libraryItemIds:[]}),I(t)},R=Object(r.useState)(!1),P=Object(Cr.a)(R,2),M=P[0],F=P[1];return Object(Ma.jsx)(jd.c,{droppableId:n.id,direction:n.direction,ignoreContainerClipping:!0,children:function(e,r){var c=function(e){var t=e.isDraggingOver,n=e.draggingOverWith,a=e.draggingFromThisWith,r=Object(b.a)({},j);return d?{border:"var(--s2px) dashed var(--hovered-section-border-color)",borderRadius:"var(--s2px)",backgroundColor:"var(--dragdrop-container-background-hover)"}:_()&&n&&n===a?(Object.assign(r,{border:p,backgroundColor:f}),r):_()&&n&&!i(n)?(Object.assign(r,{border:O}),r):_()?{padding:"var(--s2px)"}:!_()&&t&&n&&i(n)?(Object.assign(r,{border:p,borderRadius:"var(--s2px)",backgroundColor:f}),r):!_()&&t&&n&&!i(n)?(Object.assign(r,{border:O}),r):{}}(r);return Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({className:"".concat(t," section-area__droppable-container"),"data-testid":t,ref:e.innerRef},e.droppableProps),{},{style:c,onMouseEnter:function(){return S(!0)},onFocus:function(){return S(!0)},onMouseLeave:k,onBlur:k,children:[Object(Ma.jsxs)("div",{className:nr()("section-area__item-container",{"background-left":n.id.includes("text-overflow")}),children:[a.map((function(e,t){return Object(Ma.jsx)(wT,{libraryItem:e,index:t,droppableLocationId:n.id,droppableLocations:o},e.id)})),e.placeholder]}),Object(Ma.jsx)("div",{className:"clearSectionWrapper",style:{display:A&&a.length>0&&!r.isDraggingOver?"block":"none"},children:Object(Ma.jsx)(fT,{tooltip:"clear section",tooltipPlacement:"top",iconType:"".concat(M?"fill":"outline"," icon-grey-theme"),handleClick:D,handleMouseEnter:function(){return F(!0)},handleMouseLeave:function(){return F(!1)}})}),a.length<1&&Object(Ma.jsx)("div",{className:nr()("section-area__background",{"background-left":n.id.includes("text-overflow")}),children:Object(Ma.jsx)("div",{className:"section-area__background__content",children:Object(Ma.jsx)(ST,{onInsertPowerBi:E,onPopover:u,droppableLocation:n})})}),n.id.includes("text-overflow")&&Object(Ma.jsx)("div",{className:"section-area__background background-right"})]}))}},n.id)}kT.defaultProps={areaClass:""};var DT=kT;DT.propTypes={sectionData:lo.a.shape({order:lo.a.number,layoutType:lo.a.number,items:lo.a.arrayOf(lo.a.any)}),onAddSection:lo.a.func,onRemoveSection:lo.a.func,targetDroppableLocationIds:lo.a.arrayOf(lo.a.string),lastSection:lo.a.bool,activeSection:lo.a.bool};var RT=function(e){var t=e.sectionData,n=e.libraryItemMap,a=e.droppableLocations,o=e.onAddSection,i=e.onRemoveSection,l=e.onMoveSection,d=e.lastSection,u=e.controlsActive,j=e.targetDroppableLocationIds,b=e.scrollIntoView,p=void 0===b||b,m=Object(r.useRef)(),O=Object(r.useState)("outline"),f=Object(Cr.a)(O,2),h=f[0],_=f[1],x=Object(r.useState)(!1),g=Object(Cr.a)(x,2),v=g[0],L=g[1],C=YC(),T=Object(Cr.a)(C,2),y=T[0].sectionIdToScroll,I=T[1],E=Er(),w=Object(s.useDispatch)(),N=t.order-1,A=Object(s.useSelector)(ap),S=A.activeSectionIndex,k=A.floatingTabsHeight,D=m.current?m.current.offsetHeight:0,R=m.current?m.current.offsetTop:0;Object(r.useEffect)((function(){y===N&&D&&(p&&m.current.scrollIntoView({behavior:"smooth"}),QC(null,I))}),[D,I,p,N,y]),Object(r.useEffect)((function(){S===N?(v||(w(Qb({top:R})),w(qb({height:D}))),L(!0)):v&&L(!1)}),[v,S,N,w,R,D]);var P=function(){var e=Math.max(0,t.order-1-1);w(Kb({index:e})),i(t.order),_("outline")};return Object(Ma.jsxs)("div",{ref:m,"data-section-id":N,className:"section","data-testid":"section",onClick:function(){E||S===N||(w(Kb({index:N})),w(Qb({top:R})),D!==k&&w(qb({height:D})))},children:[Object(Ma.jsxs)("div",{className:"section__top-row","data-testid":"section-top-row",children:[Object(Ma.jsx)("div",{className:"section__top-row__row-1",children:E&&u&&Object(Ma.jsx)(fT,{handleClick:P,handleMouseEnter:function(){_("fill")},handleMouseLeave:function(){_("outline")},tooltipPlacement:"top",tooltip:"Remove section",iconType:h})}),Object(Ma.jsx)("div",{className:"section__top-row__row-2",children:Object(Ma.jsx)(OT,{section:t,lastSection:d,controlsActive:u,handleMoveSection:function(e){l(e,t)},handleRemoveSection:P})})]}),Object(Ma.jsx)("div",{className:nr()("section__middle-row",Object($t.a)({},oT.LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP[t.layoutType],t.layoutType)),"data-testid":"section-middle-row",children:j&&j.map((function(e){var r=a[e],o=r&&r.libraryItemIds.map((function(e){return n[e]})).filter((function(e){return!!e}));return Object(Ma.jsx)(c.a.Fragment,{children:r&&Object(Ma.jsxs)(Ma.Fragment,{children:[E&&Object(Ma.jsx)(jT,{name:oT.LAYOUT_TYPE_TO_ICON_MAP["".concat(t.layoutType,"-").concat(r.position)]}),Object(Ma.jsx)(DT,{areaClass:e,droppableLocation:a[e],libraryItems:o,libraryItemMap:n,droppableLocations:a},e)]})},e)}))}),d&&Object(Ma.jsxs)("div",{className:"section__bottom-row","data-testid":"section-bottom-row",children:[Object(Ma.jsx)("hr",{className:"section-line"}),Object(Ma.jsxs)(er.Button,{className:"button-no-underline",onClick:o,children:[Object(Ma.jsx)(er.Icon,{name:"add",width:24,height:24,className:"fill icon-orange-theme"}),Object(Ma.jsx)("span",{className:"section__bottom-row__button-text",children:"Add new section"})]}),Object(Ma.jsx)("hr",{className:"section-line"})]})]},"Section - ".concat(t.order))},PT=(n(1377),function(e){var t=e.libraryItemMap,n=e.droppableLocations,a=e.onAddNewSection,r=YC(),c=Object(Cr.a)(r,2),o=c[0],i=o.currentSections,l=void 0===i?[]:i,d=o.nonLaidOutLibraryItems,u=void 0===d?[]:d,j=c[1],p=Object(s.useSelector)(ap).activeSectionIndex,O=function(){a()},f=function(e){if(1!==l.length){var n=l.find((function(t){return t.order===e})),a=u.concat(n.items.map((function(e){return t[e.id]})));qC(a,j);var r=l.filter((function(t){return t.order!==e})).map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{order:t+1})}));zC(r,j)}},h=function(e,t){if(1!==l.length){var n=Object(m.a)(l);n.splice(t.order-1,1);var a="up"===e?t.order-2:t.order;n.splice(a,0,t);var r=n.map((function(e,t){return Object(b.a)(Object(b.a)({},e),{},{order:t+1})}));zC(r,j),QC(a,j)}};return Object(Ma.jsx)("div",{className:"left-panel","data-testid":"left-panel",children:l.map((function(e,a,r){var c=function(e){var t=nT[e.layoutType],n=[];return t.forEach((function(t){var a=eT(t,e.order);n.push(a)})),n}(e);return Object(Ma.jsx)(RT,{sectionData:e,libraryItemMap:t,droppableLocations:n,onAddSection:O,onRemoveSection:f,onMoveSection:h,lastSection:a===l.length-1,controlsActive:r.length>1,targetDroppableLocationIds:c,activeSection:p===a},e.order)}))})}),MT=(x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,oT.COLUMN_TYPE.ONE,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,oT.COLUMN_TYPE.ONE,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,oT.COLUMN_TYPE.ONE,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,oT.COLUMN_TYPE.ONE,x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,oT.COLUMN_TYPE.ONE,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,oT.COLUMN_TYPE.TWO,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,oT.COLUMN_TYPE.TWO,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,oT.COLUMN_TYPE.TWO,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,oT.COLUMN_TYPE.TWO,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,oT.COLUMN_TYPE.TWO,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,oT.COLUMN_TYPE.TWO,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,oT.COLUMN_TYPE.TWO,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,oT.COLUMN_TYPE.THREE,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,oT.COLUMN_TYPE.THREE,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,oT.COLUMN_TYPE.THREE,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,oT.COLUMN_TYPE.THREE,x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,oT.COLUMN_TYPE.THREE,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,oT.COLUMN_TYPE.FOUR,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,oT.COLUMN_TYPE.FOUR,x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,oT.COLUMN_TYPE.FOUR,x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,oT.COLUMN_TYPE.FOUR,[[{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,type:oT.COLUMN_TYPE.ONE,image:Bp,label:"",description:""},{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,type:oT.COLUMN_TYPE.ONE,image:Yp},{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,type:oT.COLUMN_TYPE.ONE,image:Wp},{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,type:oT.COLUMN_TYPE.ONE,image:Vp}],[{id:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,type:oT.COLUMN_TYPE.ONE,image:rm},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,type:oT.COLUMN_TYPE.TWO,image:em},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,type:oT.COLUMN_TYPE.TWO,image:nm},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,type:oT.COLUMN_TYPE.TWO,image:am},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,type:oT.COLUMN_TYPE.TWO,image:tm}],[{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,type:oT.COLUMN_TYPE.TWO,image:Hp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,type:oT.COLUMN_TYPE.TWO,image:Kp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,type:oT.COLUMN_TYPE.TWO,image:Gp}],[{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,type:oT.COLUMN_TYPE.THREE,image:Jp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,type:oT.COLUMN_TYPE.THREE,image:Qp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,type:oT.COLUMN_TYPE.FOUR,image:$p}],[{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,type:oT.COLUMN_TYPE.THREE,image:zp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,type:oT.COLUMN_TYPE.THREE,image:qp},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,type:oT.COLUMN_TYPE.FOUR,image:Up},{id:x.Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,type:oT.COLUMN_TYPE.FOUR,image:Fp}],[{id:x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,type:oT.COLUMN_TYPE.THREE,image:Xp},{id:x.Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,type:oT.COLUMN_TYPE.FOUR,image:Zp}]]),FT=(n(1378),function(e){var t=e.handleLayoutTypeChange,n=Object(r.useState)(MT),a=Object(Cr.a)(n,1)[0],c=function(){var e=YC(),t=Object(Cr.a)(e,1)[0].currentSections,n=void 0===t?[]:t,a=Object(s.useSelector)(ap).activeSectionIndex;return Object(r.useMemo)((function(){return n[a]&&n[a].layoutType}),[n,a])}(),o=function(e){t(e)};return Object(Ma.jsx)("div",{"data-testid":"rs-panel-layout-tab",className:"rs-panel-layout-tab2",children:Object(Ma.jsx)("div",{className:"rs-panel-available-layouts2",children:a.map((function(e,t){return Object(Ma.jsx)("ul",{className:"rs-panel-available-layouts2__list","data-testid":"rs-panel-available-layouts2__list",children:e.map((function(e){return Object(Ma.jsxs)("li",{className:"small-container","data-testid":"layout-container",children:[Object(Ma.jsx)("img",{onClick:function(){o(e.id)},onKeyDown:function(){o(e.id)},src:e.image,id:e.id,alt:"One column",role:"button","data-testid":"layout-image:".concat(e.id),tabIndex:0}),e.id===c&&Object(Ma.jsx)("div",{className:"layout-image-overlay"})]},"".concat(e.id,"-").concat(e.type))}))},"".concat(e.length,"-").concat(t))}))})})}),UT=(n(1379),function(e){var t=e.handleLayoutTypeChange,n=Object(s.useDispatch)(),a=function(){n(Hb())},r=ad((function(e){return e&&a()}));return Object(Ma.jsxs)("div",{ref:r,className:"right-panel2",children:[Object(Ma.jsx)("div",{className:"right-panel2__header",children:Object(Ma.jsx)(er.Button,{className:"button-no-underline",onClick:a,children:Object(Ma.jsx)(er.Icon,{name:"close",width:"20",className:"icon fill icon-orange"})})}),Object(Ma.jsx)(FT,{handleLayoutTypeChange:t})]})}),BT=function(e){var t=e.showRightPanel,n=void 0!==t&&t,a=e.libraryItemMap,c=e.droppableLocations,o=e.onAddNewSection,i=e.setDroppableLocations,l=e.onDragStart,d=e.onDragUpdate,u=e.onDragEnd,j=YC(),b=Object(Cr.a)(j,2),p=b[0],m=p.currentSections,O=void 0===m?[]:m,f=p.nonLaidOutLibraryItems,_=void 0===f?[]:f,x=b[1],g=Object(r.useRef)(null),v=Object(r.useRef)(null),L=Object(r.useState)(null),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(s.useSelector)(ap).activeSectionIndex,E=Er(),w=Array.from(document.querySelectorAll(".edit-layout__left .section"));lT(T,g,v),Object(r.useEffect)((function(){w&&!Object(h.isEqual)(w,T)&&y(w)}),[w,T]);var N=cT(I,O,i,(function(e){zC(e,x)}),_,(function(e){qC(e,x)}));return window.handleLayoutTypeChange=N,Object(Ma.jsx)("div",{className:nr()("edit-layout2",{"edit-layout--collapsed-column":!E,"edit-layout--mobile":E}),"data-testid":"edit-layout",children:Object(Ma.jsxs)(jd.a,{onDragStart:l,onDragUpdate:d,onDragEnd:u,children:[Object(Ma.jsx)("div",{className:"edit-layout__left","data-testid":"edit-layout-left-panel",children:Object(Ma.jsx)(PT,{libraryItemMap:a,droppableLocations:c,onAddNewSection:o,setDroppableLocations:i})}),n&&Object(Ma.jsx)(UT,{handleLayoutTypeChange:N})]})})},YT=function(e){var t=e.onDragStart,n=e.onDragUpdate,a=e.onDragEnd,c=e.libraryItemMap,o=e.droppableLocations,i=e.onAddNewSection,l=e.setDroppableLocations,d=Object(s.useDispatch)(),u=Object(s.useSelector)(ap).showRightPanel2,j=YC(),p=Object(Cr.a)(j,2)[1],m=Object(s.useSelector)(rp),O=m.start,f=m.finish,h=Object(s.useSelector)(cp).draggableId,_=Object(r.useCallback)((function(){var e,t=o[O.droppableId],n=o[f.droppableId];if(!n.libraryItemIds.includes(h)){var a=function(e,t){var n=Array.from(e.libraryItemIds);return n.splice(t,1),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:n})}(t,O.index),r=function(e,t,n){var a=Array.from(e.libraryItemIds);return a.splice(t,0,n),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:a})}(n,f.index,h),c=Object(b.a)(Object(b.a)({},o),{},(e={},Object($t.a)(e,a.id,a),Object($t.a)(e,r.id,r),e));l(c),d(Jb({start:null,draggableId:null})),d(Xb({finish:null}));var i=n.position;p({type:_C,payload:{newAnalysisColumn:i,libraryItemId:h}})}}),[O,f,h,o,l,d,p]);return Object(r.useEffect)((function(){O&&f&&h&&_()}),[O,f,h,_]),Object(Ma.jsx)("div",{"data-testid":"add-report-data-layout-container",children:Object(Ma.jsx)(BT,{showRightPanel:u,libraryItemMap:c,droppableLocations:o,onAddNewSection:i,setDroppableLocations:l,onDragStart:t,onDragUpdate:n,onDragEnd:a})})},WT=(n(1380),n(587),function(e){var t=e.droppableLocations,n=e.libraryItemMap,a=e.handleDragEnd,r=e.setDroppableLocations,c=e.analysisTitle,o=e.analysisDescription,i=e.tags,s=YC(),l=Object(Cr.a)(s,2),d=l[0].currentSections,u=l[1],j=function(e,t){u({type:hC,payload:{currentPosition:e,draggableWithinSectionsItemId:t}})};return Object(Ma.jsx)("div",{className:"drag-and-drop-layout",children:Object(Ma.jsx)(YT,{onDragStart:function(e){var t=e.source,n=e.draggableId;j(t,n)},onDragUpdate:function(e){var t=e.destination,n=e.draggableId;j(t,n)},onDragEnd:a,libraryItemMap:n,droppableLocations:t,onAddNewSection:function(){var e=Object(h.max)(d.map((function(e){return e.order}))),t=d.find((function(t){return t.order===e})),n={order:e+1,layoutType:t.layoutType,items:[]};zC([].concat(Object(m.a)(d),[n]),u),QC(e,u)},setDroppableLocations:r,analysisTitle:c,analysisDescription:o,tags:i})})}),VT=function(e,t){return t.map(aT).reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),t)}),Object($t.a)({},$C.SOURCE_TRAY_ID,{id:$C.SOURCE_TRAY_ID,libraryItemIds:e.map((function(e){return e.id})),className:"library-item-source-tray",direction:"vertical"}))};function ZT(e){var t,n;return Object.keys(nT).forEach((function(a){var r=nT[a].findIndex((function(t){return t===e}));r>-1&&(t=a,n=r)})),Number.isInteger(parseInt(t,10))?{layoutType:parseInt(t,10),analysisCol:n}:{layoutType:1,analysisCol:0}}function GT(e,t){for(var n=e[$C.SOURCE_TRAY_ID].libraryItemIds.map((function(e,n){var a=Ss()(t[e]);return a.analysisColumn&&delete a.analysisColumn,a.order=n+1,a})),a=Object.values($C).filter((function(e){return e!==$C.SOURCE_TRAY_ID})),r=a.length,c=[],o=1,i=!0,s=function(){for(var n={order:o},s=[],l=a.map((function(){return!1})),d=function(r){var c=a[r];if(Array.isArray(c)||"string"!==typeof c)c.forEach((function(a,c){var i=eT(a,o),d=e[i];if(d){l[r]=!0;var u=ZT(a).layoutType;n.layoutType=u;var j=d.libraryItemIds.map((function(e){return t[e]})).map((function(e,t){return e.analysisColumn=c+1,e.order=t+1,e}));s=[].concat(Object(m.a)(s),Object(m.a)(j))}}));else{var i=eT(c,o),d=e[i];if(d){l[r]=!0;var u=ZT(c),j=u.layoutType,b=u.analysisCol;n.layoutType=j;var p=d.libraryItemIds.map((function(e){return t[e]})).map((function(e,t){return e.analysisColumn=b+1,e.order=t+1,e}));s=[].concat(Object(m.a)(s),Object(m.a)(p))}}},u=0;u<r;u+=1)d(u);l.includes(!0)||(i=!1),i&&(n.items=s,c.push(n),o+=1)};i;)s();return{nonLaidOutLibraryItems:n,sections:c}}var HT=function(e){var t=e.analysisTitle,n=e.analysisDescription,a=e.tags,c=YC(),o=Object(Cr.a)(c,2),i=o[0],s=i.currentSections,l=i.nonLaidOutLibraryItems,d=i.locationToAdd,u=o[1],j=Object(p.m)().projectId,O=s.flatMap((function(e){return e.items})),f=[].concat(Object(m.a)(l),Object(m.a)(O)).reduce((function(e,t){return e[t.id]=Ss()(t),e}),{}),h=Object(r.useState)(VT(l,s)),_=Object(Cr.a)(h,2),g=_[0],v=_[1];Object(r.useEffect)((function(){var e=VT(l,s);v(e)}),[s,l]);return Object(r.useEffect)((function(){if(d&&d.onSubmit){var e=Object(b.a)(Object(b.a)({},g),{},Object($t.a)({},d.id,Object(b.a)(Object(b.a)({},g[d.id]),{},{libraryItemIds:[d.item.id]})));v(e);var t=GT(e,f).sections;zC(t,u),function(e){e({type:wC})}(u)}}),[d,u,g,f]),Object(Ma.jsx)(ZC,{value:{setDroppableLocations:v},children:Object(Ma.jsx)(WT,{droppableLocations:g,libraryItemMap:f,handleDragEnd:function(e){var t=e.destination,n=e.source,a=e.draggableId;if(u({type:vC}),t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var r=g[n.droppableId],c=g[t.droppableId];if(!c.id.includes("text-overflow")||f[a].type===x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value){var o;if(r===c){var i=function(e,t,n,a){var r=Array.from(e.libraryItemIds);r.splice(n,1);var c=parseInt(t,10);return r.splice(a,0,c),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:r})}(r,a,n.index,t.index);o=Object(b.a)(Object(b.a)({},g),{},Object($t.a)({},i.id,i))}else if(c.libraryItemIds.length>0&&c.id!==$C.SOURCE_TRAY_ID){var s,l=function(e,t,n){var a=parseInt(n,10),r=t.libraryItemIds[0],c=t.libraryItemIds.indexOf(r),o=Object(m.a)(t.libraryItemIds);o.splice(c,1,a);var i=Object(b.a)(Object(b.a)({},t),{},{libraryItemIds:o}),s=e.libraryItemIds.indexOf(a),l=Object(m.a)(e.libraryItemIds);l.splice(s,1);var d=l.length;return l.splice(d,0,r),{updatedStart:Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:l}),updatedFinish:i}}(r,c,a),d=l.updatedStart,j=l.updatedFinish;o=Object(b.a)(Object(b.a)({},g),{},(s={},Object($t.a)(s,d.id,d),Object($t.a)(s,j.id,j),s))}else{var p,O=function(e,t){var n=Array.from(e.libraryItemIds);return n.splice(t,1),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:n})}(r,n.index),h=function(e,t,n){var a=Array.from(e.libraryItemIds),r=parseInt(n,10);return a.splice(t,0,r),Object(b.a)(Object(b.a)({},e),{},{libraryItemIds:a})}(c,t.index,a);o=Object(b.a)(Object(b.a)({},g),{},(p={},Object($t.a)(p,O.id,O),Object($t.a)(p,h.id,h),p))}var _=GT(o,f),L=_.sections,C=_.nonLaidOutLibraryItems;v(o),qC(C,u),zC(L,u)}}},setDroppableLocations:v,projectId:j,analysisTitle:t,analysisDescription:n,tags:a})})},KT=function(e){return Object.values(x.Constants.LIBRARY_ITEM_TYPES).find((function(t){return t.value===e})).displayName};var qT=function(e,t,n,a,r){return[{Header:"Name",accessor:"name",className:"bold-cell title-cell cell",sortType:x.SortUtilities.caseInsensitiveAlphaSort,Cell:function(e){var r=e.row,c=e.state.sortBy,o=r.original,i="library-item-checkbox-".concat(o.id);return Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Checkbox,{id:i,selected:o.selected,dataTestId:"library-item-select-label",onChange:function(){a((function(e){var t=new Set(e);return t.has(o.id)?t.delete(o.id):t.add(o.id),Array.from(t)}));var e=c[0];t(e.id),n(e.desc?"desc":"asc")},label:o.name})})}},{Header:"Date ingested",accessor:"dateCreated",Cell:function(e){var t=e.cell;return Object(Ma.jsx)("span",{"data-testid":"item-date-created",children:t.value?Object(Ma.jsx)(DO,{cell:t}):""})}},{Header:"Type",id:"type",accessor:function(e){return KT(e.type)}},{Header:"",id:"delete",disableSortBy:!0,className:"right-align-cell cell",Cell:function(e){var t=e.row.original;return Object(Ma.jsx)(BO,{projectId:t.projectId,libraryItemId:t.id,onDelete:r,disabled:t.selected})}}]},zT=(n(1381),function(e){var t=e.children;return Object(Ma.jsxs)("div",{className:"empty-library-items-list-card content-container",children:[Object(Ma.jsx)("div",{className:"empty-library-items-list-text",children:"Add analysis data to the library using the Junction Excel add-in, or import the content from PowerPoint and Power BI below."}),t]})});n(1382);var QT=[{title:"first",description:"Select data"},{title:"second",description:"Edit layout"}],JT=function(e){var t=e.title,n=e.returnUrl,a=e.operationType,c=YC(),o=Object(Cr.a)(c,2),i=o[0],s=i.currentSections,l=i.nonLaidOutLibraryItems,d=i.locationToAdd,u=o[1],j=Object(r.useState)(!0),O=Object(Cr.a)(j,2),f=O[0],h=O[1],_=Object(r.useState)([]),g=Object(Cr.a)(_,2),v=g[0],L=g[1],C=Object(r.useState)([]),T=Object(Cr.a)(C,2),y=T[0],I=T[1],E=Object(r.useState)("dateCreated"),w=Object(Cr.a)(E,2),N=w[0],A=w[1],S=Object(r.useState)("desc"),k=Object(Cr.a)(S,2),D=k[0],R=k[1],P=Object(r.useState)(function(e,t){return[].concat(Object(m.a)(e.map((function(e){return e.id}))),Object(m.a)(t.flatMap((function(e){return e.items})).map((function(e){return e.id}))))}(l,s)),M=Object(Cr.a)(P,2),F=M[0],U=M[1],B=Object(r.useState)(!1),Y=Object(Cr.a)(B,2),W=Y[0],V=Y[1],Z=Object(p.m)().projectId,G=Object(p.k)(),H=Object(r.useState)(!1),K=Object(Cr.a)(H,2),q=K[0],z=K[1],Q=Object(r.useCallback)(function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu(Z);case 2:t=e.sent,n=t.filter((function(e){return e.type!==x.Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value&&e.type!==x.Constants.LIBRARY_ITEM_TYPES.UNDEFINED.value})),a=t.filter((function(e){return e.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value})),I(a),L(n),h(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[Z]);Object(r.useEffect)((function(){h(!0),Q()}),[Q]);var J=Object(r.useCallback)(Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Q();case 3:case"end":return e.stop()}}),e)}))),[Q]),X=Object(r.useMemo)((function(){return qT(L,A,R,U,J)}),[L,A,R,U,J]),$=function(){G.replace(n)};return Object(Ma.jsx)("form",{"data-testid":"library-item-list-container-form",className:"library-item-list-container",onSubmit:function(e){e.preventDefault();var t=function(e,t,n){var a=n.flatMap((function(e){return e.items})).map((function(e){return e.id})),r=t.filter((function(e){return a.includes(e)})),c=t.filter((function(e){return!r.includes(e)})),o=e.filter((function(e){return c.includes(e.id)})),i=n.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{items:[].concat(Object(m.a)(e.items),Object(m.a)(o))})}));return{nonLaidOutLibraryItems:o,sections:i}}(v,F,s),a=t.sections,r=t.nonLaidOutLibraryItems;zC(a,u),JC(Object(b.a)(Object(b.a)({},d),{},{onSubmit:!0,item:r[0]}),u),G.replace("".concat(n))},children:Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsxs)(Vj,{children:[Object(Ma.jsx)(er.Button,{className:"button-link button-theme mx-2 mr-4",onClick:$,"data-testid":"cancel-button-top",type:"button",children:"Back to ".concat(a," analysis")}),Object(Ma.jsx)(Kj,{type:"submit",isSaving:!1,isValid:!0,buttonSize:"button-small",buttonPosition:"top",onSaveText:"Adding data to analysis...",standbyText:"Add","data-testid":"publish-button-top"})]}),children:[Object(Ma.jsx)("h1",{children:t}),Object(Ma.jsx)("div",{className:"step-indicator-container",children:Object(Ma.jsx)(er.ProgressSteps,{current:1,steps:QT})}),v.length>0&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("p",{className:"library-item-description twothirds",children:"Choose pre-ingested data or ingest your own using the Excel add-in. You can also import data from Power BI and PowerPoint."}),Object(Ma.jsxs)(er.Button,{className:"button button-no-underline button-theme mb-4 mt-3","data-testid":"ingest-power-bi-button",type:"button",onClick:function(){V(!1),z(!0)},children:[Object(Ma.jsx)(er.Icon,{name:"upload",width:"24",className:"fill icon-orange mr-2"}),"Import data"]})]}),q&&Object(Ma.jsx)(kO,{show:q,handleCancel:function(){return z(!1)},handleSuccessfulIngestion:Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),z(!1),e.next=4,Q();case 4:case"end":return e.stop()}}),e)}))),pbiItems:y,projectId:Z,ingestedPowerPointGroups:v.filter((function(e){return e.type===x.Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value})).map((function(e){var t=JSON.parse(e.data);return{driveItemId:t.DriveItemId,slideNumber:t.SlideNumber,groupName:t.GroupName}}))}),W&&Object(Ma.jsx)(er.Banner,{notice:"success",text:"Data imported successfully.",icon:"checkmark","data-testid":"ingest-success-message"}),f?Object(Ma.jsx)(er.Loader,{dataTestId:"library-item-loading-indicator"}):Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)("div",{"data-testid":"library-item-list-container",children:[0===v.length&&Object(Ma.jsx)(zT,{children:Object(Ma.jsxs)(er.Button,{className:"ui-button button-block import-data","data-testid":"ingest-power-bi-button",type:"button",onClick:function(){V(!1),z(!0)},children:[Object(Ma.jsx)(er.Icon,{name:"upload",width:"24",className:"fill icon-white mr-2"}),"Import data"]})}),v.length>0&&Object(Ma.jsx)($m,{data:v,columns:X,initialSortColumn:N,initialSortDirection:D,type:"library-item",rowClassFunction:function(e){return e.selected?"row-selected":""}})]})}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:$,"data-testid":"cancel-button-bottom",children:"Back to ".concat(a," analysis")}),Object(Ma.jsx)(Kj,{isSaving:!1,isValid:!0,buttonPosition:"bottom",onSaveText:"Adding data to analysis...",standbyText:"Add and continue"})]})]})})},XT=(n(1383),function(e){var t="";return e&&0!==e.trim().length||(t="Title is required"),t}),$T=function(e,t,n,a){return{title:e,body:t,tags:n.map((function(e){return{text:e}})),sections:a}},ey=(n(1384),function(e){var t=e.field,n=t.value,a=t.name,c=e.form.setFieldValue,o=e.label,i=e.dataTestId,s=void 0===i?"rte-formik-field-container":i,l=e.config,d=void 0===l?pp:l,u=e.lightModeVariant,j=Object(r.useState)(!1),p=Object(Cr.a)(j,2),m=p[0],O=p[1],f=Object(r.useRef)();return Object(Ma.jsxs)("div",{className:"rte-formik-field-2 textarea-container rte-textarea-container ".concat(n||m?"label-lifted":""," ").concat(m?"focused":"").concat(u?" light-mode-variant":""),"data-testid":s,id:"description-inline",children:[Object(Ma.jsx)(hp,{richTextData:n,onChange:function(e){c(a,e)},onBlur:function(){O(!1)},onFocus:function(){O(!0)},label:n?null:o,config:Object(b.a)(Object(b.a)({},d),{},{placeholder:null}),isFocused:m,labelRef:f}),Object(Ma.jsx)("span",{className:"description-icon",style:{left:f&&f.current?f.current.offsetWidth+12:0},children:Object(Ma.jsx)(er.Icon,{name:"edit",className:"fill icon-gray"})})]})}),ty=function(e){var t=e.analysisTitle,n=e.analysisBody,a=e.publishAction,c=e.cancelAction,o=e.appliedTags,i=e.onSaveText,s=e.standbyText,l=e.parentContentId,d=e.sections,u=e.lightModeVariant,j=Object(r.useState)(!1),m=Object(Cr.a)(j,2),O=m[0],f=m[1],h=Object(r.useState)(!1),_=Object(Cr.a)(h,2),g=_[0],v=_[1],L=Object(r.useState)({}),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(r.useState)(o||[]),E=Object(Cr.a)(I,2),w=E[0],N=E[1],A=Object(r.useState)(t),S=Object(Cr.a)(A,2),k=S[0],D=S[1],R=Object(r.useState)(n),P=Object(Cr.a)(R,2),M=P[0],F=P[1],U=Object(r.useState)(!1),B=Object(Cr.a)(U,2),Y=B[0],W=B[1],V=Object(p.n)(),Z=V.path,G=V.url,H=UC().currentSections,K=Object(r.useState)(null),q=Object(Cr.a)(K,2),z=q[0],Q=q[1],J=Object(p.m)(),X=J.projectId,$=J.analysisId,ne=Object(r.useState)(!1),ae=Object(Cr.a)(ne,2)[1],re="publish"===O,ce=function(){if(!re){var e=me()(O,"fieldName","");return e&&"title"===e.toLowerCase()?O.apiErrorMessage:void 0}}(),oe=re||!ce?O:void 0;Object(r.useEffect)((function(){tt(X).then((function(e){if($){var t=Object(b.a)(Object(b.a)({},e),{},{analyses:e.analyses.filter((function(e){return e.contentThreadId!==parseInt($,10)}))});Q(t)}else Q(e)}))}),[$,X]),Object(r.useEffect)((function(){W(function(e){for(var t=Object.values(e),n=0;n<t.length;n+=1)if(""!==t[n])return!1;return!0}(T))}),[T]);var ie=Object(r.useCallback)((function(e){y((function(t){return Object(b.a)(Object(b.a)({},t),{},{title:e})}))}),[]),se={name:"body",value:M},le=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,f(),e.next=5,a($T(k,M,w,H),z);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),v(!1),f(x.ErrorUtilities.getContentErrorType(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),de=function(e){N(e)};return Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{exact:!0,path:Z,children:Object(Ma.jsx)("form",{onSubmit:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,le();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsxs)(Vj,{children:[Object(Ma.jsx)(er.Button,{className:"button-link button-theme mx-2 mr-4",onClick:c,"data-testid":"cancel-button-top",type:"button",children:"Cancel"}),Object(Ma.jsx)(er.Button,{className:"button-link button-theme mx-2 mr-4",onClick:c,"data-testid":"save-and-preview",type:"button",children:"Preview Report"}),Object(Ma.jsx)(Kj,{isSaving:g,isValid:Y,buttonSize:"button-small",buttonPosition:"top",onSaveText:i,standbyText:s})]}),children:[Object(Ma.jsxs)("div",{className:"form-content-wrapper",children:[Object(Ma.jsxs)("div",{className:"".concat(u?" light-mode-variant":""),children:[Object(Ma.jsxs)("div",{className:"input-container",children:[Object(Ma.jsx)(mC,{label:"Title",name:"title",value:k,validate:XT,handleValidationChange:ie,handleValueChange:D,error:ce}),Object(Ma.jsx)(ey,{field:se,form:{setFieldValue:function(e,t){F(t)}},label:"Description (optional)",dataTestId:"text-area-body",config:Op})]}),Object(Ma.jsx)(HT,{goBackUrl:"".concat(G,"/library-items"),basePageUrl:G,operationType:$?"edit":"add",setLayoutSaved:ae,initialSections:d,analysisTitle:k,analysisDescription:M,tags:w})]}),Object(Ma.jsxs)("div",{className:"analysis-form-extras",children:[Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(Qs.Formik,{initialValues:{tags:w},enableReinitialize:!0,children:function(){return Object(Ma.jsx)(od,{projectId:X,onSelect:de})}}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(eb,{projectId:X,parentContentId:l,narratives:z,setNarratives:Q})]}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:c,"data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Kj,{isSaving:g,isValid:Y,buttonPosition:"bottom",onSaveText:i,standbyText:s})]})]}),oe&&Object(Ma.jsx)(Io,{configType:oe})]})})}),Object(Ma.jsx)(p.d,{path:"".concat(Z,"/library-items"),children:Object(Ma.jsx)(JT,{title:"Add data",returnUrl:G,operationType:$?"edit":"add"})}),Object(Ma.jsx)(p.d,{path:"".concat(Z,"/layout"),children:Object(Ma.jsx)(HT,{goBackUrl:"".concat(G,"/library-items"),basePageUrl:G,operationType:$?"edit":"add",setLayoutSaved:ae,initialSections:d,analysisTitle:k,analysisDescription:M,tags:w})})]})},ny=function(){var e=Object(p.k)(),t=Object(p.m)().projectId,n=function(){var n=Object(te.a)(ee.a.mark((function n(a,r){var c;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.links=$e(r,-1),n.next=3,tL(t,a);case 3:c=n.sent,o=c,e.replace(_c(t,o));case 5:case"end":return n.stop()}var o}),n)})));return function(e,t){return n.apply(this,arguments)}}(),a=[{order:1,layoutType:x.Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,items:[]}];return Object(Ma.jsx)(WC,{value:{initialSections:a},children:Object(Ma.jsx)(ty,{analysisTitle:"",analysisBody:"",publishAction:n,cancelAction:function(){return e.goBack()},formTitle:"Add an Analysis",appliedTags:[],onSaveText:"Adding...",standbyText:"Add",sections:a,parentContentId:-1})})},ay=function(){var e=Object(p.m)(),t=e.projectId,n=e.analysisId,a=Object(p.k)(),c=Object(r.useState)(null),o=Object(Cr.a)(c,2),i=o[0],s=o[1];Object(r.useEffect)((function(){Jv(t,n).then((function(e){s(e)}))}),[t,n]);var l=function(){return a.replace(_c(t,n))},d=function(){var e=Object(te.a)(ee.a.mark((function e(a,r){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.links=$e(r,i.contentId),e.next=3,nL(t,n,a);case 3:l();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return i&&Object(Ma.jsx)(WC,{value:{initialSections:i.sections},children:Object(Ma.jsx)(ty,{projectId:t,analysisTitle:i.title,analysisBody:i.body,publishAction:d,cancelAction:l,formTitle:"Edit Analysis",appliedTags:i.tags?i.tags.map((function(e){return e.text})):[],onSaveText:"Updating...",standbyText:"Update",parentContentId:i.contentId,sections:i.sections})})},ry=function(e){var t=Object(s.useDispatch)(),n=Object(p.k)(),a=Object(p.m)().projectId,c=Ps.a.parse(Object(p.l)().search),o=me()(c,"adjustmentType",null),i=me()(c,"adjustmentName",null),l=ue.isClientUser(),d=Object(s.useSelector)(ps),u=Object(s.useSelector)(ff),j=Object(r.useState)(!1),b=Object(Cr.a)(j,2),m=b[0],O=b[1],f=Object(r.useState)(!1),h=Object(Cr.a)(f,2),_=h[0],g=h[1],v=Object(s.useSelector)(ii),L=Object(s.useSelector)(rf),C=Object(s.useSelector)(bs),T=!!l,y=Object(r.useState)(T),I=Object(Cr.a)(y,2),E=I[0],w=I[1],N=Object(s.useSelector)(Of),A=Object(s.useSelector)(_f(e)),S=Object(r.useState)(1),k=Object(Cr.a)(S,2),D=k[0],R=k[1],P=Object(r.useCallback)((function(){return R((function(e){return e+1}))}),[R]);Object(r.useEffect)((function(){P()}),[v,P]);var M=Object(r.useCallback)(Object(te.a)(ee.a.mark((function n(){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Oh(a,e,E));case 2:O(!0);case 3:case"end":return n.stop()}}),n)}))),[t,e,a,E]);Object(r.useEffect)((function(){M()}),[M]);var F=gj((function(){L||w(!0)}),(function(){L||w(!1)}),A&&A.versions,A&&A.content.versionNumber,A&&A.content.versionStatus),U=function(){var t=Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,es(a,e);case 2:n.push(pc(a));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var n=Object(te.a)(ee.a.mark((function n(){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(T),n.next=3,t(fs(a,e));case 3:return n.next=5,M();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Y=A?A.versions:[],W=xj(Oj,function(){var e=Object(te.a)(ee.a.mark((function e(n,a,r){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns(n,a,r);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),x.ErrorUtilities.hasLibraryItemCorruptedError(e.t0)?t(fu({itemId:a,moreMenuErrorType:x.Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED})):t(fu({itemId:a,moreMenuErrorType:x.Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE})),e.abrupt("return");case 9:return e.next=11,M();case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),a,A&&A.content.contentThreadId,A&&A.content,Y),V=l||F.isOnClientVersion,Z=u||d,G=!m||N||L||C.length>0,H=me()(A,"content",void 0);return{dispatch:t,projectId:a,targetAdjustmentType:o,targetAdjustmentName:i,hasError:Z,analysis:H,isConfirmVisible:_,setIsConfirmVisible:g,isLoading:G,versions:Y,chartKey:D,incrementChartKey:P,viewClient:F,handleEdit:function(){n.push(gc(a,nc[e]))},handleDelete:U,handleRefresh:B,workflowActions:W,isClientView:V}},cy=(n(1385),function(e){var t=e.text;return Object(Ma.jsx)("div",{className:"notes-display","data-testid":"notes-display",children:t&&"Notes: ".concat(t)})}),oy=(n(1386),function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)(Sh),n=Object(s.useSelector)(cf);return t?Object(Ma.jsxs)("div",{className:"client-manipulation-bar","data-testid":"client-manipulation-bar",children:[Object(Ma.jsx)(Da.b,{children:Object(Ma.jsx)("body",{"data-appbanner":n?"open":"closed"})}),Object(Ma.jsxs)("div",{className:"toggles",children:[Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Switch to your\n  modifications",dataTestId:"your-view-tooltip",children:Object(Ma.jsx)("button",{className:nr()(n?"active your-view":null),type:"button","data-testid":"your-view-toggle",onClick:function(){return e(XO(!0))},children:"Your View"})}),Object(Ma.jsx)(er.Tooltip,{direction:"top",tip:"Switch to the default\n  figures proposed by PwC",dataTestId:"view-default-tooltip",children:Object(Ma.jsx)("button",{type:"button",className:nr()(n?null:"active pwc-default"),"data-testid":"view-default-toggle",onClick:function(){return e(XO(!1))},children:"PwC Default"})})]}),Object(Ma.jsx)("button",{className:"reset-all",type:"button","data-testid":"toggle-reset-all",onClick:function(){return e(tf())},children:"Reset All"})]}):null}),iy=function(e){var t=e.richTextData,n=e.childrenData;return n.length>0?Object(Ma.jsx)("div",{className:"description-body",children:Object(Ma.jsx)(Rh,{richTextData:t,childrenData:n})}):Object(Ma.jsx)("div",{"data-testid":"description-with-innerhtml",className:"description-body",dangerouslySetInnerHTML:{__html:Qa(t)}})};iy.defaultProps={richTextData:"",childrenData:[]};var sy=iy,ly=(n(1387),function(e){var t=e.isViewingSharedVersion,n=e.lightModeVariant,a=Object(s.useDispatch)(),c=Object(s.useSelector)(Pf),o=c.header,i=c.subheader,l=c.content,d=c.childrenData,u=c.loading,j=Object(s.useSelector)(ua),b=Object(r.useState)(!1),p=Object(Cr.a)(b,2),m=p[0],O=p[1],f=!!l.richText&&l.richText.length>0,h=Object(r.useState)(f?l.richText:""),_=Object(Cr.a)(h,2),x=_[0],g=_[1],v=Object(r.useState)(!1),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=function(){a(Ff(x)),O(!1)},I=!u&&!m&&!t&&f;return Object(Ma.jsx)(Uh,{onClick:function(){return O(!1)},children:Object(Ma.jsxs)("div",{id:"analysisDescription","aria-live":"polite",children:[Object(Ma.jsx)("div",{className:"description-header",role:"heading","aria-level":"3",children:o}),i&&Object(Ma.jsxs)("div",{className:"description-subheader",role:"heading","aria-level":"4",children:[Object(Ma.jsx)("div",{children:i}),Object(Ma.jsx)(mo,{projectId:j,permissions:["Contribute"],children:I&&Object(Ma.jsx)(er.Button,{className:"button-menu",onClick:function(){return O(!0)},"data-testid":"icon-button-edit",children:Object(Ma.jsx)(er.Icon,{name:"pencil",width:"16",className:"sr2 fill icon-orange"})})})]}),u?Object(Ma.jsx)(er.Loader,{dataTestId:"analysis-description-loader"}):m?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"".concat(n?" light-mode-variant":""),children:Object(Ma.jsx)(hp,{richTextData:l.richText,onChange:g,label:"Adjustment Description",onBlur:function(e,t){T(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){T(!0),t.ui.view.toolbar.element.style.display="block"},isFocused:C})}),Object(Ma.jsxs)("div",{className:"edit-button-container",children:[Object(Ma.jsx)(er.Button,{"data-testid":"cancel-button",className:"button-link mx-2 mr-4",onClick:function(){return O(!1)},children:"Cancel"}),Object(Ma.jsx)(er.Button,{"data-testid":"save-button",className:"button-block button-small",onClick:y,children:"Update"})]})]}):Object(Ma.jsx)(sy,{richTextData:l.richText||l.plainText,childrenData:d})]})})}),dy=(n(1388),function(){return Object(Ma.jsxs)("section",{className:"structured-analysis-error","data-testid":"structured-analysis-error",children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Icon,{className:"fill icon-orange",width:"64",name:"search-error"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)("h1",{children:"Error Loading"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsxs)("h2",{children:["Unable to load data,",Object(Ma.jsx)("br",{}),"refresh the page to try again"]})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)("button",{className:"ui-button",type:"button",onClick:function(){return window.location.reload()},children:"Reload Page"})})]})}),uy=function(e){var t=e.title,n=e.projectId,a=e.analysis,r=e.isOnClientVersion;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(ws,{title:t}),Object(Ma.jsx)(Uj,{projectId:n,content:a,className:"analysis-pill-container",allowDraftPill:!r})]})};uy.defaultProps={isOnClientVersion:!1};var jy=uy,by=function(e){var t=e.isActive,n=e.disabled,a=e.documentCode,r=e.adjustmentType,c=e.adjustmentKey,o=Object(s.useDispatch)();return Object(Ma.jsx)(er.Toggle,{checked:t,disabled:n,name:"toggle-adjustment",dataTestId:"toggle-adjustment-".concat(c),onClick:function(){o(Fx(a,r,c,!t))}})},py=function(e){var t=e.text,n=e.emptyDataMarker,a=void 0===n?gn:n,r=e.showColumnHighlight,c=nr()("financial-value",Object($t.a)({},Sn,r)),o=Object(s.useSelector)(pa,s.shallowEqual);return Object(Ma.jsxs)("td",{role:"cell",className:c,"data-testid":"financial-value",children:[Object(Ma.jsx)("span",{"aria-hidden":"true","data-testid":"visual-content",children:""===t?a:Wd(t,{decimalCount:o.financialsDecimalCount,formatForScreenReader:!1,emptyDataMarker:a})}),Object(Ma.jsx)("span",{className:"visually-hidden","data-testid":"screen-reader-content",children:Wd(t,{decimalCount:o.financialsDecimalCount,formatForScreenReader:!0,emptyDataMarker:a})})]})};py.defaultProps={text:"",emptyDataMarker:"-",showColumnHighlight:!1};var my=py,Oy=function(e){var t=e.role,n=e.scope,a=e.children;return Object(Ma.jsx)("th",{"data-testid":"adjustment-controls-column",role:t,scope:n,className:"adjustment-controls-column",children:a})};Oy.defaultProps={role:"rowheader",scope:"row",children:void 0};var fy=Oy,hy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length>0,n=!1;return t&&(n=fe()(e,(function(e){return me()(e,"isBroken",!1)}))),{hasLinks:t,hasBrokenLinks:n}},_y=(n(1389),function(e){var t=e.interactive,n=e.isSelected,a=e.isBroken;return Object(Ma.jsx)("div",{className:"linked-adjustment-icon-container",children:Object(Ma.jsx)(er.Icon,{name:a?"link-remove":"link",width:"18px",className:nr()("linked-adjustment-icon",{"icon-gray":!t,"icon-orange":t&&!a,"icon-red":t&&a,fill:n,outline:!n,interactive:t})})})});_y.defaultProps={interactive:!0,isSelected:!1,isBroken:!1};n(1390);var xy=["adjustmentLinks","projectId"],gy=c.a.forwardRef((function(e,t){var n=e.adjustmentLinks,a=e.projectId,r=Object(Pi.a)(e,xy),c=function(e){var t=Vi()(e.map((function(e){return me()(e,["target","documentCode"],"UNKNOWN")}))).map((function(t){var n=e.filter((function(e){return me()(e,["target","documentCode"],null)===t})),a=Kx()(n,(function(e){return me()(e,["target","adjustmentNumber"],0)})).map((function(e){return{displayName:me()(e,["target","adjustmentDisplayName"],"UNKNOWN"),isBroken:e.isBroken,queryString:me()(e,["target","queryString"],null)}}));return{documentCode:t,documentDisplayName:Nn[t],links:a}}));return Kx()(t,"documentDisplayName")}(n);return Object(Ma.jsx)(Nr.a,Object(b.a)(Object(b.a)({id:"popover-linked-adjustments",ref:t,"data-testid":"popover-linked-adjustments"},r),{},{children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-menu scrollable",children:[Object(Ma.jsx)("div",{className:"linked-adjustments-title",children:"Linked Adjustments"}),c.map((function(e){return Object(Ma.jsxs)("section",{className:"link-target-document",children:[Object(Ma.jsx)("div",{className:"link-target-document-name",children:e.documentDisplayName}),e.links.map((function(t){if(t.isBroken)return Object(Ma.jsx)("span",{className:"link-target-adjustment-name strikethrough",children:t.displayName},"link-target-".concat(t.displayName));var n=yc(a,e.documentCode);return Object(Ma.jsx)(Ja.Link,{className:"link-target-adjustment-name",to:{pathname:n,search:t.queryString},children:t.displayName},"link-target-".concat(t.displayName))}))]},"link-target-".concat(e.documentDisplayName))}))]})}))}));gy.defaultProps={adjustmentLinks:[]};var vy=gy,Ly=(n(1391),function(e){var t=e.adjustmentLinks,n=e.projectId,a=Object(r.useState)(!1),c=Object(Cr.a)(a,2),o=c[0],i=c[1],s=hy(t);return s.hasLinks?Object(Ma.jsx)(Gx.default,{rootClose:!0,trigger:"click",placement:"top-end",overlay:Object(Ma.jsx)(vy,{adjustmentLinks:t,projectId:n}),onToggle:function(e){return i(e)},children:Object(Ma.jsx)("div",{className:"adjustment-link","data-testid":"adjustment-link",children:Object(Ma.jsx)(_y,{isSelected:o,isBroken:s.hasBrokenLinks})})}):null});Ly.defaultProps={adjustmentLinks:[]};var Cy=Ly,Ty=function(e){var t=e.projectId,n=e.documentCode,a=void 0===n?x.Constants.QUALITY_OF_EARNINGS:n,r=e.contentId,c=e.contentVersionNumber,o=e.adjustmentType,i=e.adjustmentKey,l=e.adjustment,d=e.timePeriods,u=e.adjustmentLinks,j=e.isActive,b=e.showToggle,p=e.disableToggle,m=e.isPublishMode,O=e.isFinalRow,f=Object(s.useDispatch)(),h=a===x.Constants.NET_WORKING_CAPITAL,_=Object(s.useSelector)(Pf);return Object(Ma.jsxs)("tr",{role:"row",className:nr()("adjustment",{inactive:!j,"final-details-row":O}),"data-testid":"adjustment",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"adjustment__heading ".concat(_.selectedAdjustment===i?"adjustment-selected":""),children:m?Object(Ma.jsx)("span",{children:i}):Object(Ma.jsxs)("button",{className:"button-avoid-focus adjustment__button",onClick:function(){f(Mf(o,i,a,t,r,c))},type:"button","data-testid":"adjustment-header-button","aria-controls":"analysisDescription",children:[Object(Ma.jsx)("span",{children:i}),Object(Ma.jsx)("span",{"data-testid":"adjustment-button-helper-text",className:"visually-hidden",children:". Click for long description"})]})}),d.map((function(e){var t=$d(e),n=h&&t;return Object(Ma.jsx)(my,{text:l[e],showColumnHighlight:n},e)})),!m&&Object(Ma.jsxs)(fy,{children:[b&&Object(Ma.jsx)(by,{isActive:j,disabled:p,documentCode:a,adjustmentType:o,adjustmentKey:i}),Object(Ma.jsx)(Cy,{adjustmentLinks:u,projectId:t})]})]})};Ty.defaultProps={adjustmentLinks:[],isActive:!0,showToggle:!0,disableToggle:!1,isFinalRow:!1};var yy=Ty,Iy=function(e){var t=e.totals,n=e.totalOverrideValue,a=e.timePeriods,r=e.documentCode,c=e.isPublishMode,o=r===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"group-summary","data-testid":"group-summary",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:"Total"}),a.map((function(e){var a=$d(e),r=o&&a;return Object(Ma.jsx)(my,{text:n||t[e],showColumnHighlight:r},e)})),!c&&Object(Ma.jsx)(fy,{})]})};Iy.defaultProps={totalOverrideValue:"",isPublishMode:!1};var Ey=Iy,wy=function(e){var t=e.projectId,n=e.documentCode,a=e.contentId,r=e.contentVersionNumber,c=e.group,o=e.groupName,i=e.timePeriods,s=e.showTotalRow,l=e.totalOverrideValue,d=e.showToggles,u=e.adjustmentToggles,j=e.disableAllToggles,b=e.linkedAdjustments,p=e.isPublishMode,m=be()(c).filter((function(e){return e!==nn}));return Object(Ma.jsxs)(Ma.Fragment,{children:[m.map((function(e,l){var O=l===m.length-1&&!s,f=function(e,t,n){return me()(e,[t,n,rn],!0)}(u,o,e),h=!!j||f,_=c[e],x=function(e,t,n){return n.filter((function(n){var a=me()(n,["source","adjustmentType"],null),r=me()(n,["source","adjustmentDisplayName"],null);return a===e&&r===t}))}(o,e,b);return Object(Ma.jsx)(yy,{projectId:t,documentCode:n,contentId:a,contentVersionNumber:r,adjustmentType:o,adjustmentKey:e,adjustment:_.totals,timePeriods:i,isActive:h,adjustmentLinks:x,showToggle:d,disableToggle:j,isPublishMode:p,isFinalRow:O},e)})),s?Object(Ma.jsx)(Ey,{totals:c.totals,totalOverrideValue:l,timePeriods:i,documentCode:n,isPublishMode:p}):null]})};wy.defaultProps={totalOverrideValue:void 0,showToggles:!0,isPublishMode:!1};var Ny=wy,Ay=function(e){var t=e.showColumnHighlight,n=nr()("financial-spacer",Object($t.a)({},Sn,t));return Object(Ma.jsx)("td",{role:"cell",className:n})};Ay.defaultProps={showColumnHighlight:!1};var Sy=Ay,ky=function(e){var t=e.title,n=e.expanded,a=e.onClick;return Object(Ma.jsxs)("button",{type:"button",className:"adjustment-group__toggle-button",onClick:a,"data-testid":"adjustment-rollup-toggle-button",children:[Object(Ma.jsx)("span",{"aria-hidden":"true","data-testid":"expanded-indicator-icon",className:"icon-expanded ".concat(n?"asc":"desc"),children:Object(Ma.jsx)(er.Icon,{name:"desc",width:"10",className:"fill icon-orange",viewBox:"-4 0 32 32"})}),Object(Ma.jsx)("span",{children:t})]})},Dy=function(e){var t=e.hasLinks,n=e.hasBrokenLinks;return!e.expanded&&t?Object(Ma.jsx)(_y,{interactive:!1,isBroken:n}):null},Ry=function(e){var t=e.documentCode,n=e.group,a=e.title,r=e.expanded,c=e.onClick,o=e.totalOverrideValue,i=e.timePeriods,s=e.hasLinks,l=e.hasBrokenLinks,d=e.isPublishMode,u=a.replace(/(\s|\W)/g,"").toLowerCase(),j=n.totals,b=t===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{className:"adjustment-group group-header".concat(r?" expanded":""),role:"row","data-testid":"adjustment-group-header-".concat(u),children:[Object(Ma.jsxs)("th",{role:"rowheader",scope:"row",className:"row-description",children:[d&&Object(Ma.jsx)("span",{children:a}),!d&&Object(Ma.jsx)(ky,{onClick:c,title:a,expanded:r})]}),i.map((function(e){var t=$d(e),n=b&&t;return r?Object(Ma.jsx)(Sy,{showColumnHighlight:n},e):Object(Ma.jsx)(my,{text:o||j[e],showColumnHighlight:n},e)})),!d&&Object(Ma.jsxs)(fy,{children:[Object(Ma.jsx)("div",{children:"\xa0"}),Object(Ma.jsx)(Dy,{expanded:r,hasLinks:s,hasBrokenLinks:l})]})]})};Ry.defaultProps={onClick:function(){},totalOverrideValue:void 0,isPublishMode:!1};var Py=Ry,My=function(e){var t=e.rowDescription,n=e.totals,a=e.timePeriods,r=e.isTotalsRowStyle,c=e.documentCode,o=e.isPublishMode,i=c===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"group-ebitda-contribution".concat(r?" totals-row":""),"data-testid":"adjustment-group-ebitda-contribution",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:t}),a.map((function(e){var t=$d(e),a=i&&t;return Object(Ma.jsx)(my,{text:n[e],showColumnHighlight:a},e)})),!o&&Object(Ma.jsx)(fy,{})]})};My.defaultProps={rowDescription:"",totals:{},isTotalsRowStyle:!1,isPublishMode:!1};var Fy=My,Uy=function(e){var t=e.rowDescription,n=e.totals,a=e.timePeriods,r=e.isTotalsRowStyle,c=e.documentCode,o=e.isPublishMode,i=c===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"group-capital-contribution".concat(r?" totals-row":""),"data-testid":"adjustment-group-capital-contribution",children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:t}),a.map((function(e){var t=$d(e),a=i&&t;return Object(Ma.jsx)(my,{text:n[e],showColumnHighlight:a},e)})),!o&&Object(Ma.jsx)(fy,{})]})};Uy.defaultProps={rowDescription:"",totals:{},isTotalsRowStyle:!1,isPublishMode:!1};var By=Uy,Yy=function(e){var t=e.projectId,n=e.documentCode,a=e.contentId,c=e.contentVersionNumber,o=e.group,i=e.groupName,l=e.timePeriods,d=e.ebitdaContributions,u=e.workingCapitalContributions,j=e.totalOverrideValue,b=e.linkedAdjustments,p=e.showToggles,m=e.adjustmentToggles,O=e.isLastGroup,f=e.showTotalRow,h=e.targetAdjustmentType,_=e.targetAdjustmentName,x=e.nameOfAdjustmentToExpand,g=e.isPublishMode,v=Object(s.useDispatch)(),L=Object(r.useRef)(1),C=Object(r.useState)(h===i||"all"===x||x===i),T=Object(Cr.a)(C,2),y=T[0],I=T[1];Object(r.useEffect)((function(){g&&("all"!==x&&x!==i||I(!0))}),[x,g,I,i]),Object(r.useEffect)((function(){L.current+=1})),1===L.current&&null!==h&&null!==_&&v(Mf(h,_,n,t,a,c));var E=function(e,t){var n=t.filter((function(t){return me()(t,["source","adjustmentType"],null)===e}));return hy(n)}(i,b),w=Object(s.useSelector)(Sh),N=Object(s.useSelector)(cf),A=w&&!N;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Py,{documentCode:n,group:o,title:i,expanded:y,onClick:function(){y&&v(Rf()),I((function(e){return!e}))},totalOverrideValue:j,timePeriods:l,hasLinks:E.hasLinks,hasBrokenLinks:E.hasBrokenLinks,isPublishMode:g}),y&&Object(Ma.jsx)(Ny,{projectId:t,documentCode:n,contentId:a,contentVersionNumber:c,group:o,groupName:i,showTotalRow:f,totalOverrideValue:j,timePeriods:l,showToggles:p,adjustmentToggles:m,disableAllToggles:A,linkedAdjustments:b,isPublishMode:g}),d[i]&&Object(Ma.jsx)(Fy,{timePeriods:l,rowDescription:d[i].label,totals:d[i].totals,isTotalsRowStyle:O,documentCode:n,isPublishMode:g}),u[i]&&Object(Ma.jsx)(By,{timePeriods:l,rowDescription:u[i].label,totals:u[i].totals,isTotalsRowStyle:O,documentCode:n,isPublishMode:g})]})};Yy.defaultProps={ebitdaContributions:{},workingCapitalContributions:{},totalOverrideValue:void 0,linkedAdjustments:[],showToggles:!0,adjustmentToggles:{},isLastGroup:!1,showTotalRow:!0,isPublishMode:!1,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null};var Wy=Yy,Vy=function(e){var t=e.projectId,n=e.documentCode,a=e.contentId,r=e.contentVersionNumber,c=e.group,o=e.groupName,i=e.timePeriods,s=e.ebitdaContributions,l=e.workingCapitalContributions,d=e.totalOverrideValue,u=e.linkedAdjustments,j=e.showToggles,b=e.adjustmentToggles,p=e.isLastGroup,m=e.showTotalRow,O=e.targetAdjustmentType,f=e.targetAdjustmentName,h=e.nameOfAdjustmentToExpand,_=e.isPublishMode,x=_?[]:u,g=!_&&j,v=_?{}:b;return Object(Ma.jsx)(Wy,{projectId:t,documentCode:n,contentId:a,contentVersionNumber:r,group:c,groupName:o,timePeriods:i,ebitdaContributions:s,workingCapitalContributions:l,linkedAdjustments:x,totalOverrideValue:d,showToggles:g,adjustmentToggles:v,isLastGroup:p,showTotalRow:m,targetAdjustmentType:O,targetAdjustmentName:f,nameOfAdjustmentToExpand:h,isPublishMode:_})};Vy.defaultProps={ebitdaContributions:{},workingCapitalContributions:{},totalOverrideValue:void 0,linkedAdjustments:[],showToggles:!0,adjustmentToggles:{},isLastGroup:!1,showTotalRow:!0,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null,isPublishMode:!1};var Zy=Vy,Gy=function(e){var t=e.text,n=e.showColumnHighlight,a=void 0!==n&&n,r=nr()("financial-value",Object($t.a)({},Sn,a));return Object(Ma.jsx)("th",{role:"columnheader",scope:"col",className:r,"data-testid":"table-header-cell",children:Wd(t)})},Hy=function(e){var t=e.timePeriods,n=e.documentCode,a=e.isPublishMode,r=n===x.Constants.NET_WORKING_CAPITAL,c=Object(s.useSelector)(pa,s.shallowEqual);return Object(Ma.jsxs)("tr",{className:"table-headers",role:"row","data-testid":"table-headers",children:[Object(Ma.jsx)("th",{scope:"col",className:"row-description","data-testid":"table-header-cell",role:"columnheader",children:Hd(c)}),t.map((function(e){var t=$d(e),n=r&&t;return Object(Ma.jsx)(Gy,{text:e,showColumnHighlight:n},"tph-".concat(e))})),!a&&Object(Ma.jsx)(fy,{role:"columnheader",scope:"col"})]})};Hy.defaultProps={documentCode:"",isPublishMode:!1};var Ky=Hy,qy=function(e){var t=e.testId,n=e.rowText,a=e.financials,r=e.timePeriods,c=e.className,o=e.emptyDataMarker,i=void 0===o?gn:o,s=e.documentCode,l=e.isPublishMode,d=s===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"reported-financials ".concat(c),"data-testid":t,children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:n}),r.map((function(e){var t=$d(e),n=d&&t;return Object(Ma.jsx)(my,{text:a[e],emptyDataMarker:i,showColumnHighlight:n},"reportedFinancialsColumnValue-".concat(e))})),!l&&Object(Ma.jsx)(fy,{})]})},zy=qy;qy.defaultProps={testId:"reported-financials",className:"",emptyDataMarker:gn,documentCode:"",isPublishMode:!1};var Qy=function(e){var t=e.isClientView,n=e.contentVersionNumber,a=e.contentId,r=e.projectId,c=e.forUseWithPublishingSSRService,o=e.nameOfAdjustmentToExpand,i=e.targetAdjustmentType,l=e.targetAdjustmentName,d=Object(s.useSelector)(j_),u=Object(s.useSelector)(dx),j=Object(s.useSelector)(ux),b=Object(s.useSelector)(ax),p=Object(s.useSelector)(jx),m=Object(s.useSelector)(rx),O=Object(s.useSelector)(bx),f=Object(s.useSelector)(Ah),h=Object(s.useSelector)(Cx).filter((function(e){return!t||!e.isBroken})),_=c;return Object(Ma.jsxs)("table",{role:"table",className:"analysis-table","data-testid":"structured-analysis-view-DDL","aria-label":"Debt and Debt Like",children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsx)(Ky,{timePeriods:d,isPublishMode:_})}),Object(Ma.jsxs)("tbody",{children:[u.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,adjustmentToggles:f,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),j.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,adjustmentToggles:f,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),Object(Ma.jsx)(zy,{rowText:Cn,financials:b,timePeriods:d,testId:"net-debt",className:"net-debt",isPublishMode:_}),p.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,adjustmentToggles:f,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),Object(Ma.jsx)(zy,{rowText:yn,financials:m,timePeriods:d,testId:"net-debt-and-debt-like",className:"net-debt",isPublishMode:_}),O.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,totalOverrideValue:xn,showToggles:!1,showTotalRow:!1,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)}))]})]})};Qy.defaultProps={isClientView:!1,nameOfAdjustmentToExpand:null,targetAdjustmentType:null,targetAdjustmentName:null,forUseWithPublishingSSRService:!1};var Jy=Qy,Xy=(n(1392),function(){Qh()(u),qh()(u),u.setOptions({colors:c_});var e=Object(r.useState)(n_(0)),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(s.useSelector)(pa,s.shallowEqual),o=Object(s.useSelector)(Q_);return Object(r.useEffect)((function(){var e=be()(o).map((function(e){return{y:o[e],accessibility:{description:e}}}));a({subtitle:{text:Hd(c)},xAxis:{categories:be()(o)},series:[{name:"Adjusted Working Capital",color:u.getOptions().colors[3],data:e}],legend:{enabled:!1},tooltip:{enabled:!0,useHTML:!0,style:{fontFamily:"Helvetica",lineHeight:"1.4rem"},formatter:function(){var e=this.x,t=Wd(this.y,{decimalCount:c.financialsDecimalCount});return"".concat(e,"<br/><b>").concat(t,"</b>")}}})}),[c,o]),Object(Ma.jsx)("div",{"data-testid":"networking-capital-chart",className:"nwc-chart-container",children:Object(Ma.jsx)(Hh.a,{highcharts:u,options:n})})}),$y=function(e){var t=e.timePeriods,n=e.documentCode,a=e.isPublishMode,r=n===x.Constants.NET_WORKING_CAPITAL;return Object(Ma.jsxs)("tr",{role:"row",className:"final-border-row",children:[Object(Ma.jsx)("td",{className:"row-description final-row"}),t.map((function(e){var t=$d(e),n=r&&t;return Object(Ma.jsx)(Sy,{showColumnHighlight:n},e)})),!a&&Object(Ma.jsx)(fy,{})]})},eI=$y;$y.defaultProps={documentCode:"",isPublishMode:!1};var tI=function(e){var t=e.isClientView,n=e.contentVersionNumber,a=e.contentId,r=e.projectId,c=e.forUseWithPublishingSSRService,o=e.nameOfAdjustmentToExpand,i=e.targetAdjustmentType,l=e.targetAdjustmentName,d=Object(s.useSelector)(f_),u=Object(s.useSelector)(sx),j=Object(s.useSelector)(lx),b=Object(s.useSelector)(q_),p=Object(s.useSelector)(g_),m=Object(s.useSelector)(v_),O=Object(s.useSelector)(L_),f=Object(s.useSelector)(Nh),h=Object(s.useSelector)(Lx).filter((function(e){return!t||!e.isBroken})),_=c;return Object(Ma.jsxs)("table",{role:"table",className:"analysis-table","data-testid":"structured-analysis-view-NWC","aria-label":"Net Working Capital",children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsx)(Ky,{timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_})}),Object(Ma.jsxs)("tbody",{children:[Object(Ma.jsx)(zy,{testId:"current-assets",rowText:On,financials:p,timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_}),Object(Ma.jsx)(zy,{testId:"current-liabilities",rowText:fn,financials:m,timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_}),Object(Ma.jsx)(zy,{testId:"reported-working-capital",rowText:"Reported Working Capital",financials:O,timePeriods:d,className:"reported-working-capital",documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_}),u.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.NET_WORKING_CAPITAL,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,workingCapitalContributions:b,linkedAdjustments:h,adjustmentToggles:f,isLastGroup:e.isLastGroup,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),j.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.NET_WORKING_CAPITAL,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:h,totalOverrideValue:xn,showToggles:!1,showTotalRow:!1,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:_},e.adjustmentType)})),Object(Ma.jsx)(eI,{timePeriods:d,documentCode:x.Constants.NET_WORKING_CAPITAL,isPublishMode:_})]})]})};tI.defaultProps={isClientView:!1,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null,forUseWithPublishingSSRService:!1};var nI=tI,aI=function(e,t){return e?Vd(e):t},rI=function(e){var t=e.rowText,n=e.financials,a=e.timePeriods,r=e.emptyDataMarker,c=e.isPublishMode;return Object(Ma.jsxs)("tr",{role:"row",className:"percent-of-revenue","data-testid":"percent-of-".concat(x.TextUtilities.slugify(t)),children:[Object(Ma.jsx)("th",{role:"rowheader",scope:"row",className:"row-description",children:"As a % of ".concat(t)}),a.map((function(e,a){return Object(Ma.jsx)("td",{"data-testid":"percent-of-".concat(x.TextUtilities.slugify(t),"-column-value"),role:"cell",className:"financial-value",children:aI(n[e],r)},"PercentageRowColumnValue-".concat(e,"-").concat(a))})),!c&&Object(Ma.jsx)(fy,{})]})};rI.defaultProps={emptyDataMarker:gn,isPublishMode:!1};var cI=rI,oI=function(e){var t=e.isClientView,n=e.contentVersionNumber,a=e.contentId,r=e.projectId,c=e.forUseWithPublishingSSRService,o=e.nameOfAdjustmentToExpand,i=e.targetAdjustmentType,l=e.targetAdjustmentName,d=Object(s.useSelector)(d_),u=Object(s.useSelector)(__),j=Object(s.useSelector)(Ox),b=Object(s.useSelector)(x_),p=Object(s.useSelector)(Z_),m=Object(s.useSelector)(fx),O=Object(s.useSelector)(hx),f=Object(s.useSelector)(ox),h=Object(s.useSelector)(ix),_=Object(s.useSelector)(wh),g=Object(s.useSelector)(vx).filter((function(e){return!t||!e.isBroken})),v=c;return Object(Ma.jsxs)("table",{role:"table",className:"analysis-table","data-testid":"structured-analysis-view-QofE","aria-label":"Quality of Earnings",children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsx)(Ky,{timePeriods:d,isPublishMode:v})}),Object(Ma.jsxs)("tbody",{children:[Object(Ma.jsx)(zy,{testId:"reported-revenue",rowText:jn,financials:u,timePeriods:d,isPublishMode:v}),Object(Ma.jsx)(zy,{testId:"adjusted-revenue",rowText:bn,financials:j,timePeriods:d,isPublishMode:v}),Object(Ma.jsx)(zy,{testId:"reported-ebitda",rowText:pn,financials:b,timePeriods:d,className:"reported-ebitda",isPublishMode:v}),Object(Ma.jsx)(cI,{rowText:"Reported Revenue",financials:m,timePeriods:d,isPublishMode:v}),f.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.QUALITY_OF_EARNINGS,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,ebitdaContributions:p,linkedAdjustments:g,adjustmentToggles:_,isLastGroup:e.isLastGroup,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:v},e.adjustmentType)})),Object(Ma.jsx)(cI,{rowText:"Adjusted Revenue",financials:O,timePeriods:d,isPublishMode:v}),h.map((function(e){return Object(Ma.jsx)(Zy,{projectId:r,documentCode:x.Constants.QUALITY_OF_EARNINGS,contentId:a,contentVersionNumber:n,group:e.adjustments,groupName:e.adjustmentType,timePeriods:d,linkedAdjustments:g,totalOverrideValue:xn,showToggles:!1,showTotalRow:!1,targetAdjustmentType:i,targetAdjustmentName:l,nameOfAdjustmentToExpand:o,isPublishMode:v},e.adjustmentType)}))]})]})};oI.defaultProps={isClientView:!1,targetAdjustmentType:null,targetAdjustmentName:null,nameOfAdjustmentToExpand:null,forUseWithPublishingSSRService:!1};var iI,sI,lI,dI,uI=oI,jI=function(){return null},bI="tableComponent",pI="chartComponent",mI=(dI={},Object($t.a)(dI,x.Constants.QUALITY_OF_EARNINGS,(iI={},Object($t.a)(iI,bI,uI),Object($t.a)(iI,pI,_x),iI)),Object($t.a)(dI,x.Constants.NET_WORKING_CAPITAL,(sI={},Object($t.a)(sI,bI,nI),Object($t.a)(sI,pI,Xy),sI)),Object($t.a)(dI,x.Constants.DEBT_AND_DEBT_LIKE,(lI={},Object($t.a)(lI,bI,Jy),Object($t.a)(lI,pI,jI),lI)),dI),OI=(n(1393),function(e){var t=e.projectId,n=e.documentCode,a=e.hasError,r=e.isLoading,c=e.isConfirmVisible,o=e.setIsConfirmVisible,i=e.handleDelete,s=e.chartKey,l=e.incrementChartKey,d=e.analysis,u=e.workflowActions,j=e.handleRefresh,b=e.handleEdit,p=e.versions,m=e.viewClient,O=e.isClientView,f=e.targetAdjustmentType,h=e.targetAdjustmentName,_=e.initialPaneOneAvailable,g=e.initialPaneTwoAvailable,v=e.initialPaneThreeAvailable,L=function(e){return me()(mI,[e,bI],jI)}(n),C=function(e){return me()(mI,[e,pI],jI)}(n);return a?Object(Ma.jsx)(dy,{}):r?Object(Ma.jsx)(er.Loader,{dataTestId:"structured-loading-indicator"}):d?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:c,onCancel:function(){return o(!1)},onConfirm:i,confirmTitle:"Confirm ".concat(Nn[n]," Delete"),confirmationMessage:"This Analysis will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsxs)(er.TriPane,{onChange:l,initialPaneOneAvailable:_,initialPaneTwoAvailable:g,initialPaneThreeAvailable:v,children:[Object(Ma.jsx)(BL,{isShared:d.shareWithAll,workflowActions:u,onRefresh:j,onEdit:b,onDelete:function(){return o(!0)},versions:p,analysis:d,viewClient:m,children:Object(Ma.jsx)(er.TriPane.Controls,{})}),Object(Ma.jsx)("div",{className:"structured-analysis-view",children:Object(Ma.jsxs)("div",{className:"tri-pane-container","data-testid":"tri-pane-display",children:[Object(Ma.jsx)(er.TriPane.HeaderContent,{children:Object(Ma.jsx)(jy,{title:Nn[n],projectId:t,analysis:d,isOnClientVersion:m.isOnClientVersion})}),Object(Ma.jsx)(er.TriPane.PaneOne,{children:Object(Ma.jsx)("div",{className:"scrollable structured-table",children:Object(Ma.jsx)(L,{isClientView:O,contentId:d.contentThreadId,contentVersionNumber:d.versionNumber,projectId:t,targetAdjustmentType:f,targetAdjustmentName:h})})}),Object(Ma.jsx)(er.TriPane.PaneTwo,{children:Object(Ma.jsx)(C,{},s)}),Object(Ma.jsx)(er.TriPane.PaneThree,{children:Object(Ma.jsx)(ly,{isViewingSharedVersion:d.versionStatus===x.Constants.VERSION_STATUS.SHARED.value,lightModeVariant:!0})}),Object(Ma.jsxs)(er.TriPane.SourceContent,{children:[Object(Ma.jsx)(hh,{sourceText:d.source}),Object(Ma.jsx)(cy,{text:d.notes}),Object(Ma.jsx)(iL,{tags:d.tags,testId:"analysis-tag-list"})]})]})})]}),Object(Ma.jsx)(_h,{classModifier:"structured-analysis",projectId:t,contentId:d.contentId}),Object(Ma.jsx)(oy,{})]}):null});OI.defaultProps={hasError:!1,isLoading:!1,analysis:void 0,isClientView:!1,targetAdjustmentType:null,targetAdjustmentName:null,initialPaneOneAvailable:!0,initialPaneTwoAvailable:!0,initialPaneThreeAvailable:!0,versions:null,incrementChartKey:function(){}};var fI=OI,hI=function(){var e=ry(x.Constants.DEBT_AND_DEBT_LIKE),t=e.projectId,n=e.targetAdjustmentType,a=e.targetAdjustmentName,r=e.hasError,c=e.analysis,o=e.isConfirmVisible,i=e.setIsConfirmVisible,s=e.isLoading,l=e.versions,d=e.chartKey,u=e.viewClient,j=e.handleEdit,b=e.handleDelete,p=e.handleRefresh,m=e.workflowActions,O=e.isClientView;return Object(Ma.jsx)(fI,{projectId:t,documentCode:x.Constants.DEBT_AND_DEBT_LIKE,hasError:r,isLoading:s,analysis:c,viewClient:u,isClientView:O,targetAdjustmentType:n,targetAdjustmentName:a,versions:l,workflowActions:m,handleEdit:j,handleRefresh:p,handleDelete:b,isConfirmVisible:o,setIsConfirmVisible:i,initialPaneTwoAvailable:!1,chartKey:d})},_I=function(e){var t,n,a=e.editMode,r=e.name,c=e.onChange,o=e.onDelete,i=e.options,s=e.value,l=e.placeholder,d=function(e,t){return(e.find((function(e){return e.value===t}))||{label:null}).label}(i,s),u=th(s),j=(t=u.number,n=u.name,"".concat(t," ").concat(n)),b=!d;return a?Object(Ma.jsx)(er.Select,{selectTestId:"select-input-".concat(r),value:s,options:i,onChange:function(e){return c(e.target.value)},placeholder:l,maxWidth:"240px"}):Object(Ma.jsx)("div",{className:"pill-container",children:Object(Ma.jsx)(Vl,{onClearClick:o,tag:j,index:r,iconName:b?"link-remove":null})})};_I.defaultProps={options:[],value:"",placeholder:""};var xI=_I,gI=function(e,t){return(e.find((function(e){return e.value===t}))||{label:null}).label},vI=function(e){var t=e.editMode,n=e.name,a=e.onDocumentChange,r=e.onAdjustmentChange,c=e.onDelete,o=e.documentOptions,i=e.adjustmentOptions,s=e.documentValue,l=e.adjustmentValue,d=gI(o,s),u=gI(i,l),j=th(l),b=function(e,t,n){return"".concat(e," / ").concat(t," ").concat(n)}(d,j.number,j.name),p=!d||!u;return Object(Ma.jsxs)("div",{"data-testid":"document-and-adjustment-selection",className:"document-row",children:[Object(Ma.jsx)("div",{className:"link-to",children:"Link to"}),t?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.Select,{selectTestId:"select-input-target-document-".concat(n),value:s,options:o,onChange:function(e){return a(e.target.value)},placeholder:"Select analyses",maxWidth:"240px"}),Object(Ma.jsx)(er.Select,{selectTestId:"select-input-target-adjustment-".concat(n),value:l,options:i,onChange:function(e){return r(e.target.value)},placeholder:"Select Adjustment",maxWidth:"240px"})]}):Object(Ma.jsx)("div",{"data-testid":"document-and-adjustment-pill",className:"pill-container",children:Object(Ma.jsx)(Vl,{onClearClick:c,tag:b,index:"target-document-and-adjustment-pill-".concat(n),iconName:p?"link-remove":null})})]})};vI.defaultProps={documentOptions:[],documentValue:"",adjustmentOptions:[],adjustmentValue:""};var LI=vI,CI=(n(588),function(e){var t=e.documentCode,n=e.value,a=e.name,c=e.editMode,o=e.adjustmentOptions,i=e.targetDocumentOptions,s=e.onToggleEditMode,l=e.onChange,d=e.onDelete,u=th(n.targetAdjustment),j=Object(r.useState)(u.code||""),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(n.sourceAdjustment||""),f=Object(Cr.a)(O,2),h=f[0],_=f[1],x=Object(r.useState)(n.targetAdjustment||""),g=Object(Cr.a)(x,2),v=g[0],L=g[1],C=Object(r.useState)([]),T=Object(Cr.a)(C,2),y=T[0],I=T[1];Object(r.useEffect)((function(){I(o[p]||[])}),[o,p]);var E=function(){var e=function(e){return void 0===e||""===e};return e(h)||e(v)||e(p)};return Object(Ma.jsxs)("div",{"data-testid":"linked-adjustment",className:nr()("linked-adjustment-row",c?"editable":"viewing"),children:[Object(Ma.jsx)(xI,{editMode:c,name:"source-adjustment-".concat(a),onChange:_,onDelete:d,options:o[t],value:h,placeholder:"Select Adjustment"}),Object(Ma.jsx)(LI,{editMode:c,name:a,onDocumentChange:m,onAdjustmentChange:L,onDelete:d,documentOptions:i,adjustmentOptions:y,documentValue:p,adjustmentValue:v}),c&&Object(Ma.jsx)("div",{className:"linked-adjustment-row-actions",children:Object(Ma.jsx)(er.Button,{type:"button",className:"button-outline ".concat(E()),"data-testid":"button-add-".concat(a),onClick:function(){s(),l({sourceAdjustment:h,targetAdjustment:v})},disabled:E(),children:"Add"})})]})});CI.defaultProps={adjustmentOptions:{QofE:[],NWC:[],DDL:[]},targetDocumentOptions:[],value:{sourceAdjustment:"",targetDocument:""}};var TI=CI,yI=function(e){return"linkedAdjustments[".concat(e,"]")},II=function(e){var t=e.documentCode,n=e.adjustmentOptions,a=e.formValues,o=e.targetDocumentOptions,i=e.setFieldValue,s=Object(r.useState)(!1),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=function(e){i("linkedAdjustments",[].concat(Object(m.a)(a),[Object(b.a)({newId:Object(So.a)()},e)])),u(!1)};return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"linked-adjustment-container","data-testid":"linked-adjustments-container",children:[Object(Ma.jsxs)("div",{className:"linked-adjustments-title",children:[Object(Ma.jsx)(er.Icon,{name:"link",width:21,className:"icon fill connect-content-icon"}),"Link Adjustments"]}),0===a.length&&Object(Ma.jsxs)("div",{className:"linked-adjustment-description helper-text",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow helper-icon",width:18,"data-testid":"no-linked-adjustments"})," ","\xa0No analysis adjustments have been linked"]}),(d||a.length>0)&&Object(Ma.jsx)(Fa,{}),a.map((function(e,r){return Object(Ma.jsxs)(c.a.Fragment,{children:[Object(Ma.jsx)(TI,{documentCode:t,name:yI(r),value:e,adjustmentOptions:n,targetDocumentOptions:o,editMode:!1,onToggleEditMode:function(){},onDelete:function(){return function(e){var t=a.filter((function(t){return t.id!==e.id||t.newId!==e.newId}));i("linkedAdjustments",t)}(e)},onChange:function(e){return j(r)}},e.id||e.newId),Object(Ma.jsx)(Fa,{},"separator-".concat(yI(r)))]},yI(r))})),d&&Object(Ma.jsxs)(c.a.Fragment,{children:[Object(Ma.jsx)(TI,{documentCode:t,name:yI(a.length+1),value:void 0,adjustmentOptions:n,targetDocumentOptions:o,editMode:!0,onToggleEditMode:function(){},onDelete:function(){},onChange:function(e){return j(e)}}),Object(Ma.jsx)(Fa,{},"separator-".concat(yI(a.length+1)))]},yI(a.length+1))]}),Object(Ma.jsxs)(er.Button,{type:"button","data-testid":"add-new-linked-adjustment",className:"add-link button-link",onClick:function(){u(!0)},disabled:void 0===d,children:[Object(Ma.jsx)(er.Icon,{name:"add",className:"fill icon-orange helper-icon",width:21}),Object(Ma.jsx)("span",{className:"menu-item-title",children:"New Link"})]})]})};II.defaultProps={adjustmentOptions:{QofE:[],NWC:[],DDL:[]},targetDocumentOptions:[],formValues:[]};var EI=II,wI=function(e){var t=e.field;return Object(Ma.jsx)("div",{"data-testid":"notes-input-container",children:Object(Ma.jsx)(er.TextArea,{name:"notes",field:t,label:"Notes (optional)",placeholder:"Add notes",maxLength:250,basic:!0})})},NI=(n(1394),["documentCode","onCancel","isSaving","errorType","errors","touched","isValid","children","values","setFieldValue","canEditTitle","showLibraryItemPicker","showLinkedAdjustments","showNotes","projectId","parentContentId","narratives","setNarratives","adjustmentOptions","targetDocumentOptions","dirty","onSaveText","standbyText"]),AI=function(e){var t=e.documentCode,n=void 0===t?"":t,a=e.onCancel,r=e.isSaving,c=e.errorType,o=e.errors,i=e.touched,s=e.isValid,l=e.children,d=e.values,u=e.setFieldValue,j=e.canEditTitle,p=void 0===j||j,m=e.showLibraryItemPicker,O=void 0===m||m,f=e.showLinkedAdjustments,h=void 0!==f&&f,_=e.showNotes,x=void 0!==_&&_,g=e.projectId,v=e.parentContentId,L=e.narratives,C=e.setNarratives,T=e.adjustmentOptions,y=e.targetDocumentOptions,I=(e.dirty,e.onSaveText),E=e.standbyText,w=Object(Pi.a)(e,NI);return Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsx)(Xg,{onCancel:a,isSaving:r,errors:o,touched:i,isValid:s,dirty:!0,onSaveText:I,standbyText:E}),children:[l,Object(Ma.jsxs)(Qs.Form,Object(b.a)(Object(b.a)({"data-testid":"analysis-form",className:"analysis-form mt-5"},w),{},{children:[o.title&&i.title&&Object(Ma.jsx)("div",{children:o.title}),Object(Ma.jsx)("div",{className:"form-fields",children:Object(Ma.jsxs)("div",{className:"input-container",children:[Object(Ma.jsx)(Qs.Field,{name:"title",component:ub,label:"Title",placeholder:"Start typing here to give your new Analysis a title",className:"title-fieldset",disabled:!p,validate:function(e){var t;return e&&0!==e.trim().length||(t="Title cannot be blank"),t}}),Object(Ma.jsx)(Qs.Field,{name:"body",component:qO,label:"Description (optional)",dataTestId:"text-area-body"}),Object(Ma.jsxs)("div",{className:"analysis-form-extras",children:[Object(Ma.jsx)(Qs.Field,{name:"source",component:$g}),x&&Object(Ma.jsx)(Qs.Field,{name:"notes",component:wI}),O&&Object(Ma.jsx)(Qs.Field,{name:"libraryItemId",component:ev}),h&&Object(Ma.jsx)(EI,{adjustmentOptions:T,targetDocumentOptions:y,formValues:d.linkedAdjustments,setFieldValue:u,documentCode:n}),Object(Ma.jsx)(od,{projectId:g})]})]})}),Object(Ma.jsx)(eb,{projectId:g,parentContentId:v,narratives:L,setNarratives:C}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:a,"data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Kj,{isSaving:r,isValid:s,buttonPosition:"bottom",onSaveText:"Updating...",standbyText:"Update"})]}),c&&Object(Ma.jsx)(Io,{configType:c})]}))]})},SI=pv.c().shape({title:pv.d().required("Title is required")}),kI=function(e){var t,n=e.type,a=e.title,c=e.getReturnPath,o=e.showLinkedAdjustments,i=e.documentCode,l=Object(s.useDispatch)(),d=Object(p.m)().projectId,u=Object(p.k)(),j=Object(r.useState)({title:"",body:"",tags:[],linkedAdjustments:[]}),O=Object(Cr.a)(j,2),f=O[0],h=O[1],_=Object(r.useState)([]),g=Object(Cr.a)(_,2),v=g[0],L=g[1],C=Object(r.useState)(!1),T=Object(Cr.a)(C,2),y=T[0],I=T[1],E=Object(r.useState)([]),w=Object(Cr.a)(E,2),N=w[0],A=w[1],S=Object(r.useState)(),k=Object(Cr.a)(S,2),D=k[0],R=k[1],P=Object(r.useState)(!1),M=Object(Cr.a)(P,2),F=M[0],U=M[1],B=Object(r.useState)(null),Y=Object(Cr.a)(B,2),W=Y[0],V=Y[1],Z=Object(r.useState)(""),G=Object(Cr.a)(Z,2),H=G[0],K=G[1],q=Object(r.useState)(""),z=Object(Cr.a)(q,2),Q=z[0],J=z[1],X=Object(s.useSelector)(rf),$=Object(s.useSelector)(Of),ne=Object(s.useSelector)(Qg(i)),ae=function(){return u.replace(c(d))},re=(t={},Object($t.a)(t,x.Constants.QUALITY_OF_EARNINGS,Object(s.useSelector)(U_)),Object($t.a)(t,x.Constants.NET_WORKING_CAPITAL,Object(s.useSelector)(Y_)),Object($t.a)(t,x.Constants.DEBT_AND_DEBT_LIKE,Object(s.useSelector)(W_)),t);Object(r.useEffect)((function(){d&&(K("loading"),Qi(d).then((function(e){var t=e.filter((function(e){return!0===e.hasDetailView&&e.code!==i})).map((function(e){return{value:e.code,label:e.displayName}}));A((function(){return t})),K("")})))}),[d,i]),Object(r.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t,r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J("loading"),e.next=3,ts(d,n);case 3:if((t=e.sent).length){e.next=8;break}u.push("/unauthorized"),e.next=17;break;case 8:if((r=t[0]).title=a,h(r),!r.contentThreadId){e.next=16;break}return e.next=14,tt(d);case 14:c=e.sent,V(Object(b.a)(Object(b.a)({},c),{},{analyses:c.analyses.filter((function(e){return e.contentThreadId.toString()!==r.contentThreadId.toString()}))}));case 16:J("");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d,a,n,u,i,l]),Object(r.useEffect)((function(){d&&function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{l(Oh(d,i,!1))}catch(t){}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l,d,i]);var ce=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,r,c,o,i,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=t.tags,c=t.linkedAdjustments,o=t.source,i=t.notes,U(!0),e.prev=2,s=$e(W,f.contentId),L(r),I(!0),e.next=8,$i(d,{contentThreadId:f.contentThreadId,contentId:f.contentId,contentSubType:f.contentSubType,title:a,body:n,source:o,notes:i,tags:r,links:s});case 8:return e.next=10,ih(d,ne,c,l);case 10:R(),ae(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),U(!1),R(x.ErrorUtilities.getContentErrorType(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(f.tags||[]).map((function(e){return e.text}));return y?v:e}(),ie={title:f.title,body:f.body||"",status:f.status||300,source:f.source||"",notes:f.notes||"",tags:oe,linkedAdjustments:Object(m.a)(ne)};return""!==H||""!==Q||X||$?Object(Ma.jsx)(er.Loader,{dataTestId:"structured-loading-indicator"}):Object(Ma.jsx)(Qs.Formik,{initialValues:ie,enableReinitialize:!0,onSubmit:ce,validationSchema:SI,validateOnChange:!0,children:function(e){var t=e.errors,n=e.touched,a=e.isValid,r=e.values,c=e.setFieldValue;return Object(Ma.jsx)(AI,{documentCode:i,onCancel:ae,isSaving:F,errorType:D,errors:t,touched:n,isValid:a,values:r,setFieldValue:c,canEditTitle:!1,showLibraryItemPicker:!1,showLinkedAdjustments:o,showNotes:!0,projectId:d,parentContentId:f.contentId||0,narratives:W,setNarratives:V,adjustmentOptions:re,onSaveText:"Updating...",standbyText:"Update",targetDocumentOptions:N,children:Object(Ma.jsx)("h1",{children:"Edit Analysis"})})}})};kI.defaultProps={showLinkedAdjustments:!1};var DI=kI,RI=function(){return Object(Ma.jsx)(DI,{getReturnPath:Tc,title:"Debt and Debt Like",type:Kv[x.Constants.DEBT_AND_DEBT_LIKE],documentCode:x.Constants.DEBT_AND_DEBT_LIKE,showLinkedAdjustments:!0})},PI=function(){var e=ry(x.Constants.NET_WORKING_CAPITAL),t=e.projectId,n=e.targetAdjustmentType,a=e.targetAdjustmentName,r=e.hasError,c=e.analysis,o=e.isConfirmVisible,i=e.setIsConfirmVisible,s=e.isLoading,l=e.versions,d=e.chartKey,u=e.incrementChartKey,j=e.viewClient,b=e.handleEdit,p=e.handleDelete,m=e.handleRefresh,O=e.workflowActions,f=e.isClientView;return Object(Ma.jsx)(fI,{projectId:t,documentCode:x.Constants.NET_WORKING_CAPITAL,hasError:r,isLoading:s,analysis:c,viewClient:j,isClientView:f,targetAdjustmentType:n,targetAdjustmentName:a,versions:l,workflowActions:O,handleEdit:b,handleRefresh:m,handleDelete:p,isConfirmVisible:o,setIsConfirmVisible:i,incrementChartKey:u,chartKey:d})},MI=function(){return Object(Ma.jsx)(DI,{getReturnPath:Cc,title:"Net Working Capital",type:Kv[x.Constants.NET_WORKING_CAPITAL],documentCode:x.Constants.NET_WORKING_CAPITAL,showLinkedAdjustments:!0})},FI=function(){var e=ry(x.Constants.QUALITY_OF_EARNINGS),t=e.projectId,n=e.targetAdjustmentType,a=e.targetAdjustmentName,r=e.hasError,c=e.analysis,o=e.isConfirmVisible,i=e.setIsConfirmVisible,s=e.isLoading,l=e.versions,d=e.chartKey,u=e.incrementChartKey,j=e.viewClient,b=e.handleEdit,p=e.handleDelete,m=e.handleRefresh,O=e.workflowActions,f=e.isClientView;return Object(Ma.jsx)(fI,{projectId:t,documentCode:x.Constants.QUALITY_OF_EARNINGS,hasError:r,isLoading:s,analysis:c,viewClient:j,isClientView:f,targetAdjustmentType:n,targetAdjustmentName:a,versions:l,workflowActions:O,handleEdit:b,handleRefresh:m,handleDelete:p,isConfirmVisible:o,setIsConfirmVisible:i,incrementChartKey:u,chartKey:d})},UI=function(){return Object(Ma.jsx)(DI,{getReturnPath:Lc,title:"Quality of Earnings",type:Kv[x.Constants.QUALITY_OF_EARNINGS],documentCode:x.Constants.QUALITY_OF_EARNINGS,showLinkedAdjustments:!0})},BI=Object(f.a)(l.getLocation,(function(e){return Object.keys(nc).filter((function(t){var n=nc[t];return e.pathname.endsWith(n)})).length>0})),YI=Object(f.a)(cf,BI,(function(e,t){return{showBanner:e&&t}})),WI=function(e){var t=e.showDisclaimerModal,n=Object(s.useSelector)(YI);return Object(Ma.jsx)(er.AppBanner,{showBanner:n.showBanner,dataTestId:"viewing-toggled-data-banner",children:Object(Ma.jsxs)("div",{"data-testid":"disclaimer-warning-text",children:["You are outside of the PwC default view. Your data selections may not be consistent with the commentary and/or observations presented on this screen. Information should be viewed in conjunction with the following\xa0",Object(Ma.jsx)(er.Button,{className:"button-link","data-testid":"project-disclaimer-link",onClick:function(){return t(!0)},children:"disclaimer."},"project-disclaimer")]})})},VI=(n(1395),function(e){return function(){return Object(Ma.jsx)(GI,{children:Object(Ma.jsx)(e,{})})}}),ZI=function(e){var t=e.showModal,n=e.closeModal;return Object(Ma.jsxs)(hs.a,{show:t,onHide:function(){return n(!1)},className:"disclaimer-modal",centered:!0,children:[Object(Ma.jsx)(hs.a.Header,{closeButton:!0,children:Object(Ma.jsx)(hs.a.Title,{className:"disclaimer-modal-title",children:Object(Ma.jsx)("h4",{children:"Visual Interactive Disclaimer"})})}),Object(Ma.jsx)(hs.a.Body,{className:"scrollable disclaimer-modal-body",children:Object(Ma.jsx)("div",{"data-testid":"project-disclaimer-content",className:"project-disclaimer-content",children:"Any adjustments to the output prepared by PwC are at your discretion and for your convenience and general information purposes only. PwC accepts no liability to you or anyone else in connection with the results."})})]})},GI=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(Cr.a)(n,2),c=a[0],o=a[1];return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(WI,{showDisclaimerModal:o}),Object(Ma.jsx)(ZI,{showModal:c,closeModal:o}),t]})},HI=(n(1396),n(1397),function(e){var t=e.projectId;return Object(Ma.jsxs)(Ja.Link,{to:Ac(t),className:"report-builder-link",children:[Object(Ma.jsx)(er.Icon,{name:"report",width:24,className:"report-builder-link__icon fill icon-orange"}),"Go to Report Builder"]})}),KI=function(e,t,n){return["projects",e,"preview","content",t,n].join("/")},qI=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c,o=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>3&&void 0!==o[3]?o[3]:void 0,e.next=3,Be.get(KI(t,n,a),void 0,void 0,r);case 3:return c=e.sent,e.abrupt("return",c.data.previewImage);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),zI=function(){var e=Object(p.m)(),t=e.projectId,n=e.analysisId,a=e.version,c=Object(p.l)(),o=Object(r.useState)([]),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!0),j=Object(Cr.a)(u,2),b=j[0],m=j[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(s.useDispatch)(),v=Object(s.useSelector)(IL),L=Ps.a.parse(c.search).isUnStructured;Object(r.useEffect)((function(){function e(){return(e=Object(te.a)(ee.a.mark((function e(){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qI(t,n,a);case 3:r=e.sent,d(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_(!0);case 10:return e.prev=10,m(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t,a]),Object(r.useEffect)((function(){var e="shared"===a?x.Constants.VERSION_STATUS.SHARED.value:"";return g("false"===L?function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r,c){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aC(r,c,Object(te.a)(ee.a.mark((function a(){var r;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,as(e,t,n);case 2:return(r=a.sent).title=An[r.contentSubType],a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)}))));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t,n,e):function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r,c){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aC(r,c,(function(){return Jv(e,t,n)}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t,n,e)),function(){return g(mL())}}),[g,t,n,a,L]);var C=v.isUnStructured?hc(t,v.contentThreadId):Ic(t,v.contentSubType);return Object(Ma.jsxs)("div",{className:"analysis-report-preview",children:[Object(Ma.jsx)("div",{className:"analysis-top-bar-container",children:Object(Ma.jsx)("div",{className:"analysis-top-bar",children:v.contentId&&Object(Ma.jsxs)(Ja.Link,{to:C,className:"analysis-report-preview__back-link",children:[Object(Ma.jsx)(er.Icon,{name:"left-chevron",width:14,className:"analysis-report-preview__back-icon fill icon-orange"}),"Back to working view"]})})}),Object(Ma.jsxs)("div",{className:"analysis-report-preview-container",children:[Object(Ma.jsxs)("div",{className:"analysis-report-preview__inner",children:[Object(Ma.jsx)("div",{className:"analysis-report-preview__inner__status",children:v.contentId&&Object(Ma.jsx)(Uj,{projectId:t,content:v,className:"analysis-pill-container",allowDraftPill:!0})}),Object(Ma.jsx)("div",{className:"analysis-report-preview__inner__builder-link",children:Object(Ma.jsx)(HI,{projectId:t})})]}),h&&Object(Ma.jsx)("div",{children:"Failed to load content"}),Object(Ma.jsx)(Ma.Fragment,{children:b||v.isLoading?Object(Ma.jsx)(er.Loader,{dataTestId:"loading-spinner"}):l.map((function(e){return Object(Ma.jsx)("img",{className:"preview-image",src:e,alt:"report preview"},e)}))})]})]})},QI="/projects/:projectId/analyses2/",JI=VI(FI),XI=VI(PI),$I=VI(hI),eE=function(){var e=[{path:"",component:FL},{path:nc[x.Constants.NET_WORKING_CAPITAL],component:XI},{path:nc[x.Constants.QUALITY_OF_EARNINGS],component:JI},{path:nc[x.Constants.DEBT_AND_DEBT_LIKE],component:$I},{path:":analysisId/view",component:bC}],t=[{path:"add-type",component:Hv},{path:"create",exact:!1,component:ny},{path:"add-from-template",component:Zv},{path:"".concat(nc[x.Constants.DEBT_AND_DEBT_LIKE],"/edit"),component:RI},{path:"".concat(nc[x.Constants.NET_WORKING_CAPITAL],"/edit"),component:MI},{path:"".concat(nc[x.Constants.QUALITY_OF_EARNINGS],"/edit"),component:UI},{path:":analysisId/edit",exact:!1,component:ay},{path:":analysisId/report-preview/:version(latest|shared)",exact:!0,component:zI}];return Object(Ma.jsxs)(p.g,{children:[e.map((function(e){return Object(Ma.jsx)(p.d,{exact:me()(e,"exact",!0),path:"".concat(QI).concat(e.path),component:e.component},e.path)})),t.map((function(e){return Object(Ma.jsx)(Ui,{exact:me()(e,"exact",!0),permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],isAuthorized:ue.hasValidToken,path:"".concat(QI).concat(e.path),component:e.component},e.path)})),Object(Ma.jsx)(p.d,{path:QI,render:function(e){var t=e.match;return Object(Ma.jsx)(p.c,{to:"/projects/".concat(t.params.projectId,"/analyses/")})}})]})},tE=function(e){return{isValid:null!==e}},nE=function(e){if(null===e)return{isValid:!1};var t=e>=0&&e<=100;return{isValid:t,errorMessage:t?void 0:"Please enter a number between 0 and 100."}},aE=function(e){return{isValid:e&&e.length>0||!1}},rE="next",cE="previous",oE="survey",iE="/projects/:projectId/divestiture-diagnostic/:content/responses",sE="/projects/:projectId/divestiture-diagnostic/".concat(oE),lE="".concat(sE,"/:sectionPath"),dE="".concat(lE,"/:questionId"),uE="".concat(sE,"/").concat(rE),jE="".concat(sE,"/").concat(cE),bE=function(e,t){return iE.replace(":projectId",e).replace(":content",t)},pE=function(e){return sE.replace(":projectId",e)},mE=function(e,t){return lE.replace(":projectId",e).replace(":sectionPath",t)},OE=function(e,t,n){return dE.replace(":projectId",e).replace(":sectionPath",t).replace(":questionId",n)},fE=function(e){return uE.replace(":projectId",e)},hE=n(20),_E=hE.createAction,xE=_E("httpAction"),gE=xE,vE="divestitureDiagnostic/",LE=function(e){return Object.keys(e).length?e:null},CE={fetchDivestitureDiagnosticResultsStatus:{pending:!1,success:!1,error:!1},resetDivestitureDiagnosticResultsStatus:{pending:!1,success:!1,error:!1},saveCategoriesStatus:{pending:!1,success:!1,error:!1},saveOverallComplexityStatus:{pending:!1,success:!1,error:!1},divestitureDiagnosticResults:null,editMode:!1},TE={resetDivestitureDiagnostic:function(){return CE},fetchDivestitureDiagnosticResultsBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchDivestitureDiagnosticResultsStatus:{pending:!0,success:!1,error:!1}})},fetchDivestitureDiagnosticResultsSuccess:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{fetchDivestitureDiagnosticResultsStatus:{pending:!1,success:!0,error:!1},divestitureDiagnosticResults:LE(n)})},fetchDivestitureDiagnosticResultsError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{fetchDivestitureDiagnosticResultsStatus:{pending:!1,success:!1,error:n}})},resetDivestitureDiagnosticResultsBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{resetDivestitureDiagnosticResultsStatus:{pending:!0,success:!1,error:!1}})},resetDivestitureDiagnosticResultsSuccess:function(e){return Object(b.a)(Object(b.a)({},e),{},{resetDivestitureDiagnosticResultsStatus:{pending:!1,success:!0,error:!1},divestitureDiagnosticResults:null})},resetDivestitureDiagnosticResultsError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{resetDivestitureDiagnosticResultsStatus:{pending:!1,success:!1,error:n}})},saveCategoriesBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{saveCategoriesStatus:{pending:!0,success:!1,error:!1}})},saveCategoriesSuccess:function(e){return Object(b.a)(Object(b.a)({},e),{},{saveCategoriesStatus:{pending:!1,success:!0,error:!1}})},saveCategoriesError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{saveCategoriesStatus:{pending:!1,success:!1,error:n}})},saveOverallComplexityBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{saveOverallComplexityStatus:{pending:!0,success:!1,error:!1}})},saveOverallComplexitySuccess:function(e){return Object(b.a)(Object(b.a)({},e),{},{saveOverallComplexityStatus:{pending:!1,success:!0,error:!1}})},saveOverallComplexityError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{saveOverallComplexityStatus:{pending:!1,success:!1,error:n}})},setEditMode:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{editMode:t.payload})},resetSaveCategoriesStatus:function(e){return Object(b.a)(Object(b.a)({},e),{},{saveCategoriesStatus:{pending:!1,success:!1,error:!1}})},resetSaveOverallComplexityStatus:function(e){return Object(b.a)(Object(b.a)({},e),{},{saveOverallComplexityStatus:{pending:!1,success:!1,error:!1}})}},yE=Object(O.createSlice)({name:"divestitureDiagnostic",initialState:CE,reducers:TE}),IE=yE.reducer,EE=yE.actions,wE=function(e){return gE({reducer:"".concat(vE,"fetchDivestitureDiagnosticResults"),endpoint:Mc(e),verb:"GET",httpClient:Ve(e)})},NE=EE.setEditMode,AE=EE.resetDivestitureDiagnostic,SE=EE.resetSaveCategoriesStatus,kE=EE.resetSaveOverallComplexityStatus,DE=function(e){return e.divestitureDiagnostic.fetchDivestitureDiagnosticResultsStatus},RE=function(e){return e.divestitureDiagnostic.divestitureDiagnosticResults},PE=function(e){return e.divestitureDiagnostic.resetDivestitureDiagnosticResultsStatus},ME=function(e){return e.divestitureDiagnostic.editMode},FE=function(e){return e.divestitureDiagnostic.saveCategoriesStatus},UE=function(e){return e.divestitureDiagnostic.saveOverallComplexityStatus},BE=function(e){var t=e.router.location.pathname;return Object(p.j)(t,{path:iE}).params.content},YE=IE,WE=(n(1398),function(e){var t=e.value,n=e.scoreType,a=e.minified;return Object(Ma.jsx)("span",{className:"diagnostic-category-score",children:"".concat(x.DivestitureDiagnosticUtility.calculateScoreText(t,a)).concat(x.DivestitureDiagnosticUtility.getScoreTitle(n),": ").concat(t)})}),VE=(n(1399),function(e){var t=e.category;return t.value===t.initialValue?Object(Ma.jsx)(WE,{value:t.value},t.title):Object(Ma.jsxs)("div",{className:"diagnostic-category-score",children:[Object(Ma.jsx)(WE,{value:t.initialValue,scoreType:"Initial"},"".concat(t.title,"-initial")),Object(Ma.jsx)(WE,{value:t.value,scoreType:"Adjusted"},"".concat(t.title,"-adjusted"))]})}),ZE=function(e){var t=e.category,n=e.minified,a=e.isActive,r=e.isTitleBold;return Object(Ma.jsxs)("div",{className:"diagnostic-category-container ".concat(a?"category-active-container":""),children:[Object(Ma.jsx)("div",{className:"diagnostic-category-title ".concat(r?"diagnostic-category-title-bold":""),children:t.title}),n&&Object(Ma.jsx)(WE,{value:t.value,minified:!0}),!n&&Object(Ma.jsx)(VE,{category:t})]},t.title)},GE=(n(1400),function(e){var t=e.path,n=e.children;return Object(Ma.jsx)(Ja.NavLink,{to:t,className:"sidebar-link",activeClassName:"active-sidebar-link",children:n})}),HE=function(e){var t=e.content,n=e.navText,a=Object(p.m)().projectId,r=bE(a,t);return Object(Ma.jsx)(GE,{path:r,children:n})},KE=(n(1401),function(){var e=Object(s.useSelector)(RE),t=e&&e.overallDealComplexity;return Object(Ma.jsx)(Ma.Fragment,{children:e&&Object(Ma.jsxs)("div",{className:"results-sidebar-container",children:[Object(Ma.jsx)("div",{className:"results-sidebar-header",children:"Diagnostic Questionnaire"}),Object(Ma.jsx)(GE,{path:t.path,children:Object(Ma.jsx)(ZE,{category:t,isTitleBold:!0,minified:!0})}),e.data.filter((function(e){return void 0===e.parentId})).map((function(e){return Object(Ma.jsx)(GE,{path:e.path,children:Object(Ma.jsx)(ZE,{category:e,minified:!0},e.title)},e.categoryId)})),Object(Ma.jsx)("div",{className:"review-responses-nav-item",children:Object(Ma.jsx)(HE,{content:"results",navText:"Questionnaire Responses"})})]})})}),qE=(new RegExp(/\/$/),new RegExp(/^\//),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/projects/".concat(e,"/questions/next").concat(null!==t?"?order=".concat(t):"")}),zE=function(e){return"/projects/".concat(e,"/answers")},QE=function(e){return"/projects/".concat(e,"/survey")},JE=function(e){return"/projects/".concat(e,"/answers/reset")},XE=function(e){return"/projects/".concat(e,"/diagnostics/finalize")},$E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/projects/".concat(e,"/questions/previous").concat(null!==t?"?order=".concat(t):"")},ew="survey/",tw={fetchQuestionStatus:{pending:!1,success:!1,error:!1},postAnswerStatus:{pending:!1,success:!1,error:!1},putAnswerStatus:{pending:!1,success:!1,error:!1},submitAnswerStatus:{pending:!1,success:!1,error:!1},fetchSurveyResponsesStatus:{pending:!1,success:!1,error:!1},resetAnswersStatus:{pending:!1,success:!1,error:!1},postResponsesStatus:{pending:!1,success:!1,error:!1},question:null,surveyComplete:!1,surveyResponses:null},nw={fetchQuestionBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchQuestionStatus:{pending:!0,success:!1,error:!1}})},fetchQuestionSuccess:function(e,t){var n,a=t.payload;return Object(b.a)(Object(b.a)({},e),{},{fetchQuestionStatus:{pending:!1,success:!0,error:!1},question:a,surveyComplete:(n=a,!n)})},fetchQuestionError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{fetchQuestionStatus:{pending:!1,success:!1,error:n}})},postAnswerBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{postAnswerStatus:{pending:!0,success:!1,error:!1},submitAnswerStatus:{pending:!0,success:!1,error:!1}})},postAnswerSuccess:function(e){return Object(b.a)(Object(b.a)({},e),{},{postAnswerStatus:{pending:!1,success:!0,error:!1},submitAnswerStatus:{pending:!1,success:!0,error:!1}})},postAnswerError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{postAnswerStatus:{pending:!1,success:!1,error:n},submitAnswerStatus:{pending:!1,success:!1,error:n}})},putAnswerBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{putAnswerStatus:{pending:!0,success:!1,error:!1},submitAnswerStatus:{pending:!0,success:!1,error:!1}})},putAnswerSuccess:function(e){return Object(b.a)(Object(b.a)({},e),{},{putAnswerStatus:{pending:!1,success:!0,error:!1},submitAnswerStatus:{pending:!1,success:!0,error:!1}})},putAnswerError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{putAnswerStatus:{pending:!1,success:!1,error:n},submitAnswerStatus:{pending:!1,success:!1,error:n}})},resetSubmitAnswerStatus:function(e){return Object(b.a)(Object(b.a)({},e),{},{submitAnswerStatus:{pending:!1,success:!1,error:!1}})},fetchSurveyResponsesBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchSurveyResponsesStatus:{pending:!0,success:!1,error:!1}})},fetchSurveyResponsesSuccess:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{fetchSurveyResponsesStatus:{pending:!1,success:!0,error:!1},surveyResponses:n})},fetchSurveyResponsesError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{fetchSurveyResponsesStatus:{pending:!1,success:!1,error:n}})},resetAnswersBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{resetAnswersStatus:{pending:!0,success:!1,error:!1}})},resetAnswersSuccess:function(e){return Object(b.a)(Object(b.a)({},e),{},{resetAnswersStatus:{pending:!1,success:!0,error:!1},question:null,surveyComplete:!1,surveyResponses:null})},resetAnswersError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{resetAnswersStatus:{pending:!1,success:!1,error:n}})},postResponsesBegan:function(e){return Object(b.a)(Object(b.a)({},e),{},{postResponsesStatus:{pending:!0,success:!1,error:!1}})},postResponsesSuccess:function(e){return Object(b.a)(Object(b.a)({},e),{},{postResponsesStatus:{pending:!1,success:!0,error:!1}})},postResponsesError:function(e,t){var n=t.payload;return Object(b.a)(Object(b.a)({},e),{},{postResponsesStatus:{pending:!1,success:!1,error:n}})},resetFetchSurveyResponsesStatus:function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchSurveyResponsesStatus:{pending:!1,success:!1,error:!1}})},getQuestionById:function(e,t){var n=t.payload,a=e.surveyResponses,r=a&&a.questions,c=r&&r.find((function(e){return e.id===+n}));return Object(b.a)(Object(b.a)({},e),{},{question:c})},resetFetchQuestionStatus:function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchQuestionStatus:{pending:!1,success:!1,error:!1}})},resetQuestion:function(e){return Object(b.a)(Object(b.a)({},e),{},{question:null})},resetPostResponsesStatus:function(e){return Object(b.a)(Object(b.a)({},e),{},{postResponsesStatus:{pending:!1,success:!1,error:!1}})},resetResetAnswersStatus:function(e){return Object(b.a)(Object(b.a)({},e),{},{resetAnswersStatus:{pending:!1,success:!1,error:!1}})}},aw=Object(O.createSlice)({name:"survey",initialState:tw,reducers:nw}),rw=aw.reducer,cw=aw.actions,ow=(cw.fetchQuestionBegan,cw.fetchQuestionSuccess,cw.fetchQuestionError,cw.postAnswerBegan,cw.postAnswerSuccess,cw.postAnswerError,cw.resetSubmitAnswerStatus),iw=cw.resetFetchSurveyResponsesStatus,sw=cw.getQuestionById,lw=cw.resetFetchQuestionStatus,dw=cw.resetQuestion,uw=cw.resetPostResponsesStatus,jw=cw.resetResetAnswersStatus,bw=function(e,t){var n=t.length?t.map((function(t){return Object(b.a)({projectId:e},t)})):Object(b.a)({projectId:e},t),a=t.length?function(e){return"/projects/".concat(e,"/answers/batch")}(e):zE(e);return gE({reducer:"".concat(ew,"postAnswer"),endpoint:a,verb:"POST",httpClient:Ve(e),body:n})},pw=function(e){return gE({reducer:"".concat(ew,"fetchSurveyResponses"),endpoint:QE(e),verb:"GET",httpClient:Ve(e)})},mw=function(e){return e.survey.question},Ow=function(e){return e.survey.surveyResponses},fw=function(e){return e.survey.resetAnswersStatus},hw=function(e){return e.survey.postResponsesStatus},_w=function(e){return e.survey.fetchQuestionStatus},xw=function(e){return e.survey.fetchSurveyResponsesStatus},gw=function(e){return e.survey.submitAnswerStatus},vw=function(e){return e.survey.surveyResponses&&e.survey.surveyResponses.completed},Lw=rw,Cw=(n(1402),function(e){var t=e.section,n=Object(p.m)().projectId,a=mE(n,t.path),r=t.numQuestionsAnswered>0&&t.numQuestionsAnswered!==t.numQuestionsTotal;return Object(Ma.jsx)(GE,{path:a,children:Object(Ma.jsx)("span",{className:"progress-ph nowrap",children:Object(Ma.jsx)(er.ProgressCircle,{label:t.title,current:t.numQuestionsAnswered,total:t.numQuestionsTotal,displaySteps:r})})})}),Tw=(n(1403),"false"!=="false".replace(/\W/g,"")),yw=!!("usdev".match(/dev$/)||"usdev".match(/qa$/)||"usdev".match(/test$/)||"usdev".match(/uat$/)),Iw={diagnostic:Tw,diagnosticDebuggingControls:yw},Ew=function(){var e=Object(p.m)().projectId,t=Object(s.useDispatch)(),n=Object(s.useSelector)(Ow),a=Object(r.useState)([]),c=Object(Cr.a)(a,2),o=c[0],i=c[1],l=Object(r.useState)(null),d=Object(Cr.a)(l,2),u=d[0],j=d[1],m=Object(p.k)();Object(r.useEffect)((function(){if(n){var e=function(e,t){return e.map((function(e){var n=t.find((function(t){return t.sectionId===e.id}));return Object(b.a)(Object(b.a)({},e),n)}))}(n.sections,n.sectionCompletionStatus);i(e)}}),[n]);var O=function(){var n=Object(te.a)(ee.a.mark((function n(){var a;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ve(e).post("/projects/".concat(e,"/answers/prefill"));case 3:j(null),t(pw(e)),a=bE(e,oE),m.push(a),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),j("Unable to prefill survey");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),f=_.a.sortBy(o,"order");return Object(Ma.jsxs)("div",{className:"survey-sidebar-container",children:[Object(Ma.jsx)("div",{className:"survey-sidebar-header",children:"Diagnostic Questionnaire"}),f.map((function(e){return Object(Ma.jsx)(Cw,{section:e},e.id)})),Object(Ma.jsx)("div",{className:"response-results",children:Object(Ma.jsx)(HE,{content:"survey",navText:"Review Responses"})}),Iw.diagnosticDebuggingControls&&Object(Ma.jsxs)("div",{className:"prefill-survey-container",children:[Object(Ma.jsx)(er.Button,{className:"prefill-survey-button",onClick:O,children:"Prefill Survey"}),u&&Object(Ma.jsx)("span",{className:"prefill-survey-error",children:u})]})]})},ww=(n(1404),function(){return Object(Ma.jsxs)("div",{className:"divestiture-diagnostic-sidebar",children:[Object(Ma.jsx)(p.d,{path:lE,children:Object(Ma.jsx)(Ew,{})}),Object(Ma.jsx)(p.d,{path:z,children:Object(Ma.jsx)(KE,{})})]})}),Nw=function(e){var t=e.direction,n=Object(s.useSelector)(_w).success,a=Object(s.useSelector)(xw).success,c=Object(s.useSelector)(mw),o=Object(s.useSelector)(Ow),i=Object(s.useDispatch)(),l=Object(p.k)(),d=Object(p.m)().projectId,u=n&&a;return Object(r.useEffect)((function(){if(!n){var e=c?c.order:null,a=t===cE;t===rE&&i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return gE({reducer:"".concat(ew,"fetchQuestion"),endpoint:qE(e,t),verb:"GET",httpClient:Ve(e)})}(d,e)),a&&i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return gE({reducer:"".concat(ew,"fetchQuestion"),endpoint:$E(e,t),verb:"GET",httpClient:Ve(e)})}(d,e)),i(pw(d))}}),[i,d,c,n,t]),Object(r.useEffect)((function(){if(u){var e;if(c){var t=o.sections.find((function(e){return e.id===c.sectionId}));e=OE(d,t.path,c.id)}else e=bE(d,"survey");l.replace(e)}}),[c,u,l,d,o]),Object(Ma.jsx)("div",{children:!n&&Object(Ma.jsx)(er.Loader,{})})},Aw=function(e,t,n){return"radio"===t.type?{projectId:e,sectionId:t.sectionId,questionId:t.id,type:"radio",value:t.options.find((function(e){return e.id===n})).value,optionId:n}:"multiselect"===t.type?n.map((function(n){return{projectId:e,sectionId:t.sectionId,questionId:t.id,type:"multiselect",value:t.options.find((function(e){return e.id===n})).value,optionId:n}})):"percent"===t.type?{projectId:e,sectionId:t.sectionId,questionId:t.id,type:"percent",value:n}:null},Sw=function(e,t){if(e.length){var n=t.filter((function(t){return t.sectionId===e[0].sectionId&&t.questionId===e[0].questionId})).map((function(e){return e.optionId}));return 0===Object(h.xor)(n,e.map((function(e){return e.optionId}))).length}var a=t.find((function(t){return t.sectionId===e.sectionId&&t.questionId===e.questionId}));if(a){if("radio"===e.type)return a.optionId===e.optionId;if("percent"===e.type)return a.value===e.value}return!1},kw=(n(1405),function(e){var t=e.sectionId,n=Object(s.useSelector)(Ow),a=n&&n.sections.find((function(e){return e.id===t}));return n&&Object(Ma.jsxs)("div",{className:"question-section-header",children:[Object(Ma.jsx)("div",{className:"section-title",children:a.title}),Object(Ma.jsx)("p",{className:"section-description",children:a.description})]})}),Dw=(n(1406),function(e,t){return t.map((function(t){var n=Object(b.a)({},t);return n.selected=n.value===e.value?!n.selected:n.selected,n}))}),Rw=function(e){var t=e.question,n=e.userAnswer,a=e.setUserAnswer,c=e.setIsAnswerValid,o=Object(r.useState)([]),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(s.useSelector)(Ow);return Object(r.useEffect)((function(){var e=u&&u.answers.filter((function(e){return e.questionId===t.id})),n=function(e){return e?e.map((function(e){return{label:e.text,value:"".concat(e.id),selected:!1}})):[]}(t.options);e.length&&e.forEach((function(e){var t=n.find((function(t){return+t.value===e.optionId}));n=Dw(t,n)})),d(n)}),[a,u,t.id,t.options]),Object(r.useEffect)((function(){var e=aE(n).isValid;c(e)}),[n,c,a]),Object(r.useEffect)((function(){var e=l.filter((function(e){return e.selected})).map((function(e){return+e.value}));a(e)}),[l,a]),l&&Object(Ma.jsx)(er.CheckboxGroup,{name:"multiselect-".concat(t.id),label:t.text,options:l,onChange:function(e){var t=Dw(e,Object(m.a)(l));d(t)}})},Pw=(n(1407),function(e){var t=e.question,n=e.userAnswer,a=e.setUserAnswer,c=e.setIsAnswerValid,o=Object(r.useState)(""),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(s.useSelector)(Ow);Object(r.useEffect)((function(){var e=u&&u.answers.find((function(e){return e.questionId===t.id}));a(e?e.value:null)}),[t.id,a,u]),Object(r.useEffect)((function(){var e=nE(n),t=e.isValid,a=e.errorMessage;c(t),d(a||"")}),[n,c]);var j={value:n,onChange:function(e){a("".concat(+e.target.value))}};return Object(Ma.jsxs)("div",{className:"survey-percent-container",children:[Object(Ma.jsx)("p",{children:t.text}),Object(Ma.jsx)(er.TextInput,{className:"survey-percent-input",field:j,error:l,type:"number",min:0,max:100})]})}),Mw=function(e){var t=e.question,n=e.userAnswer,a=e.setUserAnswer,c=e.setIsAnswerValid,o=Object(s.useSelector)(Ow);Object(r.useEffect)((function(){var e=o&&o.answers.find((function(e){return e.questionId===t.id}));a(e?e.optionId:null)}),[t.id,a,o]),Object(r.useEffect)((function(){var e=tE(n).isValid;c(e)}),[n,c]);var i=t.options?t.options.map((function(e){return{label:e.text,value:e.id}})):[],l={value:n&&"".concat(n),onChange:function(e){return a(+e.target.value)}};return Object(Ma.jsx)(er.RadioGroup,{label:t.text,options:i,field:l})},Fw=function(e){var t,n=e.question,a=e.userAnswer,r=e.setUserAnswer,c=e.setIsAnswerValid;if(!n)return null;switch(n.type){case"radio":t=Mw;break;case"percent":t=Pw;break;case"multiselect":t=Rw;break;default:return null}return Object(Ma.jsx)(t,{question:n,userAnswer:a,setUserAnswer:r,setIsAnswerValid:c})},Uw=(n(1408),function(e){var t=e.onNext,n=e.onPrevious,a=e.skipPath,r=e.isNextDisabled,c=e.isBackDisabled;return Object(Ma.jsxs)("div",{className:"question-footer",children:[Object(Ma.jsxs)(er.Button,{className:"button-link question-back ".concat(c?"inactive":"active"),disabled:c,onClick:n,children:[Object(Ma.jsx)(er.Icon,{name:"left-chevron",width:"16px",className:"fill ".concat(c?"icon-grey-medium":"icon-orange"," back")}),"Back"]}),Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)(Ja.Link,{className:"answer-later button-link",to:a,children:"Answer Later"}),Object(Ma.jsx)(er.Button,{className:"next-button",onClick:t,disabled:r,children:"Next"})]})]})}),Bw=function(e,t){return e===cE?function(e){return jE.replace(":projectId",e)}(t):fE(t)},Yw=function(e,t,n){return t.push(Bw(e,n))},Ww=function(e){var t=e.question,n=Object(r.useState)(null),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(),l=Object(Cr.a)(i,2),d=l[0],u=l[1],j=Object(r.useState)(0),m=Object(Cr.a)(j,2),O=m[0],f=m[1],h=Object(r.useState)(0),_=Object(Cr.a)(h,2),x=_[0],g=_[1],v=Object(r.useState)(rE),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=Object(r.useState)(!1),I=Object(Cr.a)(y,2),E=I[0],w=I[1],N=Object(p.k)(),A=Object(p.m)().projectId,S=Object(s.useDispatch)(),k=Object(s.useSelector)(_w).pending,D=Object(s.useSelector)(gw),R=D.success,P=D.pending,M=Object(s.useSelector)(Ow),F=P||!d,U=t&&1===t.order;Object(r.useEffect)((function(){S(lw()),S(iw())}),[S]),Object(r.useEffect)((function(){M&&(f(M.sectionCompletionStatus.reduce((function(e,t){return e+t.numQuestionsTotal}),0)),g(M.sectionCompletionStatus.reduce((function(e,t){return e+t.numQuestionsAnswered}),0)),w(t&&t.conditions))}),[M,t]);var B=x>0;Object(r.useEffect)((function(){R&&(S(ow()),Yw(C,N,A))}),[R,N,A,C,S]);var Y=function(e){if(e.length)S(bw(A,e));else{var t=function(e){var t=M.answers.find((function(t){return t.questionId===e.questionId}));return t?t.id:null}(e);S(t?function(e,t){return gE({reducer:"".concat(ew,"putAnswer"),endpoint:zE(e),verb:"PUT",httpClient:Ve(e),body:Object(b.a)({projectId:e},t)})}(A,Object(b.a)(Object(b.a)({},e),{},{id:t})):bw(A,e))}},W=function(e){var n;if(T(e),(n=c,"radio"===t.type?tE(n):"percent"===t.type?nE(n):"multiselect"===t.type?aE(n):null).isValid){var a=Aw(A,t,c);if(!Sw(a,M.answers))return Y(a)}return Yw(e,N,A)},V=Bw(rE,A);return!k&&Object(Ma.jsxs)(Ma.Fragment,{children:[B&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.ProgressBar,{total:O,current:x}),Object(Ma.jsx)("hr",{})]}),Object(Ma.jsxs)("div",{className:"diagnostic-content",children:[Object(Ma.jsx)(kw,{sectionId:t.sectionId}),Object(Ma.jsxs)("div",{className:"dd-question-wrapper card-container ".concat(E&&"conditional-question"),children:[Object(Ma.jsx)(Fw,{question:t,userAnswer:c,setUserAnswer:o,setIsAnswerValid:u}),Object(Ma.jsx)(Uw,{onNext:function(){return W(rE)},onPrevious:function(){return W(cE)},skipPath:V,isNextDisabled:F,isBackDisabled:U})]})]})]})},Vw=function(e){var t=e.questionId,n=Object(s.useDispatch)(),a=Object(p.m)().projectId,c=Object(s.useSelector)(mw),o=Object(s.useSelector)(Ow),i=Object(s.useSelector)(fw).success;return Object(r.useEffect)((function(){o||n(pw(a))}),[n,a,o]),Object(r.useEffect)((function(){!o||c&&c.id===t||n(sw(t))}),[t,n,c,o]),Object(r.useEffect)((function(){i&&n(jw())}),[n,i]),Object(Ma.jsxs)(Ma.Fragment,{children:[o&&c&&Object(Ma.jsx)(Ww,{question:c}),(!o||!c)&&Object(Ma.jsx)(er.Loader,{})]})},Zw=function(e){var t=e.sectionPath,n=Object(s.useDispatch)(),a=Object(p.m)().projectId,c=Object(r.useState)(),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(s.useSelector)(Ow);return Object(r.useEffect)((function(){if(d){var e,r=d.sections,c=d.questions,o=r.find((function(e){return e.path===t}));if(o){var i=function(e,t){return e.filter((function(e){return e.sectionId===t})).sort((function(e,t){return e.order-t.order}))[0]}(c,o.id).id;e=OE(a,t,i)}else e=fE(a);l(e)}else n(pw(a))}),[n,a,d,t]),Object(Ma.jsxs)(Ma.Fragment,{children:[i&&Object(Ma.jsx)(p.c,{to:i}),!i&&Object(Ma.jsx)(er.Loader,{})]})},Gw=function(){var e=Object(p.m)().projectId;return Object(s.useSelector)(RE)&&Object(Ma.jsx)(p.c,{to:J(e)})},Hw=function(){var e=function(e){var t=e.match.params.sectionPath;return Object(Ma.jsx)(Zw,{sectionPath:t||null})};return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Gw,{}),Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{exact:!0,strict:!0,path:uE,children:Object(Ma.jsx)(Nw,{direction:rE})}),Object(Ma.jsx)(p.d,{exact:!0,strict:!0,path:jE,children:Object(Ma.jsx)(Nw,{direction:cE})}),Object(Ma.jsx)(p.d,{path:dE,render:function(e){var t=e.match.params.questionId;return Object(Ma.jsx)(Vw,{questionId:+t})}}),Object(Ma.jsx)(p.d,{path:lE,render:e}),Object(Ma.jsx)(p.d,{render:e})]})]})},Kw=(n(1409),function(){var e=Object(r.useState)(!0),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(s.useSelector)(Ow),o=Object(r.useState)(""),i=Object(Cr.a)(o,2),l=i[0],d=i[1];return Object(r.useEffect)((function(){c&&(c.answers.length?d("Continue Questionnaire"):d("Start Questionnaire"))}),[c]),Object(Ma.jsx)(p.d,{path:sE,children:Object(Ma.jsxs)(hs.a,{show:n,onHide:function(){return a(!1)},centered:!0,dialogClassName:"survey-welcome-modal",backdrop:"static",children:[Object(Ma.jsx)(hs.a.Header,{closeButton:!0}),Object(Ma.jsx)(hs.a.Title,{children:Object(Ma.jsx)("h1",{children:"Welcome,"})}),Object(Ma.jsxs)(hs.a.Body,{children:["The Diagnostic Questionnaire is the first step of a divestiture deal's process, which creates a holistic business overview ahead of a deal.",Object(Ma.jsx)("br",{}),Object(Ma.jsx)("br",{}),"This questionnaire is intelligent and will update to fit your unique scenario. It should take you around 10 minutes to complete.",Object(Ma.jsx)("br",{}),Object(Ma.jsx)("br",{}),"The completed questionnaire will provide us with an overview of Financial and Operations with a series of cross functional layers underneath them that help to understand business performance, regulatory requirements, and how entangled it is with the rest of the company."]}),Object(Ma.jsx)(hs.a.Footer,{children:Object(Ma.jsx)(er.Button,{onClick:function(){a(!1)},children:l})})]})})}),qw=(n(1410),n(1411),function(e){var t=e.description,n=e.onDescriptionChange,a=e.isDescriptionEditable,c=Object(s.useSelector)(ME),o=Object(r.useState)(!1),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=a&&c;return Object(Ma.jsxs)("div",{className:"category-description-wrapper",children:[!u&&Object(Ma.jsx)("div",{className:"category-description dangerously-set",dangerouslySetInnerHTML:{__html:Qa(t)}}),u&&Object(Ma.jsx)("div",{className:"category-description",children:Object(Ma.jsx)(hp,{richTextData:t,onChange:function(e){n(""===e?"<ul></ul>":e)},onBlur:function(e,t){d(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){d(!0),t.ui.view.toolbar.element.style.display="block"},isFocused:l,config:pp})})]})}),zw=(n(1412),function(e){var t=e.category,n=e.onScoreChange,a=Object(r.useState)(""),c=Object(Cr.a)(a,2),o=c[0],i=c[1];return Object(Ma.jsx)(er.TextInput,{type:"number",error:o,field:{name:"".concat(t.categoryId),value:"".concat(t.value),onChange:function(e){var t=+e.target.value;i(t<0||t>10?"Invalid value. Enter a number between 1 and 10.":""),n(t)}}})}),Qw=function(e){var t=e.initial,n=e.modified,a=e.highLow,r=e.showTooltip,c=e.backgroundColor,o=t!==n;return Object(Ma.jsx)(er.ComplexityScale,{originalValue:t,originalLabel:"Initial",modifiedValue:o?n:null,modifiedLabel:"Adjusted",backgroundColor:c,highLow:a,showTooltip:r&&o})},Jw=function(e){var t=e.category,n=e.children,a=e.onScoreChange,r=e.onDescriptionChange,c=Object(s.useSelector)(ME),o=Object(s.useSelector)(RE),i=[o.overallDealComplexity].concat(Object(m.a)(o.data)).find((function(e){return e.categoryId===t.categoryId}));return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"category-overview-caption",children:[Object(Ma.jsx)("p",{className:"dd-category-title",children:t.title}),Object(Ma.jsx)(qw,{description:t.categoryCaption})]}),Object(Ma.jsxs)("div",{className:"category-overview-score-wrapper",children:[Object(Ma.jsxs)("div",{className:"dd-category-score",children:[!c&&Object(Ma.jsx)(VE,{category:t}),c&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("span",{className:"dd-category-score-text",children:x.DivestitureDiagnosticUtility.calculateScoreText(t.value)}),Object(Ma.jsx)(zw,{category:t,onScoreChange:a})]})]}),i&&Object(Ma.jsx)(Qw,{initial:i.initialValue,modified:i.value,backgroundColor:"color-page-background",highLow:!0,showTooltip:!0}),Object(Ma.jsx)(qw,{description:t.description,onDescriptionChange:r,isDescriptionEditable:!0})]}),n&&Object(Ma.jsx)("div",{className:"category-overview-content",children:n})]})},Xw=(n(1413),function(e){var t=e.selectedCategory,n=e.categories,a=e.onChange;return Object(Ma.jsx)(Jw,{category:t,onScoreChange:function(e){return a(t.categoryId,{value:e})},onDescriptionChange:function(e){return a(t.categoryId,{description:e})},children:n.filter((function(e){return void 0===e.parentId})).map((function(e){return Object(Ma.jsx)("div",{className:"category",children:Object(Ma.jsx)(ZE,{category:e},e.title)},"".concat(e.title,"-div"))}))})}),$w=(n(1414),function(e){var t=e.saveDisabled,n=e.editDisabled,a=e.cancelDisabled,r=e.onSave,c=Object(s.useDispatch)(),o=Object(s.useSelector)(ME);return Object(Ma.jsxs)("div",{className:"results-header-wrapper",children:[!o&&Object(Ma.jsx)(er.Button,{className:"results-edit-button button-small",onClick:function(){return c(NE(!0))},disabled:n,children:"Edit"}),o&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.Button,{className:"results-cancel-button button-link",onClick:function(){return c(NE(!1))},disabled:a,children:"Cancel"}),Object(Ma.jsx)(er.Button,{className:"results-save-button button-small",onClick:r,disabled:t,children:"Save"})]})]})}),eN=(n(1415),n(1416),function(e){var t=e.initialDescription,n=Object(r.useState)(!1),a=Object(Cr.a)(n,2),c=a[0],o=a[1];return Object(Ma.jsxs)("div",{className:"initial-description-wrapper",children:[Object(Ma.jsxs)(er.Button,{onClick:function(){return o(!c)},className:"button-no-underline",children:[Object(Ma.jsx)(er.Icon,{name:c?"desc":"asc"}),Object(Ma.jsx)("span",{className:"initial-description-button-text",children:"Initial response"})]}),c&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("br",{}),Object(Ma.jsx)("div",{className:"category-description",dangerouslySetInnerHTML:{__html:Qa(t)}})]})]})}),tN=function(e){var t=e.subcategory,n=e.onScoreChange,a=e.onDescriptionChange,r=Object(s.useSelector)(ME),c=Object(s.useSelector)(RE).data,o=c.find((function(e){return e.categoryId===t.categoryId})),i=function(e,t){var n=t.find((function(t){return t.categoryId===e}));return n.description!==n.initialDescription}(t.categoryId,c);return Object(Ma.jsxs)("div",{className:"subcategory-wrapper",children:[Object(Ma.jsxs)("div",{className:"subcategory-title-wrapper",children:[Object(Ma.jsx)("span",{className:"subcategory-title",children:t.title}),r&&Object(Ma.jsx)(zw,{category:t,onScoreChange:n}),!r&&Object(Ma.jsx)(VE,{category:t})]}),Object(Ma.jsx)(Qw,{initial:o.initialValue,modified:o.value}),Object(Ma.jsxs)("div",{className:"description-wrapper",children:[Object(Ma.jsx)("br",{}),Object(Ma.jsx)(qw,{description:t.description,onDescriptionChange:a,isDescriptionEditable:!0}),i&&Object(Ma.jsx)(eN,{initialDescription:t.initialDescription})]})]})},nN=(n(1417),function(e){var t=e.selectedCategory,n=e.subcategories,a=e.onChange;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Jw,{category:t,onScoreChange:function(e){return a(t.categoryId,{value:e})},onDescriptionChange:function(e){return a(t.categoryId,{description:e})}}),Object(Ma.jsx)("div",{className:"category-content",children:n.map((function(e){return Object(Ma.jsx)(tN,{subcategory:e,onScoreChange:function(t){return a(e.categoryId,{value:t})},onDescriptionChange:function(t){return a(e.categoryId,{description:t})}},e.categoryId)}))})]})}),aN=(n(1418),function(e){return!(e<1)&&!(e>10)}),rN=function(e,t,n,a){var r=!0,c=!1,o=function(e,t){t.value===e.value&&t.description===e.description||(c=!0),aN(t.value)||(r=!1)};return o(e,t),a.forEach((function(e){var t=n.find((function(t){return t.categoryId===e.categoryId}));o(t,e)})),r&&c},cN=function(e,t){return e.filter((function(e){return e.parentId===t.categoryId}))},oN=function(e){var t=e.category,n=Object(r.useState)(!0),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(s.useDispatch)(),l=Object(s.useSelector)(PE).pending,d=Object(p.m)().projectId,u=Object(s.useSelector)(RE),j=Object(r.useState)(t),O=Object(Cr.a)(j,2),f=O[0],_=O[1],x=Object(s.useSelector)(ME),g=Object(s.useSelector)(DE).pending,v=Object(s.useSelector)(FE),L=v.pending,C=v.success,T=Object(s.useSelector)(UE),y=T.pending,I=T.success,E=L||y,w=C||I,N=Object(r.useState)(u?cN(u.data,t):[]),A=Object(Cr.a)(N,2),S=A[0],k=A[1];Object(r.useEffect)((function(){u&&!x&&(_(t),k(cN(u.data,t)))}),[t,u,x]),Object(r.useEffect)((function(){var e,n,a=cN(u&&u.data||[],t);if(x&&(e=a,n=S,0===Object(h.xor)(e.map((function(e){return e.categoryId})),n.map((function(e){return e.categoryId}))).length)){var r=rN(t,f,a,S);o(!r)}}),[S,t,u,x,f]),Object(r.useEffect)((function(){w&&(i(kE()),i(SE()),i(NE(!1)),i(wE(d)))}),[w,i,d]),Object(r.useEffect)((function(){i(NE(!1))}),[t,i]);var D=function(e,t){var n=[].concat(Object(m.a)(S),[f]).find((function(t){return t.categoryId===e})),a=Object(b.a)(Object(b.a)({},n),t);if(a.categoryId===f.categoryId)_(a);else{var r=S.map((function(t){return t.categoryId===e?a:t}));k(r)}},R=u&&u.overallDealComplexity;return Object(Ma.jsx)(Ma.Fragment,{children:u&&f&&Object(Ma.jsxs)("div",{className:"dd-results-wrapper",children:[!ue.isClientUser()&&Object(Ma.jsx)($w,{saveDisabled:c||E,editDisabled:g,cancelDisabled:E,onSave:function(){t.categoryId===u.overallDealComplexity.categoryId?i(function(e,t){return gE({reducer:"".concat(vE,"saveOverallComplexity"),endpoint:Bc(e),verb:"PUT",httpClient:Ve(e),body:t})}(d,f)):i(function(e,t){return gE({reducer:"".concat(vE,"saveCategories"),endpoint:Uc(e),verb:"PUT",httpClient:Ve(e),body:t})}(d,[].concat(Object(m.a)(S),[f])))}}),(E||g)&&Object(Ma.jsx)(er.Loader,{}),!E&&!g&&Object(Ma.jsxs)("div",{className:"divestiture-diagnostic-category-wrapper",children:[t.categoryId===R.categoryId&&Object(Ma.jsx)(Xw,{selectedCategory:f,categories:u.data,onChange:D}),t.categoryId!==R.categoryId&&Object(Ma.jsx)(nN,{onChange:D,selectedCategory:f,subcategories:S}),Iw.diagnosticDebuggingControls&&Object(Ma.jsx)("div",{className:"dd-reset-results-btn",children:Object(Ma.jsx)(er.Button,{className:"reset-dd-results-button",onClick:function(){i(uw()),i(function(e){return gE({reducer:"".concat(vE,"resetDivestitureDiagnosticResults"),endpoint:Fc(e),verb:"DELETE",httpClient:Ve(e)})}(d))},disabled:l,children:"Reset Divestiture Diagnostic Results"})})]})]})})},iN=function(){var e=Object(s.useSelector)(RE);return Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{path:Q,render:function(t){var n=t.match,a=[e.overallDealComplexity].concat(Object(m.a)(e.data)).find((function(e){return e.path===n.params.categoryPath}));return a&&Object(Ma.jsx)(oN,{category:a})}}),Object(Ma.jsx)(p.d,{render:function(t){var n=t.match.params.projectId,a=e.overallDealComplexity.path;return Object(Ma.jsx)(p.c,{to:X(n,a)})}})]})},sN=function(){var e=Object(p.m)().projectId,t=Object(s.useSelector)(RE),n=Object(s.useSelector)(DE),a=n.pending,r=n.success;return Object(Ma.jsxs)(Ma.Fragment,{children:[a&&Object(Ma.jsx)(er.Loader,{}),!a&&r&&Object(Ma.jsxs)(Ma.Fragment,{children:[!t&&Object(Ma.jsx)(p.c,{to:pE(e)}),t&&Object(Ma.jsx)(iN,{})]})]})},lN=(n(1419),function(e){var t,n,a=e.question;return function(e){return!(e.conditions&&e.conditions.length>0)||e.answer}(a)&&Object(Ma.jsxs)("tr",{className:"response-wrapper",children:[Object(Ma.jsx)("td",{className:"question-cell",children:a.text}),Object(Ma.jsx)("td",{className:"answer-cell",children:(t=a.type,n=a.answer,"multiselect"===t?Object(Ma.jsx)("ul",{className:"multiselect-answers",children:n.map((function(e){return Object(Ma.jsx)("li",{children:e.text},"".concat(e.id,"-").concat(e.text))}))}):n?n.text:"")})]})}),dN=(n(1420),function(e){var t=e.section,n=t.sectionTitle,a=t.questions,r=t.sectionPath,c=Object(s.useSelector)(BE)===K;return Object(Ma.jsx)("div",{className:"response-section-container",children:Object(Ma.jsxs)("table",{children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsxs)("tr",{children:[Object(Ma.jsx)("th",{children:n}),!c&&Object(Ma.jsx)("th",{className:"response-section-button-header",children:Object(Ma.jsx)(Ja.Link,{to:r,className:"ui-button button-outline",children:"Amend"})})]})}),Object(Ma.jsx)("tbody",{children:a.map((function(e){return Object(Ma.jsx)(lN,{question:e},e.id)}))})]})})}),uN=(n(1421),function(e){var t=e.additionalComments,n=e.onChange,a=e.lightModeVariant,c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],s=o[1];return Object(Ma.jsxs)("div",{className:"additional-comments".concat(a?" light-mode-variant":""),children:[Object(Ma.jsx)("p",{children:"If you would like to add any comments in association to this section, please mention below."}),Object(Ma.jsx)("p",{className:"additional-comments-label",children:"Additional Comments"}),Object(Ma.jsx)(hp,{richTextData:t,onChange:n,config:pp,onBlur:function(e,t){s(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){s(!0),t.ui.view.toolbar.element.style.display="block"},isFocused:i}),Object(Ma.jsx)("p",{children:"When you are happy with your responses please submit to allow use to proceed."})]})}),jN=function(){var e=Object(s.useSelector)(RE).comment||"No additional comments entered.";return Object(Ma.jsx)("div",{className:"response-section-container",children:Object(Ma.jsxs)("table",{children:[Object(Ma.jsx)("thead",{children:Object(Ma.jsx)("tr",{children:Object(Ma.jsx)("th",{children:"Additional Comments"})})}),Object(Ma.jsx)("tbody",{children:Object(Ma.jsx)("tr",{children:Object(Ma.jsx)("td",{children:Object(Ma.jsx)("div",{className:"additional-comments-rich-text",dangerouslySetInnerHTML:{__html:Qa(e)}})})})})]})})},bN=function(e){var t=e.additionalComments,n=e.onChange,a=Object(s.useSelector)(BE);return Object(Ma.jsxs)(Ma.Fragment,{children:[a===oE&&Object(Ma.jsx)(uN,{onChange:n,additionalComments:t}),a===K&&Object(Ma.jsx)(jN,{})]})},pN=function(e,t,n){var a=function(e){return Object(b.a)(Object(b.a)({},e),{},{text:e.value})},r=e["multiselect"===n.type?"filter":"find"]((function(e){return e.sectionId===t.id&&e.questionId===n.id}));return r?function(e){switch(n.type){case"radio":return function(e){var t=n.options.find((function(t){return t.id===e.optionId}));return Object(b.a)(Object(b.a)({},e),{},{text:t&&t.text})}(e);case"percent":return a(e);case"multiselect":return function(e){return e.map((function(e){var t=n.options.find((function(t){return t.id===e.optionId}));return Object(b.a)(Object(b.a)({},e),{},{text:t&&t.text})}))}(e);default:return a(e)}}(r):null},mN=function(e){return e&&e.sections?e.sections.map((function(t){return{sectionId:t.id,sectionPath:t.path,sectionTitle:t.title,questions:e.questions.filter((function(e){return e.sectionId===t.id})).map((function(n){return Object(b.a)(Object(b.a)({},n),{},{id:n.id,sectionId:n.sectionId,text:n.text,answer:pN(e.answers,t,n)})}))}})):[]},ON=function(e){var t=e.isSurveySubmitted,n=Object(s.useDispatch)(),a=Object(p.m)().projectId,c=Object(p.k)(),o=Object(s.useSelector)(Ow),i=Object(s.useSelector)(fw).pending,l=Object(s.useSelector)(hw),d=l.pending,u=l.success,j=Object(s.useSelector)(xw),b=Object(s.useSelector)(vw),m=Object(s.useSelector)(BE),O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(r.useState)(!1),v=Object(Cr.a)(g,2),L=v[0],C=v[1],T=Object(r.useState)(""),y=Object(Cr.a)(T,2),I=y[0],E=y[1],w=m===oE;return Object(r.useEffect)((function(){o||n(pw(a))}),[n,a,o]),Object(r.useEffect)((function(){w&&u&&(n(dw()),n(wE(a)),c.push(J(a)))}),[u,c,a,n,w]),Object(r.useEffect)((function(){var e=!0,t=Ie.getProjectTokenProperty(a,"role"),n=Ie.hasProjectPermission(a,["Approve"]);return e&&(_(x.Constants.USER_ROLE_GROUPS.CLIENT.includes(t)),C(n)),function(){e=!1}}),[_,C,a,n]),Object(Ma.jsxs)(Ma.Fragment,{children:[o&&Object(Ma.jsxs)("div",{className:"review-responses-container",children:[o.sections&&mN(o).map((function(e){return Object(Ma.jsx)(dN,{projectId:a,section:e},e.sectionId)})),Object(Ma.jsx)(bN,{additionalComments:I,onChange:function(e){return E(e)}}),w&&Object(Ma.jsxs)("div",{className:"responses-footer",children:[Object(Ma.jsx)(er.Button,{className:"submit-responses-button",onClick:function(){return n(function(e,t){return gE({reducer:"".concat(ew,"postResponses"),endpoint:XE(e),verb:"POST",httpClient:Ve(e),body:{comment:t}})}(a,I))},disabled:!b||d||t||!h&&!L,children:"Submit Responses"}),Iw.diagnosticDebuggingControls&&Object(Ma.jsx)(er.Button,{className:"reset-answers-button",onClick:function(){return n(function(e){return gE({reducer:"".concat(ew,"resetAnswers"),endpoint:JE(e),verb:"DELETE",httpClient:Ve(e)})}(a))},disabled:i||t,children:"Reset Answers"})]})]}),j.pending&&Object(Ma.jsx)(er.Loader,{})]})},fN=function(){var e=Object(p.m)().projectId,t=Object(s.useSelector)(Ow),n=Object(s.useSelector)(fw).success,a=t&&t.sections[0].path;return n&&t&&Object(Ma.jsx)(p.c,{to:mE(e,a)})},hN=function(){var e=Object(p.m)().projectId,t=Object(s.useSelector)(RE),n=Object(s.useSelector)(BE)===oE;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(fN,{}),n&&t&&Object(Ma.jsx)(p.c,{to:bE(e,K)}),!n&&!t&&Object(Ma.jsx)(p.c,{to:bE(e,oE)}),Object(Ma.jsx)(ON,{isSurveySubmitted:!!t})]})},_N=function(){var e=Object(s.useDispatch)(),t=Object(p.m)().projectId,n=Object(s.useSelector)(RE),a=Object(s.useSelector)(DE).pending;return Object(r.useEffect)((function(){return e(wE(t)),function(){return e(dw())}}),[e,t]),Object(Ma.jsxs)(Ma.Fragment,{children:[a&&Object(Ma.jsx)(er.Loader,{}),Object(Ma.jsx)("div",{className:"divestiture-diagnostic-content-wrapper",children:!a&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Kw,{}),Object(Ma.jsx)(ww,{}),Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{path:iE,exact:!0,children:Object(Ma.jsx)("div",{className:"diagnostic-content-container",children:Object(Ma.jsx)(hN,{})})}),Object(Ma.jsx)(p.d,{path:z,children:Object(Ma.jsx)(sN,{})}),Object(Ma.jsx)(p.d,{path:sE,children:Object(Ma.jsx)("div",{className:"diagnostic-content-container",children:Object(Ma.jsx)(Hw,{})})}),Object(Ma.jsxs)(p.d,{children:[!n&&Object(Ma.jsx)(p.c,{to:pE(t)}),n&&Object(Ma.jsx)(p.c,{to:J(t)})]})]})]})})]})},xN=(n(1422),function(){return Object(Ma.jsx)(p.d,{path:q,children:Object(Ma.jsx)(_N,{})})}),gN=(n(1423),["onCancel","isSaving","errorType","errors","touched","isValid","children","projectId","parentContentId","narratives","setNarratives","dirty","onSaveText","standbyText"]),vN=function(e){var t=e.onCancel,n=e.isSaving,a=e.errorType,r=e.errors,c=e.touched,o=e.isValid,i=e.children,s=e.projectId,l=e.parentContentId,d=e.narratives,u=e.setNarratives,j=e.dirty,p=e.onSaveText,m=e.standbyText,O=Object(Pi.a)(e,gN),f="publish"===a,h=f||"title"!==me()(a,"fieldName","").toLowerCase()?void 0:a.apiErrorMessage,_=f||!h?a:void 0;return Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsx)(Xg,{onCancel:t,isSaving:n,errors:r,touched:c,isValid:o,dirty:j,onSaveText:p,standbyText:m}),children:[i,Object(Ma.jsxs)(Qs.Form,Object(b.a)(Object(b.a)({"data-testid":"hypothesis-form",className:"mt-5"},O),{},{children:[Object(Ma.jsxs)("div",{className:"form-fields",children:[Object(Ma.jsxs)("div",{className:"input-container",children:[Object(Ma.jsx)(Qs.Field,{name:"title",component:ub,className:"title-fieldset fill icon-grey-alt-lighter",label:"Title",error:h,placeholder:"Start typing here to give your new Key Focus Area a title"}),Object(Ma.jsx)(Qs.Field,{name:"body",component:qO,label:"Description (optional)",dataTestId:"text-area-body",config:mp}),Object(Ma.jsx)(Qs.Field,{name:"conclusion",className:"test",component:qO,label:"PwC View (optional)",dataTestId:"text-area-conclusion",config:mp})]}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(od,{projectId:s})]}),Object(Ma.jsx)(eb,{projectId:s,parentContentId:l,narratives:d,setNarratives:u}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:t,"data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Hj,{isSaving:n,isValid:o,buttonPosition:"bottom",dirty:j,onSaveText:p,standbyText:m})]}),_&&Object(Ma.jsx)(Io,{configType:_})]}))]})},LN=pv.c().shape({title:pv.d().trim().required("Title is required")}),CN=(n(1424),function(){var e=Object(p.k)(),t=Object(p.m)().projectId,n=Object(r.useRef)(),a=Object(r.useState)(),c=Object(Cr.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(!1),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)({title:"",body:"",conclusion:"",tags:[]}),m=Object(Cr.a)(j,1)[0],O=Object(r.useState)(null),f=Object(Cr.a)(O,2),h=f[0],_=f[1];Object(r.useEffect)((function(){n.current&&(n.current.resetForm(),n.current.validateForm(m))}),[e.location,n,m]),Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tt(t).then(_);case 1:case"end":return e.stop()}}),e)})))()}),[t]);var g=function(){return e.goBack()},v=function(n){e.replace(oc(t,n))},L=function(){var e=Object(te.a)(ee.a.mark((function e(n){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,a=$e(h,-1),e.next=5,ut(t,Object(b.a)(Object(b.a)({},n),{},{title:n.title.trim(),body:n.body.trim(),conclusion:n.conclusion.trim(),tags:n.tags.map((function(e){return{text:e}})),links:a}));case 5:r=e.sent,i(),v(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),u(!1),i(x.ErrorUtilities.getContentErrorType(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(Ma.jsx)(Qs.Formik,{initialValues:Object(b.a)({},m),enableReinitialize:!0,onSubmit:L,validationSchema:LN,validateOnMount:!0,validateOnChange:!0,innerRef:n,children:function(e){var n=e.errors,a=e.touched,r=e.isValid;return Object(Ma.jsx)(vN,{onCancel:g,isSaving:d,errorType:o,errors:n,touched:a,isValid:r,projectId:t,parentContentId:-1,narratives:h,setNarratives:_,onSaveText:"Adding...",standbyText:"Add",children:Object(Ma.jsx)("h1",{children:"Add a Key Focus Area"})})}})}),TN=function(e,t){var n=Object(r.useState)(!1),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(null),s=Object(Cr.a)(i,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){if(e&&t){var n=function(e){return Object.values(e).flat().filter((function(e){return function(e){return e.links.some((function(e){return e.id===parseInt(t,10)&&(void 0===e.linked||!0===e.linked)}))}(e)})).map((function(e){return e.contentThreadId})).sort().join(",")},a=e?n(e):"";null===l?d(n(e)):o(a!==l)}}),[e,t,l]),c},yN=function(){var e=Object(p.m)(),t=e.projectId,n=e.hypothesisId,a=Object(p.k)(),c=Object(r.useState)(null),o=Object(Cr.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(null),d=Object(Cr.a)(l,2),u=d[0],j=d[1],O=Object(r.useState)(),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(r.useState)(!1),v=Object(Cr.a)(g,2),L=v[0],C=v[1],T=function(){return a.replace(oc(t,n))};Object(r.useEffect)((function(){dt(t,n).then((function(e){return s(Object(b.a)(Object(b.a)({},e),{},{body:e.body||"",conclusion:e.conclusion||""}))}))}),[t,n]),Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tt(t).then((function(e){j(Object(b.a)(Object(b.a)({},e),{},{hypotheses:e.hypotheses.filter((function(e){return e.contentThreadId.toString()!==n}))}))}));case 1:case"end":return e.stop()}}),e)})))()}),[t,n]);var y=function(){var e=Object(te.a)(ee.a.mark((function e(n){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,a=$e(u,i.contentId),r=et(u,i.links),e.next=6,jt(t,{contentThreadId:i.contentThreadId,contentId:i.contentId,title:n.title,body:n.body,conclusion:n.conclusion,impact:n.impact,tags:n.tags.map((function(e){return{text:e}})),links:[].concat(Object(m.a)(a),Object(m.a)(r))});case 6:_(),T(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),C(!1),_(x.ErrorUtilities.getContentErrorType(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),I=TN(u,i?i.contentId:null);return i?Object(Ma.jsx)(Qs.Formik,{initialValues:Object(b.a)(Object(b.a)({},i),{},{title:i.title||"",tags:i.tags?i.tags.map((function(e){return e.text})):[]}),enableReinitialize:!0,onSubmit:y,validationSchema:LN,validateOnChange:!0,children:function(e){var n=e.errors,a=e.touched,r=e.isValid,c=e.dirty;return Object(Ma.jsx)(vN,{className:"mt-5",onCancel:T,isSaving:L,errorType:h,errors:n,touched:a,isValid:r,projectId:t,parentContentId:i.contentId,narratives:u,dirty:c||I,setNarratives:j,onSaveText:"Updating...",standbyText:"Update",children:Object(Ma.jsx)("h1",{children:"Edit Key Focus Area"})})}}):null},IN=(n(1425),function(){var e=Object(p.m)(),t=e.projectId,n=e.hypothesisId,a=Object(r.useState)(null),c=Object(Cr.a)(a,2),o=c[0],i=c[1],l=Object(s.useDispatch)(),d=Object(p.k)(),u=Object(r.useState)(!1),j=Object(Cr.a)(u,2),b=j[0],m=j[1],O=Object(s.useSelector)(yt),f=Object(s.useSelector)(Tt);Object(r.useEffect)((function(){O&&!O.hasError&&pt(t,n).then((function(e){return i(e)}))}),[O,t,n]);var h=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),e.next=3,bt(t,n);case 3:e.sent&&d.replace(cc(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){return l(It(t,n)),function(){return l(gt())}}),[l,t,n]);var _=function(){return d.push(sc(t,n))},g=xj(Oj,function(){var e=Object(te.a)(ee.a.mark((function e(a,r,c){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mt(a,"".concat(r),c);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),l(fu({itemId:r,moreMenuErrorType:x.Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE})),e.abrupt("return");case 9:l(It(t,n));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),t,n,O,o),v=gj((function(){f||l(It(t,n,x.Constants.VERSION_STATUS.SHARED.value))}),(function(){f||l(It(t,n))}),o,O&&O.versionNumber,O&&O.versionStatus);Object(r.useEffect)((function(){O&&l(ei(O.shareWithAll))}),[l,O]);var L=Object(Ma.jsxs)(Ma.Fragment,{children:[O&&Object(Ma.jsx)("div",{className:"hypothesis-top-bar-container",children:Object(Ma.jsxs)("div",{className:"hypothesis-top-bar",children:[Object(Ma.jsx)("div",{}),Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(mo,{projectId:t,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:[Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(er.Button,{"data-testid":"edit-button",type:"button",onClick:_,className:"button-block button-small mr-3",disabled:t||v.isOnClientVersion,children:"Edit"})}}),Object(Ma.jsx)(Du,{itemId:n,onDelete:function(){return m(!0)},workflowActions:g,viewClient:v})]})})]})}),Object(Ma.jsx)(_s,{show:b,onCancel:function(){return m(!1)},onConfirm:h,confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Key Focus Area will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"})]});return t&&Object(Ma.jsxs)(wu,{headerComponent:L,children:[Object(Ma.jsxs)("div",{className:"hypothesis-main-content","data-testid":"hypothesis-detail-page",children:[Object(Ma.jsx)(vj,{cssLabel:"key-focus-area",label:"Key Focus Area"}),Object(Ma.jsx)(Uj,{projectId:t,content:O,allowDraftPill:!v.isOnClientVersion}),Object(Ma.jsx)(Cl,{projectId:t,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:Object(Ma.jsx)("div",{className:"section-name",children:"Title"})}),Object(Ma.jsx)(ws,{title:O.title}),Object(Ma.jsx)(Lj,{label:"Description",value:O.body}),Object(Ma.jsx)(Cl,{projectId:t,roles:x.Constants.USER_ROLE_GROUPS.CLIENT,children:O.conclusion?Object(Ma.jsxs)("div",{className:"client-view-conclusion","data-testid":"client-view-conclusion",children:[Object(Ma.jsx)("div",{className:"section-name",children:"PwC View"}),Object(Ma.jsx)(Lj,{sectionId:"conclusion",label:"PwC View",value:O.conclusion})]}):null}),Object(Ma.jsx)(Cl,{projectId:t,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:Object(Ma.jsx)(Lj,{sectionId:"conclusion",label:"PwC View",value:O.conclusion})})]}),Object(Ma.jsx)(_h,{projectId:t,contentId:O.contentId}),O.tags&&O.tags.length>0&&Object(Ma.jsx)(Ll,{tags:O.tags,testId:"hypothesis-tag-list"})]})}),EN=function(e){var t=e.children,n=e.title,a=Object(r.useState)(!1),c=Object(Cr.a)(a,2),o=c[0],i=c[1];return Object(Ma.jsxs)("div",{className:"accordion accordion-".concat(o?"open":"closed"),children:[Object(Ma.jsxs)("button",{type:"button",onClick:function(){i(!o)},className:"accordion-toggle","data-testid":"accordion-toggle",children:[n,Object(Ma.jsx)(er.Icon,{name:o?"desc":"asc",width:21,className:"fill icon-orange-theme"})]}),o&&t]})},wN=function(e){var t=e.narratives,n=e.projectId,a=e.index,r=e.showBody,c=void 0!==r&&r,o=t.insights.length>0,i=t.analyses.length>0,s=t.hypotheses.length>0;return o||i||s?Object(Ma.jsx)("div",{className:"accordion-connected-content","data-testid":"accordion-connected-content-".concat(a),children:Object(Ma.jsxs)(EN,{title:"Connected content",children:[o&&Object(Ma.jsx)(dl,{title:"Insights",narratives:t.insights,getViewPath:function(e){return dc(n,e)},index:a,showBody:c,truncate:!1}),i&&Object(Ma.jsx)(dl,{title:"Analyses",narratives:t.analyses,getViewPath:xl(t.analyses,n),index:a,showBody:c,truncate:!1}),s&&Object(Ma.jsx)(dl,{title:"Key Focus Areas",narratives:t.hypotheses,getViewPath:function(e){return oc(n,e)},index:a,showBody:c,truncate:!1})]})}):null},NN={contentId:lo.a.number.isRequired,contentThreadId:lo.a.number.isRequired,title:lo.a.string.isRequired,body:lo.a.string},AN=(Object(b.a)(Object(b.a)({},NN),{},{connectedAnalyses:lo.a.arrayOf(lo.a.shape(NN)).isRequired}),function(e){var t=e.analysis,n=e.projectId,a=e.testId;return Object(Ma.jsx)("h5",{className:"analysis-title-heading",children:Object(Ma.jsx)(Ja.Link,{to:_l(n,t),"data-testid":a,className:"analysis-title-link",children:t.title})},t.contentId)}),SN=function(e){var t=e.projectId,n=e.insight,a=e.hypothesisIndex,r=e.insightIndex,c=dc(t,n.contentThreadId);return Object(Ma.jsxs)("tr",{className:"insights-table-row","data-testid":"insight-table-row-".concat(n.contentThreadId),children:[Object(Ma.jsxs)("td",{className:"connected-insight-cell","data-testid":"connected-insight-cell",children:[Object(Ma.jsx)("h4",{className:"kfa-connected-insight-title","data-testid":"kfa-connected-insight-heading",children:Object(Ma.jsx)(Ja.Link,{to:c,className:"kfa-connected-insight-title-link","data-testid":"kfa-connected-insight-title-".concat(a,"-").concat(r),children:n.title},n.contentId)}),n.body&&Object(Ma.jsx)("div",{className:"kfa-connected-insight-body","data-testid":"kfa-connected-insight-body-".concat(a,"-").concat(r),dangerouslySetInnerHTML:{__html:Qa(n.body)}})]}),Object(Ma.jsx)("td",{className:"kfa-connected-analysis-title-cell analyses-connected-to-insight-cell","data-testid":"analyses-connected-to-insight-cell",children:n.connectedAnalyses.map((function(e,n){return Object(Ma.jsx)(AN,{analysis:e,projectId:t,testId:"kfa-connected-insight-analysis-title-".concat(a,"-").concat(r,"-").concat(n)},e.contentId)}))})]},n.contentThreadId)},kN=function(e){var t=e.analyses,n=e.hypothesisIndex,a=e.projectId;return t.length>0&&Object(Ma.jsxs)("tr",{className:"kfa-directly-connected-analyses-row","data-testid":"analyses-row-".concat(n),children:[Object(Ma.jsx)("td",{className:"kfa-connected-analysis-empty-cell"}),Object(Ma.jsx)("td",{className:"kfa-connected-analysis-title-cell","data-testid":"kfa-connected-analysis-title-cell-".concat(n),children:t.map((function(e,t){return Object(Ma.jsx)(AN,{analysis:e,projectId:a,testId:"kfa-connected-analysis-title-".concat(n,"-").concat(t)},e.contentId)}))})]})},DN=(n(1426),function(e){var t=e.hypothesis,n=e.hypothesisIndex,a=e.projectId,r=t.connectedInsights.flatMap((function(e){return e.connectedAnalyses})),c=t.connectedAnalyses.filter((function(e){return!r.find((function(t){return t.contentThreadId===e.contentThreadId&&t.contentId===e.contentId}))})),o=c.length+r.length,i=t.connectedInsights.length>0,s=o>0;return Object(Ma.jsx)("div",{className:"analyses-and-insights-details","data-testid":"analyses-and-insights-details",children:Object(Ma.jsxs)("table",{className:"analyses-and-insights-table","data-testid":"analyses-and-insights-table",children:[Object(Ma.jsx)("thead",{className:"analyses-and-insights-table-header",children:Object(Ma.jsxs)("tr",{"data-testid":"analyses-and-insights-header-row",className:"analyses-and-insights-header-row",children:[Object(Ma.jsx)("th",{"data-testid":"insights-header-cell",className:"insights-header-cell",children:Object(Ma.jsx)("span",{"data-testid":"insights-header",className:nr()("connected-content-heading","insights-header",i?"orange":null),children:"Insights"})}),Object(Ma.jsx)("th",{"data-testid":"analyses-header-cell",className:"analyses-header-cell",children:Object(Ma.jsx)("span",{"data-testid":"analyses-header",className:nr()("connected-content-heading","analyses-header",s?"orange":null),children:"Analyses"})})]})}),Object(Ma.jsxs)("tbody",{className:"analyses-and-insights-table-body",children:[t.connectedInsights.map((function(e,t){return Object(Ma.jsx)(SN,{projectId:a,insight:e,hypothesisIndex:n,insightIndex:t},e.contentThreadId)})),Object(Ma.jsx)(kN,{projectId:a,analyses:c,hypothesisIndex:n})]})]})})}),RN=(n(1427),function(e){var t=e.primaryKfaIndex,n=e.connectedKfas,a=e.projectId;return n.length>0&&Object(Ma.jsxs)("div",{className:"connected-kfas-section","data-testid":"connected-kfas-section",children:[Object(Ma.jsx)("h4",{className:"connected-kfas-section-heading","data-testid":"connected-kfas-section-heading",children:"Connected Key Focus Areas"}),n.map((function(e,n){return Object(Ma.jsx)("h5",{"data-testid":"kfa-connected-kfa-title-".concat(t,"-").concat(n),className:"kfa-connected-kfa-title",children:Object(Ma.jsx)(Ja.Link,{"data-testid":"kfa-connected-kfa-link-".concat(t,"-").concat(n),to:oc(a,e.contentThreadId),className:"kfa-connected-kfa-link",children:e.title})},e.contentId)}))]})}),PN=(n(1428),function(e){var t=e.hypothesis,n=e.projectId,a=e.onEditMenuClick,r=e.onDeleteMenuClick,c=e.index,o={insights:t.connectedInsights,analyses:t.connectedAnalyses,hypotheses:t.connectedKfas};return Object(Ma.jsxs)("div",{className:"card-container","data-testid":"card-container-".concat(c),children:[Object(Ma.jsxs)("div",{className:"hypothesis-card-contents","data-testid":"hypothesis-card-contents",children:[Object(Ma.jsxs)("div",{className:"card-details","data-testid":"kfa-card-details",children:[Object(Ma.jsx)("div",{className:"card-title","data-testid":"kfa-card-title",children:Object(Ma.jsx)(Ja.Link,{to:oc(n,t.contentThreadId),"data-testid":"hypothesis-detail-grid-link-".concat(c),"aria-label":"View Key Focus Area",children:Object(Ma.jsx)("h2",{children:t.title})})}),Object(Ma.jsx)("div",{className:"card-description","data-testid":"hypothesis-description-".concat(c),dangerouslySetInnerHTML:{__html:Qa(t.body)}}),Object(Ma.jsx)(RN,{primaryKfaIndex:c,connectedKfas:t.connectedKfas,projectId:n})]}),Object(Ma.jsx)(DN,{projectId:n,hypothesis:t,hypothesisIndex:c}),Object(Ma.jsx)("div",{className:"card-narrative-mobile",children:Object(Ma.jsx)(wN,{narratives:o,projectId:n,index:c,showBody:!0})})]}),Object(Ma.jsxs)("div",{className:"hypothesis-grid-card-footer","data-testid":"hypothesis-grid-card-footer",children:[Object(Ma.jsx)(kl,{className:"align-center",projectId:n,content:t,allowDraftPill:!0}),Object(Ma.jsx)("div",{className:"right",children:Object(Ma.jsx)(ol,{projectId:n,itemId:t.contentThreadId,onEditMenuClick:a,onDeleteMenuClick:r,direction:"left"})})]}),t.tags&&t.tags.length>0&&Object(Ma.jsx)(Ll,{tags:t.tags,testId:"hypothesis-tag-list"})]})}),MN=function(e){var t=e.kfasFilteredByTags,n=e.onDelete,a=e.projectId,c=e.projectHasKfas,o=Object(p.k)(),i=function(){},s=Object(r.useState)(!1),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)((function(){return i})),b=Object(Cr.a)(j,2),m=b[0],O=b[1],f=function(e){return o.push(sc(a,e))},h=function(e){var t=function(){u(!1),n(e)};O((function(){return t})),u(!0)},_=t.length>0;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:d,onCancel:function(){return u(!1)},onConfirm:m,confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Key Focus Area will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsxs)("div",{className:"list-grid list-grid-hypotheses","data-testid":"list-grid",children:[!c&&Object(Ma.jsx)(Cd,{projectId:a}),!_&&c&&Object(Ma.jsx)(id,{}),_&&Object(Ma.jsx)(Ma.Fragment,{children:t.map((function(e,t){return Object(Ma.jsx)(PN,{hypothesis:e,projectId:a,onEditMenuClick:f,onDeleteMenuClick:h,index:t},"content-grid-card-".concat(e.contentThreadId))}))})]})]})},FN=(n(1429),function(){var e=Object(r.useState)(!0),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(p.m)().projectId,u=Object(r.useState)([]),j=Object(Cr.a)(u,2),b=j[0],m=j[1],O=Object(r.useState)([]),f=Object(Cr.a)(O,2),h=f[0],_=f[1],x=Object(s.useSelector)(Pr),g=Object(s.useDispatch)();Object(r.useEffect)((function(){l(!1),a(!0),st(d).then((function(e){m(e),a(!1)})).catch((function(){l(!0),a(!1)}))}),[d]);var v=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(d,t);case 2:if(!e.sent){e.next=8;break}return e.next=6,st(d);case 6:n=e.sent,m(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){_(e)},C=b.filter((function(e){var t=new Set((e.tags||[]).map((function(e){return e.text})));return!h.length||h.some((function(e){return t.has(e)}))}));return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)("div",{className:"hypothesis-list-container",children:[Object(Ma.jsxs)("div",{className:"list-container-header",children:[Object(Ma.jsx)("h2",{className:"list-container-h2",children:"Key Focus Areas"}),i&&Object(Ma.jsx)("div",{children:"You don&t have access to this content"}),Object(Ma.jsx)(Js,{viewGrid:x.settings.viewGrid,onClick:function(){g(Dr({viewGrid:!x.settings.viewGrid}))}})]}),Object(Ma.jsx)("div",{className:"tag-editor-container",children:Object(Ma.jsx)(Qs.Formik,{initialValues:{tags:[]},children:function(){return Object(Ma.jsx)(od,{projectId:d,onSelect:L,tagsRight:!0,title:!1,subtitle:!1,allowCreateTags:!1,placeholderText:"Filter by tag"})}})}),n?Object(Ma.jsx)(er.Loader,{dataTestId:"loader"}):Object(Ma.jsx)(Ma.Fragment,{children:!0===x.settings.viewGrid?Object(Ma.jsx)(MN,{projectId:d,kfasFilteredByTags:C,projectHasKfas:!!b.length,onDelete:v}):Object(Ma.jsx)(Lu,{contentType:xd,projectId:d,contentItems:C,projectHasContent:!!b.length,onDelete:function(e){var t=e.contentThreadId;return v(t)},onReorder:function(e){m(e)},updateSortOrderApiCall:Ot,isFiltered:h.length>0})})]})})}),UN=function(){return Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{exact:!0,path:"/projects/:projectId/key-focus-areas",component:FN}),Object(Ma.jsx)(p.d,{exact:!0,path:"/projects/:projectId/key-focus-areas/:hypothesisId/view",component:IN}),Object(Ma.jsx)(Ui,{exact:!0,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],isAuthorized:ue.hasValidToken,path:"/projects/:projectId/key-focus-areas/create",component:CN}),Object(Ma.jsx)(Ui,{exact:!0,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],isAuthorized:ue.hasValidToken,path:"/projects/:projectId/key-focus-areas/:hypothesisId/edit",component:yN})]})},BN=(n(1430),function(e){var t=e.insight,n=e.narratives,a=e.projectId,r=e.onEditMenuClick,c=e.onDeleteMenuClick,o=e.index;return Object(Ma.jsxs)("div",{className:"card-container",children:[Object(Ma.jsx)("div",{className:"row",children:Object(Ma.jsxs)("div",{className:"col down",children:[Object(Ma.jsx)("div",{className:"card-title",children:Object(Ma.jsx)(Ja.Link,{to:dc(a,t.contentThreadId),"data-testid":"insight-detail-grid-link-".concat(o),"aria-label":"View Insight",children:Object(Ma.jsx)("h2",{children:t.title})})}),Object(Ma.jsx)("span",{className:"card-description","data-testid":"insight-description-".concat(o),dangerouslySetInnerHTML:{__html:Qa(t.body)}}),Object(Ma.jsx)(wN,{narratives:n,projectId:a,index:o})]})}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"card-action-footer",children:[Object(Ma.jsx)(kl,{projectId:a,content:t,allowDraftPill:!0}),Object(Ma.jsx)("div",{className:"card-actions",children:Object(Ma.jsx)(mo,{projectId:a,permissions:["Contribute"],children:Object(Ma.jsx)(ol,{projectId:a,itemId:t.contentThreadId,onEditMenuClick:r,onDeleteMenuClick:c})})})]}),Object(Ma.jsx)("div",{className:"row",children:t.tags&&t.tags.length>0&&Object(Ma.jsx)(Ll,{tags:t.tags,testId:"insights-tag-list"})})]})}),YN=(n(1431),function(e){var t=e.data,n=e.narratives,a=e.onDelete,c=e.projectId,o=e.hasContent,i=Object(p.k)(),s=function(){},l=Object(r.useState)(!1),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)((function(){return s})),m=Object(Cr.a)(b,2),O=m[0],f=m[1],h=function(e){return i.push(jc(c,e))},_=function(e){var t=function(){j(!1),a(e)};f((function(){return t})),j(!0)},x=t.length>0;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(_s,{show:u,onCancel:function(){return j(!1)},onConfirm:O,confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Insight will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"}),Object(Ma.jsxs)("div",{className:"insights-grid-container",children:[x&&Object(Ma.jsx)("div",{className:"grid-cards list-grid","data-testid":"list-grid",children:t.map((function(e,t){return Object(Ma.jsx)(BN,{insight:e,narratives:Xe(n,e.contentId),projectId:c,onEditMenuClick:h,onDeleteMenuClick:_,index:t},"content-grid-card-".concat(e.contentThreadId))}))}),!x&&!o&&Object(Ma.jsx)(yd,{projectId:c}),!x&&o&&Object(Ma.jsx)(id,{})]})]})}),WN=function(){var e=Object(r.useState)(!0),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(p.m)().projectId,u=Object(r.useState)([]),j=Object(Cr.a)(u,2),b=j[0],m=j[1],O=Object(r.useState)([]),f=Object(Cr.a)(O,2),h=f[0],_=f[1],x=Object(r.useState)({}),g=Object(Cr.a)(x,2),v=g[0],L=g[1],C=Object(s.useSelector)(Pr),T=Object(s.useDispatch)();Object(r.useLayoutEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!1),a(!0),Promise.all([St(d),tt(d)]).then((function(e){var t=Object(Cr.a)(e,2),n=t[0],r=t[1];m(n),L(r),a(!1)})).catch((function(){l(!0),a(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]);var y=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(d,t);case 2:if(!e.sent){e.next=8;break}return e.next=6,St(d);case 6:n=e.sent,m(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){_(e)},E=b.filter((function(e){var t=new Set((e.tags||[]).map((function(e){return e.text})));return!h.length||h.some((function(e){return t.has(e)}))}));return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)("div",{className:"insights-list-container",children:[Object(Ma.jsxs)("div",{className:"list-container-header",children:[Object(Ma.jsx)("h2",{className:"insights-list-h2",children:"Insights"}),Object(Ma.jsx)(Js,{viewGrid:C.settings.viewGrid,onClick:function(){return T(Dr({viewGrid:!C.settings.viewGrid}))}})]}),i&&Object(Ma.jsx)("div",{children:"You don't have access to this content"}),Object(Ma.jsx)("div",{className:"tag-editor-container",children:Object(Ma.jsx)(Qs.Formik,{initialValues:{tags:[]},children:function(){return Object(Ma.jsx)(od,{projectId:d,onSelect:I,tagsRight:!0,title:!1,subtitle:!1,allowCreateTags:!1,placeholderText:"Filter by tag"})}})}),n?Object(Ma.jsx)(er.Loader,{dataTestId:"loader"}):Object(Ma.jsx)(Ma.Fragment,{children:!0===C.settings.viewGrid?Object(Ma.jsx)(YN,{projectId:d,data:E,hasContent:!!b.length,narratives:v,onDelete:y}):Object(Ma.jsx)(Lu,{contentType:gd,projectId:d,contentItems:E,projectHasContent:!!b.length,onDelete:function(e){var t=e.contentThreadId;return y(t)},onReorder:function(e){m(e)},updateSortOrderApiCall:Ut,isFiltered:h.length>0})})]})})},VN=(n(1432),["isSaving","errorType","isValid","errors","touched","onCancel","children","projectId","parentContentId","narratives","setNarratives","dirty","onSaveText","standbyText"]),ZN=function(e){var t=e.isSaving,n=e.errorType,a=e.isValid,r=e.errors,c=e.touched,o=e.onCancel,i=e.children,s=e.projectId,l=e.parentContentId,d=e.narratives,u=e.setNarratives,j=e.dirty,p=e.onSaveText,m=e.standbyText,O=Object(Pi.a)(e,VN),f="publish"===n,h=f||"title"!==me()(n,"fieldName","").toLowerCase()?void 0:n.apiErrorMessage,_=f||!h?n:void 0;return Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsx)(Xg,{onCancel:o,isSaving:t,isValid:a,errors:r,touched:c,dirty:j,onSaveText:p,standbyText:m}),children:[i,Object(Ma.jsxs)(Qs.Form,Object(b.a)(Object(b.a)({"data-testid":"insight-form",className:"mt-5 insight-form"},O),{},{children:[Object(Ma.jsxs)("div",{className:"form-fields",children:[Object(Ma.jsxs)("div",{className:"input-container",children:[Object(Ma.jsx)(Qs.Field,{name:"title",component:ub,label:"Title",className:"title-fieldset",error:h}),Object(Ma.jsx)(Qs.Field,{name:"body",component:qO,label:"Description (optional)",config:Op,dataTestId:"text-area-body"})]}),Object(Ma.jsx)(od,{projectId:s})]}),Object(Ma.jsx)(eb,{projectId:s,parentContentId:l,narratives:d,setNarratives:u}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",type:"button",onClick:o,"data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Kj,{isValid:a,isSaving:t,buttonPosition:"bottom",dirty:j,onSaveText:p,standbyText:m})]}),_&&Object(Ma.jsx)(Io,{configType:_})]}))]})},GN=pv.c().shape({title:pv.d().trim().required("Title is required").max(350)}),HN=function(){var e=Object(p.m)().projectId,t=Object(p.k)(),n=Object(r.useRef)(),a=Object(r.useState)({title:"",body:"",tags:[]}),c=Object(Cr.a)(a,1)[0],o=Object(r.useState)(),i=Object(Cr.a)(o,2),s=i[0],l=i[1],d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],m=u[1],O=Object(r.useState)(null),f=Object(Cr.a)(O,2),h=f[0],_=f[1];Object(r.useEffect)((function(){n.current&&(n.current.resetForm(),n.current.validateForm(c))}),[t.location,n,c]),Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:tt(e).then(_);case 1:case"end":return t.stop()}}),t)})))()}),[e]);var g=function(){return t.goBack()},v=function(n){return t.replace(dc(e,n))},L=function(){var t=Object(te.a)(ee.a.mark((function t(n){var a,r;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,a=$e(h,-1),t.next=5,Rt(e,Object(b.a)(Object(b.a)({},n),{},{title:n.title.trim(),body:n.body.trim(),tags:n.tags.map((function(e){return{text:e}})),links:a}));case 5:r=t.sent,l(),v(r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),m(!1),l(x.ErrorUtilities.getContentErrorType(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(Ma.jsx)(Qs.Formik,{initialValues:c,onSubmit:L,validationSchema:GN,validateOnMount:!0,validateOnChange:!0,enableReinitialize:!0,innerRef:n,children:function(t){var n=t.errors,a=t.touched,r=t.isValid;return Object(Ma.jsx)(ZN,{onCancel:g,isSaving:j,isValid:r,errorType:s,errors:n,touched:a,projectId:e,parentContentId:-1,narratives:h,setNarratives:_,onSaveText:"Adding...",standbyText:"Add",children:Object(Ma.jsx)("h1",{children:"Add an Insight"})})}})},KN=(n(1433),function(){var e=Object(p.m)(),t=e.projectId,n=e.insightId,a=Object(s.useDispatch)(),c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(null),u=Object(Cr.a)(d,2),j=u[0],b=u[1],m=Object(p.k)(),O=Object(s.useSelector)(zt),f=Object(s.useSelector)(qt),h=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!1),e.next=3,Mt(t,n);case 3:e.sent&&m.replace(lc(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){return a(Qt(t,n)),function(){return a(Zt())}}),[a,t,n]),Object(r.useEffect)((function(){O&&a(ei(O.shareWithAll))}),[a,O]),Object(r.useEffect)((function(){O&&!O.hasError&&Dt(t,n).then((function(e){return b(e)}))}),[O,t,n]);var _=xj(Oj,function(){var e=Object(te.a)(ee.a.mark((function e(r,c,o){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ft(r,"".concat(c),o);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),a(fu({itemId:c,moreMenuErrorType:x.Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE})),e.abrupt("return");case 9:a(Qt(t,n));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),t,n,O,j),g=function(){return m.push(jc(t,n))},v=gj((function(){f||a(Qt(t,n,x.Constants.VERSION_STATUS.SHARED.value))}),(function(){f||a(Qt(t,n))}),j,O&&O.versionNumber,O&&O.versionStatus),L=Object(Ma.jsxs)(Ma.Fragment,{children:[O&&Object(Ma.jsx)("div",{className:"insight-top-bar-container",children:Object(Ma.jsxs)("div",{className:"insight-top-bar",children:[Object(Ma.jsx)("div",{}),Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(mo,{projectId:t,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:[Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(er.Button,{"data-testid":"edit-button",type:"button",onClick:g,className:"button-block button-small mr-3",disabled:t||v.isOnClientVersion,children:"Edit"})}}),Object(Ma.jsx)(Du,{projectId:t,itemId:n,onDelete:function(){return l(!0)},workflowActions:_,viewClient:v})]})})]})}),Object(Ma.jsx)(_s,{show:i,onCancel:function(){return l(!1)},onConfirm:h,confirmTitle:"Are you sure you want to delete?",confirmationMessage:"This Insight will be permanently deleted and any connections to other content will be removed.",confirmButtonText:"Yes, delete"})]});return Object(Ma.jsxs)(wu,{headerComponent:L,children:[Object(Ma.jsxs)("div",{className:"insight-content",children:[Object(Ma.jsx)(vj,{cssLabel:"insight",label:"Insight"}),Object(Ma.jsx)(Uj,{projectId:t,content:O,allowDraftPill:!v.isOnClientVersion}),Object(Ma.jsx)(Cl,{projectId:t,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:Object(Ma.jsx)("div",{className:"section-name",children:"Title"})}),Object(Ma.jsx)(ws,{title:O.title}),Object(Ma.jsx)(Lj,{label:"Description",value:O.body})]}),Object(Ma.jsx)(_h,{projectId:t,contentId:O.contentId}),O.tags&&O.tags.length>0&&Object(Ma.jsx)(Ll,{tags:O.tags,testId:"insight-tag-list"})]})}),qN=function(){var e=Object(p.m)(),t=e.projectId,n=e.insightId,a=Object(p.k)(),c=Object(r.useState)(null),o=Object(Cr.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(null),d=Object(Cr.a)(l,2),u=d[0],j=d[1],m=Object(r.useState)(),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(r.useState)(!1),g=Object(Cr.a)(_,2),v=g[0],L=g[1],C=Object(r.useMemo)((function(){return function(){return a.replace(lc(t))}}),[a,t]),T=function(){return a.push(dc(t,n))};Object(r.useEffect)((function(){kt(t,n).then((function(e){return s(Object(b.a)(Object(b.a)({},e),{},{body:e.body||""}))})),tt(t).then((function(e){j(Object(b.a)(Object(b.a)({},e),{},{insights:e.insights.filter((function(e){return e.contentThreadId.toString()!==n}))}))}))}),[t,n,C]);var y=function(){var e=Object(te.a)(ee.a.mark((function e(n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,a=$e(u,i.contentId),e.next=5,Pt(t,Object(b.a)(Object(b.a)({},i),{},{title:n.title.trim(),body:n.body.trim(),tags:n.tags.map((function(e){return{text:e}})),links:a}));case 5:h(),T(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),L(!1),h(x.ErrorUtilities.getContentErrorType(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),I=TN(u,i?i.contentId:null);return i?Object(Ma.jsx)(Qs.Formik,{initialValues:Object(b.a)(Object(b.a)({},i),{},{tags:i.tags?i.tags.map((function(e){return e.text})):[]}),onSubmit:y,validationSchema:GN,validateOnChange:!0,enableReinitialize:!0,children:function(e){var n=e.errors,a=e.touched,r=e.isValid,c=e.dirty;return Object(Ma.jsx)(ZN,{className:"mt-5",onCancel:T,isSaving:v,isValid:r,errorType:f,errors:n,touched:a,projectId:t,parentContentId:i.contentId,narratives:u,setNarratives:j,dirty:c||I,onSaveText:"Updating...",standbyText:"Update",children:Object(Ma.jsx)("h1",{children:"Edit Insight"})})}}):null},zN=function(){var e="/projects/:projectId/insights";return Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{exact:!0,path:e,component:WN}),Object(Ma.jsx)(p.d,{exact:!0,path:"".concat(e,"/:insightId/view"),component:KN}),Object(Ma.jsx)(Ui,{exact:!0,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],isAuthorized:ue.hasValidToken,path:"".concat(e,"/create"),component:HN}),Object(Ma.jsx)(Ui,{exact:!0,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],isAuthorized:ue.hasValidToken,path:"".concat(e,"/:insightId/edit"),component:qN})]})},QN=function(){return Object(Ma.jsx)(p.d,{path:"/projects/:projectid/notifications/",component:Xc.NotificationComponent})},JN=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/projectDisclaimer"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),XN=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post("projects/".concat(t,"/projectUser"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$N=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.put("projects/".concat(t,"/projectDisclaimer"),{disclaimerHtml:n,hasAccepted:!0});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),eA=Object(O.createSlice)({name:"projectDisclaimers",initialState:{},reducers:{setDisclaimer:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.payload.projectId,Object(b.a)(Object(b.a)({},t.payload.disclaimer),{},{isLoading:!1})))},acceptDisclaimer:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.payload.projectId,Object(b.a)(Object(b.a)({},e[t.payload.projectId]||{}),{},{hasAccepted:!0})))},setIsLoadingDisclaimer:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.payload.projectId,Object(b.a)(Object(b.a)({},e[t.payload.projectId]||{}),{},{isLoading:!0})))}}}),tA=eA.reducer,nA=eA.actions,aA=nA.setDisclaimer,rA=nA.acceptDisclaimer,cA=nA.setIsLoadingDisclaimer,oA=function(e,t){return aA({projectId:e,disclaimer:t})},iA=function(e){return rA({projectId:e})},sA=function(e){return cA({projectId:e})},lA=function(e){return function(t){return t.projectDisclaimers[e]}},dA=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(sA(e)),t.next=4,JN(e);case 4:a=t.sent,n(oA(e,a)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},uA=(n(1434),function(e){return e.scrollHeight-e.scrollTop-e.clientHeight}),jA=function(){var e=Object(p.m)().projectId,t=Object(s.useDispatch)(),n=Object(p.k)(),a=Object(s.useSelector)(lA(e)),c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],b=u[1],m=Object(r.useState)(!1),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(r.useRef)(null),x=Object(r.useMemo)((function(){return function(e){var t=uA(e.target);j&&t<=5&&l(!0)}}),[j]),g=Object(r.useMemo)((function(){return function(){var e;!j&&(e=_.current).offsetHeight+e.offsetTop-window.scrollY-window.innerHeight<=0&&l(!0)}}),[j]),v=Object(r.useMemo)((function(){return function(){var e,t=(e=_.current).scrollHeight-e.offsetHeight;b(t>50)}}),[]);if(Object(r.useLayoutEffect)((function(){if(_.current)return v(),window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}}),[v]),Object(r.useEffect)((function(){if(_.current)return window.addEventListener("scroll",g),function(){return window.removeEventListener("scroll",g)}}),[g]),Object(r.useEffect)((function(){_&&_.current&&uA(_.current)<5&&l(!0)}),[_,a]),Object(r.useEffect)((function(){if(f&&a.hasAccepted){var t=n.location.state?n.location.state.from:"/projects/".concat(e);n.replace(t)}}),[f,a,n,e]),f)return null;return a&&!a.isLoading?Object(Ma.jsxs)("div",{className:"project-disclaimer-container",children:[Object(Ma.jsx)("div",{className:"project-disclaimer-title","data-testid":"project-disclaimer-title",children:"Project Disclaimer"}),Object(Ma.jsxs)("div",{"data-testid":"project-disclaimer",className:"project-disclaimer",ref:_,onScroll:x,children:[a&&!a.hasAccepted&&ue.isClientUser()&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"project-disclaimer-prompt",children:"Before you can access your project page you'll need to agree to the project disclaimer below. Please read it carefully before accepting."}),Object(Ma.jsx)(Fa,{})]}),Object(Ma.jsx)("div",{"data-testid":"project-disclaimer-content",className:"project-disclaimer-content",dangerouslySetInnerHTML:{__html:Qa(a.disclaimerHtml)}})]}),ue.isClientUser()&&!a.hasAccepted&&Object(Ma.jsxs)("div",{className:"project-disclaimer-actions",children:[Object(Ma.jsx)(Ja.Link,{to:"/projects","data-testid":"cancel-button",children:"Cancel"}),Object(Ma.jsx)(er.Button,{"data-testid":"accept-button",type:"button",disabled:!i,onClick:function(){t(function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(iA(e)),t.next=4,XN(e);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(e)),h(!0)},children:"Accept and proceed"})]})]}):null},bA=function(){return Object(Ma.jsx)(p.g,{children:Object(Ma.jsx)(p.d,{exact:!0,path:"/projects/:projectId/project-disclaimer",component:jA})})},pA=n(332),mA=function(){var e=hr();return Object(Ma.jsx)(p.d,{path:"/projects/:projectid/reports/",render:function(t){var n=Object(h.get)(t,["match","params","projectid"]),a=Or(e,n),r=n&&(ur(a)||br(a));return Object(Ma.jsx)(pA.ReportComponent,Object(b.a)(Object(b.a)({},t),{},{isProjectDisabled:r}))}})},OA=function(e){var t=e.field,n=e.label,a=e.dataTestId,c=e.disabled;return Object(Ma.jsx)(r.Fragment,{children:Object(Ma.jsx)(er.Checkbox,{dataTestId:a,selected:t.value,id:t.name,label:n,onChange:t.onChange,onBlur:t.onBlur,disabled:c})},t.value)},fA=function(e){var t=e.field,n=e.options,a=e.label,r=e.direction,c=e.className,o=e.disabled;return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsx)(er.RadioGroup,{field:t,options:n,label:a,direction:r,className:c,disabled:o})})},hA=function(e){var t=e.trim().toLowerCase().split(" ");return function(e){return function(e){var n=e.toLowerCase(),a=!0;return t.forEach((function(e){a=a&&n.indexOf(e)>-1})),a}(e)}};n(1523);var _A=function(e){var t=e.fieldName,n=e.label,a=e.placeholder,c=void 0===a?"":a,o=e.options,i=e.selections,s=e.onChange,l=e.onBlur,d=void 0===l?function(){}:l,u=e.error,j=void 0===u?"":u,p=e.isMatchBuilder,m=void 0===p?hA:p,O=e.minimumSearchStringLength,f=void 0===O?1:O,h=e.noMatchElement,_=void 0===h?null:h,x=e.disabled,g=Object(r.useState)(""),v=Object(Cr.a)(g,2),L=v[0],C=v[1],T=Object(r.useState)(null),y=Object(Cr.a)(T,2),I=y[0],E=y[1],w=Object(r.useState)(!1),N=Object(Cr.a)(w,2),A=N[0],S=N[1],k=function(){E(null),C(""),S(!1)},D=i&&i.length>0&&i.map((function(e,t){return Object(Ma.jsx)(Vl,{onClearClick:function(){return function(e){var t=i.filter((function(t){return t.value!==e.value}));s(t),k()}(e)},tag:e.label,index:t},e.value)})),R=I&&I.map((function(e){return Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("input",{className:"item-checkbox",id:e.label,"data-testid":e.label,type:"checkbox",name:e.label,checked:e.selected||!1,onChange:function(){!function(e){var t=I.map((function(t){var n=Object(b.a)({},t);return t.value===e.value&&(n.selected=!n.selected),n}));E(t),S(!0)}(e)}}),Object(Ma.jsx)("label",{htmlFor:e.label,children:e.label})]},e.label)}));return Object(Ma.jsxs)("div",{className:"select-multiple",children:[Object(Ma.jsx)(er.TextInput,{basic:!0,label:n,field:{name:t,value:L,onChange:function(e){var t=e.target.value;E(t.length<f?null:function(e,t,n,a){var r=[];return function(e,t,n){return t.filter((function(e){return n(e.label)}))}(0,t,a(e)).forEach((function(e){var t=(n||[]).find((function(t){return t.value===e.value}));r.push(Object(b.a)(Object(b.a)({},e),{},{selected:t}))})),r}(t,o,i,m)),C(t)}},autoComplete:"off",error:null!==I?"":j,onBlur:function(){null===I&&(C(""),d())},placeholder:c,iconLeft:"search",disabled:x}),I&&I.length>0&&Object(Ma.jsx)(Uh,{onClick:function(){k()},children:Object(Ma.jsx)("div",{children:Object(Ma.jsx)("div",{className:"input-field-container",children:Object(Ma.jsx)("div",{className:"multi-select-container","data-testid":"multi-select-container",children:Object(Ma.jsxs)("div",{className:"scrollable",children:[R,A&&Object(Ma.jsx)("div",{className:"action-button-container",children:Object(Ma.jsx)(er.Button,{"data-testid":"apply-selections-button",onClick:function(){var e=function(e,t){if(null===t||0===t.length)return e;var n=t.filter((function(e){return!e.selected})),a=t.filter((function(e){return e.selected})),r=function(e,t){return e.filter((function(e){return 0===t.filter((function(t){return t.value===e.value})).length}))}(e,n);return function(e,t){e.forEach((function(e){!t.filter((function(t){return t.value===e.value})).length>0&&t.push({label:e.label,value:e.value})}))}(a,r),r.sort((function(e,t){return e.label>t.label?1:-1}))}(i,I);s(e),k()},type:"button",children:"Apply"})})]})})})})}),I&&0===I.length&&null!=_&&Object(Ma.jsx)("div",{children:_}),D&&Object(Ma.jsx)("div",{className:"pills",children:D})]})};_A.defaultProps={placeholder:"",onBlur:function(){},error:"",isMatchBuilder:hA,minimumSearchStringLength:1,noMatchElement:null};var xA=_A,gA=function(e){var t=e.field,n=e.maxLength,a=e.label,r=e.error,c=e.className,o=e.basic,i=e.placeholder,s=e.helperText,l=e.helperIcon,d=e.helperIconColor,u=e.disabled;return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsx)(er.TextArea,{error:r,label:a,field:t,basic:o,className:c,maxLength:n,placeholder:i,helperText:s,helperIcon:l,helperIconColor:d,disabled:u})})};gA.defaultProps={error:"",maxLength:1e3,label:""};var vA,LA,CA=gA,TA=(n(1524),function(e){var t=e.field,n=e.form,a=e.label,r=e.error,c=e.disabled,o=e.basic,i=e.size,s=e.className,l=e.type,d=e.helperText,u=e.helperIcon,j=e.helperIconColor,b=e.placeholder;return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsx)(er.TextInput,{error:r||"",label:a,form:n,field:t,size:i,basic:o,type:l,className:s,disabled:c,helperText:d,helperIcon:u,helperIconColor:j,placeholder:b})})}),yA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.industry||[]).map((function(e){var t=e.id,n=e.name;return{value:"".concat(t),label:n}}))},IA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.service||[]).map((function(e){var t=e.id,n=e.name;return{value:"".concat(t),label:n}}))},EA=function(){var e=Object(r.useState)(!1),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(void 0),d=Object(Cr.a)(l,2),u=d[0],j=d[1];return Object(r.useEffect)((function(){a(!0),Vn().then((function(e){j(e),s(!1),a(!1)})).catch((function(){s(!0),a(!1)}))}),[a,j]),{isLoading:n,hasError:i,industryOptions:yA(u),serviceOptions:IA(u)}},wA=[{label:"Buy (Acquisitions)",value:1},{label:"Sell (Divestitures)",value:2}],NA={label:"C2",value:3},AA=[{label:"C1",value:1},{label:"C1A",value:2},NA],SA=[{label:"Thousands",value:"Thousands"},{label:"Millions",value:"Millions",default:!0}],kA=[{label:"US Dollar ($)",value:"Dollar",default:x.Constants.TERRITORIES.UNITED_STATES},{label:"Pound Sterling (\xa3)",value:"Pound",default:x.Constants.TERRITORIES.UNITED_KINGDOM},{label:"Euro (\u20ac)",value:"Euro"}],DA=[{label:"Hide",value:"0"},{label:"Show",value:"1",default:!0}],RA={id:1,text:"Buy side"},PA={id:2,text:"Sell side"},MA=function(e){return e===RA.id?RA.text:PA.text},FA=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e.find((function(e){return e.default===t}))||e[0]).value},UA=[{label:"None",value:"None"},{label:"Partial",value:"Partial"},{label:"Full",value:"Full"}],BA={type:pv.b().moreThan(0,"Deal type is required").required("Deal type is required"),clientName:pv.d().trim().required("Client name is required"),name:pv.d().trim().required("The project name is required"),restriction:pv.b().moreThan(0,"Restriction is required").required("Restriction is required"),consentLevel:pv.d().oneOf(UA.map((function(e){return e.value})))},YA=(pv.c().shape(BA),pv.c().shape({role:pv.d().required(),email:pv.d().required().email()})),WA={users:pv.a().of(YA)},VA=(pv.c().shape(WA),pv.c().shape(Object(b.a)(Object(b.a)({},BA),{},{type:void 0}))),ZA=function(e,t){return e&&e.users&&e.users.find((function(n){return!!n.roles.find((function(n){return n.name===t&&n.projectId===e.id}))}))||{}},GA=function(){var e=Object(p.m)().projectId,t=Object(r.useState)(!1),n=Object(Cr.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(s.useSelector)(da),j=Object(s.useDispatch)(),m=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a,r,o,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.financialsMagnitude,a=t.currency,r=t.financialsDecimalCount,o=t.consentLevel,e.prev=1,d(!0),c(!1),i=Object(b.a)(Object(b.a)(Object(b.a)({},u),t),{},{serviceIds:t.services.map((function(e){return e.value})),services:void 0}),Iw.diagnostic||delete i.showDiagnostic,e.next=8,Fn(i);case 8:return e.next=10,j(Oa(u.id,{financialsMagnitude:n,currency:a,financialsDecimalCount:r,consentLevel:o}));case 10:return e.next=12,j(ma(u.id));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),c(!0);case 17:return e.prev=17,d(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return"".concat(e)},f=u.restriction?u.restriction:NA.value,h=EA(),_=h.isLoading,g=h.industryOptions,v=h.serviceOptions;if(_)return Object(Ma.jsx)(er.Loader,{"data-testid":"project-options-loading"});var L={territory:u.territory||x.Constants.TERRITORIES.UNITED_STATES,type:"".concat(u.type),restriction:O(f),name:u.name,clientName:u.clientName,target:u.target,description:u.description,industryId:"".concat(u.industryId),currency:u.currency,financialsMagnitude:u.financialsMagnitude,consentLevel:u.consentLevel,financialsDecimalCount:O(u.financialsDecimalCount),services:u.serviceIds.map((function(e){return v.find((function(t){return t.value==="".concat(e)}))})),showDiagnostic:u.showDiagnostic};return u.id&&Object(Ma.jsx)(jo,{projectId:e,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(mo,{projectId:u.id,permissions:[x.Constants.USER_PERMISSIONS.MANAGE_USERS],children:Object(Ma.jsxs)("div",{className:"settings-container","data-testid":"projectSettings",children:[Object(Ma.jsx)("div",{className:"settings-description",children:"Edit the project details here, or you can change the currency format and how the data appears in the project. Any changes you make will apply for all users."}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(Qs.Formik,{initialValues:L,enableReinitialize:!0,onSubmit:m,validateOnMount:!0,validateOnChange:!0,validationSchema:VA,children:function(e){var n=e.isValid,r=e.dirty,c=e.values,o=e.setFieldValue,i=e.resetForm;return Object(Ma.jsxs)(Qs.Form,{"data-testid":"project-settings-form",className:"project-settings-form-container",children:[Object(Ma.jsxs)("div",{className:"form-fields",children:[Object(Ma.jsx)(Qs.Field,{name:"territory",label:"Territory",component:TA,basic:!0,disabled:!0}),Object(Ma.jsx)(Qs.Field,{name:"type",component:function(e){var n=e.field,a=Object(b.a)(Object(b.a)({},n),{},{onChange:function(e){"".concat(RA.id)===e.target.value?o("showDiagnostic",!1):"".concat(PA.id)===e.target.value&&o("showDiagnostic",!0),n.onChange(e)}});return Object(Ma.jsx)(fA,{field:a,options:wA,direction:"row",label:"Deal type",disabled:t})}}),Iw.diagnostic&&c.type==="".concat(PA.id)&&Object(Ma.jsx)(Qs.Field,{name:"showDiagnostic",component:OA,direction:"row",label:"Show Diagnostic Questionnaire",dataTestId:"show-diagnostic-questionnaire",disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"restriction",component:fA,options:AA,direction:"row",label:"Client type",disabled:t}),Object(Ma.jsx)(xA,{matchOnStartsWith:!1,minimumSearchStringLength:2,fieldName:"services",label:"Services / Products",placeholder:"Search for services and products",options:v,selections:c.services||[],onChange:function(e){return o("services",e)},noMatchElement:null,disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"name",label:"Project name",component:TA,basic:!0,disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"clientName",label:"Client name",component:TA,basic:!0,disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"target",label:"Target (optional)",component:TA,basic:!0,disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"description",label:"Description (optional)",component:CA,basic:!0,disabled:t}),Object(Ma.jsx)(er.Select,{"data-testid":"industry-select",basic:!0,options:g,label:"Industry (optional)",onChange:function(e){return o("industryId",e.target.value,!0)},value:c.industryId,placeholder:"Please select the client's industry",disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"consentLevel",component:fA,options:UA,direction:"row",label:"Data Use Consent Level",disabled:t}),Object(Ma.jsx)("h2",{children:"Format details"}),Object(Ma.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16,style:{marginRight:"0.5rem"}}),"Automated for structured analysis only"]}),Object(Ma.jsx)(Qs.Field,{name:"currency",component:fA,options:kA,direction:"row",label:"Currency",disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"financialsMagnitude",component:fA,options:SA,direction:"row",label:"Number format",disabled:t}),Object(Ma.jsx)(Qs.Field,{name:"financialsDecimalCount",component:fA,options:DA,direction:"row",label:"Decimals",disabled:t})]}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",onClick:function(){return i()},type:"button","data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Kj,{isSaving:l,isValid:n&&r,buttonSize:"sm",onSaveText:"Saving...",standbyText:"Save Changes",buttonPosition:"bottom"})]}),a&&Object(Ma.jsx)(Io,{configType:"publish"})]})}})]})})}})},HA=(n(1525),function(){return Object(Ma.jsx)("div",{className:"project-loader","data-testid":"project-loader",children:Object(Ma.jsx)(er.MiniLoader,{dataTestId:"loading-spinner"})})}),KA=(n(1526),function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae().get("approval/".concat(t,"?userid=").concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),qA=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae().post("pause/".concat(n,"/").concat(t),{userId:a,approvalId:r||""});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),zA=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae().post("approval/".concat(n,"/pause/").concat(t),{userId:a,approvalId:String(r)||""});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),QA=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae().post("approval/".concat(n,"/unpause/").concat(t),{userId:a,approvalId:String(r)||""});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),JA=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[action] Approve Request Unarchive project");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),XA=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[action] Decline Request Unarchive project");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$A=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[action] Cancel Request Unarchive project");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),eS=Object(O.createSlice)({name:"projectApprovals",initialState:{},reducers:{setProjectStatus:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.payload.projectId,{approvals:t.payload.approvals}))}}}),tS=eS.reducer,nS=eS.actions.setProjectStatus,aS=function(e){var t=e.projectId,n=e.userId;return function(){var e=Object(te.a)(ee.a.mark((function e(a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,KA(t,n);case 3:r=e.sent,a(nS({projectId:t,approvals:r})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},rS=function(){return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))},cS=function(e,t){return rS()},oS=function(){return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))},iS={overview:{header:"Pause project",text:"Pausing will set the status of the project to inactive.",secondaryText:"Editing functionality will be disabled and all users (PwC and client) will have read-only access.",rightButton:"Pause"},request:{header:"Confirming your pause request",text:"The Engagement Lead and Engagement Manger will be notified to approve the request.",secondaryText:"Upon approval, this will change the project to read-only until it is reactivated",leftButton:"Cancel",rightButton:"Confirm"},confirmation:{header:"Are you sure?",text:"This will change the project to read-only until it is reactivated.",leftButton:"Cancel",rightButton:"Yes, pause"}},sS={overview:{header:"Archive project",text:"Archiving will store the project in Junction's digital archive.",secondaryText:"Editing functionality will be disabled, PwC users will have read-only access and all client access will be removed.",rightButton:"Archive"},request:{header:"Confirming your archive request",text:"The Engagement Lead and Engagement Manger will be notified to approve the request.",secondaryText:"Upon approval, this will move the project to the archive and all client access will be removed.",leftButton:"Cancel",rightButton:"Confirm"},confirmation:{header:"Are you sure?",text:"This will move the project to the archive and all client access will be removed.",leftButton:"Cancel",rightButton:"Yes, archive"}},lS={overview:{header:"Reactivate project",text:"Editing functionality will be enabled and PwC users will have permissions re-enabled based on their role in Junction",rightButton:"Reactivate"},request:{header:"Confirming your reactivation request",text:"The Engagement Lead and Engagement Manger will be notified to approve the request.",secondaryText:"Upon approval, this will move the project to the active and PwC users will have access re-enabled.",leftButton:"Cancel",rightButton:"Confirm"},confirmation:{header:"Are you sure?",text:"Editing functionality will be enabled and all users (PwC and client) will have permissions re-enabled based on their role in Junction.",leftButton:"Cancel",rightButton:"Yes, reactivate"}},dS={overview:{header:"Unarchive project",text:"Editing functionality will be enabled and PwC users have permissions re-enabled based on their role in Junction.",rightButton:"Unarchive"},request:{header:"Confirming your unarchive request",text:"The Engagement Lead and Engagement Manger will be notified to approve the request.",secondaryText:"",leftButton:"Cancel",rightButton:"Confirm"},confirmation:{header:"Are you sure?",text:"Editing functionality will be enabled and all users (PwC and client) will have permissions re-enabled based on their role in Junction.",leftButton:"Cancel",rightButton:"Yes, archive"}},uS={approveRequest:{text:"A user has requested to pause the project and make it inactive.",secondaryText:"Approval will change the project to read-only.",leftButton:"Decline",rightButton:"Approve"},cancelRequest:{text:"The project has a pending pause request to make it inactive.",secondaryText:"A notification has been sent to the Engagement Lead and Engagement Manager.",leftButton:"Cancel request"}},jS={approveRequest:{text:"A user has requested to reactivate the project.",secondaryText:"Approval will move the project to active and editing functionality will be enabled.",leftButton:"Decline",rightButton:"Approve"},cancelRequest:{text:"The project has a pending reactivation request.",secondaryText:"A notification has been sent to the Engagement Lead and Engagement Manager.",leftButton:"Cancel request"}},bS={approveRequest:{text:"A user has requested to archive the project.",secondaryText:"Approval will move the project to archive.",leftButton:"Decline",rightButton:"Approve"},cancelRequest:{text:"The project has a pending archiving request.",secondaryText:"A notification has been sent to the Engagement Lead and Engagement Manager.",leftButton:"Cancel request"}},pS={approveRequest:{text:"A user has requested to unarchive the project.",secondaryText:"Approval will move the project to active.",leftButton:"Decline",rightButton:"Approve"},cancelRequest:{text:"The project has a pending unarchive request.",secondaryText:"A notification has been sent to the Engagement Lead and Engagement Manager.",leftButton:"Cancel request"}},mS=function(e,t,n,a,r,c){var o={leftCard:null,rightCard:null,leftCardConfirm:null,rightCardConfirm:null,leftCardAction:null,rightCardAction:null,leftCardNextState:null,rightCardNextState:null,warningCard:null,warningCardApproveAction:null,warningCardCancelAction:null},i=r,s=!r&&c,l={projectId:t,userId:e},d={approvalId:null,projectId:t,userId:e};if(!i&&!s)return{};if(a.isRequestedToBePaused)d.approvalId=a.pauseApprovalId,i?(o.warningCard=uS.approveRequest,o.warningCardApproveAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zA("approve",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d),o.warningCardCancelAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zA("reject",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d)):s&&(o.warningCard=uS.cancelRequest,o.warningCardCancelAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zA("delete",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d));else if(a.isRequestedToBeArchived)d.approvalId=a.archiveApprovalId,i?(o.warningCard=bS.approveRequest,o.warningCardApproveAction=function(){return null},o.warningCardCancelAction=function(){return null}):s&&(o.warningCard=bS.cancelRequest,o.warningCardCancelAction=function(){return null});else if(a.isRequestedToBeReactivated)i?(o.warningCard=jS.approveRequest,o.warningCardApproveAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA("approve",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d),o.warningCardCancelAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA("reject",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d)):s&&(o.warningCard=jS.cancelRequest,o.warningCardCancelAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA("delete",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d));else if(a.isRequestedToBeUnarchived)i?(o.warningCard=pS.approveRequest,o.warningCardApproveAction=JA(),o.warningCardCancelAction=function(e,t){return XA(e,t)}(d)):s&&(o.warningCard=pS.cancelRequest,o.warningCardCancelAction=$A());else switch(n){case sr.COMPLETED:case sr.REACTIVE_PENDING_IN_PROGRESS:case sr.UNARCHIVING_PENDING_IN_PROGRESS:d.approvalId=a.pauseApprovalId,o.leftCard=iS.overview,o.rightCard=sS.overview,i?(o.leftCardConfirm=iS.confirmation,o.rightCardConfirm=sS.confirmation,o.leftCardAction=function(e){var t=e.projectId,n=e.userId;return function(){return qA("enable",t,n)}}(l),o.rightCardAction=rS()):s&&(o.leftCardConfirm=iS.request,o.rightCardConfirm=sS.request,o.leftCardAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zA("request",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d),o.rightCardAction=cS());break;case sr.INACTIVE:case sr.INACTIVE_PENDING_IN_PROGRESS:d.approvalId=a.reactivateApprovalId,o.leftCard=lS.overview,o.rightCard=sS.overview,i?(o.leftCardConfirm=lS.confirmation,o.rightCardConfirm=sS.confirmation,o.leftCardAction=function(e){var t=e.projectId,n=e.userId;return function(){return qA("disable",t,n)}}(l),o.rightCardAction=rS()):s&&(o.leftCardConfirm=lS.request,o.rightCardConfirm=sS.request,o.leftCardAction=function(e){var t=e.approvalId,n=e.projectId,a=e.userId;return Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA("request",n,a,t));case 1:case"end":return e.stop()}}),e)})))}(d),o.rightCardAction=cS());break;case sr.ARCHIVED:case sr.ARCHIVING_PENDING_IN_PROGRESS:d.approvalId=a.unarchiveApprovalId,o.leftCard=dS.overview,i?(o.leftCardConfirm=dS.confirmation,o.leftCardAction=oS,o.leftCardNextState=sr.UNARCHIVING_PENDING_IN_PROGRESS):s&&(o.leftCardConfirm=dS.request,o.leftCardAction=oS(),o.leftCardNextState=sr.UNARCHIVING_PENDING_NEEDS_APPROVAL)}return o},OS=function(e,t){return!(!e||!e.roles)&&!Object(h.chain)(e.roles).find((function(e){return e.name===t})).isEmpty().value()},fS=function(e){var t=e.warning,n=t.text,a=t.secondaryText,r=t.leftButton,c=t.rightButton,o=e.onAccept,i=e.onCancel;return Object(Ma.jsxs)("div",{className:"project-state-change",children:[Object(Ma.jsx)("div",{className:"project-state-change-warning",children:Object(Ma.jsxs)("div",{className:"project-state-change-warning--body",children:[Object(Ma.jsx)(er.Icon,{className:"fill icon-yellow",width:"24",name:"alert"}),Object(Ma.jsxs)("div",{className:"project-state-change-warning--text-container",children:[Object(Ma.jsx)("div",{className:"project-state-change-warning--text-area","data-testid":"warning-card-text",children:n}),Object(Ma.jsx)("div",{className:"project-state-change-warning--text-area","data-testid":"warning-card-secondary-text",children:a})]})]})}),Object(Ma.jsxs)("div",{className:"project-state-change--buttons",children:[Object(Ma.jsx)(er.Button,{className:"transparent-button",onClick:i,"data-testid":"warning-card-cancel-button",children:r}),c&&Object(Ma.jsx)(er.Button,{"data-testid":"warning-card-approve-button",onClick:o,children:c})]})]})},hS=function(e){var t=e.flow,n=e.isDisabled,a=e.onAccept,r=e.onCancel;return Object(Ma.jsxs)("div",{className:"project-state-change-card-container",disabled:n,children:[Object(Ma.jsx)("div",{className:nr()("state-change-card--header",{"state-change-card--header__disabled":n}),"data-testid":"state-change-card-header",tabIndex:0,children:t.header}),Object(Ma.jsxs)("div",{className:"state-change-card--text-container",children:[Object(Ma.jsx)("div",{className:nr()("state-change-card--text-area",{"state-change-card--text-area__disabled":n}),"data-testid":"state-change-card-text",tabIndex:0,children:t.text}),t.secondaryText&&Object(Ma.jsx)("div",{className:nr()("state-change-card--text-area",{"state-change-card--text-area__disabled":n}),"data-testid":"state-change-card-secondary-text",tabIndex:0,children:t.secondaryText})]}),Object(Ma.jsxs)("div",{className:"state-change-card--button-container",children:[t.leftButton&&Object(Ma.jsx)(er.Button,{className:"ui-button button-link form-cancel-button",onClick:r,"data-testid":"state-change-card-cancel-button",children:t.leftButton}),Object(Ma.jsx)(er.Button,{disabled:n,onClick:a,"data-testid":"state-change-card-approve-button",children:t.rightButton})]})]})},_S=function(e){var t=e.projectId,n=Object(s.useDispatch)(),a=Object(s.useSelector)(da).users,c=Object(s.useSelector)(function(e){return function(t){var n=function(e){return function(t){return t.projectApprovals[e]&&t.projectApprovals[e].approvals}}(e)(t),a={isRequestedToBePaused:!1,pauseApprovalId:null,isRequestedToBeArchived:!1,archiveApprovalId:null,isRequestedToBeReactivated:!1,reactivateApprovalId:null,isRequestedToBeUnarchived:!1,unarchiveApprovalId:null};return n&&n.forEach((function(e){1===e.approvalType&&(a.isRequestedToBePaused=!0,a.pauseApprovalId=e.requestId),4===e.approvalType&&(a.isRequestedToBeReactivated=!0,a.reactivateApprovalId=e.requestId),2===e.approvalType&&(a.isRequestedToBeArchived=!0,a.archiveApprovalId=e.requestId)})),a}}(t)),o=hr(),i=Or(o,t),l=pr(i),d=ue.getEmail(),u=Object(r.useState)(!1),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(!1),O=Object(Cr.a)(m,2),f=O[0],_=O[1],g=Object(h.find)(a,(function(e){return e.email===d})),v=function(e){return!!e&&(OS(e,x.Constants.USER_ROLES.ENGAGEMENT_LEAD)||OS(e,x.Constants.USER_ROLES.ENGAGEMENT_MANAGER))}(g),L=function(e){return!!e&&(OS(e,x.Constants.USER_ROLES.APPROVER)||OS(e,x.Constants.USER_ROLES.TEAM_MEMBER)||OS(e,x.Constants.USER_ROLES.PROJECT_ADMIN))}(g),C=mS(d,t,i,c,v,L);Object(r.useEffect)((function(){d&&n(aS({projectId:t,userId:d}))}),[n,t,d]);var T=Object(r.useCallback)((function(){n(ir()),n(aS({projectId:t,userId:d}))}),[n,t,d]),y=Object(r.useCallback)(Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=4;break}p(!0),e.next=8;break;case 4:return e.next=6,C.leftCardAction();case 6:T(),p(!1);case 8:case"end":return e.stop()}}),e)}))),[C,b,T]),I=(Object(r.useCallback)(Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=4;break}_(!0),e.next=8;break;case 4:return e.next=6,C.rightCardAction();case 6:T(),p(!1);case 8:case"end":return e.stop()}}),e)}))),[C,f,T]),function(){p(!1),_(!1)}),E=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.warningCardApproveAction();case 2:T();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.warningCardCancelAction();case 2:T();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(h.isEmpty)(o))return null;return Object(Ma.jsxs)(Ma.Fragment,{children:[(C.leftCard||C.rightCard)&&Object(Ma.jsxs)("div",{className:"project-state-change-cards",children:[C.leftCard&&Object(Ma.jsx)(hS,{onAccept:y,onCancel:I,flow:b?C.leftCardConfirm:C.leftCard,isDisabled:l||f}),!1]}),C.warningCard&&Object(Ma.jsx)(fS,{warning:C.warningCard,onAccept:E,onCancel:w})]})},xS=function(e){var t=e.onResetCountdown,n=e.isSpinnerVisible,a=e.isLinkVisible;return Object(Ma.jsxs)("div",{className:"reset-link-container",children:[n&&Object(Ma.jsx)(HA,{}),a&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.Icon,{name:"refresh",className:"fill icon-orange",width:24,height:24}),Object(Ma.jsx)("button",{type:"button","data-testid":"reset-link",className:"reset-link",onClick:t,children:"Reset Archive countdown"})]})]})},gS=function(e){var t=e.projectId,n=hr(),a=Or(n,t);return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"settings-description",children:"You can request to change the status of the project here. Any changes  of the project will apply for all users."}),Object(Ma.jsx)("div",{className:"separator"}),Object(Ma.jsx)("div",{className:"project-settings-form-container",children:Object(Ma.jsxs)("div",{className:"project-current-status-container",children:[Object(Ma.jsx)("span",{"data-testid":"status-header",children:"Current status"}),Object(Ma.jsxs)("div",{className:"status-container",children:[Object(Ma.jsx)(vr,{projectId:t,showPendingStatus:!0}),Object(Ma.jsx)(xS,{onResetCountdown:function(){},isSpinnerVisible:pr(a),isLinkVisible:!1})]}),Object(Ma.jsx)("span",{className:"description","data-testid":"project-status",children:lr(a)?"Editing functionality is enabled and all users (PwC and client) have permissions based on their role in Junction.":"Editing functionality is disabled and all users (PwC and client) has read-only access."}),Object(Ma.jsx)(_S,{projectId:t})]})})]})},vS=(n(1527),n(1528),function(e){var t=e.user,n=e.showEmail,a=e.onClearClick,r=e.onTogglePending,c=void 0===r?void 0:r,o=ue.getUserTypeClass(t.email),i=c?"with-toggle":"",s=t.wasPending||t.newlyAdded?"pending":"",l=t.wasPending&&!t.pendingApproval?"pending-approved":"",d=t.pendingApproval?"pending-approval":"",u="pwc-user"!==o||s?"icon-black":"icon-white";return Object(Ma.jsxs)("div",{className:"project-role-user-pill ".concat(o," ").concat(s," ").concat(i," ").concat(d," ").concat(l),"data-testid":"project-role-user-pill-".concat(t.pillId),children:[Object(Ma.jsx)(er.Icon,{name:t.pendingApproval?"clock":"avatar",height:16,className:"fill ".concat(u)}),c?Object(Ma.jsx)(er.Toggle,{checked:!t.pendingApproval,onClick:c,name:"project-role-user-pill-toggle-".concat(t.pillId),dataTestId:"project-role-user-pill-toggle-".concat(t.pillId)}):null,Object(Ma.jsx)("span",{className:"pill-text",children:"".concat(t.firstName," ").concat(t.lastName).concat(n?" / ".concat(t.email):"")}),Object(Ma.jsx)("button",{type:"button",onClick:a,"data-testid":"project-role-user-pill-x-".concat(t.pillId),children:Object(Ma.jsx)(er.Icon,{name:"close",className:"fill ".concat(u),height:11,"data-testid":"close-icon"})})]})}),LS=function(e,t){var n;return function(){var a=Object(te.a)(ee.a.mark((function a(r){var c,o;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"undefined"!==typeof n&&n.cancel("tokenCanceled"),c={timeoutSeconds:Object({NODE_ENV:"production",PUBLIC_URL:"https://raw.githubusercontent.com/garyivy/cdn/main/usdev",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PLATFORM_NAME:"Junction",REACT_APP_MASTER_API_BASE_PATH:"/masterapi",REACT_APP_PPT_LIBRARY_ITEM_SERVICE:"/libraryitempowerpointapi/v1",REACT_APP_CONTENT_SERVICE:"/contentapi/v1",REACT_APP_EXCEL_LIBRARY_ITEM_SERVICE:"/libraryitemexcelapi/v1",REACT_APP_SURVEY_SERVICE:"/surveyservice",REACT_APP_NOTIFICATION_COUNT_UPDATE_FREQUENCY:"500",REACT_APP_RICH_TEXT_LIBRARY_ITEM_SERVICE:"/libraryitemrichtextapi/v1",REACT_APP_PROJECT_MANAGEMENT_API_BASE_PATH:"/projectmanagementapi",REACT_APP_NOTIFICATION_SERVICE:"/notificationservice",REACT_APP_FILE_LIBRARY_SERVICE:"/filelibrarycontentapi",REACT_APP_USER_ACCESS_SERVICE:"/useraccessapi",REACT_APP_SUPPORT_EMAIL:"deals-support@pwc.com",REACT_APP_WEB_SPELL_CHECKER_SERVICE_ID:"is-this-no-longer-used",REACT_APP_ENVIRONMENT_NAMESPACE:"usdev",REACT_APP_DIVESTITURE_DIAGNOSTIC:"false",REACT_APP_USER_ANALYTICS_API_KEY:"2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b",REACT_APP_SECURITY_TOKEN_EXPIRATION_MINUTES:"no-longer-used-uses-jwt-expiration-set-in-user-access",REACT_APP_CK_EDITOR_LICENSE:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",REACT_APP_TAGS_LIST_SERVICE:"/tagsapi/v1",REACT_APP_FF20_ENABLED:"enabled",REACT_APP_CONNECTED_CONTENT_API_BASE_PATH:"/connectedcontentapi/v1",REACT_APP_TERRITORY:"United States",REACT_APP_COMMENT_SERVICE:"/commentservice",REACT_APP_PROJECT_STATE_MANAGEMENT_API_BASE_PATH:"/projectmanagementapiv2/api/v1",REACT_APP_PROJECT_API_BASE_PATH:"/projectapi",REACT_APP_POWERBI_LIBRARY_ITEM_SERVICE:"/libraryitempowerbiapi/v1",REACT_APP_REPORTING_SERVICE:"/reportingapi"}).SEARCH_USER_API_SEARCH_TIMEOUT_IN_SECONDS||30},a.next=4,Ne().get("userValidation/search",{searchText:r,role:e,maxResultCount:t,timeoutSeconds:c.timeoutSeconds},!1,(function(e){n=e}));case 4:return o=a.sent,a.abrupt("return",o.data);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},CS=(n(1529),function(e){return!e||0===e.length}),TS=Object(h.constant)(Object(Ma.jsx)("div",{className:"user-search-select-loading",children:Object(Ma.jsx)(er.Loader,{dataTestId:"user-search-select-loading"})})),yS=Object(h.constant)(Object(Ma.jsx)("div",{className:"user-search-select-error",children:Object(Ma.jsxs)("span",{children:[Object(Ma.jsx)(er.Icon,{name:"alert",className:"fill icon-yellow"}),"We are currently unable to search for users."]})})),IS=Object(h.constant)(Object(Ma.jsx)("div",{className:"user-search-select-no-results",children:Object(Ma.jsx)("span",{children:"Enter More Characters To Search"})})),ES=Object(h.constant)(Object(Ma.jsx)("div",{className:"user-search-select-no-results",children:Object(Ma.jsx)("span",{children:"No Matching Users Found"})})),wS=function(e,t){return function(){return Object(Ma.jsx)("div",{className:"user-search-select-list",children:Object(Ma.jsx)("ul",{children:e.map((function(e){return Object(Ma.jsx)("li",{children:Object(Ma.jsx)(er.Button,{"data-testid":"user-search-select-add-user-button",onClick:function(){return t(e)},type:"button",children:"".concat(e.firstName," ").concat(e.lastName," (").concat(e.email,")")})},e.email)}))})})}},NS=function(e){var t=e.role,n=e.onUserSelected,a=e.unavailableUsers,c=Object(r.useState)(""),o=Object(Cr.a)(c,2),i=o[0],s=o[1],l=t.split(" ").join("-").toLowerCase(),d={maxResultCount:Object({NODE_ENV:"production",PUBLIC_URL:"https://raw.githubusercontent.com/garyivy/cdn/main/usdev",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PLATFORM_NAME:"Junction",REACT_APP_MASTER_API_BASE_PATH:"/masterapi",REACT_APP_PPT_LIBRARY_ITEM_SERVICE:"/libraryitempowerpointapi/v1",REACT_APP_CONTENT_SERVICE:"/contentapi/v1",REACT_APP_EXCEL_LIBRARY_ITEM_SERVICE:"/libraryitemexcelapi/v1",REACT_APP_SURVEY_SERVICE:"/surveyservice",REACT_APP_NOTIFICATION_COUNT_UPDATE_FREQUENCY:"500",REACT_APP_RICH_TEXT_LIBRARY_ITEM_SERVICE:"/libraryitemrichtextapi/v1",REACT_APP_PROJECT_MANAGEMENT_API_BASE_PATH:"/projectmanagementapi",REACT_APP_NOTIFICATION_SERVICE:"/notificationservice",REACT_APP_FILE_LIBRARY_SERVICE:"/filelibrarycontentapi",REACT_APP_USER_ACCESS_SERVICE:"/useraccessapi",REACT_APP_SUPPORT_EMAIL:"deals-support@pwc.com",REACT_APP_WEB_SPELL_CHECKER_SERVICE_ID:"is-this-no-longer-used",REACT_APP_ENVIRONMENT_NAMESPACE:"usdev",REACT_APP_DIVESTITURE_DIAGNOSTIC:"false",REACT_APP_USER_ANALYTICS_API_KEY:"2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b",REACT_APP_SECURITY_TOKEN_EXPIRATION_MINUTES:"no-longer-used-uses-jwt-expiration-set-in-user-access",REACT_APP_CK_EDITOR_LICENSE:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",REACT_APP_TAGS_LIST_SERVICE:"/tagsapi/v1",REACT_APP_FF20_ENABLED:"enabled",REACT_APP_CONNECTED_CONTENT_API_BASE_PATH:"/connectedcontentapi/v1",REACT_APP_TERRITORY:"United States",REACT_APP_COMMENT_SERVICE:"/commentservice",REACT_APP_PROJECT_STATE_MANAGEMENT_API_BASE_PATH:"/projectmanagementapiv2/api/v1",REACT_APP_PROJECT_API_BASE_PATH:"/projectapi",REACT_APP_POWERBI_LIBRARY_ITEM_SERVICE:"/libraryitempowerbiapi/v1",REACT_APP_REPORTING_SERVICE:"/reportingapi"}).SEARCH_USER_MAX_RESULT_COUNT||10,debounceTime:Object({NODE_ENV:"production",PUBLIC_URL:"https://raw.githubusercontent.com/garyivy/cdn/main/usdev",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PLATFORM_NAME:"Junction",REACT_APP_MASTER_API_BASE_PATH:"/masterapi",REACT_APP_PPT_LIBRARY_ITEM_SERVICE:"/libraryitempowerpointapi/v1",REACT_APP_CONTENT_SERVICE:"/contentapi/v1",REACT_APP_EXCEL_LIBRARY_ITEM_SERVICE:"/libraryitemexcelapi/v1",REACT_APP_SURVEY_SERVICE:"/surveyservice",REACT_APP_NOTIFICATION_COUNT_UPDATE_FREQUENCY:"500",REACT_APP_RICH_TEXT_LIBRARY_ITEM_SERVICE:"/libraryitemrichtextapi/v1",REACT_APP_PROJECT_MANAGEMENT_API_BASE_PATH:"/projectmanagementapi",REACT_APP_NOTIFICATION_SERVICE:"/notificationservice",REACT_APP_FILE_LIBRARY_SERVICE:"/filelibrarycontentapi",REACT_APP_USER_ACCESS_SERVICE:"/useraccessapi",REACT_APP_SUPPORT_EMAIL:"deals-support@pwc.com",REACT_APP_WEB_SPELL_CHECKER_SERVICE_ID:"is-this-no-longer-used",REACT_APP_ENVIRONMENT_NAMESPACE:"usdev",REACT_APP_DIVESTITURE_DIAGNOSTIC:"false",REACT_APP_USER_ANALYTICS_API_KEY:"2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b",REACT_APP_SECURITY_TOKEN_EXPIRATION_MINUTES:"no-longer-used-uses-jwt-expiration-set-in-user-access",REACT_APP_CK_EDITOR_LICENSE:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",REACT_APP_TAGS_LIST_SERVICE:"/tagsapi/v1",REACT_APP_FF20_ENABLED:"enabled",REACT_APP_CONNECTED_CONTENT_API_BASE_PATH:"/connectedcontentapi/v1",REACT_APP_TERRITORY:"United States",REACT_APP_COMMENT_SERVICE:"/commentservice",REACT_APP_PROJECT_STATE_MANAGEMENT_API_BASE_PATH:"/projectmanagementapiv2/api/v1",REACT_APP_PROJECT_API_BASE_PATH:"/projectapi",REACT_APP_POWERBI_LIBRARY_ITEM_SERVICE:"/libraryitempowerbiapi/v1",REACT_APP_REPORTING_SERVICE:"/reportingapi"}).SEARCH_USER_DELAY_BEFORE_SEND_SEARCH||250,startSearchingLength:Object({NODE_ENV:"production",PUBLIC_URL:"https://raw.githubusercontent.com/garyivy/cdn/main/usdev",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PLATFORM_NAME:"Junction",REACT_APP_MASTER_API_BASE_PATH:"/masterapi",REACT_APP_PPT_LIBRARY_ITEM_SERVICE:"/libraryitempowerpointapi/v1",REACT_APP_CONTENT_SERVICE:"/contentapi/v1",REACT_APP_EXCEL_LIBRARY_ITEM_SERVICE:"/libraryitemexcelapi/v1",REACT_APP_SURVEY_SERVICE:"/surveyservice",REACT_APP_NOTIFICATION_COUNT_UPDATE_FREQUENCY:"500",REACT_APP_RICH_TEXT_LIBRARY_ITEM_SERVICE:"/libraryitemrichtextapi/v1",REACT_APP_PROJECT_MANAGEMENT_API_BASE_PATH:"/projectmanagementapi",REACT_APP_NOTIFICATION_SERVICE:"/notificationservice",REACT_APP_FILE_LIBRARY_SERVICE:"/filelibrarycontentapi",REACT_APP_USER_ACCESS_SERVICE:"/useraccessapi",REACT_APP_SUPPORT_EMAIL:"deals-support@pwc.com",REACT_APP_WEB_SPELL_CHECKER_SERVICE_ID:"is-this-no-longer-used",REACT_APP_ENVIRONMENT_NAMESPACE:"usdev",REACT_APP_DIVESTITURE_DIAGNOSTIC:"false",REACT_APP_USER_ANALYTICS_API_KEY:"2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b",REACT_APP_SECURITY_TOKEN_EXPIRATION_MINUTES:"no-longer-used-uses-jwt-expiration-set-in-user-access",REACT_APP_CK_EDITOR_LICENSE:"20ZeuBr7spjWzxHl2NW3ehNqTRrzb8pyGhsEjVeGlHRIgkbAa7FWTremqthRJPMBA84I5hNTZ5eQeFkT93A",REACT_APP_TAGS_LIST_SERVICE:"/tagsapi/v1",REACT_APP_FF20_ENABLED:"enabled",REACT_APP_CONNECTED_CONTENT_API_BASE_PATH:"/connectedcontentapi/v1",REACT_APP_TERRITORY:"United States",REACT_APP_COMMENT_SERVICE:"/commentservice",REACT_APP_PROJECT_STATE_MANAGEMENT_API_BASE_PATH:"/projectmanagementapiv2/api/v1",REACT_APP_PROJECT_API_BASE_PATH:"/projectapi",REACT_APP_POWERBI_LIBRARY_ITEM_SERVICE:"/libraryitempowerbiapi/v1",REACT_APP_REPORTING_SERVICE:"/reportingapi"}).SEARCH_USER_MIN_CHARACTERS_TO_SEND_SEARCH||3},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,c=Object(r.useState)([]),o=Object(Cr.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(!1),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(!1),p=Object(Cr.a)(b,2),m=p[0],O=p[1],f=Object(r.useState)(""),_=Object(Cr.a)(f,2),x=_[0],g=_[1],v=Object(r.useRef)(x);v.current=x;var L=Object(r.useCallback)(LS(e,t),[e,t]),C=Object(h.debounce)(Object(te.a)(ee.a.mark((function e(){var t,n,r=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"",g(t),j(!0),O(!1),!(t.trim().length<a)){e.next=7;break}return v.current===t&&(s([]),j(!1)),e.abrupt("return");case 7:return n=[],e.prev=8,e.next=11,L(t);case 11:n=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),"tokenCanceled"!==e.t0.message&&O(!0);case 17:v.current===t&&(j(!1),s(n));case 18:case"end":return e.stop()}}),e,null,[[8,14]])}))),n);return{usersFound:i,searchUsers:C,clearUsers:function(){s([]),j(!1),O(!1)},isLoading:u,hasError:m}}(t,d.maxResultCount,d.debounceTime,d.startSearchingLength),j=u.usersFound,p=u.searchUsers,m=u.clearUsers,O=u.isLoading,f=u.hasError,_=j?j.filter((function(e){return!a.some((function(t){return t.email===e.email}))})):[],x=Object(r.useCallback)((function(e){var t=e.target.value;s(t),p(t)}),[p]),g=function(){s(""),m()},v=ad((function(e){return e&&g()})),L=Object(h.cond)([[function(){return!i},Object(h.constant)(null)],[function(){return O},TS],[function(){return f},yS],[function(){return CS(_)&&function(e,t){return(e||"").trim().length>=t}(i,d.startSearchingLength)},ES],[function(){return CS(_)},IS],[h.stubTrue,wS(_,(function(e){n(Object(b.a)(Object(b.a)({},e),{},{role:t})),g()}))]]);return Object(Ma.jsxs)("div",{className:"user-search-select",ref:v,children:[Object(Ma.jsx)(er.TextInput,{basic:!0,"data-testid":"user-search-select-input-".concat(l),field:{name:"user-search-select-input-".concat(l),value:i||"",onChange:x},type:"text",autoComplete:"off",iconLeft:"search",placeholder:"Name",className:i?"has-value":""}),L()]})},AS=function(e){return"".concat(e.role.toLowerCase().split(" ").join("-"),"-").concat(e.email.toLowerCase().split(/[\s,@.]+/).join("-"))},SS=function(e){var t=e.title,n=e.description,a=e.role,c=e.validateNotAlreadyIn,o=void 0===c?x.Constants.USER_ROLES_LIST:c,i=e.allowMany,s=void 0!==i&&i,l=e.showEmail,d=void 0!==l&&l,u=e.allowRemoving,j=void 0===u||u,p=e.allowAdding,m=void 0===p||p,O=e.addAsPending,f=void 0!==O&&O,h=e.allowApprovePending,_=void 0!==h&&h,g=Object(Qs.useFormikContext)().values,v=function(e){return function(t){return e.push(Object(b.a)(Object(b.a)({},t),{},{pillId:AS(t),pendingApproval:f,newlyAdded:!0}))}},L=Object(r.useCallback)((function(e,t){return j?function(){e.remove(t)}:void 0}),[j]),C=Object(r.useCallback)((function(e,t,n){return t.wasPending?function(){e.replace(n,Object(b.a)(Object(b.a)({},t),{},{pendingApproval:!t.pendingApproval}))}:void 0}),[]),T=m&&(!(g[a]||[]).length||s),y=a.split(" ").join("-").toLowerCase(),I=g[a].map((function(e,t){return{user:e,index:t}})),E=I.filter((function(e){return!e.user.pendingApproval})),w=I.filter((function(e){return e.user.pendingApproval})),N=o.map((function(e){return g[e]})).flat(),A=I.length&&s?"allows-many":"",S=I.length?"has-users":"";return Object(Ma.jsx)(Qs.FieldArray,{name:a,render:function(e){return Object(Ma.jsxs)("div",{className:"project-role-user-field ".concat(A," ").concat(S),"data-testid":"project-user-role-".concat(y),children:[Object(Ma.jsxs)("div",{className:"project-user-description-cell",children:[Object(Ma.jsx)("h4",{"data-testid":"project-user-role-title-".concat(y),children:t}),Object(Ma.jsx)("span",{"data-testid":"project-user-role-description-".concat(y),children:n})]}),T?Object(Ma.jsx)(NS,{role:a,onUserSelected:v(e),unavailableUsers:N}):null,E.length?Object(Ma.jsx)("div",{className:"project-user-pill-container",children:E.map((function(t){var n=t.user,a=t.index;return Object(Ma.jsx)(vS,{user:n,showEmail:d,onClearClick:L(e,a),onTogglePending:_?C(e,n,a):void 0},n.pillId)}))}):null,w.length?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("h4",{className:"project-user-pill-label",children:"Pending approval"}),Object(Ma.jsx)("div",{className:"project-user-pill-container pending",children:w.map((function(t){var n=t.user,a=t.index;return Object(Ma.jsx)(vS,{user:n,showEmail:d,onClearClick:L(e,a),onTogglePending:_?C(e,n,a):void 0},n.pillId)}))})]}):null]})}})},kS=function(e){var t=e.children;return Object(Ma.jsx)("div",{className:"form-bottom-actions",children:t})},DS=["dataTestId"],RS=function(e){var t=e.dataTestId,n=Object(Pi.a)(e,DS);return Object(Ma.jsx)(er.Button,Object(b.a)(Object(b.a)({className:"button-link form-cancel-button","data-testid":t||"cancel-button-bottom",type:"button"},n),{},{children:"Cancel"}))},PS=(n(1530),function(){return x.Constants.USER_ROLES_LIST.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e||{}),{},Object($t.a)({},t,[]))}),{})}),MS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{role:e.roles[0].name,pendingApproval:e.roles[0].pendingApproval,wasPending:e.roles[0].pendingApproval})})).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{pillId:AS(e)})})).reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.role,[].concat(Object(m.a)(e[t.role]||[]),[t])))}),PS())},FS=function(e){var t=e.initialValues,n=void 0===t?{}:t,a=e.fieldConfigs,c=void 0===a?[]:a,o=e.onSubmit,i=e.submitButtonText,s=void 0===i?"Save":i,l=e.onCancel,d=e.children,u=e.isSaving,j=e.hasError,p=e.isDirty,m=function(e){return function(t){var n=x.Constants.USER_ROLES_LIST.map((function(e){return t[e]})).flat();return e(n)}},O=function(e){return c.filter((function(e){return e.required})).every((function(t){var n=t.role;return t.allowMany?(e[n]||[]).length>0:1===(e[n]||[]).length}))};return Object(Ma.jsxs)("div",{className:"project-user-form",children:[Object(Ma.jsx)("div",{className:"project-user-add-header",children:d}),Object(Ma.jsxs)("div",{className:"project-user-grid-headings",children:[Object(Ma.jsx)("span",{children:"Role"}),Object(Ma.jsx)("span",{children:c.some((function(e){return e.showEmail}))?"Name / Email address":"Name"})]}),Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(Qs.Formik,{initialValues:n,onSubmit:m(o),children:function(e){var t=e.dirty,n=e.values,a=e.resetForm;return Object(Ma.jsxs)(Qs.Form,{children:[c.map((function(e){return Object(Ma.jsxs)(r.Fragment,{children:[Object(Ma.jsx)(SS,Object(b.a)({},e)),Object(Ma.jsx)(Fa,{})]},e.role)})),Object(Ma.jsxs)(kS,{children:[l&&Object(Ma.jsx)(RS,{onClick:function(){return l(a)}}),o&&Object(Ma.jsx)(Kj,{isValid:O(n),isSaving:u,dirty:void 0===p?t:p,buttonSize:"sm",standbyText:"string"===typeof s?s:m(s)(n),buttonPosition:"project-user-details"})]}),j&&Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("br",{}),Object(Ma.jsx)(Io,{})]})]})}})]})},US=function(){var e=Object(s.useSelector)(da),t=Object(s.useDispatch)(),n=Object(r.useState)(null),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),l=Object(Cr.a)(i,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),h=f[0],_=f[1];Object(r.useEffect)((function(){d||(e.users?(o(MS(e.users)),u(!0)):o(MS()))}),[e,o,d,u]);var g=[{role:x.Constants.USER_ROLES.CLIENT_ADMIN,title:x.Constants.USER_ROLES.CLIENT_ADMIN,description:"View approved content, add comments or assign client team members.",showEmail:!0,allowMany:!0,allowApprovePending:!0},{role:x.Constants.USER_ROLES.CLIENT_TEAM_MEMBER,title:x.Constants.USER_ROLES.CLIENT_TEAM_MEMBER,description:"View approved content or add comments.",showEmail:!0,allowMany:!0,allowApprovePending:!0}],v=function(){var n=Object(te.a)(ee.a.mark((function n(a){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m(!0),n.prev=1,_(!1),n.next=5,Bn(e.id,a);case 5:return n.next=7,t(ma(e.id));case 7:m(!1),u(!1),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),m(!1),_(!0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}();return d&&Object(Ma.jsx)(FS,{initialValues:c,fieldConfigs:g,onSubmit:v,onCancel:function(e){return e()},submitButtonText:"Save",isSaving:p,hasError:h,children:Object(Ma.jsx)("div",{"data-testid":"clientSettings",children:Object(Ma.jsx)("p",{children:"Client details need to be added to the PwC Identity Group and User Management Database before they can be invited to a project. Once they're on the database, enter their name or email address below. Once you're done, click \u2018Save\u2019."})})})},BS=function(){var e=Object(s.useSelector)(da),t=Object(s.useDispatch)(),n=Object(r.useState)(null),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),l=Object(Cr.a)(i,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),h=f[0],_=f[1];Object(r.useEffect)((function(){d||(e.users?(o(MS(e.users)),u(!0)):o(MS()))}),[e,o,d,u]);var g=[{role:x.Constants.USER_ROLES.ENGAGEMENT_LEAD,title:x.Constants.USER_ROLES.ENGAGEMENT_LEAD,description:"Full access. This is available for Partner and Managing Director level only.",required:!0},{role:x.Constants.USER_ROLES.ENGAGEMENT_MANAGER,title:x.Constants.USER_ROLES.ENGAGEMENT_MANAGER,description:"Full access to ".concat(x.EnvironmentVariableUtilities.platformName,"."),required:!0},{role:x.Constants.USER_ROLES.PROJECT_ADMIN,title:x.Constants.USER_ROLES.PROJECT_ADMIN,description:"Full access.",allowMany:!0},{role:x.Constants.USER_ROLES.APPROVER,title:x.Constants.USER_ROLES.APPROVER,description:"Unable to edit users on ".concat(x.EnvironmentVariableUtilities.platformName,"."),allowMany:!0},{role:x.Constants.USER_ROLES.TEAM_MEMBER,title:x.Constants.USER_ROLES.TEAM_MEMBER,description:"Unable to edit users or approve content.",allowMany:!0},{role:x.Constants.USER_ROLES.PWC_READONLY,title:x.Constants.USER_ROLES.PWC_READONLY_DISPLAY,description:"Unable to contribute, share, approve, comment, and edit users on ".concat(x.EnvironmentVariableUtilities.platformName,"."),allowMany:!0}],v=function(){var n=Object(te.a)(ee.a.mark((function n(a){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m(!0),n.prev=1,_(!1),n.next=5,Bn(e.id,a);case 5:return n.next=7,t(ma(e.id));case 7:m(!1),u(!1),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),m(!1),_(!0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}();return d&&Object(Ma.jsx)(FS,{initialValues:c,fieldConfigs:g,onSubmit:v,onCancel:function(e){return e()},submitButtonText:"Save",isSaving:p,hasError:h,children:Object(Ma.jsxs)("div",{"data-testid":"pwcTeamSettings",children:[Object(Ma.jsx)("h3",{children:"Search for PwC team members to invite to the project."}),Object(Ma.jsxs)("p",{children:["If you can't find a team member, please send an email to"," ",Object(Ma.jsx)("a",{href:"mailto:deals-support@pwc.com",className:"orange-link",children:"deals-support@pwc.com"}),". ","Please include the full name and the role you'd like to add."]})]})})},YS=Object(O.createSlice)({name:"userNotificationSettings",initialState:{},reducers:{setUserNotificationSettingsAction:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.payload.projectId,{settings:t.payload.settings,loading:!1,saveError:!1}))},setUserNotificationSettingsIsLoadingAction:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.payload.projectId,Object(b.a)(Object(b.a)({},e[t.payload.projectId]||{}),{},{loading:!0,saveError:!1})))},setSaveErrorUserNotificationSettingsAction:function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.payload.projectId,Object(b.a)(Object(b.a)({},e[t.payload.projectId]||{}),{},{loading:!1,saveError:!0})))}}}),WS=YS.actions,VS=WS.setUserNotificationSettingsAction,ZS=WS.setUserNotificationSettingsIsLoadingAction,GS=WS.setSaveErrorUserNotificationSettingsAction,HS=function(e,t){return VS({projectId:e,settings:t})},KS=function(e){return ZS({projectId:e})},qS=function(e){return GS({projectId:e})},zS=function(e){return function(t){return t.userNotificationSettings[e]||{loading:!1,saveError:!1,settings:{receiveEmails:!1}}}},QS=YS.reducer,JS=function(e,t){return"projects/".concat(t,"/userNotificationSettings")},XS=function(e){return ke.get(JS(vA||(vA=Object(Kl.a)(["",""])),e))},$S=function(e,t){return ke.post(JS(LA||(LA=Object(Kl.a)(["",""])),e),{receiveEmails:t})},ek=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XS(e);case 2:(a=t.sent)&&n(HS(e,a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},tk=[{label:"Yes",value:"1"},{label:"No",value:"0"}],nk=function(){var e=Object(r.useState)(!1),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(s.useSelector)(ua),o=Object(s.useSelector)(zS(c)),i=Object(s.useSelector)(function(e){return function(t){return me()(t,["userNotificationSettings",e,"saveError"],!1)}}(c)),l=Object(s.useDispatch)();Object(r.useEffect)((function(){l(ek(c))}),[l,c]);var d=Object(r.useCallback)((function(e){var t=!!parseInt(e.receiveEmails,10);a(!0),l(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a,r){var c;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((c=zS(e)(r())).loading||!!c.settings.receiveEmails===t){n.next=13;break}return a(KS(e)),n.prev=3,n.next=6,$S(e,t);case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(3),a(qS(e)),n.abrupt("return");case 12:a(ek(e));case 13:case"end":return n.stop()}}),n,null,[[3,8]])})));return function(e,t){return n.apply(this,arguments)}}()}(c,t)),a(!1)}),[l,c]),u=Object(b.a)(Object(b.a)({},o.settings),{},{receiveEmails:o.settings.receiveEmails?"1":"0"});return Object(Ma.jsx)("div",{className:"settings-container","data-testid":"notification-settings",children:Object(Ma.jsx)(Qs.Formik,{initialValues:u,enableReinitialize:!0,onSubmit:d,children:function(e){var t=e.isValid,a=e.dirty,r=e.resetForm;return Object(Ma.jsxs)(Qs.Form,{"data-testid":"notification-settings-form",className:"notification-settings-form-container",children:[Object(Ma.jsx)("div",{className:"form-fields",children:Object(Ma.jsx)(Qs.Field,{name:"receiveEmails",component:fA,options:tk,direction:"row",label:"Would you like to receive email notifications?"})}),Object(Ma.jsx)(Fa,{}),i&&Object(Ma.jsx)(To.a,{variant:"danger","data-testid":"error-message",children:"An error occurred while saving settings"}),Object(Ma.jsxs)("div",{className:"form-bottom-actions",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button",onClick:function(){return r()},type:"button","data-testid":"cancel-button-bottom",children:"Cancel"}),Object(Ma.jsx)(Kj,{isSaving:n,isValid:t&&a,buttonSize:"sm",onSaveText:"Saving...",standbyText:"Save",buttonPosition:"bottom"})]})]})}})})},ak=(n(1531),function(e){var t=e.lightModeVariant,n=Object(p.m)().projectId,a=Object(s.useDispatch)(),c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(""),u=Object(Cr.a)(d,2),j=u[0],b=u[1],m=Object(r.useState)(!1),O=Object(Cr.a)(m,2),f=O[0],h=O[1];Object(r.useEffect)((function(){a(dA(n))}),[a,n]);var _=Object(s.useSelector)(lA(n));Object(r.useEffect)((function(){_&&b(_.disclaimerHtml)}),[_]);var x=function(){i&&b(_.disclaimerHtml),l(!i)},g=function(){a(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,$N(e,t);case 3:r=n.sent,a(oA(e,r)),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(n,j)),x()};return _&&!_.isLoading?Object(Ma.jsx)(jo,{projectId:n,children:function(e){var n=e.isProjectDisabled;return Object(Ma.jsxs)("div",{"data-testid":"p-d-settings-container",className:"p-d-settings-container".concat(t?" light-mode-variant":""),children:[Object(Ma.jsxs)("div",{className:"p-d-header",children:[Object(Ma.jsx)("div",{"data-testid":"p-d-title",className:"p-d-settings-title",children:i?"Edit Project Disclaimer":"Project Disclaimer"}),!i&&Object(Ma.jsx)("div",{"data-testid":"p-d-settings-button-container",className:"p-d-settings-button-container",children:Object(Ma.jsx)(er.Button,{className:"button-block sm p-d-edit-button",type:"submit",disabled:n,"data-testid":"p-d-edit-button",onClick:x,children:"Edit"})})]}),Object(Ma.jsx)(Fa,{}),i?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(hp,{richTextData:j,onChange:b,label:"Description",onBlur:function(e,t){h(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){h(!0),t.ui.view.toolbar.element.style.display="block"},isFocused:f}),Object(Ma.jsxs)("div",{className:"p-d-button-container",children:[Object(Ma.jsx)(er.Button,{className:"button-link mx-2 mr-4",onClick:x,"data-testid":"p-d-cancel-button",children:"Cancel"}),Object(Ma.jsx)(er.Button,{onClick:g,"data-testid":"p-d-update-button",disabled:!_.disclaimerHtml||!j||0===j.length,children:"Save"})]})]}):Object(Ma.jsx)("div",{className:"p-d-settings-content","data-testid":"p-d-settings-content",dangerouslySetInnerHTML:{__html:Qa(_.disclaimerHtml)}})]})}}):null}),rk=(n(1532),function(e,t){var n=e.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},t.email,t))}),{});return t.filter((function(e){return!n[e.email]||n[e.email].role!==e.role}))}),ck=function(e,t,n){var a=e.map((function(e){return e.role})),r=a.map((function(e){return t[e]||[]})).flat(),c=n.filter((function(e){return a.includes(e.role)}));return{usersToRemove:function(e,t){return rk(t,e).map((function(e){return{emailAddress:e.email}}))}(r,c),usersToAdd:function(e,t){return rk(e,t).map((function(e){return{emailAddress:e.email,roleName:e.role}}))}(r,c)}},ok=function(){var e=Object(s.useSelector)(da),t=Object(s.useDispatch)(),n=Object(r.useState)(null),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),l=Object(Cr.a)(i,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),h=f[0],_=f[1];Object(r.useEffect)((function(){d||(e.users?(o(MS(e.users)),u(!0)):o(MS()))}),[e,o,d,u]);var g=[{role:x.Constants.USER_ROLES.CLIENT_ADMIN,title:x.Constants.USER_ROLES.CLIENT_ADMIN,description:"View approved content, comment and assign client team members",showEmail:!0,allowMany:!0,addAsPending:!0},{role:x.Constants.USER_ROLES.CLIENT_TEAM_MEMBER,title:x.Constants.USER_ROLES.CLIENT_TEAM_MEMBER,description:"View approved content and comment",showEmail:!0,allowMany:!0,addAsPending:!0}],v=function(){var n=Object(te.a)(ee.a.mark((function n(a){var r;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m(!0),n.prev=1,_(!1),!(r=ck(g,c,a)).usersToRemove.length&&!r.usersToAdd.length){n.next=9;break}return n.next=7,Yn(e.id,r);case 7:return n.next=9,t(ma(e.id));case 9:m(!1),u(!1),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),m(!1),_(!0);case 17:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}();return d&&Object(Ma.jsx)(FS,{initialValues:c,fieldConfigs:g,onSubmit:v,onCancel:function(e){return e()},submitButtonText:function(e){var t=ck(g,c,e);return t.usersToAdd.length&&t.usersToRemove.length?"Request Access and Save":t.usersToAdd.length?"Request Access":"Save"},checkIsValid:function(){return!0},isSaving:p,hasError:h,children:Object(Ma.jsx)("div",{"data-testid":"clientSettingsClientView",children:Object(Ma.jsx)("p",{children:"You can request access for your team by entering their email address next to the assigned role."})})})},ik=function(){var e=Object(s.useSelector)(da),t=Object(r.useState)(!1),n=Object(Cr.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),i=Object(Cr.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!1),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(!1),O=Object(Cr.a)(m,2),f=O[0],h=O[1],_=Object(r.useState)(!1),g=Object(Cr.a)(_,2),v=g[0],L=g[1],C=Object(r.useState)(!1),T=Object(Cr.a)(C,2),y=T[0],I=T[1],E=Object(r.useState)(!1),w=Object(Cr.a)(E,2),N=w[0],A=w[1];return Object(r.useEffect)((function(){e.id&&Promise.all([Ie.hasProjectPermission(e.id,[x.Constants.USER_PERMISSIONS.MANAGE_USERS]),Ie.hasProjectPermission(e.id,[x.Constants.USER_PERMISSIONS.MANAGE_CLIENT_USERS]),Ie.hasProjectPermission(e.id,[x.Constants.USER_PERMISSIONS.CONTRIBUTE]),Ie.hasProjectRoles(e.id,x.Constants.USER_ROLE_GROUPS.CLIENT),Ie.hasProjectRoles(e.id,[x.Constants.USER_ROLES.CLIENT_ADMIN])]).then((function(e){var t=Object(Cr.a)(e,5),n=t[0],a=t[1],r=t[2],o=t[3],i=t[4];c(n&&!o),d(!o),L(n&&!o),p(a&&!o),I(r&&!o),h(i),A(!0)}))}),[e.id]),e.id&&Object(Ma.jsx)(wu,{className:"settings",children:Object(Ma.jsxs)("div",{className:"settings-container","data-testid":"settings-container",children:[Object(Ma.jsx)(ws,{title:"Settings",size:"h2"}),Object(Ma.jsxs)(er.Tabs,{children:[a&&Object(Ma.jsx)("div",{label:"Project Details",children:Object(Ma.jsx)(GA,{})}),l&&Object(Ma.jsx)("div",{label:"Project Status",children:Object(Ma.jsx)(gS,{projectId:e.id})}),v&&Object(Ma.jsx)("div",{label:"PwC Team",children:Object(Ma.jsx)(BS,{})}),b&&Object(Ma.jsx)("div",{label:"Client",children:Object(Ma.jsx)(US,{})}),f&&Object(Ma.jsx)("div",{label:"Team",children:Object(Ma.jsx)(ok,{})}),y&&Object(Ma.jsx)("div",{label:"Project Disclaimer",children:Object(Ma.jsx)(ak,{})}),N&&Object(Ma.jsx)("div",{label:"Notifications",children:Object(Ma.jsx)(nk,{})})]})]})})},sk=function(){return Object(Ma.jsx)(p.d,{exact:!0,isAuthorized:ue.hasValidToken,path:"/projects/:projectId/settings",component:ik})},lk=Object(O.createSlice)({name:"fileUpload",initialState:{files:{loading:null,error:null,data:null},upload:{showModal:!1,loading:!1,error:null,successMessage:null,uploadedFileId:null,uploadedFileName:null}},reducers:{setFilesData:function(e,t){var n=t.payload.data;e.files.data=Object(h.cloneDeep)(n),e.files.error=!1,e.files.loading=!1},setFilesDataLoading:function(e,t){var n=t.payload.loading;e.files.loading=n,e.files.error=!1},setFilesDataError:function(e,t){var n=t.payload.error;e.files.loading=!1,e.files.error=n},setFileUploadLoading:function(e,t){var n=t.payload.loading;e.upload.loading=n,e.upload.error=null},setFileUploadError:function(e,t){var n=t.payload.error;e.upload.loading=!1,e.upload.error=n},openModal:function(e,t){var n=t.payload||{fileId:null},a=n.fileId,r=n.fileName;e.upload.showModal=!0,e.upload.uploadedFileId=a,e.upload.uploadedFileName=r},closeModal:function(e){e.upload.showModal=!1},showSuccessMessage:function(e,t){e.upload.showModal=!1,e.upload.successMessage=t.payload},hideSuccessMessage:function(e){e.upload.successMessage=null}}}),dk=lk.actions,uk=dk.setFilesData,jk=dk.setFilesDataLoading,bk=dk.setFilesDataError,pk=dk.setFileUploadLoading,mk=dk.setFileUploadError,Ok=dk.openModal,fk=dk.closeModal,hk=dk.showSuccessMessage,_k=dk.hideSuccessMessage,xk=function(e){return e.fileUpload},gk=Object(f.a)(xk,(function(e){return e.files})),vk=Object(f.a)(xk,(function(e){return e.upload})),Lk=lk.reducer,Ck=function(e){return"projects/".concat(e,"/files")},Tk=function(e,t){return"projects/".concat(e,"/files/").concat(t)},yk=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t).get(Ck(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ik=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t).postFile(Ck(t),{password:n},a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ek=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a,r){var c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t).putFile(Tk(t,r),{password:n},a);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),wk=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t).delete(Tk(t,n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nk=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t).post("projects/".concat(t,"/files/").concat(n,"/").concat(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ak=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t).get("".concat(Tk(t,n)));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Sk=function(e){return e.sort((function(e,t){return new Date(t.uploadedDateTime)-new Date(e.uploadedDateTime)}))},kk=function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(n){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(jk({loading:!0})),t.prev=1,t.next=4,yk(e).then(Sk);case 4:a=t.sent,n(uk({data:{files:a}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(bk({error:t.t0}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Dk=function(e,t,n){return function(){var a=Object(te.a)(ee.a.mark((function a(r){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(jk({loading:!0})),a.prev=1,a.next=4,Nk(e,t,n);case 4:return a.next=6,kk(e)(r);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),r(bk({error:a.t0}));case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},Rk=(n(1533),Object.freeze({HEADERS:{FILE_NAME:"File name",DATE_UPLOADED:"Date uploaded",UPLOADED_BY:"Uploaded by",APPROVAL_STATUS:"Approval status"},CONTENTS:{ZERO_STATE:{CLIENT_USER:"No files have been uploaded yet. Check back soon as the PwC team will make files available to download here.",PWC_USER:"No files have been uploaded yet. Start uploading files from Word, Excel, PowerPoint and all other file formats to share with the client team."},TEXT_STATUSES:{CAN_REQUEST_APPROVAL:"In progress",CAN_BE_APPROVED_OR_DECLINED:"For approval",APPROVED:"Approved"}},TEST_IDS:{ZERO_STATE:"uploadedfiles-zerocopy",LOADER:"uploadedfiles-filelist-loader"},STATUSES:{CAN_BE_APPROVED_OR_DECLINED:"submittedForApproval",CAN_REQUEST_APPROVAL:"draft",SHARED:"shared",APPROVED:"approved"},OPERATIONS:{CAN_REQUEST_APPROVAL:"SubmitForApproval",CAN_BE_APPROVED_OR_DECLINED:{CANCEL:"CancelApproval",APPROVED:"Approved",REJECTED:"Rejected"}}})),Pk=function(){var e=Object(s.useSelector)(gk).data,t=ue.isClientUser();return Object(Ma.jsxs)("div",{className:nr()("file-headers",{"file-headers--disabled":!!e&&0===e.files.length,"file-headers--three-columns":t}),"data-testid":"uploadedfiles-fileheaders",children:[Object(Ma.jsxs)("div",{children:[" ",Rk.HEADERS.FILE_NAME]}),Object(Ma.jsxs)("div",{children:[" ",Rk.HEADERS.DATE_UPLOADED]}),!t&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{children:[" ",Rk.HEADERS.UPLOADED_BY]}),Object(Ma.jsxs)("div",{children:[" ",Rk.HEADERS.APPROVAL_STATUS]})]})]})},Mk={pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},Fk=function(e){for(var t=atob(e),n=[],a=0;a<t.length;a+=512){for(var r=t.slice(a,a+512),c=new Array(r.length),o=0;o<r.length;o++)c[o]=r.charCodeAt(o);var i=new Uint8Array(c);n.push(i)}return n},Uk=function(e){var t=e.fileId,n=e.showText,a=Object(r.useState)(),c=Object(Cr.a)(a,2),o=c[0],i=c[1],l=Object(s.useSelector)((function(e){return e.project&&e.project.id})),d=Object(r.useState)(!0),u=Object(Cr.a)(d,2),j=u[0],p=u[1];Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,Ie.hasProjectRoles(l,[x.Constants.USER_ROLES.PWC_READONLY_DISPLAY,x.Constants.USER_ROLES.PWC_READONLY]);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var m=function(){var e=Object(te.a)(ee.a.mark((function e(){var n,a,r,c,s,d;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:return i(!0),e.next=5,Ak(l,t);case 5:n=e.sent,a=n.fileStream,r=n.fileName,c=Mk[r.split(".").pop()],s=new Blob(Fk(a),{type:c||"application/zip"}),(d=document.createElement("a")).href=window.URL.createObjectURL(s),d.download=c?r:"".concat(r,".zip"),d.click(),i(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=ue.isClientUser();return Object(Ma.jsxs)(er.Button,{className:(n?"ui-button button-menu":"ui-button button-no-underline icon-button")+(O||j?"":" file-download"),onClick:m,"data-testid":"file-download","aria-label":"download",children:[o?Object(Ma.jsx)(er.MiniLoader,{"data-testid":"file-download-loader"}):Object(Ma.jsx)(er.Icon,Object(b.a)({name:"download-alt",className:n?"outline icon-orange":"fill icon-orange-theme","data-testid":"file-download-icon"},n?{width:21}:{})),n?"Download":null]})},Bk=(n(1534),function(e){var t=e.onCloseClick,n=e.fileId,a=Object(s.useDispatch)(),r=Object(s.useSelector)((function(e){return e.project&&e.project.id}));return Object(Ma.jsxs)("div",{className:"deleteConfirmation-dialog","data-testid":"deleteConfirmation-dialog",children:[Object(Ma.jsx)("div",{children:"Delete this file?"}),Object(Ma.jsx)("div",{children:"This will permanently remove the file from the platform."}),Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Button,{onClick:t,className:"button-outline button-small","data-testid":"menu-button-show-deleteConfirmation-close",disabled:!t,children:"Cancel"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Button,{className:"button-small",onClick:function(){a(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(jk({loading:!0})),n.prev=1,n.next=4,wk(e,t);case 4:return n.next=6,kk(e)(a);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a(bk({error:n.t0}));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(r,n)),t()},children:"Yes, delete"})})]})]})}),Yk=function(e){var t=e.onClick;return Object(Ma.jsxs)(er.Button,{className:"button-menu",onClick:t,"data-testid":"menu-button-show-password",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"unlocked",width:"21",className:"outline icon-orange"}),"Show password"]})},Wk=function(e){var t=e.onClick;return Object(Ma.jsxs)(er.Button,{className:"button-menu",onClick:t,"data-testid":"menu-button-update",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"ingestion-upload",width:"21",className:"outline icon-orange"}),"Update"]})},Vk=(n(1535),function(e){var t=e.password,n=e.onCloseClick;return Object(Ma.jsxs)("div",{className:"password-dialog",children:[Object(Ma.jsx)("div",{children:"File password"}),Object(Ma.jsx)("div",{children:t}),Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Button,{onClick:n,className:"button-outline button-small","data-testid":"menu-button-show-password-close",disabled:!n,children:"Close"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)(er.Button,{className:"button-small",onClick:function(){return navigator.clipboard.writeText(t)},children:"Copy"})})]})]})}),Zk=(n(1536),["itemId","onUpdateMenuClick","filePassword","dismissMenu"]),Gk=c.a.forwardRef((function(e,t){var n=e.itemId,a=e.onUpdateMenuClick,c=e.filePassword,o=e.dismissMenu,i=Object(Pi.a)(e,Zk),l=ue.isClientUser(),d=Object(s.useSelector)((function(e){return e.project&&e.project.id})),u=Object(r.useState)(!0),j=Object(Cr.a)(u,2),p=j[0],m=j[1],O=Er(),f=Object(r.useState)(!0),h=Object(Cr.a)(f,2),_=h[0],g=h[1];Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.hasProjectRoles(d,[x.Constants.USER_ROLES.PWC_READONLY_DISPLAY,x.Constants.USER_ROLES.PWC_READONLY]);case 2:t=e.sent,g(t),m(l||t);case 5:case"end":return e.stop()}}),e)})))()}),[]);var v=Object(r.useState)(!1),L=Object(Cr.a)(v,2),C=L[0],T=L[1],y=function(e){m(e),e||o()},I=function(e){T(e),e||o()},E=p||C?" file-confirmation-popover":"";return i.className+=E,Object(Ma.jsx)(Nr.a,Object(b.a)(Object(b.a)({ref:t,id:"file-actions-popup","data-testid":"content-actions-popup-menu-".concat(n)},i),{},{children:Object(Ma.jsx)(Nr.a.Content,{className:"popup-menu".concat(E),children:p?Object(Ma.jsx)(Vk,{password:c,onCloseClick:function(){return y(!1)}}):C?Object(Ma.jsx)(Bk,{onCloseClick:function(){I(!1)},fileId:n}):Object(Ma.jsxs)(Ma.Fragment,{children:[!l&&!_&&Object(Ma.jsx)(Uk,{fileId:n,showText:!0}),!O&&Object(Ma.jsx)(Wk,{onClick:a}),!l&&Object(Ma.jsx)(Yk,{onClick:function(){return y(!0)}}),Object(Ma.jsx)($s,{onClick:function(){return I(!0)}})]})})}))})),Hk=(n(1537),function(e){var t=Object.assign({},e),n=ue.isClientUser(),a=Object(s.useSelector)((function(e){return e.project&&e.project.id})),c=Object(r.useState)(!0),o=Object(Cr.a)(c,2),i=o[0],l=o[1];return Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,Ie.hasProjectRoles(a,[x.Constants.USER_ROLES.PWC_READONLY_DISPLAY,x.Constants.USER_ROLES.PWC_READONLY]);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(Ma.jsx)("div",{className:"file-upload-action-button-container",children:Object(Ma.jsx)(er.Button,Object(b.a)(Object(b.a)({},t),{},{className:"button-link action-button","data-testid":n||i?"row-action-unlock":"row-actions-button","aria-label":"Action Button",children:Object(Ma.jsx)(er.Icon,{name:n||i?"locked":"more-vert",width:24,className:"fill icon-orange"})}))})}),Kk=function(e){var t,n=e.itemId,a=e.direction,c=e.onUpdateMenuClick,o=e.filePassword,i=Object(r.useState)(!1),s=Object(Cr.a)(i,2),l=s[0],d=s[1],u=Object(r.useState)(null),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=Object(r.useRef)(null);return Object(Ma.jsxs)("div",{ref:m,"data-testid":"file-list-row-options",children:[Object(Ma.jsx)(Hk,{onClick:function(e){p(e.target),setTimeout((function(){d(!l),l&&setTimeout((function(){document.body.click()}),200)}),100)}}),Object(Ma.jsx)(wr.default,{show:l,target:b,placement:a,rootClose:!0,onHide:function(){d(!l)},container:m.current,children:Object(Ma.jsx)(Gk,{itemId:n,onUpdateMenuClick:(t=c,t?function(){d(!1),t(n)}:null),filePassword:o,dismissMenu:function(){return d(!1)}})})]})};Kk.defaultProps={direction:"bottom"};var qk=Kk,zk=function(e){var t=e.file,n=Object(s.useDispatch)(),a=t.fileId,r=t.fileName;return Object(Ma.jsx)(qk,{itemId:a,onUpdateMenuClick:function(){n(Ok({fileId:a,fileName:r}))},filePassword:t.password,direction:"left"})},Qk=(n(1538),function(e){var t=e.file;return Object(Ma.jsxs)("div",{className:"file-upload-actions",children:[Object(Ma.jsx)(Uk,{fileId:t.fileId}),Object(Ma.jsx)(zk,{file:t})]})}),Jk=(n(1539),function(e){var t=e.onClick;return Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(er.Button,{className:"ui-button button-menu button-no-underline file-status-button",onClick:t,"data-testid":"menu-button-cancel-request",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"end-process",width:24,className:"outline icon-orange"}),Object(Ma.jsx)("span",{children:"Cancel request"})]})})}),Xk=(n(1540),function(e){var t=e.onClick;return Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(er.Button,{className:"ui-button button-menu button-no-underline file-status-button",onClick:t,"data-testid":"menu-button-request-approval",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"askquestion",width:24,className:"outline icon-orange"}),Object(Ma.jsx)("span",{children:"Request approval"})]})})}),$k=(n(1541),function(e){var t=e.onClick;return Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(er.Button,{className:"ui-button button-menu button-no-underline file-status-button",onClick:t,"data-testid":"menu-button-approve",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"confirmed",width:24,className:"outline icon-orange"}),Object(Ma.jsx)("span",{children:"Approve"})]})})}),eD=(n(1542),function(e){var t=e.onClick;return Object(Ma.jsx)("div",{children:Object(Ma.jsxs)(er.Button,{className:"ui-button button-menu button-no-underline file-status-button",onClick:t,"data-testid":"menu-button-decline",disabled:!t,children:[Object(Ma.jsx)(er.Icon,{name:"circle-delete",width:24,className:"outline icon-orange"}),Object(Ma.jsx)("span",{children:"Decline"})]})})}),tD=(n(1543),function(){return Object(Ma.jsx)("div",{children:Object(Ma.jsxs)("div",{className:"shared-pill","data-testid":"shared-with-client-pill",children:[Object(Ma.jsx)(er.Icon,{name:"view",width:20,className:"fill icon-black"}),Object(Ma.jsx)("span",{className:"text-shared-with-client",children:"Draft shared with client"})]})})}),nD=(n(1544),function(e){var t=e.target,n=e.fileName,a=void 0===n?"":n,c=e.isLoading,o=void 0!==c&&c,i=e.show,s=e.onConfirm,l=void 0===s?function(){}:s,d=e.onCancel,u=void 0===d?function(){}:d,j=Object(r.useRef)(),b=Er();return Object(Ma.jsx)("div",{ref:j,"data-testid":"share-file-popover",children:Object(Ma.jsx)(wr.default,{show:i,target:t,rootClose:!0,onHide:u,container:j.current,placement:b?"bottom-end":"left-start",children:Object(Ma.jsx)(Nr.a,{className:"share-file-popover",children:Object(Ma.jsxs)(Nr.a.Content,{className:"popup-menu popup-confirmation share-file-popover",children:[Object(Ma.jsx)(Nr.a.Title,{children:"Share with client team?"}),Object(Ma.jsx)("p",{"data-testid":"popover-confirmation-message",children:'This will allow the client team to download and view the file "'.concat(a,'".')}),Object(Ma.jsxs)("div",{className:"confirm-buttons",children:[Object(Ma.jsx)(er.Button,{onClick:u,className:"button-link mr-3",children:"Cancel"}),Object(Ma.jsx)(er.Button,{onClick:l,className:"button-small",disabled:o,children:"Yes, share now"})]})]})})})})}),aD=function(e){var t=e.file,n=Object(s.useDispatch)(),a=Object(r.useState)(),c=Object(Cr.a)(a,2),o=c[0],i=c[1],l=Object(r.useState)(!1),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(p.m)().projectId;return Object(Ma.jsxs)("div",{children:[Object(Ma.jsxs)(er.Button,{"data-testid":"file-approved-btn",className:"button-menu button-no-underline file-status-button",onClick:function(e){i(e.target),j(!0)},children:[Object(Ma.jsx)(er.Icon,{name:"view",width:24,className:"outline icon-orange"}),Object(Ma.jsx)("span",{children:"Share with client"})]}),Object(Ma.jsx)(nD,{target:o,onCancel:function(){j(!1)},onConfirm:function(){return n(Dk(b,t.fileId,"ShareWithClient"))},fileName:t.fileName,show:u})]})},rD=function(e){var t=e.file,n=Object(s.useDispatch)(),a=t||{status:"",fileId:0},c=a.status,o=a.fileId,i=Object(s.useSelector)((function(e){return e.project&&e.project.id})),l=Object(r.useState)(!0),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(!0),p=Object(Cr.a)(b,2),m=p[0],O=p[1];Object(r.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,Ie.hasProjectRoles(i,[x.Constants.USER_ROLES.TEAM_MEMBER]);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=O,e.next=8,Ie.hasProjectRoles(i,[x.Constants.USER_ROLES.PWC_READONLY]);case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then()}),[i]);var f=function(){switch(c){case Rk.STATUSES.CAN_REQUEST_APPROVAL:return Rk.CONTENTS.TEXT_STATUSES.CAN_REQUEST_APPROVAL;case Rk.STATUSES.CAN_BE_APPROVED_OR_DECLINED:return Rk.CONTENTS.TEXT_STATUSES.CAN_BE_APPROVED_OR_DECLINED;case Rk.STATUSES.APPROVED:return Rk.CONTENTS.TEXT_STATUSES.APPROVED;default:return c}};switch(c){case Rk.STATUSES.SHARED:return Object(Ma.jsx)(tD,{});case Rk.STATUSES.CAN_REQUEST_APPROVAL:if(m)break;return Object(Ma.jsx)(Xk,{onClick:function(){return n(Dk(i,o,Rk.OPERATIONS.CAN_REQUEST_APPROVAL))}});case Rk.STATUSES.CAN_BE_APPROVED_OR_DECLINED:if(m)break;return u?Object(Ma.jsx)(Jk,{onClick:function(){return n(Dk(i,o,Rk.OPERATIONS.CAN_BE_APPROVED_OR_DECLINED.CANCEL))}}):Object(Ma.jsxs)("div",{className:"approve-decline",children:[Object(Ma.jsx)($k,{onClick:function(){return n(Dk(i,o,Rk.OPERATIONS.CAN_BE_APPROVED_OR_DECLINED.APPROVED))}}),Object(Ma.jsx)("div",{className:"divider"}),Object(Ma.jsx)(eD,{onClick:function(){return n(Dk(i,o,Rk.OPERATIONS.CAN_BE_APPROVED_OR_DECLINED.REJECTED))}})]});case Rk.STATUSES.APPROVED:if(m)break;return Object(Ma.jsx)(aD,{file:t});default:return Object(Ma.jsx)("div",{children:Object(Ma.jsx)(Al,{title:f()})})}return Object(Ma.jsx)("div",{children:Object(Ma.jsx)(Al,{title:f()})})},cD=(n(1545),function(e){var t=e.file,n=ue.isClientUser(),a=Er();return Object(Ma.jsxs)("div",{className:nr()("file-list-item",{"file-list-item--three-columns":n}),children:[Object(Ma.jsx)("div",{className:"file-list-item__file-name",children:t.fileName}),a&&!n&&Object(Ma.jsx)(rD,{file:t}),a&&Object(Ma.jsx)(Qk,{file:t}),Object(Ma.jsx)("div",{className:"file-list-item__date",children:Rd.DateTime.fromSeconds(t.uploadedDateTime).toFormat("HH:mm ZZZZ - dd LLL yyyy")}),!n&&Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"file-list-item__uploaded-by",children:[a&&"by ",t.uploadedBy]}),!a&&Object(Ma.jsx)(rD,{file:t})]}),a?Object(Ma.jsx)("div",{className:"clearfix"}):Object(Ma.jsx)(Qk,{file:t})]})}),oD=(n(1546),function(){var e=ue.isClientUser();return Object(Ma.jsx)("div",{className:"file-list-panel text-center","data-testid":Rk.TEST_IDS.ZERO_STATE,children:e?Object(Ma.jsx)("div",{children:Rk.CONTENTS.ZERO_STATE.CLIENT_USER}):Object(Ma.jsx)("div",{children:Rk.CONTENTS.ZERO_STATE.PWC_USER})})}),iD=function(){var e=Object(s.useSelector)(gk),t=e.data,n=e.loading,a=e.error;return a&&console.error(a),Object(Ma.jsxs)(Ma.Fragment,{children:[n&&Object(Ma.jsx)(er.Loader,{dataTestId:Rk.TEST_IDS.LOADER}),!n&&t&&t.files&&(0===t.files.length?Object(Ma.jsx)(oD,{}):t.files.map((function(e){return Object(Ma.jsx)(cD,{file:e},e.fileId)})))]})},sD=(n(600),n(601),n(629)),lD=(n(1547),function(e){var t=e.file,n=e.clearFile,a=e.loading,r=e.error,c=e.fullErrorCopy,o=!!r||!!c,i=function(e){32===e.keyCode&&(e.preventDefault(),n())};return Object(Ma.jsxs)("div",{className:"files",children:[Object(Ma.jsx)("h6",{children:"File to upload"}),(t||c)&&Object(Ma.jsxs)("div",{className:nr()("file",{"file-upload-error":o}),children:[a&&Object(Ma.jsx)(er.MiniLoader,{}),o&&Object(Ma.jsx)(er.Icon,{name:"alert",className:"icon-error fill",width:24,onClick:n,tabIndex:0,onKeyDown:i}),Object(Ma.jsx)(er.Icon,{name:"circle-cross",className:"action-icon outline icon-orange-theme with-hover",width:24,onClick:n,tabIndex:0,onKeyDown:i}),Object(Ma.jsx)("span",{children:c||(r?'Failed to upload: "'.concat(t.name,'"'):t.name)})]})]})}),dD=function(e){var t=e.onDropAccepted,n=Object(r.useState)(null),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(sD.a)({disabled:!1,maxFiles:1,maxSize:25e6,multiple:!1,onDropAccepted:t,onDropRejected:function(e){if(e&&e.length>0){var t=e[0],n=t.errors.length>0&&"file-too-large"===t.errors[0].code;o('Failed to upload "'.concat(t.file.name,n?'" as file is over 25MB.':'"'))}}}),s=i.getRootProps,l=i.getInputProps;return c?Object(Ma.jsx)(lD,{fullErrorCopy:c,clearFile:function(){return o(null)},loading:!1}):Object(Ma.jsxs)("div",Object(b.a)(Object(b.a)({},s()),{},{className:"drop-area__droppable-container droppable-area","data-testid":"drop-area",children:[Object(Ma.jsx)("input",Object(b.a)({},l())),Object(Ma.jsx)("div",{className:"drop-area__background",children:Object(Ma.jsxs)("div",{className:"drop-area__background__content",children:[Object(Ma.jsx)(er.Icon,{name:"placeholder-dnd",className:"fill icon-grey-medium"}),Object(Ma.jsxs)("span",{className:"drop-area__background__hint background-text",children:["Drag and drop it here, or"," ",Object(Ma.jsx)("span",{className:"ui-button button-link button-theme",children:"choose the file"})," ","(max file size is 25MB)"]})]})})]}))},uD=function(e){var t=e.file,n=e.onDropAccepted,a=e.clearFile,r=e.loading,c=e.error;return t?Object(Ma.jsx)(lD,{file:t,clearFile:a,loading:r,error:c}):Object(Ma.jsx)(dD,{onDropAccepted:n})},jD=(n(1548),function(e){var t=e.post,n=e.disabled,a=e.closeModal;return Object(Ma.jsxs)("div",{className:"modal-upload-actions",children:[Object(Ma.jsx)("button",{className:"ui-button button-link button-theme",type:"button",onClick:a,children:"Cancel"}),Object(Ma.jsx)(er.Button,{className:"btn-large",type:"button",onClick:t,disabled:n,children:"Upload"})]})}),bD=(n(1549),function(e){var t=e.password,n=e.setPassword;return Object(Ma.jsxs)("div",{className:"password-wrapper",children:[Object(Ma.jsx)("h6",{children:"Password"}),Object(Ma.jsxs)("div",{className:"content",children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16}),Object(Ma.jsx)("div",{children:"Add a password to the file. If the file already has one, you can enter it here so that all users can discover the password using the \u2018Show password\u2019 feature in Junction."})]}),Object(Ma.jsx)("input",{className:"input-field",onChange:function(e){var t=e.target.value;return n(t)},value:t,type:"text"})]})}),pD=function(e){var t=e.onHide,n=Object(p.m)().projectId,a=Object(r.useState)(null),c=Object(Cr.a)(a,2),o=c[0],i=c[1],l=Object(r.useState)(""),d=Object(Cr.a)(l,2),u=d[0],j=d[1],b=Object(s.useDispatch)(),m=Object(s.useSelector)(vk),O=m.uploadedFileId,f=m.uploadedFileName,h=Object(s.useSelector)(vk),_=h.loading,x=h.error,g=O?"Update ".concat(f):"Upload a file";return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(hs.a.Header,{closeButton:!0,children:Object(Ma.jsxs)("div",{children:[Object(Ma.jsx)(hs.a.Title,{children:Object(Ma.jsx)(ws,{title:g,size:"h2"})}),Object(Ma.jsx)("p",{children:"Word, Excel, PowerPoint and PDF files are uploaded in their respective file format. All other file types are compressed into a ZIP file so that a password can be added."})]})}),Object(Ma.jsxs)(hs.a.Body,{children:[Object(Ma.jsx)(uD,{file:o,onDropAccepted:function(e){e.length>0&&i(e[0])},clearFile:function(){b(mk({error:null})),i(null)},loading:_,error:x}),Object(Ma.jsx)(bD,{password:u,setPassword:j})]}),Object(Ma.jsx)(hs.a.Footer,{children:Object(Ma.jsx)(jD,{post:function(){b(function(e,t,n,a){return function(){var r=Object(te.a)(ee.a.mark((function r(c){return ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c(pk({loading:!0})),r.prev=1,!a){r.next=7;break}return r.next=5,Ek(e,t,n,a);case 5:r.next=9;break;case 7:return r.next=9,Ik(e,t,n);case 9:return c(pk({loading:!1})),c(hk("".concat(n.name," uploaded successfully"))),r.next=13,kk(e)(c);case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),c(mk({error:r.t0}));case 18:case"end":return r.stop()}}),r,null,[[1,15]])})));return function(e){return r.apply(this,arguments)}}()}(n,u,o,O))},disabled:!o||""===u||_||!!x,closeModal:t})})]})},mD=function(e){var t=e.show,n=e.onHide;return Object(Ma.jsx)(hs.a,{className:"upload-modal",show:t,onHide:n,children:t&&Object(Ma.jsx)(pD,{onHide:n})})},OD=(n(1550),function(e){var t=e.projectId,n=e.openModal,a=ue.isClientUser(),c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],s=o[1];return Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.hasProjectRoles(t,[x.Constants.USER_ROLES.PWC_READONLY_DISPLAY,x.Constants.USER_ROLES.PWC_READONLY]);case 2:e.sent||s(!0);case 4:case"end":return e.stop()}}),e)})))()}),[]),a||!i?null:Object(Ma.jsx)(jo,{projectId:t,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)("div",{className:"file-uploader",children:Object(Ma.jsx)(er.Button,{disabled:t,className:"btn-large",type:"button",onClick:n,"data-testid":"file-uploader-button",children:"Upload file..."})})}})}),fD=(n(1551),n(1552),function(){var e=Object(s.useSelector)(vk).successMessage,t=Object(s.useDispatch)(),n=Object(r.useCallback)((function(){return t(_k())}),[t]);return Object(r.useEffect)((function(){setTimeout(n,1e4)}),[n,e]),e?Object(Ma.jsxs)("div",{className:"upload-success-banner",children:[Object(Ma.jsx)("p",{className:"icon-checkmark",children:Object(Ma.jsx)(er.Icon,{name:"checkmark",className:"fill icon-white",width:12})}),Object(Ma.jsx)("p",{children:e}),Object(Ma.jsx)("button",{className:"icon-button",type:"button",onClick:n,children:Object(Ma.jsx)(er.Icon,{name:"close",className:"fill icon-white",width:12})})]}):null}),hD=function(){var e=Object(p.m)().projectId,t=Object(s.useSelector)(vk).showModal,n=Object(s.useDispatch)();return Object(r.useEffect)((function(){n(kk(e))}),[]),Object(Ma.jsxs)("div",{className:"file-list-container",children:[Object(Ma.jsx)(mD,{show:t,onHide:function(){return n(fk())}}),Object(Ma.jsxs)("div",{className:"list-container-header",children:[Object(Ma.jsx)("h2",{children:"Files"}),Object(Ma.jsx)(OD,{projectId:e,openModal:function(){return n(Ok())}})]}),Object(Ma.jsx)(fD,{}),Object(Ma.jsx)(Pk,{}),Object(Ma.jsx)(iD,{})]})},_D=function(){return Object(Ma.jsx)(p.d,{exact:!0,path:"/projects/:projectId/files/",component:hD})},xD=(n(1553),function(e){var t=e.dataTestId,n=e.title,a=e.content;return Object(Ma.jsxs)(Ma.Fragment,{children:[!a&&Object(Ma.jsxs)("div",{className:"deal-details","data-testid":t,children:[Object(Ma.jsx)("span",{className:"deal-details-title",children:n}),Object(Ma.jsx)("span",{className:"deal-details-content ".concat(n),children:"-"})]}),a&&Object(Ma.jsxs)("div",{className:"deal-details","data-testid":t,children:[Object(Ma.jsx)("span",{className:"deal-details-title",children:n}),Object(Ma.jsx)("span",{className:"deal-details-content ".concat(n),children:a})]})]})}),gD=(n(1554),function(e){var t=e.dataTestId,n=e.firstName,a=e.lastName,r=e.position,c=e.email,o=ue.getUserTypeClass(c);return Object(Ma.jsxs)("div",{className:"usersnippet-container","data-testid":t,children:[Object(Ma.jsx)("div",{className:"usersnippet-photo  ".concat(o),"data-testid":"".concat(t,"-initials"),children:x.TextUtilities.getUserInitials(n,a)}),Object(Ma.jsxs)("div",{className:"usersnippet-text",children:[Object(Ma.jsx)("div",{className:"usersnippet-name",children:"".concat(n," ").concat(a)}),Object(Ma.jsx)("div",{className:"usersnippet-position",children:r})]})]})});gD.defaultProps={firstName:"",lastName:"",email:"",dataTestId:"user-snippet"};var vD=gD,LD=(n(1555),function(e){var t=e.newContent,n=e.updatedContent,a=e.projectId,r=e.shouldRetrieveNotificationCount;return Object(Ma.jsxs)("div",{className:"new-and-updated-container",children:[Object(Ma.jsx)(Xc.NotificationCounts,{projectId:a,shouldRetrieveNotificationCount:r}),Object(Ma.jsx)(Xc.NotificationCountLink,{text:"New Content",to:r?"/projects/".concat(a,"/notifications/project-activity"):"/projects",count:t}),Object(Ma.jsx)(Xc.NotificationCountLink,{text:"Updated Content",to:r?"/projects/".concat(a,"/notifications/project-activity"):"/projects",count:n})]})}),CD=(n(1556),function(e){var t,n=e.contentType,a=e.contentListLinkTo,r=e.contentAddLinkTo,c=e.itemCount,o=e.contentListIconName,i=Object(p.m)().projectId;return t=c>=1,Object(Ma.jsxs)("div",{className:"project-overview-subpanel","data-testid":"content-link-sub-panel",children:[Object(Ma.jsx)("div",{className:"nowrap",children:Object(Ma.jsxs)(Ja.Link,{to:a,className:"overview-title-link",children:[Object(Ma.jsx)(er.Icon,{name:o,width:24,className:"title-icon outline icon-grey hover-white"}),Object(Ma.jsx)("span",{className:"title","data-testid":"".concat(x.TextUtilities.slugify(n),"-overview"),children:"".concat(n,": ").concat(c)})]})}),t?Object(Ma.jsx)("div",{className:"showlist",children:Object(Ma.jsx)(Ja.Link,{to:a,"data-testid":"".concat(x.TextUtilities.slugify(n),"-link"),"aria-label":n,className:"access-content",children:Object(Ma.jsx)(er.Icon,{name:"arrow-right",width:24,className:"outline icon-orange"})})}):Object(Ma.jsx)(mo,{projectId:i,permissions:["Contribute"],children:Object(Ma.jsx)(jo,{projectId:i,children:function(e){return!e.isProjectDisabled&&Object(Ma.jsx)("div",{className:"addbutton",children:Object(Ma.jsx)(Ja.Link,{to:r,"data-testid":"".concat(x.TextUtilities.slugify(n),"-link"),"aria-label":n,className:"add-link",children:Object(Ma.jsx)(er.Icon,{name:"add",width:24,className:"outline icon-orange"})})})}})})]})}),TD=(n(1557),function(e){var t=e.name,n=e.value,a=e.trend,r=void 0===a?"":a,c=e.link,o=void 0===c?"":c,i=e.identifier,s=Object(p.m)().projectId;return Object(Ma.jsxs)("div",{className:"kpi-detail",children:[Object(Ma.jsx)("span",{className:"kpi-name","data-testid":"kpi-name-".concat(i),children:o?Object(Ma.jsx)("a",{href:"/projects/".concat(s,"/").concat(o),"data-testid":"kpi-link-".concat(i),children:t}):t}),Object(Ma.jsxs)("p",{className:"kpi-value",children:[Object(Ma.jsx)("span",{className:"kpi-value-text","data-testid":"kpi-value-text-".concat(i),children:n}),Object(Ma.jsx)("span",{className:"kpi-value-icon","data-testid":"kpi-value-icon-".concat(i),children:r&&Object(Ma.jsx)(er.Icon,{name:"flat"===r?"minus":"".concat(r,"trend"),width:15,fill:"#ffff",className:"name-icon fill"})})]})]})}),yD=function(e){var t=e.name,n=e.index,a=e.indicators;return Object(Ma.jsxs)("div",{className:"kpi-section",children:[Object(Ma.jsx)("h5",{"data-testid":"kpi-section-header-".concat(n),children:t}),Object(Ma.jsx)("div",{className:"kpi-section-details",children:a.map((function(e,t){return Object(Ma.jsx)(TD,{name:e.name,value:e.value,trend:e.trend,link:e.link,identifier:"section-".concat(n,"-detail-").concat(t)},"kpi-".concat(e.name))}))})]})},ID=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("projects/".concat(t,"/key-performance-indicators"));case 2:return n=e.sent,e.abrupt("return",n.data.sections);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ED=function(){var e=Object(p.m)().projectId,t=Object(r.useState)([]),n=Object(Cr.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){var t=!0;return Object(te.a)(ee.a.mark((function n(){var a;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ID(e);case 2:a=n.sent,t&&c(a);case 4:case"end":return n.stop()}}),n)})))(),function(){t=!1,c([])}}),[e]),a.length>0?Object(Ma.jsxs)("div",{className:"kpi-container","data-testid":"kpi-container",children:[Object(Ma.jsx)("h2",{children:"KPIs"}),Object(Ma.jsx)("div",{className:"kpi-subpanel",children:a.map((function(e,t){var n=e.name,a=e.indicators;return Object(Ma.jsx)(yD,{name:n,index:t,indicators:a},"kpi-section-".concat(n))}))})]}):null},wD=function(e,t,n){return["projects",e,"topics",t,n].filter(Boolean).join("/")},ND=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post(wD(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),AD=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.put(wD(t,n),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),SD=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(wD(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kD=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(wD(t,n,a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),DD=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.delete(wD(t,n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),RD=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(wD(t,n),"/").concat(a),e.next=3,ke.post(r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),PD=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get("".concat(wD(t,n),"/versions"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),MD=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post("".concat(wD(t),"/sortorder"),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),FD=n(424),UD=n.n(FD),BD=(n(1558),Object(r.createContext)(null)),YD=function(e){var t=e.handleSelectChange,n=e.selectedContentId,a=e.contentType,c=e.placeholderText,o=void 0===c?"Search and select":c,i=(Object(r.useContext)(BD)||{hypotheses:[]}).hypotheses,s=Object(r.useState)([]),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(""),b=Object(Cr.a)(j,2),m=b[0],O=b[1],f=Object(p.m)().projectId;Object(r.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString){e.next=6;break}return e.next=3,lt(f);case 3:t=e.sent,n=t.map((function(e){var t=Object(h.find)(i,{contentThreadId:e.contentThreadId});return{title:e.title,id:t.contentThreadId,value:{contentId:t.contentId,contentThreadId:t.contentThreadId}}})),u(n);case 6:a===x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString&&zu(f).then((function(e){var t=e.map((function(e){return{title:e.name,id:e.id,value:e.id}}));u(t)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f,a,i]),Object(r.useEffect)((function(){if(0!==d.length){var e=d.find((function(e){return e.title===m}));t(e?e.value:null)}}),[t,d,m]),Object(r.useEffect)((function(){if(d.length&&parseInt(n,10)){var e=d.find((function(e){return e.id===n}));e&&O(e.title)}}),[n,d]);var _={name:"topic-".concat(a,"-search"),value:m};return Object(Ma.jsx)("div",{className:"topic-text-input-width-limit",children:Object(Ma.jsx)(er.Select,{label:a===x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString?"Chart Name":"Key Focus Area Name","data-testid":"select-topic-".concat(a===x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString?"chart":"kfa"),field:_,placeholder:o,options:d.map((function(e){return{value:e.title,key:e.id.toString()}})),onChange:function(e){return O(e.target.value)},value:m,basic:!0})})},WD=function(e){var t=e.column,n=e.contentType,a=e.setContentTypes,c=e.richText,o=e.setRichTexts,i=e.hypothesisId,s=e.setHypothesisArray,l=e.excelChartId,d=e.setExcelChartIdArray,u=e.labelComponent,j=e.lightModeVariant,b=Object(r.useState)(!1),p=Object(Cr.a)(b,2),O=p[0],f=p[1],h=Object(r.useCallback)((function(e){var n=e.target.value;a((function(e){var a=Object(m.a)(e);return a[t]=n,a}))}),[t,a]),_=Object(r.useCallback)((function(e){o((function(n){var a=Object(m.a)(n);return a[t]=e,a}))}),[t,o]),g=Object(r.useCallback)((function(e){s((function(n){var a=Object(m.a)(n);return a[t]=e,a}))}),[t,s]),v=Object(r.useCallback)((function(e){d((function(n){var a=Object(m.a)(n);return a[t]=e,a}))}),[t,d]),L={name:"content-type-column-".concat(t),onChange:h,value:n},C=Object.keys(x.Constants.TOPIC_PANEL_TYPES).filter((function(e){return"UNDEFINED"!==e})).map((function(e){return{label:x.Constants.TOPIC_PANEL_TYPES[e].displayName,value:x.Constants.TOPIC_PANEL_TYPES[e].asString}}));return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("h6",{children:u}),Object(Ma.jsx)(er.RadioGroup,{field:L,options:C,direction:"row",className:"content-type-radio-group"}),n===x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString&&Object(Ma.jsx)("div",{className:"".concat(j?" light-mode-variant":""),children:Object(Ma.jsx)(hp,{richTextData:c,onChange:_,onBlur:function(e,t){f(!1),t.ui.view.toolbar.element.style.display="none"},onFocus:function(e,t){f(!0),t.ui.view.toolbar.element.style.display="block"},label:"Description",isFocused:O})}),n===x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString&&Object(Ma.jsx)(YD,{handleSelectChange:g,selectedContentId:i,contentType:x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString,placeholderText:"Select Key Focus Area"}),n===x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString&&Object(Ma.jsx)(YD,{handleSelectChange:v,selectedContentId:l,contentType:x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString,placeholderText:"Select chart"})]})},VD=function(e){var t=e.topicLayoutTypeValue,n=e.richTextArray,a=e.hypothesisArray,r=void 0===a?[]:a,c=e.contentTypeArray,o=e.excelChartIdArray,i={title:e.topicTitle,layoutType:t};return i.panels=function(e){var t,n=e.topicLayoutTypeValue,a=e.contentTypeArray,r=e.richTextArray,c=e.hypothesisArray,o=e.excelChartIdArray;switch(n){case 18:t=3;break;case 15:case 14:case 11:t=2;break;case 8:case 3:t=3;break;case 2:t=2;break;default:t=1}return Array(t).fill(null).map((function(e,t){var n={panelNumber:t+1};switch(a[t]){case x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString:n.richText=r[t],n.type=x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.value;break;case x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString:n.hypothesisThreadId=Object(h.get)(c,[t,"contentThreadId"],null),n.type=x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value;break;case x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString:default:n.excelChartId=o[t],n.type=x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.value}return n}))}({contentTypeArray:c,richTextArray:n,hypothesisArray:r,excelChartIdArray:o,topicLayoutTypeValue:t}),i.links=function(e,t){return e.filter((function(e,n){return e&&t[n]===x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString})).map((function(e){return e.contentId}))}(r,c),i},ZD=function(e){return!e||""===e.trim()},GD=function(e){var t=e.description,n=e.hypothesisId,a=e.contentType,r=e.excelChartId;switch(a){case x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString:return!ZD(t);case x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString:return!!parseInt(n,10);case x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString:return!!parseInt(r,10);default:return!1}},HD=function(e){var t=e.title,n=e.panels;if(ZD(t))return!1;var a=n.filter((function(e){return e.contentType===x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString})).map((function(e){return e.hypothesisId})),r=a.length!==new Set(a).size,c=n.filter((function(e){return e.contentType===x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString})).map((function(e){return e.excelChartId})),o=c.length!==new Set(c).size;return!r&&!o&&n.every(GD)},KD=(n(1559),["name","title","viewBox","width","height","className"]),qD=function(e){switch(e){case"layout-one-column-full-width-dark":return Object(Ma.jsx)("g",{id:"Layout/Icons/one-column-full-width",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z",id:"Fill-1",fill:"#FFFFFF"})});case"layout-one-column-full-width-light":return Object(Ma.jsx)("g",{id:"Layout/Icons/One-Column-Full-Width/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z",id:"Fill-1",fill:"#121212"})});case"layout-two-column-left-light":return Object(Ma.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",id:"Fill-1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z",id:"Fill-27",fill:"#121212"})]});case"layout-two-column-left-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/two-column_left",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",id:"Fill-1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z",id:"Fill-27",fill:"#FFFFFF"})]});case"layout-two-column-right-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Two-Column/Right/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",id:"Fill-61",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",id:"Fill-62",fill:"#121212"})]});case"layout-two-column-right-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/two-column_right",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",id:"Fill-61",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",id:"Fill-62",fill:"#FFFFFF"})]});case"layout-two-column-narrow-left-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/two-column-narrow-right_left",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",id:"Fill-5",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z",id:"Fill-69",fill:"#FFFFFF"})]});case"layout-two-column-narrow-left-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Two-Column-Narrow-Right/Left/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",id:"Fill-5",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z",id:"Fill-69",fill:"#121212"})]});case"layout-two-column-narrow-right-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/two-column-narrow-right_right",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",id:"Fill-73",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",id:"Fill-71",fill:"#FFFFFF"})]});case"layout-two-column-narrow-right-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Two-Column-Narrow-Right/Right/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z",id:"Fill-73",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",id:"Fill-71",fill:"#121212"})]});case"layout-three-column-left-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/three-column_left",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",id:"Fill-9",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z",id:"Fill-10",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z",id:"Fill-60",fill:"#FFFFFF"})]});case"layout-three-column-right-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/three-column_right",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",id:"Fill-3",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z",id:"Fill-5",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",id:"Fill-28",fill:"#FFFFFF"})]});case"layout-three-column-left-light":return Object(Ma.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"m35 0h-11v25h11c1.104 0 2-.896 2-2v-21c0-1.104-.896-2-2-2m0 1c.552 0 1 .448 1 1v21c0 .552-.448 1-1 1h-10v-23z",fill:"#7d7d7d"}),Object(Ma.jsx)("path",{d:"m12 25h13v-25h-13zm1-1h11v-23h-11z",fill:"#7d7d7d"}),Object(Ma.jsx)("path",{d:"m13 0h-11c-1.104 0-2 .896-2 2v21c0 1.104.896 2 2 2h11zm-11 23h9v-21h-9z",fill:"#121212"})]});case"layout-three-column-right-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Three-Column/Right/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",id:"Fill-3",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z",id:"Fill-5",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z",id:"Fill-28",fill:"#121212"})]});case"layout-three-column-middle-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/three-column_middle",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",id:"Fill-7",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",id:"Fill-8",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z",id:"Fill-29",fill:"#FFFFFF"})]});case"layout-three-column-middle-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Three-Column/Middle/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z",id:"Fill-7",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1",id:"Fill-8",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z",id:"Fill-29",fill:"#121212"})]});case"layout-stacked-large-top-top-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-large-top_top",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z",id:"Fill-13",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z",id:"Fill-35",fill:"#FFFFFF"})]});case"layout-stacked-large-top-top-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-Large-Top/Top/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z",id:"Fill-13",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z",id:"Fill-35",fill:"#121212"})]});case"layout-stacked-large-top-btm-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-large-top_btm",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-23",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z",id:"Fill-41",fill:"#FFFFFF"})]});case"layout-stacked-large-top-btm-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-Large-Top/Bottom/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-23",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z",id:"Fill-41",fill:"#121212"})]});case"layout-stacked-medium-top-top-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-medium-top_top",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z",id:"Fill-17",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z",id:"Fill-33",fill:"#FFFFFF"})]});case"layout-stacked-medium-top-top-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-Medium-Top/Top/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z",id:"Fill-17",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z",id:"Fill-33",fill:"#121212"})]});case"layout-stacked-medium-top-btm-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-medium-top_btm",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-15",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z",id:"Fill-31",fill:"#FFFFFF"})]});case"layout-stacked-medium-top-btm-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-Medium-Top/Bottom/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-15",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z",id:"Fill-31",fill:"#121212"})]});case"layout-stacked-two-block-bottom-top-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-two-block-bottom_top",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",id:"Fill-1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-3",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z",id:"Fill-25",fill:"#FFFFFF"})]});case"layout-stacked-two-block-bottom-btm-left-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-two-block-bottom_btm-left",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",id:"Fill-5",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-7",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",id:"Fill-27",fill:"#FFFFFF"})]});case"layout-stacked-two-block-bottom-btm-right-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-two-block-bottom_btm-right",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-9",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-11",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z",id:"Fill-29",fill:"#FFFFFF"})]});case"layout-stacked-two-block-bottom-top-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-Two-Block-Bottom/Top/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",id:"Fill-1",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-3",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z",id:"Fill-25",fill:"#121212"})]});case"layout-stacked-two-block-bottom-btm-left-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-Two-Block-Bottom/Bottom-Left/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z",id:"Fill-5",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-7",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",id:"Fill-27",fill:"#121212"})]});case"layout-stacked-two-block-bottom-btm-right-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-Two-Block-Bottom/Bottom-Right/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-9",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1",id:"Fill-11",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z",id:"Fill-29",fill:"#121212"})]});case"layout-stacked-with-right-column-left-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-with-right-column_top-left",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",id:"Fill-79",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-80",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",id:"Fill-93",fill:"#FFFFFF"})]});case"layout-stacked-with-right-column-right-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-with-right-column_right",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",id:"Fill-75",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-76",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",id:"Fill-91",fill:"#FFFFFF"})]});case"layout-stacked-with-right-column-btm-left-dark":return Object(Ma.jsxs)("g",{id:"Layout/Icons/stacked-with-right-column_btm-left",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",id:"Fill-77",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",id:"Fill-78",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",id:"Fill-92",fill:"#FFFFFF"})]});case"layout-stacked-with-right-column-left-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-With-Right-Column/Top-Left/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",id:"Fill-79",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-80",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z",id:"Fill-93",fill:"#121212"})]});case"layout-stacked-with-right-column-right-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-With-Right-Column/Right/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",id:"Fill-75",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z",id:"Fill-76",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z",id:"Fill-91",fill:"#121212"})]});case"layout-stacked-with-right-column-btm-left-light":return Object(Ma.jsxs)("g",{id:"Layout/Icons/Stacked-With-Right-Column/Bottom-Left/Light",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(Ma.jsx)("path",{d:"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1",id:"Fill-77",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z",id:"Fill-78",fill:"#7D7D7D"}),Object(Ma.jsx)("path",{d:"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z",id:"Fill-92",fill:"#121212"})]});default:return console.error("not found",e),Object(Ma.jsx)("path",{})}},zD=function(e){var t=e.name,n=void 0===t?"":t,a=e.title,r=void 0===a?"":a,c=e.viewBox,o=void 0===c?"0 0 37 25":c,i=e.width,s=void 0===i?"37":i,l=e.height,d=void 0===l?"25":l,u=e.className,j=void 0===u?"section-area__layout-icon":u,p=Object(Pi.a)(e,KD);return Object(Ma.jsxs)("svg",Object(b.a)(Object(b.a)({"aria-label":"".concat(r),height:d,viewBox:o,width:s,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"".concat(j," ").concat(n)},p),{},{children:[Object(Ma.jsx)("title",{children:r}),qD(n)]}))},QD=function(e){var t=e.layout,n=e.panel,a=Object(s.useSelector)(Mr),r=function(){return"layout-".concat(function(){switch(t){case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value:return"two-column";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value:return"two-column-narrow";case x.Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value:return"three-column";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value:return"stacked-with-right-column";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value:return"stacked-two-block-bottom";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value:return"stacked-medium-top";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value:return"stacked-large-top";default:return"one-column-full-width"}}(),"-").concat(function(){switch(t){case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value:case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value:return 1===n?"left":"right";case x.Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value:return 1===n?"left":2===n?"middle":"right";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value:return 1===n?"left":2===n?"right":"btm-left";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value:return 1===n?"top":2===n?"btm-left":"btm-right";case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value:case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value:return 1===n?"top":"btm";default:return""}}()).replace("--","-")};return Object(Ma.jsx)(zD,{name:"".concat(r(),"-").concat(a?"dark":"light").replace("--","-"),title:r()})},JD=Array(3).fill(x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString),XD=Array(3).fill(""),$D=[{key:"first-column",label:Object(Ma.jsx)("div",{className:"content-type-title",children:"Content type"})}],eR=function(e,t,n){return Object(Ma.jsxs)("div",{className:"content-type-title",children:[Object(Ma.jsx)("span",{className:"icon-margin",children:Object(Ma.jsx)(QD,{layout:e,panel:t})}),n," - Content type"]})},tR=[{panel:1,name:"Left column",key:"first-column"},{panel:2,name:"Right column",key:"second-column"}],nR=tR.map((function(e){var t=e.panel,n=e.name;return{key:e.key,label:eR(x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value,t,n)}})),aR=[{panel:1,name:"Left column",key:"first-column"},{panel:2,name:"Middle column",key:"second-column"},{panel:3,name:"Right column",key:"third-column"}].map((function(e){var t=e.panel,n=e.name;return{key:e.key,label:eR(x.Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value,t,n)}})),rR=tR.map((function(e){var t=e.panel,n=e.name;return{key:e.key,label:eR(x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value,t,n)}})),cR=[{panel:1,name:"Top row",key:"top-row"},{panel:2,name:"Bottom row",key:"bottom-row"}].map((function(e){var t=e.panel,n=e.name;return{key:e.key,label:eR(x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value,t,n)}})),oR=[{panel:1,name:"Top row",key:"top-medium-row"},{panel:2,name:"Bottom row",key:"bottom-medium-row"}].map((function(e){var t=e.panel,n=e.name;return{key:e.key,label:eR(x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value,t,n)}})),iR=[{panel:1,name:"Top row",key:"top-row"},{panel:2,name:"Bottom left row",key:"bottom-left-row"},{panel:3,name:"Bottom right row",key:"bottom-right-row"}].map((function(e){var t=e.panel,n=e.name;return{key:e.key,label:eR(x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value,t,n)}})),sR=[{panel:1,name:"Top left",key:"top-left-section"},{panel:3,name:"Bottom left",key:"bottom-left-section"},{panel:2,name:"Right column",key:"right-column"}].map((function(e){var t=e.panel,n=e.name;return{key:e.key,label:eR(x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value,t,n)}})),lR=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.panels.map(function(){var e=Object(te.a)(ee.a.mark((function e(a){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.type!==x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.value){e.next=6;break}return r=a.libraryItemId,e.next=4,Gu(t,r,n.contentThreadId);case 4:return c=e.sent,e.abrupt("return",c);case 6:return e.abrupt("return","");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(r);case 3:c=e.sent,a(c);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),dR=function(e){var t=e.show,n=e.handleClose,a=e.topic;if(a&&a.layoutType===x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value){var c=[a.panels[2],a.panels[1]];a.panels[1]=c[0],a.panels[2]=c[1]}var o=Object(r.useState)(a?a.layoutType:x.Constants.TOPIC_LAYOUT_TYPE.ONE_COLUMN.value),i=Object(Cr.a)(o,2),s=i[0],l=i[1],d=Object(r.useState)(!1),u=Object(Cr.a)(d,2),j=u[0],b=u[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),_=f[0],g=f[1],v=Object(p.m)().projectId,L=Object(r.useState)(""),C=Object(Cr.a)(L,2),T=C[0],y=C[1],I=Object(r.useState)(a?a.title:""),E=Object(Cr.a)(I,2),w=E[0],N=E[1],A=Object(r.useState)(function(e){var t=Object(m.a)(JD);return e&&e.panels.forEach((function(e,n){t[n]=x.Constants.getTopicPanelTypeAsString(e.type)})),t}(a)),S=Object(Cr.a)(A,2),k=S[0],D=S[1],R=Object(r.useState)(XD),P=Object(Cr.a)(R,2),M=P[0],F=P[1],U=Object(r.useState)(function(e){return Array(3).fill(null).map((function(t,n){if(e&&e.panels&&e.panels[n]){var a=e.panels[n];return a.type===x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value?{contentThreadId:a.contentThreadId}:null}return null}))}(a)),B=Object(Cr.a)(U,2),Y=B[0],W=B[1],V=Object(r.useState)(function(e){return Array(3).fill(null).map((function(t,n){if(e&&e.panels&&e.panels[n]){var a=e.panels[n];return a.type===x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.value?a.libraryItemId:null}return null}))}(a)),Z=Object(Cr.a)(V,2),G=Z[0],H=Z[1],K=function(e){switch(e){case x.Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value:return aR;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value:return nR;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value:return rR;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value:return cR;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value:return oR;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value:return iR;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value:return sR;case x.Constants.TOPIC_LAYOUT_TYPE.ONE_COLUMN.value:default:return $D}}(parseInt(s,10));Object(r.useEffect)((function(){var e=K.map((function(e,t){return{contentType:k[t],description:M[t],hypothesisId:Object(h.get)(Y,[t,"contentThreadId"],null),excelChartId:G[t]}}));g(HD({title:w,panels:e}))}),[k,K,G,Y,M,s,w]),Object(r.useEffect)((function(){a&&lR(v,a,F)}),[v,a]);var q=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,r,c,o,i,l,d,u,j;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s===x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value?(c=M,o=Y,i=G,l=[(r=k)[2],r[1]],r[1]=l[0],r[2]=l[1],d=[c[2],c[1]],c[1]=d[0],c[2]=d[1],u=[o[2],o[1]],o[1]=u[0],o[2]=u[1],j=[i[2],i[1]],i[1]=j[0],i[2]=j[1],t=VD({topicLayoutTypeValue:s,contentTypeArray:r,richTextArray:c,hypothesisArray:o,excelChartIdArray:i,topicTitle:w})):t=VD({topicLayoutTypeValue:s,contentTypeArray:k,richTextArray:M,hypothesisArray:Y,excelChartIdArray:G,topicTitle:w}),e.prev=1,b(!0),!a){e.next=8;break}return e.next=6,AD(v,a.contentThreadId,t);case 6:e.next=10;break;case 8:return e.next=10,ND(v,t);case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),b(!1),y(x.ErrorUtilities.getContentErrorType(e.t0)),e.abrupt("return");case 17:n();case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),z=function(e){l(parseInt(e.target.value,10))},Q={name:"layout",onChange:z,value:s.toString()},J={name:"",onChange:z,value:s.toString()},X={name:"",onChange:z,value:s.toString()},$={name:"title",onChange:function(e){return N(e.target.value)},value:w},ne=Object.keys(x.Constants.TOPIC_LAYOUT_TYPE).map((function(e,t){return{key:x.Constants.TOPIC_LAYOUT_TYPE[e].displayName+Date.now()+t,label:Object(Ma.jsxs)("div",{className:"radio-label-aligner",children:[Object(Ma.jsx)("div",{className:x.Constants.TOPIC_LAYOUT_TYPE[e].value===parseInt(s,10)?x.Constants.TOPIC_LAYOUT_TYPE[e].checkedClassName:x.Constants.TOPIC_LAYOUT_TYPE[e].uncheckedClassName}),Object(Ma.jsxs)("span",{className:"radio-layout-label",children:[x.Constants.TOPIC_LAYOUT_TYPE[e].displayName," "]})]},"layout-radio-button-".concat(e,"-").concat(Date.now())),value:x.Constants.TOPIC_LAYOUT_TYPE[e].value}})),ae=[ne[2],ne[3],ne[6]],re=[ne[7],ne[4]];ne.copyWithin(2,5,6),ne.splice(3),ae[2]={key:x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.displayName,label:Object(Ma.jsxs)("div",{className:"radio-label-aligner",children:[Object(Ma.jsx)("div",{className:x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value===parseInt(s,10)?x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.checkedClassName:x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.uncheckedClassName,children:Object(Ma.jsxs)("div",{className:x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value===parseInt(s,10)?"bottom-area-checked":"bottom-area-unchecked",children:[Object(Ma.jsx)("div",{}),Object(Ma.jsx)("div",{className:"inner-div-right"})]})}),Object(Ma.jsxs)("span",{className:"radio-layout-label",children:[x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.displayName," "]})]},"layout-radio-button-".concat(x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.displayName)),value:x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value},re[0]={key:x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.displayName,label:Object(Ma.jsxs)("div",{className:"radio-label-aligner",children:[Object(Ma.jsx)("div",{className:x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value===parseInt(s,10)?x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.checkedClassName:x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.uncheckedClassName,children:Object(Ma.jsx)("div",{className:x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value===parseInt(s,10)?"left-area-checked":"left-area-unchecked",children:Object(Ma.jsx)("div",{})})}),Object(Ma.jsxs)("span",{className:"radio-layout-label",children:[x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.displayName," "]})]},"layout-radio-button-".concat(x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.displayName)),value:x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value};var ce="You have information in hidden columns that will be permanently lost if you ".concat(a?"update":"add"," this topic."),oe=function(e,t,n){return!!t.find((function(t,a){return t&&(a>=e||n[a]!==x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString)}))}(s,M,k),ie="publish"===T,se=ie||"title"!==Object(h.get)(T,"fieldName","").toLowerCase()?void 0:T.apiErrorMessage,le=ie||!se?T:void 0;return Object(Ma.jsxs)(hs.a,{size:"lg",enforceFocus:!1,show:t,onHide:n,backdrop:"static",contentClassName:"topic-modal",children:[Object(Ma.jsx)("div",{className:"topic-modal-header",children:Object(Ma.jsx)(hs.a.Header,{children:Object(Ma.jsxs)(hs.a.Title,{"data-testid":"add-topic-modal",children:[Object(Ma.jsx)(ws,{title:"Add a Topic",size:"h2"}),Object(Ma.jsx)("button",{className:"ui-button button-no-appearance topic-close-button","aria-label":"Close topic modal",onClick:n,type:"button","data-testid":"topic-close-button",children:Object(Ma.jsx)(er.Icon,{name:"close",className:"fill icon-orange-theme",width:"18",height:"18"})}),Object(Ma.jsx)("p",{className:"project-overview-description-text",children:"You can create 'Project Overview' topics to highlight existing content on the project overview page. Choose from existing Key Focus Area and Chart content, or select Text area to add commentary to your content."})]})})}),Object(Ma.jsx)("div",{className:"topic-modal-body",children:Object(Ma.jsxs)(hs.a.Body,{className:"modal-body-section",children:[Object(Ma.jsx)("h6",{children:"Report layout"}),Object(Ma.jsx)(er.RadioGroup,{field:Q,options:ne,direction:"row",className:"layout-radio-group layout-align radio-margin"}),Object(Ma.jsx)(er.RadioGroup,{field:J,options:ae,direction:"row",className:"layout-radio-group layout-align radio-margin"}),Object(Ma.jsx)(er.RadioGroup,{field:X,options:re,direction:"row",className:"layout-radio-group layout-align"}),Object(Ma.jsx)(UD.a,{label:"Title",field:$,basic:!0,helperText:"This will be the title visible in the report",helperIcon:"information",helperIconColor:"yellow",className:"title-text-input textarea-as-textinput",error:se,maxLength:75})," ",K.map((function(e,t){return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("div",{className:"separator"}),Object(Ma.jsx)(WD,{column:t,contentType:k[t],setContentTypes:D,richText:M[t],setRichTexts:F,hypothesisId:Object(h.get)(Y,[t,"contentThreadId"],null),setHypothesisArray:W,excelChartId:G[t],setExcelChartIdArray:H,labelComponent:e.label},"topic-column-".concat(e.key))]})})),le&&Object(Ma.jsx)(Io,{configType:le})]})}),Object(Ma.jsx)("div",{className:"separator"}),Object(Ma.jsx)("div",{className:"topic-modal-footer",children:Object(Ma.jsxs)(hs.a.Footer,{children:[oe&&Object(Ma.jsxs)("div",{className:"hidden-content-container","data-testid":"hidden-content-warning",children:[Object(Ma.jsx)(er.Icon,{name:"alert",className:"fill icon-black",width:16}),Object(Ma.jsx)("span",{className:"hidden-content-warning",children:ce})]}),Object(Ma.jsxs)("div",{className:"",children:[Object(Ma.jsx)(er.Button,{className:"button-link form-cancel-button mr-4",type:"button",onClick:n,"data-testid":"add-topic-modal-cancel-button",children:"Cancel"}),Object(Ma.jsx)(er.Button,{disabled:!_||j,className:"button",onClick:q,type:"button","data-testid":"save-topic-input",children:a?"Update":"Add"})]})]})})]})},uR=(n(1560),n(1561),function(e){var t=e.projectId,n=e.libraryItemId,a=e.contentId,c=e.sharedContent,o=e.children,i=void 0===o?Object(Ma.jsx)("h5",{children:"Failed To Load Content"}):o,s=Object(r.useState)(null),l=Object(Cr.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(!0),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)(null),f=Object(Cr.a)(O,2),h=(f[0],f[1]),_=Object(r.useState)(!1),x=Object(Cr.a)(_,2),g=x[0],v=x[1];return Object(r.useEffect)((function(){var e=function(e){if(e.includes("svg")){var t=(new DOMParser).parseFromString(e,"application/xml").getElementsByTagName("svg")[0];if(t){var n=t.getAttribute("viewbox");if(n)return n.split(" ")[2]}}return null};if(c)return u(c),h(e(c)),void m(!1);Gu(t,n,a).then((function(t){v(!1),u(t),h(e(t)),m(!1)})).catch((function(){v(!0),m(!1)}))}),[t,n,a,c]),Object(Ma.jsx)(Ma.Fragment,{children:p?Object(Ma.jsx)(er.Loader,{dataTestId:"excel-content-loader"}):Object(Ma.jsx)("div",{"data-testid":"excel-content-item",className:"content-item-container",dangerouslySetInnerHTML:{__html:Qa(g?Object(Ao.renderToStaticMarkup)(i):d)}})})}),jR=function(e){var t=e.topic,n=e.panel,a=e.projectId;return Object(Ma.jsx)("div",{className:"topic-panel__rich-text","data-testid":"rich-text-topic-panel",children:Object(Ma.jsx)(uR,{projectId:a,libraryItemId:n.libraryItemId,contentId:t.id,sharedContent:n.sharedContent})})},bR=(n(1562),function(e){var t=e.projectId,n=e.hypothesis;return Object(Ma.jsxs)("div",{"data-testid":"key-focus-area-topic-panel",className:"key-focus-area-topic-panel topic-panel__kfa",children:[Object(Ma.jsx)(Ja.Link,{to:oc(t,n.contentThreadId),"data-testid":"hypothesis-link","aria-label":"View Key Focus Area",tabIndex:0,children:Object(Ma.jsx)("h3",{className:"key-focus-area-topic-panel__title","data-testid":"kfa-topic-panel-title",children:n.title})}),n.body&&Object(Ma.jsx)("div",{className:"key-focus-area-topic-panel-body",children:Object(Ma.jsx)("p",{className:"key-focus-area-topic-panel-body",dangerouslySetInnerHTML:{__html:Qa(n.body)}})}),n.conclusion&&Object(Ma.jsxs)("div",{className:"key-focus-area-topic-panel-conclusion",children:[Object(Ma.jsx)("h4",{className:"section-header",children:"PwC View"}),Object(Ma.jsx)("p",{className:"key-focus-area-topic-panel-conclusion",dangerouslySetInnerHTML:{__html:Qa(n.conclusion)}})]})]})}),pR=function(e){var t=e.topic,n=e.panel,a=e.projectId,r=e.children;return Object(Ma.jsx)("div",{"data-testid":"excel-chart-topic-panel",children:Object(Ma.jsx)(uR,{projectId:a,libraryItemId:n.libraryItemId,contentId:t.contentThreadId,sharedContent:n.sharedContent,children:r})})},mR=(n(1563),function(){return Object(Ma.jsxs)("div",{"data-testid":"deleted-content-warning",children:[Object(Ma.jsxs)("h5",{children:[Object(Ma.jsx)(er.Icon,{name:"alert",className:"fill icon-yellow",width:"20"}),"\xa0 Content Not Found"]}),Object(Ma.jsx)("p",{children:"The content cannot be displayed as it has been deleted. Please update or delete this topic."})]})}),OR=function(e){var t=e.topic,n=e.panel,a=e.hypothesis,r=e.projectId,c=function(e,t){var n="topic-panel";switch(e){case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value:n="".concat(n,1===t?" topic-panel--equal-left-column":" topic-panel--equal-right-column");break;case x.Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value:n="".concat(n,1===t?" topic-panel--small-left-column":2===t?" topic-panel--middle-column":" topic-panel--right-column");break;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value:n="".concat(n,1===t?" topic-panel--big-left-column":" topic-panel--right-column");break;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value:n="".concat(n,1===t?" topic-panel-2col-l50-2a-r50-1a top-left":2===t?" topic-panel-2col-l50-2a-r50-1a right-column":" topic-panel-2col-l50-2a-r50-1a bottom-left");break;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value:n="".concat(n,1===t?" topic-panel-stacked-large-top-small-bottom big-top-panel":" topic-panel-stacked-large-top-small-bottom small-bottom-panel");break;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value:n="".concat(n,1===t?" topic-panel--stacked-medium-top-row":" topic-panel--stacked-medium-bottom-row");break;case x.Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value:n="".concat(n,1===t?" topic-panel--full-column":2===t?" topic-panel--equal-left-column":" topic-panel--equal-right-column")}return n}(t.layoutType,n.panelNumber);return Object(Ma.jsxs)("div",{"data-testid":"topic-panel",className:c,children:[n.type===x.Constants.TOPIC_PANEL_TYPES.RICH_TEXT.value&&Object(Ma.jsx)(jR,{topic:t,panel:n,projectId:r}),n.type===x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value&&a&&Object(Ma.jsx)(bR,{hypothesis:a,projectId:r}),n.type===x.Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.value&&Object(Ma.jsx)(pR,{topic:t,panel:n,projectId:r,children:!ue.isClientUser()&&Object(Ma.jsx)(mR,{})}),n.type===x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value&&!a&&!ue.isClientUser()&&Object(Ma.jsx)(mR,{})]})},fR=(n(1564),function(e){var t=e.onDelete,n=e.onEdit,a=e.topic,r=e.workflowActions,c=e.viewClient,o=e.onMove,i=e.moveOption,s=Object(p.m)().projectId,l=function(){o(-1)},d=function(){o(1)},u=function(){return i!==x.Constants.MOVE_OPTIONS.PREV&&i!==x.Constants.MOVE_OPTIONS.BOTH},j=function(){return i!==x.Constants.MOVE_OPTIONS.NEXT&&i!==x.Constants.MOVE_OPTIONS.BOTH};return Object(Ma.jsxs)("div",{className:"topic-top-bar-container",children:[Object(Ma.jsx)("h3",{className:"topic-title","data-testid":"topic-title",children:a.title}),Object(Ma.jsxs)("div",{className:"pills-section",children:[Object(Ma.jsx)(Cl,{projectId:s,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:Object(Ma.jsx)(Nl,{content:a,allowDraftPill:!0})}),Object(Ma.jsx)(Cl,{projectId:s,roles:x.Constants.USER_ROLE_GROUPS.CLIENT,children:Object(Ma.jsx)(El,{})}),Object(Ma.jsx)(Sl,{versionStatus:a.versionStatus})]}),Object(Ma.jsx)(Cl,{projectId:s,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:Object(Ma.jsx)(Fj,{dateModified:a.dateModified,modifiedBy:a.modifiedBy,version:a.versionNumber})}),Object(Ma.jsx)(mo,{projectId:s,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:Object(Ma.jsx)(jo,{projectId:s,children:function(e){var o=e.isProjectDisabled;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsxs)("div",{className:"move-buttons-section",children:[Object(Ma.jsx)("button",{className:"topic-move-button","data-testid":"topic-move-button-prev",type:"button",onClick:l,disabled:o||u(),children:Object(Ma.jsx)(er.Icon,{name:"desc",width:18,className:"fill ".concat(o||u()?"icon-grey-alt":"icon-orange")})}),Object(Ma.jsx)("button",{className:"topic-move-button","data-testid":"topic-move-button-next",type:"button",onClick:d,disabled:o||j(),children:Object(Ma.jsx)(er.Icon,{name:"asc",width:18,className:"fill ".concat(o||j()?"icon-grey-alt":"icon-orange")})})]}),Object(Ma.jsx)("div",{className:"topic-edit-button",children:Object(Ma.jsx)(er.Button,{"data-testid":"topic-edit-button",type:"button",onClick:n,className:"button-block button-small mr-3",disabled:o||c.isOnClientVersion,children:"Edit"})}),Object(Ma.jsx)("div",{className:"more-menu",children:Object(Ma.jsx)(Du,{itemId:a.contentThreadId,onDelete:t,workflowActions:r,viewClient:c,isDisabled:o})})]})}})})]})});fR.defaultProps={};var hR=fR,_R=function(e){var t=e.topic,n=e.onDelete,a=e.onEdit,c=e.projectId,o=e.onTopicStatusUpdated,i=e.onViewSpecificVersion,l=e.onMove,d=e.moveOption,u=(Object(r.useContext)(BD)||{hypotheses:[]}).hypotheses,j=Object(r.useState)(null),b=Object(Cr.a)(j,2),p=b[0],m=b[1],O=Object(r.useState)({}),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(s.useDispatch)();Object(r.useEffect)((function(){PD(c,t.contentThreadId).then(m)}),[c,t.contentThreadId,t.dateModified]),Object(r.useEffect)((function(){_(gj((function(){return i(x.Constants.VERSION_STATUS.SHARED.value)}),(function(){return i()}),p,t&&t.versionNumber,t&&t.versionStatus))}),[t,p,i]);var v=xj(Oj,function(){var e=Object(te.a)(ee.a.mark((function e(n,a,r){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RD(n,"".concat(a),r);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),g(fu({itemId:a,moreMenuErrorType:x.Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE})),e.abrupt("return");case 9:o(t);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,a){return e.apply(this,arguments)}}(),c,t.contentThreadId,t,p);return Object(Ma.jsx)("div",{children:Object(Ma.jsxs)("div",{className:"project-overview-module","data-testid":"project-overview-module",children:[Object(Ma.jsx)(hR,{topic:t,onDelete:n,onEdit:a,workflowActions:v,viewClient:h,onMove:l,moveOption:d}),Object(Ma.jsx)("div",{className:"project-overview-module__inner","data-testid":"project-overview-module-inner","data-topic-id":t.contentThreadId,children:t.panels&&t.panels.length>0&&t.panels.map((function(e){var n;return e.type===x.Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value&&(n=e.hypothesis||u.find((function(t){return t.contentThreadId===e.contentThreadId}))),Object(Ma.jsx)(OR,{topic:t,panel:e,hypothesis:n,projectId:c},e.panelNumber)}))})]},t.contentThreadId)})},xR=function(){var e=Object(r.useState)(!1),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(Cr.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(null),u=Object(Cr.a)(d,2),j=u[0],b=u[1],O=Object(r.useState)([]),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(p.m)().projectId,v=Object(s.useDispatch)(),L=ue.isClientUser();Object(r.useEffect)((function(){n||SD(g).then((function(e){_(e)}))}),[g,n]);var C=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.filter((function(e){return e.contentThreadId!==j.contentThreadId})),_(t),b(null),e.next=5,DD(g,j.contentThreadId);case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e,t){kD(g,e.contentThreadId,t).then((function(t){var n=Object(m.a)(h),a=n.filter((function(t){return t.contentThreadId===e.contentThreadId}));if(0!==a.length){var r=n.indexOf(a[0]);n[r]=t,_(n)}}))},y=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a,r,c,o,i,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(m.a)(h),0!==(r=a.filter((function(e){return e.contentThreadId===t.contentThreadId}))).length&&(c=a.indexOf(r[0]),(o=c+n)>=0&&o<a.length&&(i=[a[o],a[c]],a[c]=i[0],a[o]=i[1],s=a.map((function(e){return e.contentThreadId})),MD(g,s).then((function(){_(a)})).catch((function(){v(mu(x.Constants.ModalErrorType.UNABLE_TO_SAVE_CHANGE))}))));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e){return 1===h.length?x.Constants.MOVE_OPTIONS.NONE:0===e?x.Constants.MOVE_OPTIONS.NEXT:e===h.length-1?x.Constants.MOVE_OPTIONS.PREV:x.Constants.MOVE_OPTIONS.BOTH};return L&&h&&0===h.length?null:Object(Ma.jsxs)("div",{className:"project-overview-module-container","data-testid":"project-overview-module-container",children:[Object(Ma.jsx)(_s,{show:i,onCancel:function(){return l(!1)},onConfirm:C,confirmTitle:"Confirm Topic Delete",confirmationMessage:"Proceed with deletion of this Topic?"}),Object(Ma.jsxs)("div",{className:"project-overview-header-container","data-testid":"project-overview-header-container",children:[Object(Ma.jsxs)("div",{className:"project-overview-label",children:[Object(Ma.jsx)(er.Icon,{"data-testid":"project-overview-icon","aria-label":"project overview icon",name:"grid",width:32,className:"outline project-overview-icon"}),Object(Ma.jsx)("strong",{children:"Project Overview Topics"})]}),h&&h.length>0?Object(Ma.jsx)("div",{children:Object(Ma.jsx)(mo,{projectId:g,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:Object(Ma.jsx)(jo,{projectId:g,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(er.Button,{className:"button-link",onClick:function(){return a(!0)},"data-testid":"button-add-topic","aria-label":"add topic",type:"button",icon:"add",iconClasses:nr()("fill add-topic-icon",{"icon-grey":t}),disabled:t,children:"Add topic"})}})})}):null]}),h&&h.length>0?Object(Ma.jsx)(Ma.Fragment,{children:h.map((function(e,t){return Object(Ma.jsx)(_R,{topic:e,projectId:g,onDelete:function(){b(e),l(!0)},onEdit:function(){b(e),a(!0)},onTopicStatusUpdated:function(e){return T(e)},onViewSpecificVersion:function(t){T(e,t)},onMove:function(t){return y(e,t)},moveOption:I(t)},e.contentThreadId)}))}):Object(Ma.jsxs)("div",{className:"project-overview-module",children:[Object(Ma.jsx)("p",{className:"project-overview-placeholder-text",children:"Showcase the project's most important information by creating 'Project overview' topics."}),Object(Ma.jsx)(mo,{projectId:g,permissions:[x.Constants.USER_PERMISSIONS.CONTRIBUTE],children:Object(Ma.jsx)(jo,{projectId:g,children:function(e){var t=e.isProjectDisabled;return Object(Ma.jsx)(er.Button,{className:"add-topic-button",type:"submit","data-testid":"button-add-topic","aria-label":"add topic",onClick:function(){return!t&&a(!0)},icon:"add",iconClasses:"fill add-topic-icon",disabled:t,children:"Add topic"})}})})]}),n&&Object(Ma.jsx)(dR,{show:n,handleClose:function(){b(null),a(!1)},topic:j})]})},gR=(n(1565),function(e){var t=e.children,n=e.isDisabled,a=Object(s.useSelector)(Ar),r=null!==a?a.givenName:"Nameless Person";return Object(Ma.jsxs)("div",{className:nr()("welcomebox-container",n&&"welcomebox-container__disabled"),children:[Object(Ma.jsxs)("h2",{children:[Object(Ma.jsxs)("span",{children:["Welcome to ",x.EnvironmentVariableUtilities.platformName,", "]}),Object(Ma.jsx)("span",{children:r})]}),t]})}),vR=function(){var e=Object(p.m)().projectId,t=Object(s.useDispatch)(),n=Object(s.useSelector)(Ow);return Object(r.useEffect)((function(){n||t(pw(e))}),[t,e,n]),n&&Object(Ma.jsx)(jo,{projectId:e,children:function(t){var a=t.isProjectDisabled;return Object(Ma.jsxs)(gR,{isDisabled:a,children:[Object(Ma.jsx)("p",{children:"Start your project by completing the Diagnostic Questionnaire."}),Object(Ma.jsx)(Ja.Link,{to:!a&&pE(e),className:nr()("link-button",{"grey-button":a,"green-text white-button":!a}),"aria-label":"Questionnaire",disabled:!0,children:n.answers.length?"Continue Questionnaire":"Start Questionnaire"})]})}})},LR=(n(1566),function(e){var t=e.projectId,n=Object(s.useSelector)(RE).overallDealComplexity,a=x.DivestitureDiagnosticUtility.calculateScoreText(n.value);return Object(Ma.jsxs)("div",{className:"welcomebox-deal-complexity-container",children:[Object(Ma.jsxs)("div",{className:"overall-deal-complexity-view-wrapper",children:[Object(Ma.jsx)("h2",{children:"Deal Complexity: ".concat(a)}),Object(Ma.jsx)(Qw,{initial:n.initialValue,modified:n.value,backgroundColor:"background-primary",highLow:!0,showTooltip:!0})]}),Object(Ma.jsx)("div",{className:"view-diagnostic-button",children:Object(Ma.jsx)(Ja.Link,{to:J(t),children:Object(Ma.jsx)(er.Icon,{name:"arrow-right",width:30,fill:"#ffff",className:"outline icon-orange"})})})]})}),CR=function(e,t){return"projects/".concat(e,"/userFeatureEnabled?featureName=").concat(t)},TR=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.get(CR(t,n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),yR=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,a){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.post(CR(t,n),{enabled:a});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),IR=(n(1567),function(){var e=Object(r.useState)(null),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(s.useSelector)(da);if(Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.id){e.next=5;break}return e.next=3,TR(c.id,x.Constants.FEATURE_NAMES.WELCOME_BOX);case 3:t=e.sent,a(me()(t,"enabled",!1));case 5:case"end":return e.stop()}}),e)})))()}),[c.id]),null===n||!1===n)return null;var o=function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yR(c.id,x.Constants.FEATURE_NAMES.WELCOME_BOX,!1);case 2:a(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ma.jsx)("div",{className:"welcome-box-quick-start",children:Object(Ma.jsxs)(gR,{children:[Object(Ma.jsx)("button",{className:"ui-button button-no-appearance","aria-label":"Close welcome box",onClick:o,type:"button","data-testid":"welcome-box-dismiss-button",children:Object(Ma.jsx)(er.Icon,{name:"close",className:"fill icon-white",width:"18",height:"18"})}),Object(Ma.jsxs)("p",{children:["Start building your project by"," ",Object(Ma.jsxs)("span",{className:"nowrap",children:[Object(Ma.jsx)(er.Icon,{name:"add",width:24,fill:"#ffff",className:"welcome-paragraph-icon fill"})," ","adding"]})," ","a"," ",Object(Ma.jsxs)("span",{className:"nowrap",children:[Object(Ma.jsx)(er.Icon,{name:"hypothesis",width:24,fill:"#ffff",className:"welcome-paragraph-icon fill"})," ",Object(Ma.jsx)(Ja.Link,{to:"".concat(c.id,"/key-focus-areas/create"),"data-testid":"hypothesis-welcome-link","aria-label":"Key Focus Area",className:"add-link",children:"Key Focus Area"})]}),","," ",Object(Ma.jsxs)("span",{className:"nowrap",children:[Object(Ma.jsx)(er.Icon,{name:"insight",width:24,fill:"#ffff",className:"welcome-paragraph-icon fill"})," ",Object(Ma.jsx)(Ja.Link,{to:"".concat(c.id,"/insights/create"),"data-testid":"insights-welcome-link","aria-label":"Insight",className:"add-link",children:"Insight"})]})," ","or"," ",Object(Ma.jsxs)("span",{className:"nowrap",children:[Object(Ma.jsx)(er.Icon,{name:"analysis",width:24,fill:"#ffff",className:"welcome-paragraph-icon fill"})," ",Object(Ma.jsx)(Ja.Link,{to:"".concat(c.id,"/analyses/add-type"),"data-testid":"analyses-welcome-link","aria-label":"Analyses",className:"add-link",children:"Analysis"})]}),", then"," ",Object(Ma.jsxs)("span",{className:"nowrap",children:[Object(Ma.jsx)(er.Icon,{name:"hyperlink",width:24,fill:"#ffff",className:"welcome-paragraph-icon fill"})," ","connect"]})," ","them to demonstrate how our value decisions are informed."]})]})})}),ER=(n(1568),function(e){var t=e.id,n=e.type,a=e.showDiagnostic,c=Object(s.useDispatch)(),o=Object(s.useSelector)(RE),i=RA.id===n,l=PA.id===n,d=a&&Iw.diagnostic,u=Object(s.useSelector)(DE).success;return Object(r.useEffect)((function(){o||c(wE(t))}),[c,o,t]),Object(Ma.jsxs)("div",{children:[Object(Ma.jsxs)(mo,{projectId:t,permissions:["Contribute"],children:[i&&!o&&Object(Ma.jsx)(IR,{}),l&&(!d||o)&&Object(Ma.jsx)(IR,{})]}),d&&u&&Object(Ma.jsxs)(Ma.Fragment,{children:[l&&!o&&Object(Ma.jsx)(vR,{projectId:t}),l&&o&&Object(Ma.jsx)(LR,{projectId:t})]})]})}),wR=c.a.memo(ER,(function(e,t){return e.id===t.id&&e.type===t.type&&e.showDiagnostic===t.showDiagnostic})),NR=(n(602),n(1569),function(e){var t=e.children,n=e.title,a=Object(r.useState)(!1),c=Object(Cr.a)(a,2),o=c[0],i=c[1];return Object(Ma.jsxs)("div",{className:"accordion accordion-only-mobile accordion-".concat(o?"open":"closed"),children:[Object(Ma.jsxs)("button",{type:"button",onClick:function(){i(!o)},className:"accordion-toggle","data-testid":"accordion-toggle",children:[n,Object(Ma.jsx)(er.Icon,{name:o?"desc":"asc",width:21,className:"outline icon-orange-theme"})]}),Object(Ma.jsx)("div",{className:"accordion-content",children:t})]})}),AR=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)(da),n=ZA(t,x.Constants.USER_ROLES.ENGAGEMENT_LEAD),a=hr(),c=Or(a,t.id),o=ZA(t,x.Constants.USER_ROLES.ENGAGEMENT_MANAGER),i=ic(t.id),l=uc(t.id),d=mc(t.id),u=Object(r.useState)(!1),j=Object(Cr.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(null),O=Object(Cr.a)(m,2),f=O[0],h=O[1];return Object(r.useEffect)((function(){var n=!0;return function(){var a=Object(te.a)(ee.a.mark((function a(){var r,c,o;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.id){a.next=13;break}return a.next=3,Wn(t.id);case 3:return r=a.sent,e(oa(r)),a.next=7,tt(t.id);case 7:return c=a.sent,n&&c&&h(c),a.next=11,at(t.id);case 11:o=a.sent,n&&o&&p(o);case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){n=!1}}),[t.id,e]),t.id?Object(Ma.jsxs)("div",{className:"project-overview",children:[Object(Ma.jsx)("h2",{children:"Project Overview"}),Object(Ma.jsxs)("div",{className:"project-container content-container",children:[Object(Ma.jsxs)("div",{className:nr()("project-panel",{"project-panel__readonly":mr(c)}),children:[Object(Ma.jsx)("div",{className:"project-panel-row",children:Object(Ma.jsx)("div",{className:"project-panel-col project-title-description-container",children:Object(Ma.jsxs)("span",{className:"project-title","data-testid":"project-title",children:[Object(Ma.jsx)("span",{className:"title-overflow",children:t.name}),Object(Ma.jsxs)("div",{className:"pills-container",children:[Object(Ma.jsx)(Al,{dataTestId:"project-".concat(t.id,"-type"),title:MA(t.type)}),Object(Ma.jsx)(vr,{projectId:t.id,showWhenActive:!1,isSmall:!0})]})]})})}),Object(Ma.jsxs)("div",{className:"project-description-container",children:[Object(Ma.jsx)("div",{className:"project-description","data-testid":"project-description",children:t.description||" "}),Object(Ma.jsx)(LD,{newContent:t.newCount||0,updatedContent:t.updatedCount||0,projectId:t.id,shouldRetrieveNotificationCount:!0})]}),Object(Ma.jsxs)(Cl,{projectId:t.id,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:[Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(NR,{title:"Info",children:Object(Ma.jsxs)("div",{className:"project-panel-columns",children:[Object(Ma.jsxs)("div",{className:"user-details-container",children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(vD,{dataTestId:"project-".concat(t.id,"-engagement-lead"),firstName:n.firstName,lastName:n.lastName,email:n.email,position:"Engagement Lead"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)(vD,{dataTestId:"project-".concat(t.id,"-engagement-manager"),firstName:o.firstName,lastName:o.lastName,email:o.email,position:"Engagement Manager"})})]}),Object(Ma.jsxs)("div",{className:"deal-details-container",children:[Object(Ma.jsx)("div",{className:"detail-section",children:Object(Ma.jsx)(xD,{dataTestId:"project-".concat(t.id,"-client-details"),title:"Client",content:t.clientName})}),Object(Ma.jsx)("div",{className:"detail-section",children:Object(Ma.jsx)(xD,{dataTestId:"project-".concat(t.id,"-target-details"),title:"Target",content:t.target})}),Object(Ma.jsx)("div",{className:"detail-section",children:Object(Ma.jsx)(xD,{dataTestId:"project-".concat(t.id,"-industry-status"),title:"Industry",content:t.industry})})]})]})})]})]},t.id),Object(Ma.jsx)(wR,{id:t.id,type:t.type,showDiagnostic:t.showDiagnostic}),Object(Ma.jsx)(ED,{}),Object(Ma.jsx)(BD.Provider,{value:f,children:Object(Ma.jsx)(xR,{})}),b&&Object(Ma.jsxs)("div",{className:"project-overview-subpanel-container","data-testid":"projectOverviewSubpanelContainer",children:[b.kfas>=0&&Object(Ma.jsx)(CD,{itemCount:b.kfas,contentAddLinkTo:i,contentListIconName:"hypothesis",contentListLinkTo:"/projects/".concat(t.id,"/key-focus-areas"),contentType:"Key Focus Areas"}),b.insights>=0&&Object(Ma.jsx)(CD,{itemCount:b.insights,contentAddLinkTo:l,contentListIconName:"insight",contentListLinkTo:"/projects/".concat(t.id,"/insights"),contentType:"Insights"}),b.analyses>=0&&Object(Ma.jsx)(CD,{itemCount:b.analyses,contentAddLinkTo:d,contentListIconName:"analysis",contentListLinkTo:"/projects/".concat(t.id,"/analyses"),contentType:"Analyses"})]})]})]}):null},SR=function(){return Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsx)(p.g,{children:Object(Ma.jsx)(p.d,{exact:!0,path:"/projects/:projectId",component:AR})})})},kR=(n(1570),function(e){return e>=400&&e<500}),DR=function(){var e=Object(p.m)().projectId,t=Object(s.useSelector)(ia),n=Object(s.useSelector)(lA(e)),a=Object(s.useSelector)(sa),c=Object(s.useSelector)(la),o=Object(s.useDispatch)(),i=Object(p.k)();if(Object(r.useEffect)((function(){o(ma(e)),o(dA(e))}),[o,e]),a&&kR(c))return null;if(a&&!kR(c))return Object(Ma.jsx)(Io,{configType:Lo.fetch});if(ue.isClientUser()){if(!n||n.isLoading)return null;if(!n.hasAccepted&&i.location.pathname!==Pc(e))return Object(Ma.jsx)(p.c,{to:{pathname:Pc(e),state:{from:i.location.pathname}}})}return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Ri,{projectId:e}),Object(Ma.jsxs)("div",{className:"page-content",children:[t,Object(Ma.jsxs)("div",{className:"router-content","data-testid":"project-details-content",children:[Object(Ma.jsx)(bA,{}),Object(Ma.jsx)(SR,{}),Object(Ma.jsx)(UN,{}),Object(Ma.jsx)(zN,{}),Object(Ma.jsx)(Rv,{}),Object(Ma.jsx)(eE,{}),Object(Ma.jsx)(sk,{}),Object(Ma.jsx)(mA,{}),Object(Ma.jsx)(QN,{}),Object(Ma.jsx)(xN,{}),Object(Ma.jsx)(_D,{})]})]})]})},RR=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.get("projects/all");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),PR=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.patch("projects/".concat(t,"/deleted"),{deleted:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),MR=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PR(t,!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),FR=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PR(t,!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UR=(n(1571),function(e){var t=e.project,n=e.onHide,a=e.onShow,r=function(){return t.deleted?a(t.id):n(t.id)};return Object(Ma.jsx)("div",{className:"project-row",children:Object(Ma.jsx)("div",{className:"project-panel",children:Object(Ma.jsx)("div",{className:"project-panel-row",children:Object(Ma.jsxs)("div",{className:"project-title-description-container",children:[t.name,Object(Ma.jsx)(er.Button,{className:"button-menu",onClick:r,"data-testid":"menu-button-hide",disabled:!r,children:t.deleted?"Show":"Hide"})]})})})})}),BR=function(){var e=Object(r.useState)(!0),t=Object(Cr.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),o=Object(Cr.a)(c,2),i=o[0],s=o[1];Object(r.useEffect)((function(){n&&function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RR();case 2:t=e.sent,a(!1),s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]);var l=function(e){MR(e).then((function(e){return a(!0)}))},d=function(e){FR(e).then((function(e){return a(!0)}))},u=i.map((function(e){return Object(Ma.jsx)(UR,{project:e,onHide:l,onShow:d},e.id)}));return Object(Ma.jsx)(Zj,{children:Object(Ma.jsxs)("div",{className:"admin-project-list",children:[Object(Ma.jsx)("h2",{children:"All Projects"}),Object(Ma.jsx)("div",{className:"project-container",children:u})]})})},YR=function(e){return Object.values(e).some((function(e){return e}))},WR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={};return Object.keys(e).forEach((function(e){n[e]=t})),n},VR=function(e){return!e||0===e.trim().length},ZR=function(e){var t=e.services&&e.services.length>0?"":"At least one service / product is required";return{dealType:VR(e.dealType)?"Deal type must be selected":"",clientName:VR(e.clientName)?"Client name is required":"",projectName:VR(e.projectName)?"Project name is required":"",restriction:VR(e.restriction)?"Restriction must be selected":"",services:t}},GR=["onSubmit","children"],HR=function(e){var t=e.onSubmit,n=e.children,a=Object(Pi.a)(e,GR);return Object(Ma.jsx)("form",Object(b.a)(Object(b.a)({onSubmit:function(e){e.preventDefault(),t()}},a),{},{children:n}))},KR=(n(1572),function(e){var t=e.formValues,n=e.formTouches,a=e.formErrors,r=e.isValid,c=e.onChange,o=e.onBlur,i=e.onCancel,s=e.onNextClick,l=e.isSaving,d=EA(),u=d.isLoading,j=d.industryOptions,b=d.serviceOptions;return u?Object(Ma.jsx)(er.Loader,{"data-testid":"project-options-loading"}):Object(Ma.jsxs)(HR,{onSubmit:s,"data-testid":"project-create-form",className:"step-1-form",children:[Object(Ma.jsx)(er.TextInput,{label:"Territory",field:{name:"territory",value:t.territory,onChange:function(){}},error:"",basic:!0,disabled:!0}),Object(Ma.jsx)(er.RadioGroup,{label:"Deal type",field:{name:"dealType",value:t.dealType,onChange:c},options:wA,direction:"row"}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)(er.RadioGroup,{label:"Client Type",field:{name:"restriction",value:t.restriction,onChange:c},options:AA,direction:"row"}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("div",{className:"services-container",children:Object(Ma.jsx)(xA,{matchOnStartsWith:!1,minimumSearchStringLength:2,fieldName:"services",label:"Services / Products",placeholder:"Search for services and products",options:b,selections:t.services,onChange:function(e){return c({target:{name:"services",value:e}})},onBlur:o("services"),error:n.services?a.services:"",noMatchElement:null})}),Object(Ma.jsx)(er.TextInput,{basic:!0,label:"Project name",field:{name:"projectName",value:t.projectName,onChange:c},error:n.projectName?a.projectName:"",onBlur:o("projectName")}),Object(Ma.jsx)(er.TextInput,{basic:!0,label:"Client name",field:{name:"clientName",value:t.clientName,onChange:c},error:n.clientName?a.clientName:"",onBlur:o("clientName")}),Object(Ma.jsx)(er.TextInput,{basic:!0,label:"Target (optional)",field:{name:"target",value:t.target,onChange:c},error:"",onBlur:o("target")}),Object(Ma.jsx)(er.TextInput,{basic:!0,label:"Description (optional)",field:{name:"description",value:t.description,onChange:c},error:"",onBlur:o("description")}),Object(Ma.jsx)(er.Select,{"data-testid":"industry-select",basic:!0,options:j,label:"Industry (optional)",onChange:function(e){return c({target:{name:"industryId",value:e.target.value}})},value:t.industryId,placeholder:"Please select the client's industry"}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)(er.RadioGroup,{label:"Data Use Consent Level",field:{name:"consentLevel",value:t.consentLevel,onChange:c},options:UA,direction:"row"}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("h2",{children:"Format details"}),Object(Ma.jsxs)("p",{style:{display:"flex",alignItems:"center"},children:[Object(Ma.jsx)(er.Icon,{name:"information",className:"fill icon-yellow",width:16,style:{marginRight:"0.5rem"}}),"Automated for structured analysis only"]}),Object(Ma.jsx)(er.RadioGroup,{label:"Currency",field:{name:"currency",value:t.currency,onChange:c},options:kA,direction:"row"}),Object(Ma.jsx)(er.RadioGroup,{label:"Number format",field:{name:"financialsMagnitude",value:t.financialsMagnitude,onChange:c},options:SA,direction:"row"}),Object(Ma.jsx)(er.RadioGroup,{label:"Decimals",field:{name:"financialsDecimalCount",value:t.financialsDecimalCount,onChange:c},options:DA,direction:"row"}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("div",{className:"separator"}),Object(Ma.jsxs)(kS,{children:[Object(Ma.jsx)(RS,{onClick:i}),Object(Ma.jsx)(Kj,{isSaving:l,isValid:r,buttonSize:"sm",onSaveText:"Saving...",standbyText:"Next",buttonPosition:"project-details"})]})]})}),qR={dealType:void 0,clientName:"",projectName:"",restriction:void 0,target:"",industryId:void 0,consentLevel:"None",classification:"Yes",lineOfService:"Advisory Services (AS)"},zR=WR(qR,""),QR=WR(qR,!1),JR=function(e){var t=e.initialValues,n=void 0===t?{}:t,a=e.onCancel,c=e.onStepCompleted,o=e.isSaving,i=Object(r.useState)(Object(b.a)(Object(b.a)({},qR),n)),s=Object(Cr.a)(i,2),l=s[0],d=s[1],u=Object(r.useState)(QR),j=Object(Cr.a)(u,2),p=j[0],m=j[1],O=Object(r.useState)(zR),f=Object(Cr.a)(O,2),h=f[0],_=f[1],x=Object(r.useState)(!1),g=Object(Cr.a)(x,2),v=g[0],L=g[1],C=function(e){var t=ZR(e);_(t),L(!YR(t))};Object(r.useEffect)((function(){C(l)}),[l]);return Object(Ma.jsx)(KR,{formValues:l,formTouches:p,formErrors:h,isValid:v,onChange:function(e){var t=e.target,n=t.name,a=t.value,r=Object(b.a)(Object(b.a)({},l),{},Object($t.a)({},n,a));d(r),C(r)},onBlur:function(e){return function(){m(Object(b.a)(Object(b.a)({},p),{},Object($t.a)({},e,!0)))}},onNextClick:function(){c(l)},onCancel:a,isSaving:o})},XR=function(e){var t=e.initialValues,n=e.onCancel,a=e.hasError,r=e.onStepCompleted,c=MS();t&&t.length&&Object.keys(c).forEach((function(e){c[e]=t.filter((function(t){return t.role===e}))}));var o=[{role:x.Constants.USER_ROLES.ENGAGEMENT_LEAD,title:x.Constants.USER_ROLES.ENGAGEMENT_LEAD,description:"Full access. This is available for Partner and Managing Director level only.",required:!0},{role:x.Constants.USER_ROLES.ENGAGEMENT_MANAGER,title:x.Constants.USER_ROLES.ENGAGEMENT_MANAGER,description:"Full access to ".concat(x.EnvironmentVariableUtilities.platformName,"."),required:!0},{role:x.Constants.USER_ROLES.APPROVER,title:x.Constants.USER_ROLES.APPROVER,description:"Unable to edit users on ".concat(x.EnvironmentVariableUtilities.platformName,"."),allowMany:!0},{role:x.Constants.USER_ROLES.TEAM_MEMBER,title:x.Constants.USER_ROLES.TEAM_MEMBER,description:"Unable to edit users or approve content.",allowMany:!0},{role:x.Constants.USER_ROLES.PWC_READONLY,title:x.Constants.USER_ROLES.PWC_READONLY_DISPLAY,description:"Unable to contribute, share, approve, comment, and edit users on ".concat(x.EnvironmentVariableUtilities.platformName,"."),allowMany:!0}];return Object(Ma.jsxs)(FS,{initialValues:c,fieldConfigs:o,onSubmit:r,onCancel:n,submitButtonText:"Next",hasError:a,isDirty:!(!t||!t.length)||void 0,children:[Object(Ma.jsx)("h3",{children:"Search for PwC team members to invite to the project."}),Object(Ma.jsxs)("p",{children:["If you can\u2018t find a team member, please send an email to"," ",Object(Ma.jsx)("a",{href:"mailto:deals-support@pwc.com",className:"orange-link",children:"deals-support@pwc.com"}),". ","Please include the full name and the role you\u2018d like to add."]})]})},$R=function(e){var t=e.onCancel,n=e.onStepCompleted,a=e.isSaving;return Object(Ma.jsxs)(HR,{onSubmit:n,"data-testid":"project-create-form",className:"step-3-form",children:[Object(Ma.jsx)("h2",{children:"Setting up the project"}),Object(Ma.jsx)("p",{children:"Create your project below when you are ready. To view or edit the project details once it's created, you can go to the Settings section of the project."}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("div",{className:"separator"}),Object(Ma.jsxs)(kS,{children:[Object(Ma.jsx)(RS,{onClick:t,dataTestId:"cancel-button"}),Object(Ma.jsx)(Kj,{isSaving:a,isValid:!0,buttonSize:"sm",onSaveText:"Submitting...",standbyText:"Create Project",dataTestId:"create-project-button"})]})]})},eP=function(e){var t=e.onTryAgainClick;return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("p",{children:"There was a problem submitting your request."}),Object(Ma.jsxs)("p",{children:["If the issue continues, please get in touch with us at"," ",Object(Ma.jsx)("a",{href:"mailto:us_junction_support@pwc.com",className:"support-email-link",children:"us_junction_support@pwc.com"})]}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("div",{className:"separator"}),Object(Ma.jsx)(kS,{children:Object(Ma.jsx)(er.Button,{className:"button-block sm",type:"button","data-testid":"try-again-button",onClick:t,children:"Try Again"})})]})},tP=function(){return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("p",{children:"Get your project up and running by viewing the Project Overview before adding content to your project. Or you can invite more team members through the project settings."}),Object(Ma.jsx)("p",{children:"A Sharepoint folder is associated with the project so you can also upload analyses and other documents there to collaborate with others before importing them to the project."}),Object(Ma.jsx)("br",{}),Object(Ma.jsx)("div",{className:"separator"}),Object(Ma.jsx)("p",{className:"link-projects-list",children:Object(Ma.jsx)(Ja.Link,{to:"/projects/",className:"btn btn-primary","aria-label":"Projects",children:"Go to projects list"})})]})},nP=(n(1573),function(){var e=Object(p.k)(),t=Object(r.useState)(1),n=Object(Cr.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)({territory:"United States",services:[],currency:FA(kA,"United States"),financialsMagnitude:FA(SA),financialsDecimalCount:FA(DA)}),i=Object(Cr.a)(o,2),s=i[0],l=i[1],d=Object(r.useState)({}),u=Object(Cr.a)(d,2),j=u[0],b=u[1],O=Object(r.useState)(!1),f=Object(Cr.a)(O,2),h=f[0],_=f[1],g=Object(r.useState)(!1),v=Object(Cr.a)(g,2),L=v[0],C=v[1],T=Object(r.useState)(!1),y=Object(Cr.a)(T,2),I=y[0],E=y[1],w=function(){e.replace("/projects/")},N=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t),c(2);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(t),c(3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,a,r,o,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.getUserEmail();case 2:return t=e.sent,n={email:t,role:x.Constants.USER_ROLES.TEAM_MEMBER,pendingApproval:!1},a=j.find((function(e){return e.email===t}))?j:[].concat(Object(m.a)(j),[n]),r={territory:s.territory,clientName:s.clientName,industryId:s.industryId,name:s.projectName,restriction:parseInt(s.restriction,10),serviceIds:s.services.map((function(e){return e.value})),target:s.target,type:parseInt(s.dealType,10),currency:s.currency,financialsMagnitude:s.financialsMagnitude,financialsDecimalCount:s.financialsDecimalCount,consentLevel:s.consentLevel,users:a.map((function(e){return{emailAddress:e.email,roleName:e.role,pendingApproval:e.pendingApproval}}))},C(!0),_(!1),e.prev=8,e.next=11,Mn(r);case 11:return o=e.sent,e.next=14,Hr();case 14:i=e.sent,ue.setTokens(i),E(o),c(4),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),c(4),_(!0);case 24:return e.prev=24,C(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[8,20,24,27]])})));return function(){return e.apply(this,arguments)}}();return Object(Ma.jsx)("div",{className:"project-create",children:Object(Ma.jsxs)(wu,{headerComponent:Object(Ma.jsx)("div",{}),children:[4!==a&&Object(Ma.jsxs)(er.Button,{className:"button-menu back-button mb-3",type:"button",onClick:function(){1===a?e.goBack():c(a-1)},"data-testid":"back-button",children:[Object(Ma.jsx)(er.Icon,{name:"left-chevron",width:14,className:"fill icon-orange"}),"Back"]}),4===a?Object(Ma.jsx)("h1",{"data-testid":"project-form-header",children:h?Object(Ma.jsxs)("span",{children:[" ",Object(Ma.jsx)(er.Icon,{name:"alert",width:30,className:"fill icon-orange"}),"\xa0Problem creating the project"]}):Object(Ma.jsx)("span",{children:"New project request underway"})}):Object(Ma.jsx)("h1",{"data-testid":"project-form-header",children:"Create a new project"}),Object(Ma.jsx)(er.ProgressSteps,{current:a,steps:[{title:"first",description:"Project details"},{title:"second",description:"Team details"},{title:"third",description:"Create project"}]}),Object(Ma.jsx)("div",{className:"separator"}),1===a&&Object(Ma.jsx)(JR,{initialValues:s,onCancel:w,onStepCompleted:N})," ",2===a&&Object(Ma.jsx)(XR,{initialValues:j,onCancel:w,onStepCompleted:A,isSaving:L,hasError:h})," ",3===a&&Object(Ma.jsx)($R,{onCancel:w,onStepCompleted:S,isSaving:L})," ",4===a&&!1===h&&Object(Ma.jsx)(tP,{projectId:I,projectName:s.projectName})," ",4===a&&h&&Object(Ma.jsx)(eP,{onTryAgainClick:S})]})})}),aP=Object(O.createSlice)({name:"loggedInUser",initialState:null,reducers:{setLoggedInUserSucceeded:function(e,t){return Object(b.a)(Object(b.a)({},e),t.payload)}}}),rP=aP.actions.setLoggedInUserSucceeded,cP=aP.reducer,oP={map:function(e){return e?{initials:x.TextUtilities.getUserInitials(e.given_name,e.family_name),givenName:e.given_name,familyName:e.family_name,name:"".concat(e.given_name," ").concat(e.family_name)}:{}}},iP=function(e){var t=e.children,n=Object(s.useSelector)(Pr);return Object(r.useEffect)((function(){ue.hasValidToken()&&n.loaded&&n.settings.allowPerformanceCookies&&new Promise((function(e){if(_o.isInstalled())e();else var t=setInterval((function(){_o.isInstalled()&&(clearInterval(t),e())}),200)})).then((function(){_o.isStarted()||_o.start()}))}),[n]),t},sP=["component","tAndCHasAccepted","requireTAndCAcceptance"],lP=function(e){var t=e.component,n=e.tAndCHasAccepted,a=e.requireTAndCAcceptance,c=void 0===a||a,o=Object(Pi.a)(e,sP),i=Object(s.useDispatch)(),l=ue.hasValidToken();return Object(r.useEffect)((function(){l&&i(function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ue.getToken(),a=oP.map(n),t(rP(a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[l,i]),Object(Ma.jsx)(p.d,Object(b.a)(Object(b.a)({},o),{},{render:function(e){var a=e.location;return l?c&&ue.isClientUser()&&!n?Object(Ma.jsx)(p.c,{to:{pathname:"/",state:{from:a}}}):Object(Ma.jsx)(iP,{children:Object(Ma.jsx)(t,{})}):Object(Ma.jsx)(p.c,{to:{pathname:"/",state:{from:a}}})}}))},dP=(n(1574),"deals-support@pwc.com"),uP=function(e){var t=e.project;return t.status===sr.COMPLETED?Object(Ma.jsx)("span",{className:"project-status align-self-md-center mt-0",children:Object(Ma.jsx)(Al,{dataTestId:"project-".concat(t.id,"-type"),title:MA(t.type)})}):t.status===sr.ON_HOLD?Object(Ma.jsxs)("span",{className:"project-status","data-testid":"project-on-hold",children:[Object(Ma.jsx)("span",{className:"project-status__icon",children:Object(Ma.jsx)(er.Icon,{name:"alert",width:24,className:"fill icon-yellow"})}),Object(Ma.jsx)("span",{children:"Project initiation on hold as the team investigate an issue. The process will retry automatically."})]}):t.status===sr.FAILED?Object(Ma.jsxs)("span",{className:"project-status","data-testid":"project-failed",children:[Object(Ma.jsx)("span",{className:"project-status__icon",children:Object(Ma.jsx)(er.Icon,{name:"alert",width:24,className:"fill icon-yellow"})}),Object(Ma.jsxs)("span",{children:["An error occurred.",Object(Ma.jsxs)("span",{"data-testid":"support-info",children:[" ","If it continues, contact"," ",Object(Ma.jsx)(er.Button,{className:"button-link",onClick:function(){Gr.redirect("mailto:".concat(dP))},children:dP})]})]})]}):[sr.INACTIVE,sr.INACTIVE_PENDING_IN_PROGRESS,sr.ARCHIVED,sr.ARCHIVING_PENDING_IN_PROGRESS].includes(t.status)?Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(Al,{dataTestId:"project-".concat(t.id,"-type"),title:MA(t.type)}),Object(Ma.jsx)(vr,{projectId:t.id,showWhenActive:!1,isSmall:!0})]}):Object(Ma.jsx)(Ma.Fragment,{children:Object(Ma.jsxs)("span",{className:"project-status align-items-center",children:[Object(Ma.jsx)(Al,{title:"Project Initiating",status:"provisioning",dataTestId:"project-status-pill"}),Object(Ma.jsx)(HA,{})]})})},jP=function(e){var t=e.project,n=Object(r.useState)({newCount:0,updatedCount:0}),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(null),s=Object(Cr.a)(i,2),l=s[0],d=s[1],u=hr(),j=Or(u,t.id);Object(r.useEffect)((function(){var e=Ie.getProjectToken(t.id);d(e)}),[]),Object(r.useEffect)((function(){Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3,!l||3!==t.status){e.next=7;break}return e.t0=o,e.next=5,Wn(t.id);case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})))()}),[l,t.id,t.status]);var b,p=ZA(t,"Engagement Lead"),m=ZA(t,"Engagement Manager"),O=mr(t.status)||lr(t.status);switch(t.status){case 1:b=" new";break;case 2:b=" in-progress";break;case 3:b=" completed";break;case 4:b=" migration-completed";break;case 5:b=" migration-failed";break;case 7:b=" sync-failed";break;case 10:b=" failed";break;case 11:b=" on-hold";break;default:b=""}return Object(Ma.jsxs)("div",{className:nr()("project-panel",{"project-panel__readonly":mr(j)}),children:[Object(Ma.jsx)("div",{className:"project-panel-row",children:Object(Ma.jsxs)("div",{className:"project-title-description-container",children:[Object(Ma.jsxs)("span",{className:"project-title".concat(b),children:[Object(Ma.jsx)(Ja.Link,{to:O?"/projects/".concat(t.id):"","data-testid":"project-".concat(t.id,"-link"),children:t.name}),Object(Ma.jsx)("div",{className:"pills-container",children:Object(Ma.jsx)(uP,{project:t})})]}),Object(Ma.jsx)(Ja.Link,{to:3===t.status?"/projects/".concat(t.id):"",className:"project-panel-link-arrow","data-testid":"project-".concat(t.id,"-link-arrow"),children:Object(Ma.jsx)(er.Icon,{name:"arrow-right",width:32,className:"project-panel-arrow outline icon-orange"})})]})}),Object(Ma.jsxs)("div",{className:"project-description-container",children:[Object(Ma.jsx)("div",{className:"project-description","data-testid":"project-description",children:t.description||" "}),Object(Ma.jsx)("div",{className:"project-content",children:l&&Object(Ma.jsx)(LD,{projectId:t.id,newContent:c.newCount,updatedContent:c.updatedCount,shouldRetrieveNotificationCount:O})})]}),l&&Object(Ma.jsxs)(Cl,{projectId:t.id,roles:x.Constants.USER_ROLE_GROUPS.INTERNAL,children:[Object(Ma.jsx)(Fa,{}),Object(Ma.jsx)(NR,{title:"Info",children:Object(Ma.jsxs)("div",{className:"row",children:[Object(Ma.jsxs)("div",{className:"user-details-container col-md-6 col-sm-12",children:[Object(Ma.jsx)("div",{children:Object(Ma.jsx)(vD,{dataTestId:"project-".concat(t.id,"-engagement-lead"),firstName:p.firstName,lastName:p.lastName,email:p.email,position:"Engagement Lead"})}),Object(Ma.jsx)("div",{children:Object(Ma.jsx)(vD,{dataTestId:"project-".concat(t.id,"-engagement-manager"),firstName:m.firstName,lastName:m.lastName,email:m.email,position:"Engagement Manager"})})]}),Object(Ma.jsxs)("div",{className:"deal-details-container col-md-6 col-sm-12",children:[Object(Ma.jsx)("div",{className:"detail-section",children:Object(Ma.jsx)(xD,{dataTestId:"project-".concat(t.id,"-client-details"),title:"Client",content:t.clientName})}),Object(Ma.jsx)("div",{className:"detail-section",children:Object(Ma.jsx)(xD,{dataTestId:"project-".concat(t.id,"-target-details"),title:"Target",content:t.target})}),Object(Ma.jsx)("div",{className:"detail-section",children:Object(Ma.jsx)(xD,{dataTestId:"project-".concat(t.id,"-industry-status"),title:"Industry",content:t.industry})})]})]})})]})]})},bP=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)(or);return Object(r.useEffect)((function(){e(ir())}),[e]),Object(Ma.jsxs)("div",{"data-testid":"project-container",children:[Object(Ma.jsx)("h2",{children:"Projects"}),Object(Ma.jsx)("div",{className:"project-container",children:t&&t.map((function(e){return Object(Ma.jsx)(jP,{project:e},e.id)}))})]})},pP=(n(1575),function(){return Object(Ma.jsx)(Zj,{children:Object(Ma.jsx)(bP,{})})}),mP=function(){var e=Object(p.l)(),t=Ps.a.parse(e.search),n=t.code,a=t.state,c="../";if(a)try{var o=atob(a);o.match(/^\//)&&(c=o)}catch(i){}return Object(r.useEffect)((function(){n&&Qr(n).then((function(e){ue.setTokens(e),Gr.redirect(c)})).catch((function(){Gr.redirect("../")}))}),[n,c]),null},OP={build:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.origin,t=btoa(e);return qr(encodeURIComponent("".concat(window.location.origin,"/access")),t)}},fP=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("true"===sessionStorage.getItem("tcAcceptCache"))){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,Ee.get("users/termsAndConditions?email=".concat(t));case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hP=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("tcAcceptCache","true"),e.next=3,Ee.post("users/termsAndConditions?email=".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_P=function(){var e=Object(p.l)(),t=Object(s.useDispatch)(),n="/projects",a=Object(s.useSelector)(Za),c=Object(s.useSelector)(Va),o=Object(s.useSelector)(Ga),i=ue.hasValidToken();if(Object(r.useEffect)((function(){if(!i){var t=e.state?e.state.from.pathname:n;OP.build(t).then((function(e){Gr.redirect(e)}))}}),[i,e.state]),Object(r.useEffect)((function(){var e;i&&ue.isClientUser()&&!a&&!c&&t((e=ue.getEmail(),function(){var t=Object(te.a)(ee.a.mark((function t(n){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ya()),t.next=3,fP(e);case 3:a=t.sent,n(Wa(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[i,c,a,t]),i){if(ue.isClientUser()){if(c&&o){var l=e.state&&e.state.from?e.state.from.pathname:null;return Object(Ma.jsx)(p.c,{to:{pathname:l||n}})}return c?Object(Ma.jsx)(p.c,{to:{pathname:"/terms-and-conditions"}}):null}return Object(Ma.jsx)(p.c,{to:{pathname:n}})}return null},xP=function(){return Object(Ma.jsx)(iP,{children:Object(Ma.jsx)(_P,{})})},gP=(n(1576),function(e){var t=e.url,n=void 0===t?"/":t,a=e.text,r=void 0===a?"Return to Projects":a,c=e.statusCode,o=void 0===c?"500":c,i=e.description,s=void 0===i?"Internal Server Error":i;return Object(Ma.jsx)(Gj,{children:Object(Ma.jsxs)("div",{className:"unexpected-error-content","data-testid":"unexpected-error-notification",children:[Object(Ma.jsx)("h1",{className:"unexpected-error-content-header",children:o}),Object(Ma.jsx)("p",{children:s}),Object(Ma.jsx)(Ja.Link,{to:n,"aria-label":r,children:Object(Ma.jsx)(er.Button,{className:"button-large",children:r})})]})})}),vP=Object(O.createSlice)({name:"termsAndConditions",initialState:{termsAndConditions:null,loading:!1},reducers:{setTermsAndConditionsRequested:function(e){return Object(b.a)(Object(b.a)({},e),{},{termsAndConditions:null,loading:!0})},setTermsAndConditionsReceived:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{termsAndConditions:t.payload.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{id:x.TextUtilities.slugify(e.title,!0)})})),loading:!1})}}}),LP=vP.actions,CP=LP.setTermsAndConditionsRequested,TP=LP.setTermsAndConditionsReceived,yP=function(e){return e.termsAndConditions.loading},IP=function(e){return e.termsAndConditions.termsAndConditions},EP=vP.reducer,wP=function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("termsAndConditions");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),NP=function(){return function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(CP()),e.next=3,wP();case 3:n=e.sent,t(TP(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},AP=(n(1577),"_pendo"),SP="accountId",kP="visitorId",DP=function(e){return function(t){return Object.keys(t).filter((function(t){return e.some((function(e){return t.includes(e)}))}))}},RP=function(){return document.cookie.split(";").map((function(e){return e.split("=")})).filter((function(e){return 2===e.length})).map((function(e){var t=Object(Cr.a)(e,2),n=t[0],a=t[1];return[n.trim(),a.trim()]})).reduce((function(e,t){var n=Object(Cr.a)(t,2),a=n[0],r=n[1];return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,r))}),{})},PP=function(e){!function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){document.cookie="".concat(e,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT")}))}(DP(e)(RP()))},MP=function(e){!function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){return localStorage.removeItem(e)}))}(DP(e)(localStorage))},FP=function(e){var t=localStorage.getItem(e)||RP()[e];if(t)try{return JSON.parse(t).value}catch(n){return t}},UP=function(){return FP("".concat(AP,"_").concat(kP,".").concat(void 0))},BP=function(){return FP(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b";return e&&"".concat(AP,"_").concat(kP,".").concat(e)}())},YP=function(){return FP(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2d9f5f54-c2a7-4e35-77d5-0713c4b0c70b";return e&&"".concat(AP,"_").concat(SP,".").concat(e)}())},WP=function(e){var t=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("performance-cookies-table"),t=Object(Cr.a)(e,2)[1];return((void 0===t?"":t).replace(/\r\n/g,"").match(/<td>.*?<\/td>/g)||[]).map((function(e){return e.replace(/<td>|<\/td>/g,"")}))}(e);MP(t),PP(t)},VP=function(e){var t=e.policy,n=Object(s.useSelector)(Pr),a=n.loading,c=n.settings.allowPerformanceCookies,o=void 0===c||c,i=n.loaded,l=ue.hasValidToken(),d=Object(s.useDispatch)();Object(r.useEffect)((function(){!l||i||a||d(Zr())}),[l,d,i,a]),Object(r.useEffect)((function(){t&&!a&&(!function(e){var t=document.getElementById("performance-cookies-table");t&&(e?t.classList.remove("disabled"):t.classList.add("disabled"))}(o),o||WP(t))}),[t,a,o]);var u=Object(r.useCallback)((function(e){d(function(e,t){return function(){var n=Object(te.a)(ee.a.mark((function n(a,r){var c;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((c=Pr(r())).loading||!!c.settings.allowPerformanceCookies===e){n.next=6;break}return a(Rr()),n.next=5,Promise.all([Wr(e),Vr(t)]);case 5:a(Zr());case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(e,function(e){var t=function(t,n,a){return(n||a)&&{userType:t,userId:n||a,allowProcessing:e}},n=ue.getEmail(),a="".concat("usdev","_").concat(n);return[t("visitor",BP(),a),t("visitor",UP()),t("account",YP(),a)].filter((function(e){return e}))}(e)))}),[d]);return Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(er.Toggle,{checked:o,onClick:function(){return u(!o)},name:"performance-cookies-toggle","data-testid":"performance-cookies-toggle",disabled:a,children:"Accept cookies"}),Object(Ma.jsxs)("div",{className:"performance-cookies-toggle-info",children:[Object(Ma.jsx)("span",{children:Object(Ma.jsx)(er.Icon,{width:20,name:"information",className:"fill icon-yellow"})}),Object(Ma.jsx)("span",{children:"Please note that these cookies are required to enable the help and support functionality across the platform."})]})]})},ZP=[{id:"performance-cookies-section-header",child:function(e){return Object(Ma.jsx)(VP,{policy:e})}}],GP=function(e){var t=e.policy,n=Object(r.useRef)(),a=Object(r.useState)([]),c=Object(Cr.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){var e=ZP.filter((function(){return t&&t.body})).filter((function(){return n&&n.current&&n.current.innerHTML})).filter((function(e){var t=e.id;return n.current.innerHTML.includes(t)}));s(e)}),[t,n]),Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)("h2",{className:"mb-0",children:t.title}),Object(Ma.jsx)("div",{ref:n,className:"policy-container",dangerouslySetInnerHTML:{__html:Qa(t.body)}}),o.map((function(e){var n=e.id,a=e.child,r=document.getElementById(n);return r?i.a.createPortal(a(t.body),r,"".concat(n,"_").concat(t.title)):null}))]})},HP=(n(1578),function(){var e=Object(p.k)(),t=Object(s.useDispatch)(),n=Object(r.useState)(!0),a=Object(Cr.a)(n,2),c=a[0],o=a[1],i=Object(s.useSelector)(IP),l=Object(s.useSelector)(yP),d=Object(s.useSelector)(Ga),u=Object(s.useSelector)(Va);Object(r.useEffect)((function(){d&&e.replace("/projects")}),[d,e]),Object(r.useEffect)((function(){u||e.replace("/")}),[u,e]),Object(r.useEffect)((function(){i||l||(t(NP()),t(ka()))}),[i,l,t]);var j=Object(r.useMemo)((function(){return function(e){e.target.scrollHeight-e.target.scrollTop-e.target.clientHeight<=5&&o(!1)}}),[]),b=function(){var n=Object(te.a)(ee.a.mark((function n(){return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,hP(ue.getEmail());case 3:n.next=8;break;case 5:return n.prev=5,n.t0=n.catch(0),n.abrupt("return");case 8:t(Wa(!0)),e.push("/projects");case 10:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}();return Object(Ma.jsxs)("div",{"data-testid":"terms-and-conditions",className:"terms-and-conditions mx-3 mx-md-5 pt-5",children:[Object(Ma.jsx)("h1",{children:"Legal agreement"}),Object(Ma.jsxs)("div",{"data-testid":"terms-and-conditions-text",className:"terms-and-conditions-text scrollable",onScroll:j,children:[Object(Ma.jsx)("p",{className:"terms-and-conditions-instructions",children:"Before you can use PwC Junction you'll need to agree to the Terms & Conditions, Cookie Policy and Privacy Statement below. Please read them carefully before accepting."}),i&&i.map((function(e){return"Copyright"!==e.title?Object(Ma.jsxs)(r.Fragment,{children:[Object(Ma.jsx)("hr",{}),Object(Ma.jsx)(GP,{policy:e})]},e.id):null})),Object(Ma.jsx)("div",{className:"terms-and-conditions-footer-fade"})]}),Object(Ma.jsx)("div",{className:"terms-and-conditions-legal-statement","data-testid":"terms-and-conditions-legal-statement",children:"By clicking the button below, you are accepting the Terms of Use and any applicable territory-specific terms, and acknowledging that you have read and understand the Privacy Statement and Cookie Statement."}),Object(Ma.jsxs)("div",{className:"terms-and-conditions-actions",children:[Object(Ma.jsx)(er.Button,{"data-testid":"cancel-terms-and-conditions",onClick:function(){t($r())},type:"button",className:"button-link mr-4",children:"Cancel"}),Object(Ma.jsx)(er.Button,{"data-testid":"accept-terms-and-conditions",onClick:b,type:"button",className:"button",disabled:c,children:"Agree and proceed"})]})]})}),KP=(n(1579),function(){var e=Object(s.useSelector)(IP),t=Object(p.m)().policyId,n=e&&e.find((function(e){return e.id===t})),a=Object(r.useRef)(),c=Object(s.useSelector)(yP),o=Object(s.useDispatch)(),i=e&&e.length>0;return Object(r.useEffect)((function(){!ue.hasValidToken()||e||c||o(NP()),a.current&&(a.current.scrollTop=0)}),[t,a,o,e,c]),Object(Ma.jsxs)("div",{className:"terms-and-conditions-view project-overview",children:[Object(Ma.jsx)(ws,{title:"Legal Information",size:"h1"}),i&&Object(Ma.jsxs)("div",{className:"tabs","data-testid":"terms-and-conditions-tabs",children:[Object(Ma.jsx)("div",{className:"tab-list",children:x.Constants.TERMS_AND_CONDITIONS_LINKS.map((function(e){return Object(Ma.jsx)(Ja.NavLink,{to:"/policies/".concat(e.key),"data-testid":"terms-and-conditions-tab-".concat(e.key),children:e.text},e.key)}))}),n&&Object(Ma.jsxs)("div",{ref:a,className:"tab-content","data-testid":"terms-and-conditions-tab-content",children:[Object(Ma.jsx)(GP,{policy:n,hideDateModified:!0}),Object(Ma.jsx)("div",{className:"terms-and-conditions-footer-fade"})]})]})]})}),qP=function(){var e=Object(s.useDispatch)();e(ea()),e(AE());var t=Object(s.useSelector)(Ga);return Object(Ma.jsxs)(p.g,{children:[Object(Ma.jsx)(p.d,{exact:!0,path:"/",component:xP}),Object(Ma.jsx)(p.d,{exact:!0,path:"/access",component:mP}),Object(Ma.jsx)(p.d,{exact:!0,path:"/unauthorized",render:function(){return Object(Ma.jsx)(gP,{statusCode:"403",description:"You are not authorized to view this content."})}}),Object(Ma.jsx)(p.d,{exact:!0,path:"/notfound",render:function(){return Object(Ma.jsx)(gP,{statusCode:"404",description:"Page Not Found."})}}),Object(Ma.jsx)(lP,{exact:!0,path:"/policies/:policyId",component:KP,tAndCHasAccepted:t}),Object(Ma.jsx)(lP,{exact:!0,path:"/terms-and-conditions",component:HP,requireTAndCAcceptance:!1}),Object(Ma.jsx)(lP,{exact:!0,path:"/projects",component:pP,tAndCHasAccepted:t}),Object(Ma.jsx)(p.d,{component:function(){return Object(Ma.jsx)(p.c,{to:{pathname:"/"}})}})]})},zP=function(){var e=Object(s.useSelector)(Ga);return Object(Ma.jsxs)(p.g,{children:[ue.isAdmin()&&Object(Ma.jsx)(lP,{exact:!0,path:"/admin",component:BR,tAndCHasAccepted:!0}),Object(Ma.jsx)(lP,{exact:!0,path:"/projects/create-project",component:nP,tAndCHasAccepted:e}),Object(Ma.jsx)(lP,{path:"/projects/:projectId",component:DR,tAndCHasAccepted:e}),Object(Ma.jsx)(p.d,{children:Object(Ma.jsx)(qP,{})})]})};var QP=function(){return Object(Ma.jsx)(p.d,{exact:!0,path:"/unauthenticated",render:function(){return Kr(),Object(Ma.jsx)(gP,{statusCode:"401",description:"You are not authenticated; please log in again.",text:"Return to login"})}})},JP=(n(1580),function(e){switch(e){case x.Constants.ModalErrorType.UNABLE_TO_SAVE_CHANGE:case x.Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER:return Object(Ma.jsxs)("span",{className:"title-with-icon",children:[Object(Ma.jsx)(er.Icon,{name:"alert",className:"fill icon-yellow",width:"24"}),Object(Ma.jsx)("span",{children:"Unable to save change"})]});case x.Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER_STALE_DATA:return Object(Ma.jsxs)("span",{className:"title-with-icon",children:[Object(Ma.jsx)(er.Icon,{name:"alert",className:"fill icon-yellow",width:"24"}),Object(Ma.jsx)("span",{children:"Unable to save order"})]});default:return""}}),XP=function(e){switch(e){case x.Constants.ModalErrorType.UNABLE_TO_SAVE_CHANGE:case x.Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER:return Object(Ma.jsxs)(Ma.Fragment,{children:["Due to a system error, we are currently unable to save your changes. Please try again later. If the issue continues, send an email to"," ",Object(Ma.jsx)("a",{href:"mailto:us_junction_support@pwc.com",className:"support-email-link",children:"[us_junction_support@pwc.com]"})]});case x.Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER_STALE_DATA:return"One or more changes were made to the content since you started re-ordering it. Please refresh the page and try again.";default:return""}},$P=function(){var e=Object(s.useSelector)(_u),t=e.show,n=e.modalErrorType,a=Object(s.useDispatch)(),r=function(){a(Ou())};return t?Object(Ma.jsxs)(hs.a,{show:t,onHide:r,className:"error-modal",centered:!0,children:[Object(Ma.jsx)(hs.a.Header,{children:Object(Ma.jsx)(hs.a.Title,{children:Object(Ma.jsxs)(Ma.Fragment,{children:[JP(n),Object(Ma.jsx)("button",{className:"ui-button button-no-appearance close-button","aria-label":"Close topic modal",onClick:r,type:"button","data-testid":"modal-error-close-button",children:Object(Ma.jsx)(er.Icon,{name:"close",className:"fill icon-orange-theme",width:"18",height:"18"})})]})})}),Object(Ma.jsx)(hs.a.Body,{children:XP(n)})]}):null},eM=(n(1581),function(){var e=localStorage.getItem("pwc-theme"),t=Object(p.l)().pathname,n=Object(s.useDispatch)(),a=Object(s.useSelector)(Pr);void 0!==a.settings.darkMode&&(e=a.settings.darkMode?"theme-dark":"theme-light");var c=ue.hasValidToken();Object(r.useEffect)((function(){!c||a.loaded||a.loading||n(Zr())}),[c,a,n]);var o=Object(s.useSelector)((function(e){return e.project&&e.project.id})),i=Object(s.useSelector)(oo),l=Object(s.useSelector)(ii),d=i||l?"freeze":"";return Object(r.useEffect)((function(){var e=document.getElementsByTagName("html")[0];i?e.classList.add("mobile-sidenav-open"):e.classList.remove("mobile-sidenav-open")}),[i]),Object(Ma.jsxs)("div",{className:"app-layout ".concat(d),children:[Object(Ma.jsx)(Da.a,{children:Object(Ma.jsx)("body",{className:"no-outline ".concat(e)})}),Object(Ma.jsx)(xo,{}),Object(Ma.jsx)(ho,{}),Object(Ma.jsxs)("main",{children:[Object(Ma.jsx)(qc,{projectId:o}),Object(Ma.jsx)("div",{id:"main-content",className:"sr-only",children:"Main Content"}),"/unauthenticated"!==t.toLowerCase()&&Object(Ma.jsx)(zP,{}),"/unauthenticated"===t.toLowerCase()&&Object(Ma.jsx)(QP,{}),Object(Ma.jsx)($a,{})]}),Object(Ma.jsx)($P,{})]})}),tM=function(){var e=Object(p.l)(),t=e.pathname,n=e.key;return Object(r.useEffect)((function(){document.getElementById("top-of-page").focus()}),[t]),Object(Ma.jsx)("div",{style:{display:"none"},"data-testid":"location-key-element","data-location-key":n})},nM=function(){window.Highcharts=j.a;var e=window.self!==window.top,t=Object(s.useDispatch)(),n=function(){var e=La(),t=Ca();return e?e.title(t):ha}();return Object(r.useEffect)((function(){document.title=n,document.getElementById("top-of-page").textContent="".concat(n,": Top Of Page")}),[n]),Object(r.useEffect)((function(){t(ka())}),[t]),e?Object(Ma.jsx)("span",{style:{color:"red"},children:"App cannot be run in an iFrame"}):Object(Ma.jsxs)(Ma.Fragment,{children:[Object(Ma.jsx)(eM,{}),Object(Ma.jsx)(tM,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var aM,rM,cM,oM,iM,sM,lM,dM=n(553),uM=n(81),jM=n(56),bM=n(255),pM=Object(O.createAction)("scheduler/scheduleActionRequested",(function(e){return{payload:{actionToSchedule:e}}})),mM=function(e){return function(t){return function(n){t(n),function(e){return e.type.startsWith(en)&&e.type!==ef.type}(n)&&e.dispatch(pM(ef()))}}},OM=function(e){return function(t){return function(){var n=Object(te.a)(ee.a.mark((function n(a){var r,c,o,i,s,l,d,u;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(a),a.type!==Vf.type){n.next=6;break}if(void 0!==(p=a.payload)&&void 0!==p.code&&void 0!==p.headers&&void 0!==p.data&&void 0!==p.config){n.next=4;break}return n.abrupt("return");case 4:r=a.payload,c=r.code,o=r.data,(i=r.config).rowType===_n&&(s=o[i.adjustmentRowIdColumnIndex],l="".concat(o[i.adjustmentNumberColumnIndex]," ").concat(o[i.adjustmentShortDescColumnIndex]).trim(),j=o[i.adjustmentLongDescColumnIndex],d={data:j.trim(),childrenData:[]},u=Object(b.a)(Object(b.a)({},d),{},{adjustmentRowId:s}),e.dispatch(vf(c,l,u)));case 6:case"end":return n.stop()}var j,p}),n)})));return function(e){return n.apply(this,arguments)}}()}},fM={},hM=function(e){return function(t){return function(n){t(n);var a=function(e){return function(t,n){return setTimeout((function(){e.dispatch(t)}),n)}}(e);if(n.type===pM.type&&void 0!==n.payload&&void 0!==n.payload.actionToSchedule){var r=n.payload.actionToSchedule,c=r.type,o=fM[c];o&&clearTimeout(o),fM[c]=a(r,400)}}}},_M=n(626),xM=n.n(_M),gM=Object(O.createAction)("".concat(en,"/adjustmentsWithTogglesForDocumentUpdated"),(function(e,t){return{payload:{documentCode:e,adjustments:t}}})),vM=function(e,t){var n=Ss()(e);return be()(e).forEach((function(a){be()(e[a]).forEach((function(e){var r=me()(t,[a,e,rn],!0);n[a][e].active=r}))})),n},LM=function(e,t){if(void 0!==(n=t.payload)&&void 0!==n.documentCode){var n,a=t.payload.documentCode,r=A_(e.getState()),c=me()(r,a,{}),o=Ih(e.getState()),i=me()(o,a,{}),s=vM(c,i);e.dispatch(gM(a,s));var l=function(e){return yh()(ze.a,vh()(ze.a),vh()(ze.a),y_()((function(e){return e.active})),xM()((function(e){return!e})))(e)}(o);e.dispatch(XO(l))}},CM=function(e){return function(t){return function(n){switch(t(n),n.type){case Bf.type:!function(e,t){if(void 0!==(n=t.payload)&&void 0!==n.documentCode&&void 0!==n.adjustments){var n,a=t.payload,r=a.documentCode,c=a.adjustments,o=Ih(e.getState()),i=me()(o,r,{}),s=vM(c,i);e.dispatch(gM(r,s))}}(e,n);break;case Ux.type:LM(e,n)}}}},TM=Object(O.createReducer)({},(aM={},Object($t.a)(aM,Bf,(function(e,t){if(void 0===(n=t.payload)||void 0===n.documentCode||void 0===n.adjustments)return e;var n,a=t.payload,r=a.documentCode,c=a.adjustments;return e[r]=c,e})),Object($t.a)(aM,sf,(function(e,t){return t.payload&&t.payload.documentCode?(delete e[t.payload.documentCode],e):e})),Object($t.a)(aM,kn,(function(){return{}})),aM)),yM=n(333),IM=n.n(yM),EM=function(e){return IM()(e).filter((function(e){return"active"!==e[0]})).map((function(t){return{active:e.active,compositeKey:t[0],adjustmentAmount:t[1]}}))},wM=function(e){return yh()(ze.a,vh()(ze.a),vh()(EM))(e)},NM=!0,AM=function(e,t,n,a,r,c){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=Qf(e,t),s=Qf(i,nn),l=zf(s,a,hn),d=o&&!w_(n),u=c&&!d;return s[a]=u?C_(l,r):l,i},SM=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.reduce((function(e,n){var a=n.compositeKey,r=n.adjustmentAmount,c=!!t||n.active,o=Kf(a),i=o.adjustmentNumber,s=o.shortDescription,l=o.adjustmentType,d=o.timePeriod,u=AM(e,on,l,d,r,c,NM),j=AM(u,l,l,d,r,c),b="".concat(i," ").concat(s);return AM(j,b,l,d,r,true),e}),{})},kM=/^revenue/i,DM=function(e){var t=Kf(e.compositeKey).adjustmentCategory;return void 0===t&&(t=""),kM.test(t.trim())},RM=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.filter(DM).reduce((function(e,n){var a=n.compositeKey,r=n.adjustmentAmount,c=!!t||n.active,o=Kf(a),i=o.adjustmentType,s=o.timePeriod;return AM(e,mn,i,s,r,c,NM),e}),{})},PM=Object(O.createReducer)({},(rM={},Object($t.a)(rM,Bf,(function(e,t){if(void 0===(n=t.payload)||void 0===n.documentCode||void 0===n.adjustments)return e;var n,a=t.payload,r=a.documentCode,c=a.adjustments,o=wM(c),i=SM(o,true),s=RM(o,true);return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},r,Object(b.a)(Object(b.a)({},i),s)))})),Object($t.a)(rM,sf,(function(e,t){return t.payload&&t.payload.documentCode?(delete e[t.payload.documentCode],e):e})),Object($t.a)(rM,kn,(function(){return{}})),rM)),MM=n(627),FM=n.n(MM),UM={},BM=Object(O.createReducer)(UM,(cM={},Object($t.a)(cM,Ux,(function(e,t){var n=t.payload,a=n.documentCode,r=n.adjustmentType,c=n.adjustmentName,o=n.active;FM()(e,[a,r,c,rn],o)})),Object($t.a)(cM,tf,(function(e){return UM})),Object($t.a)(cM,ls,(function(e){return UM})),Object($t.a)(cM,kn,(function(e){return UM})),cM)),YM=function(e){return IM()(e).map((function(e){return{compositeKey:e[0],amount:e[1]}}))},WM=function(e){return"Revenue"===qf(e.compositeKey).aggregator},VM=function(e){return"Current assets"===qf(e.compositeKey).aggregator},ZM=function(e){var t=qf(e.compositeKey).aggregator;return t&&"current liabilities"===t.toLowerCase()},GM=function(e){return"EBITDA"===qf(e.compositeKey).ebitdaFlag},HM=function(e,t,n){var a=e.filter(t).reduce((function(e,t){var n=qf(t.compositeKey).timePeriod,a=t.amount,r=e[n]||0;return e[n]=C_(r,a),e}),{});return Eu()(a)?{}:Object($t.a)({},n,a)},KM=Object(O.createReducer)({},(oM={},Object($t.a)(oM,Yf,(function(e,t){if(void 0===(n=t.payload)||void 0===n.documentCode||void 0===n.facts)return e;var n,a,r=t.payload.facts,c=(a=r,yh()(ze.a,vh()(YM))(a)),o=function(e){return HM(e,WM,jn)}(c),i=function(e){return HM(e,GM,pn)}(c),s=function(e){return HM(e,VM,On)}(c),l=function(e){return HM(e,ZM,fn)}(c);return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},e),o),i),s),l)})),Object($t.a)(oM,sf,(function(){return{}})),Object($t.a)(oM,kn,(function(){return{}})),oM)),qM=Object(O.createReducer)({},(iM={},Object($t.a)(iM,Zf,(function(e,t){if(void 0===(n=t.payload)||void 0===n.documentCode||void 0===n.timePeriodFlags)return e;var n,a=t.payload,r=a.documentCode,c=a.timePeriodFlags;return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},r,Object(b.a)(Object(b.a)({},e[r]),{},Object($t.a)({},dn,c))))})),Object($t.a)(iM,sf,(function(e,t){return t.payload&&t.payload.documentCode?(delete e[t.payload.documentCode],e):e})),Object($t.a)(iM,kn,(function(){return{}})),iM)),zM=Object(O.createReducer)({},(sM={},Object($t.a)(sM,Wf,(function(e,t){if(!t.payload||!t.payload.code||!t.payload.headers||!t.payload.config)return e;var n=t.payload,a=n.code,r=n.headers,c=n.config,o=r.slice(c.summableColumnStartIndex).filter((function(e){return""!==e})).map(Gf);return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},a,o))})),Object($t.a)(sM,sf,(function(e,t){return t.payload&&t.payload.documentCode?(delete e[t.payload.documentCode],e):e})),Object($t.a)(sM,kn,(function(){return{}})),sM)),QM=Object(O.createReducer)({},(lM={},Object($t.a)(lM,gM,(function(e,t){if(void 0===(n=t.payload)||void 0===n.documentCode||void 0===n.adjustments)return e;var n,a=t.payload,r=a.documentCode,c=a.adjustments,o=wM(c),i=SM(o),s=RM(o);return Object(b.a)(Object(b.a)({},e),{},Object($t.a)({},r,Object(b.a)(Object(b.a)({},i),s)))})),Object($t.a)(lM,sf,(function(e,t){return t.payload&&t.payload.documentCode?(delete e[t.payload.documentCode],e):e})),Object($t.a)(lM,kn,(function(){return{}})),lM)),JM=Object(O.createReducer)({},Object($t.a)({},lh,(function(e,t){var n=t.payload,a=n.documentCode,r=n.linkedAdjustments;e[a]=r}))),XM=[Lt.type,Ht.type,I.type],$M=[{entityType:"project",path:"/projects/:projectId",formatInitCommentsObject:function(e){var t=e.projectId;return{projectId:t,entityId:t,entityType:this.entityType,versionRequired:!1}}},{entityType:"hypothesis",path:"/projects/:projectId/key-focus-areas/:hypothesisId/view",formatInitCommentsObject:function(e){return{projectId:e.projectId,entityId:e.hypothesisId,entityType:this.entityType,versionRequired:!0}}},{entityType:"insight",path:"/projects/:projectId/insights/:insightId/view",formatInitCommentsObject:function(e){return{projectId:e.projectId,entityId:e.insightId,entityType:this.entityType,versionRequired:!0}}},{entityType:"analysis",path:"/projects/:projectId/analyses/:analysisId/view",formatInitCommentsObject:function(e){return{projectId:e.projectId,entityId:e.analysisId,entityType:this.entityType,versionRequired:!0}}},{entityType:"debt-debt-like",path:"/projects/:projectId/analyses/debt-debt-like",formatInitCommentsObject:function(e){return{projectId:e.projectId,entityId:1,entityType:this.entityType,versionRequired:!0}}},{entityType:"net-working-capital",path:"/projects/:projectId/analyses/net-working-capital",formatInitCommentsObject:function(e){return{projectId:e.projectId,entityId:1,entityType:this.entityType,versionRequired:!0}}},{entityType:"quality-of-earnings",path:"/projects/:projectId/analyses/quality-of-earnings",formatInitCommentsObject:function(e){return{projectId:e.projectId,entityId:1,entityType:this.entityType,versionRequired:!0}}}],eF=function(e){return function(t){return function(n){if(t(n),"@@router/LOCATION_CHANGE"===n.type){var a=n.payload.location.pathname,r=$M.find((function(e){var t=e.path;return Object(p.j)(a,{path:t,exact:!0})})),c=e.getState().comments.showCommentsPanel;if(void 0!==r){var o=Object(p.j)(a,{path:r.path}).params,i=r.formatInitCommentsObject(o);t(Xo(i))}else c&&t(Go())}XM.includes(n.type)&&t(ko(n.payload.versionNumber))}}},tF={endpoint:null,verb:"GET",payload:null,headers:[],params:{}},nF=function(){return function(e){return function(t){if(t.type===gE.type){var n=t.payload,a="".concat(n.reducer,"Began"),r="".concat(n.reducer,"Success"),c="".concat(n.reducer,"Error");e({type:a,payload:!0});var o,i=Object(b.a)(Object(b.a)({},tF),n),s=n.httpClient;switch(i.verb){case"GET":o=function(){return s.get(i.endpoint,i.params)};break;case"POST":o=function(){return s.post(i.endpoint,i.body,i.params)};break;case"PUT":o=function(){return s.put(i.endpoint,i.body,i.params)};break;case"DELETE":o=function(){return s.delete(i.endpoint)}}if(!o)throw e({type:a,payload:!1}),new Error("Invalid fetch method provided");Object(te.a)(ee.a.mark((function t(){var n;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o();case 3:n=t.sent,e({type:r,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e({type:c,payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}else e(t)}}},aF=Object(uM.a)(),rF={structuredAnalysis:os,loggedInUser:cP,userTermsAndConditions:Ha,userSettings:Fr,userNotificationSettings:QS,termsAndConditions:EP,reportFormat:ip,fileUpload:Lk,footer:Sa,longDescriptionsByCode:Cf,adjustmentsByDocument:TM,adjustmentTogglesByDocument:BM,adjustmentSumsByDocument:PM,toggledAdjustmentSumsByDocument:QM,factCalculations:KM,timePeriodMetadataByDocument:qM,timePeriodsByCode:zM,calcEngine:of,linkedAdjustmentsByDocument:JM,errors:gu},cF=[mM,hM,OM,CM],oF=Object(jM.d)(Object(b.a)({router:Object(l.connectRouter)(aF),project:Xn,projects:rr,structuredDocumentDescription:wf,structuredAnalysisView:uf,hypothesis:_t,insight:Wt,analysis:L,comments:Vo,report:pA.reportSlice,notification:Xc.notificationSlice,projectDisclaimers:tA,projectApprovals:tS,appSettings:no,survey:Lw,divestitureDiagnostic:YE},rF)),iF=(n(1586),n(1587),n(1588),n(194),n(1589),new(function(){function e(t){Object(ui.a)(this,e),this.threshold=t,this.secondsSinceLastActive=0,this.intervalID=null,this.userActive=!0,this.registeredEvents=[],this.resetTimer=this.resetTimer.bind(this),this.clearActivityTimer=this.clearActivityTimer.bind(this),this.startActivityTimer=this.startActivityTimer.bind(this)}return Object(ji.a)(e,[{key:"clearActivityTimer",value:function(){this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null)}},{key:"resetTimer",value:function(){this.secondsSinceLastActive=0}},{key:"isUserActive",value:function(){return this.userActive}},{key:"registerEvents",value:function(e){var t=this;e.forEach((function(e){window.addEventListener(e,t.resetTimer,!0),t.registeredEvents.push(e)}))}},{key:"startActivityTimer",value:function(){var e=this;this.intervalID=setInterval((function(){e.secondsSinceLastActive+=1,e.secondsSinceLastActive>e.threshold&&(e.userActive=!1)}),1e3)}}]),e}())(x.Constants.USER_INACTIVE_TIMEOUT));iF.registerEvents(x.Constants.USER_ACTIVITY_DOM_EVENTS),iF.startActivityTimer();var sF=iF,lF=[{job:function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(240,!sF.isUserActive()||!ue.hasValidToken()){e.next=10;break}if(!(ue.secondsFromExp()<240)){e.next=8;break}return e.next=6,Hr();case 6:t=e.sent,ue.setTokens(t);case 8:e.next=15;break;case 10:return Xr.reset(),e.next=13,Kr();case 13:sF.clearActivityTimer(),Gr.redirect("".concat(window.location.protocol,"//").concat(window.location.host));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),periodInMilliseconds:6e4}];(function(){lF.map((function(e){return t=e.job,n=e.periodInMilliseconds,setInterval(t,n);var t,n}))})();Object(d.a)({onlyLegacy:!0,include:'style,link[rel="stylesheet"]:not([href*="//"])',onComplete:function(){return console.log("CSS Variables updated")}}),i.a.render(Object(Ma.jsx)(s.Provider,{store:Object(O.configureStore)({reducer:oF,middleware:[Object(dM.a)(aF),bM.a].concat(cF,[eF,Xc.notificationSliceMiddleware,nF]),devTools:!0}),children:Object(Ma.jsx)(l.ConnectedRouter,{history:aF,children:Object(Ma.jsx)(nM,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},244:function(e,t,n){},245:function(e,t,n){},406:function(e,t,n){},408:function(e,t,n){},567:function(e,t,n){},568:function(e,t,n){},569:function(e,t,n){},570:function(e,t,n){},571:function(e,t,n){},585:function(e,t,n){},586:function(e,t,n){},587:function(e,t,n){},588:function(e,t,n){},600:function(e,t,n){},601:function(e,t,n){},602:function(e,t,n){},617:function(e){e.exports=JSON.parse('{"name":"D3 Dark v15","dataColors":["#0089EB","#FFB600","#D93954","#003DAB","#C28A00","#6E2A35","#B3DCF9","#FFECBD","#99CFF7","#FFE199","#EFAFBA","#99B1DD","#FFECBF","#C5A9AE","#E0F1FC","#FFF7E4","#66B8F3","#FFD366","#E88898","#668ACC","#FFD980","#A87F85","#D1EAFB","#B59F66","#33A0EF","#FFC433","#E06076","#3363BB","#FFC640","#8B545D","#C2E3FA","#FFEFCA"],"foreground":"#F2F2F2","foregroundNeutralSecondary":"#DEDEDE","foregroundNeutralTertiary":"#464646","background":"#121212","backgroundLight":"#2D2D2D","backgroundNeutral":"#BBBBBB","tableAccent":"#FFFFFF","maximum":"#004475","center":"#0066B0","minimum":"#0089EB","hyperlink":"#E45C2B","visitedHyperlink":"#E45C2B","textClasses":{"callout":{"fontFace":"Arial","color":"#FFFFFF","fontSize":24},"title":{"fontFace":"Arial","color":"#FFFFFF","fontSize":12},"header":{"fontFace":"Arial","color":"#FFFFFF","fontSize":12},"label":{"fontFace":"Arial","color":"#FFFFFF","fontSize":9}},"visualStyles":{"*":{"*":{"background":[{"color":{"solid":{"color":"#121212"}}}],"visualHeader":[{"foreground":{"solid":{"color":"#212121"}},"border":{"solid":{"color":"#BBBBBB"}},"background":{"solid":{"color":"#FFFFFF"}}}],"outspacePane":[{"backgroundColor":{"solid":{"color":"#000000"}},"foregroundColor":{"solid":{"color":"#FFFFFF"}},"transparency":50,"border":true,"borderColor":{"solid":{"color":"#7d7d7d"}},"titleSize":14,"headerSize":10}],"filterCard":[{"$id":"Applied","transparency":0,"foregroundColor":{"solid":{"color":"#212121"}},"backgroundColor":{"solid":{"color":"#FFFFFF"}},"inputBoxColor":{"solid":{"color":"#2D2D2D"}},"borderColor":{"solid":{"color":"#7d7d7d"}},"border":true},{"$id":"Available","transparency":0,"foregroundColor":{"solid":{"color":"#BBBBBB"}},"backgroundColor":{"solid":{"color":"#2D2D2D"}},"inputBoxColor":{"solid":{"color":"#2d2d2d"}},"borderColor":{"solid":{"color":"#464646"}},"border":true}],"visualTooltip":[{"titleFontColor":{"solid":{"color":"#FFFFFF"}},"valueFontColor":{"solid":{"color":"#BBBBBB"}},"background":{"solid":{"color":"#1E1E1E"}}}],"border":[{"color":{"solid":{"color":"#464646"}},"show":false,"radius":1}]}},"slicer":{"*":{"items":[{"background":{"solid":{"color":"#2D2D2D"}}}],"numericInputStyle":[{"background":{"solid":{"color":"#2D2D2D"}}}]}},"keyDriversVisual":{"*":{"keyInfluencersVisual":[{"canvasColor":{"solid":{"color":"#2d2d2d"}}}]}},"page":{"*":{"outspace":[{"color":{"solid":{"color":"#000000"}}}],"background":[{"transparency":0,"color":{"solid":{"color":"#121212"}}}]}}},"bad":"#D93954","neutral":"#BBBBBB","good":"#FFB600"}')},618:function(e){e.exports=JSON.parse('{"name":"D3 Light v15","dataColors":["#0089EB","#FFB600","#D93954","#003DAB","#C28A00","#6E2A35","#B3DCF9","#FFECBD","#99CFF7","#FFE199","#EFAFBA","#99B1DD","#FFECBF","#C5A9AE","#E0F1FC","#FFF7E4","#66B8F3","#FFD366","#E88898","#668ACC","#FFD980","#A87F85","#D1EAFB","#B59F66","#33A0EF","#FFC433","#E06076","#3363BB","#FFC640","#8B545D","#C2E3FA","#FFEFCA"],"foreground":"#2d2d2d","foregroundNeutralSecondary":"#464646","foregroundNeutralTertiary":"#BBBBBB","background":"#FFFFFF","backgroundLight":"#f2f2f2","backgroundNeutral":"#7D7D7D","tableAccent":"#464646","maximum":"#004475","center":"#0066B0","minimum":"#0089EB","hyperlink":"#BD4301","visitedHyperlink":"#BD4301","textClasses":{"callout":{"fontFace":"Arial","color":"#212121","fontSize":24},"title":{"fontFace":"Arial","color":"#212121","fontSize":12},"header":{"fontFace":"Arial","color":"#212121","fontSize":12},"label":{"fontFace":"Arial","color":"#212121","fontSize":9}},"visualStyles":{"*":{"*":{"background":[{"color":{"solid":{"color":"#FFFFFF"}},"transparency":100}],"visualHeader":[{"foreground":{"solid":{"color":"#212121"}},"border":{"solid":{"color":"#BBBBBB"}},"background":{"solid":{"color":"#FFFFFF"}}}],"outspacePane":[{"backgroundColor":{"solid":{"color":"#FFFFFF"}},"foregroundColor":{"solid":{"color":"#212121"}},"transparency":50,"border":true,"borderColor":{"solid":{"color":"#7d7d7d"}},"titleSize":14,"headerSize":10}],"filterCard":[{"$id":"Applied","transparency":0,"foregroundColor":{"solid":{"color":"#212121"}},"backgroundColor":{"solid":{"color":"#FFFFFF"}},"inputBoxColor":{"solid":{"color":"#605E5C"}},"borderColor":{"solid":{"color":"#979593"}},"border":true},{"$id":"Available","transparency":0,"foregroundColor":{"solid":{"color":"#464646"}},"backgroundColor":{"solid":{"color":"#F2F2F2"}},"inputBoxColor":{"solid":{"color":"#3a3a3a"}},"borderColor":{"solid":{"color":"#7d7d7d"}},"border":true}],"visualTooltip":[{"titleFontColor":{"solid":{"color":"#212121"}},"valueFontColor":{"solid":{"color":"#464646"}},"background":{"solid":{"color":"#F2F2F2"}}}],"border":[{"color":{"solid":{"color":"#464646"}},"show":false,"radius":1}]}},"slicer":{"*":{"items":[{"background":{"solid":{"color":"#F2F2F2"}}}],"numericInputStyle":[{"background":{"solid":{"color":"#ffffff"}}}]}},"keyDriversVisual":{"*":{"keyInfluencersVisual":[{"canvasColor":{"solid":{"color":"#3B3A39"}}}]}},"page":{"*":{"outspace":[{"color":{"solid":{"color":"#F2F2F2"}}}],"background":[{"transparency":0,"color":{"solid":{"color":"#FFFFFF"}}}]}}},"bad":"#D93954","neutral":"#BBBBBB","good":"#FFB600"}')}},[[1590,1,2]]]);
//# sourceMappingURL=main.3e9bbcbe.chunk.js.map