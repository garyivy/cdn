{"version":3,"sources":["features/analyses/analysisSlice.js","features/divestitureDiagnostic/routes.js","common/services/security/authorizationService.js","common/services/security/userTokenService.js","common/services/httpClient.js","features/narratives/narrativesUtilities.js","features/narratives/narrativesService.js","features/hypotheses/hypothesesService.js","features/hypotheses/hypothesisSlice.js","features/insights/insightsService.js","features/insights/insightSlice.js","common/engine/utilities/constants.js","common/engine/actions/clearAllProjectData.js","common/services/projectService.js","features/analyses/powerBiService.js","features/project/projectSlice.js","common/redux/reports/reportsSelectors.js","common/hooks/routeHookHelpers.js","common/services/footerService.js","common/redux/termsAndConditions/footerSlice.js","common/redux/termsAndConditions/getFooterThunk.js","common/components/Separator.js","common/redux/userTermsAndConditions/userTermsAndConditionsSlice.js","common/services/sanitizeService.js","common/components/Footer/TermsConditionsLinks.js","common/components/Footer/Footer.js","features/projects/projectsSlice.js","common/constants/ProjectStatus.js","common/helpers/projectStatusesUtils.js","common/hooks/useProjectsStatuses.js","features/projectStatePill/ProjectStatePill.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/Constants.js","common/hooks/useWindowSize.js","common/hooks/useTabletOrMobile.js","common/redux/security/loggedInUser/loggedInUserSelector.js","common/redux/userSettings/userSettingsSlice.js","common/services/userSettingsService.js","common/redux/userSettings/userSettingsThunk.js","common/services/locationService.js","common/services/security/userAuthService.js","common/services/security/projectTokenCache.js","common/redux/security/LogOut/logOutThunk.js","common/components/LogOut/LogOut.js","common/components/UserInitialSnippet/UserInitialsSnippet.js","common/services/urlService.js","common/components/Header/AddProjectItemsHeaderMenu/AddProjectItemsHeaderMenu.js","features/breadcrumbs/Breadcrumbs.js","features/breadcrumbs/BreadcrumbsContainer.js","common/components/Header/AddProjectHeaderMenu/AddProjectHeaderMenu.js","common/components/Header/Header.js","common/components/SideNav/ProjectListSideNavButtons.js","features/appSettings/appSettingsSlice.js","features/security/EnableForProjectState.js","common/components/SideNav/AddProjectItemsNavMenu.js","features/security/ShowForPermissions.js","common/components/SideNav/ProjectSideNavButtons.js","common/components/SideNav/SideNav.js","features/userAnalytics/pendoService.js","features/userAnalytics/Pendo.js","common/components/Alert/AlertConfigs.js","common/components/Alert/D3Alert.js","common/actions/updateEntityVersion.js","features/comments/commentService.js","features/comments/commentsSlice.js","common/plugins/CommentsRepositoryPluginAdapter.js","common/plugins/CommentsAdapter.js","common/plugins/views/CustomCommentThreadView.js","common/plugins/views/CustomCommentView.js","common/plugins/CommentEditor.js","common/components/CommentPanelContent/CommentPanelContent.js","common/components/CommentPanel/CommentPanel.js","common/components/CommentPanel/CommentPanelContainer.js","features/security/ProjectPermissionRoute.js","features/analyses/structured-analysis/IngestStructuredAnalysisButton/IngestStructuredDocumentButton.js","common/engine/services/structuredAnalysisService.js","common/engine/reducers/StructuredAnalysisSlice.js","common/components/ModalConfirmation.js","features/analyses/structured-analysis/StructuredAnalysisCard/StructuredAnalysisCard.js","features/analyses/structured-analysis/EmptyStructuredAnalysis/EmptyStructuredAnalysisCard.js","features/analyses/structured-analysis/StructuredAnalysisTable/StructuredAnalysisTable.js","features/analyses/AddAnalysisFromTemplate/AddAnalysisFromTemplate.js","features/analyses/common/ViewAnalysisSourceLinks/ViewAnalysisSourceLinks.js","common/components/PageTitle/PageTitle.js","features/analyses/AddAnalysisType/AddAnalysisType.js","features/analyses/analysesService.js","common/components/ToggleGridList/ToggleGridList.js","common/components/MenuButtonDelete.js","common/components/MenuButtonEdit.js","common/components/ContentActions/ContentActionsPopupMenu.js","common/components/ContentActions/RowActionsButton.js","common/components/ContentActions/ContentActionsRowMenu.js","common/components/Accordion/ControlledAccordion.js","features/narratives/ConnectedContentService.js","features/narratives/NarrativeCard/NarrativeCard.js","features/narratives/NarrativeSection/NarrativeSection.js","common/engine/utilities/structured-data-utilities.js","features/analyses/common/analysisUrlHelper.js","features/narratives/AccordionConnectedContent/ConnectedContentAccordion.js","features/analyses/common/TagList/TagList.js","features/security/ShowForRole.js","common/components/Pills/DisplayPill.js","common/components/Pills/UserViewStatusPill.js","common/components/Pills/DraftPill.js","common/components/Pills/SharedPill.js","common/components/Pills/VersionStatus.js","common/components/Pills/StatusPill.js","common/components/Pills/ApprovalPill.js","common/components/Pills/PillContainer.js","features/analyses/AnalysesGridCard/AnalysesGridCard.js","features/analyses/AnalysesGrid/AnalysesGrid.js","features/analyses/CreateAnalysisLinkButton.js","common/components/EmptyContentCard/EmptyContentCard.js","features/analyses/EmptyAnalyses/EmptyAnalysesCard.js","common/components/Pills/ClearableDisplayPill.js","common/components/HiddenInput/HiddenInput.js","features/tagging/ValidateTag.js","features/tagging/tagService.js","common/components/MultiSelectSearch/MultiSelectSearch.js","common/hooks/useClickedOutsideOfRef.js","features/tagging/common/TagEditor/TagEditor.js","common/components/ContentActions/NoContentForTagsCard/NoContentForTagsCard.js","common/components/proptypes/commonProptypes.js","features/hypotheses/CreateHypothesisLinkButton.js","features/hypotheses/EmptyHypotheses/EmptyHypothesesCard.js","features/insights/CreateInsightLinkButton.js","features/insights/EmptyInsights/EmptyInsightsCard.js","features/contentList/contentListSortKeys.js","features/contentList/SortChevron.js","features/contentList/ListHeaderCell.js","features/contentList/ContentListHeader.js","features/contentList/DisplayContentStatus.js","common/services/textService.js","features/contentList/DisplayDate.js","features/contentList/ContentLink.js","features/contentList/SortOrderCell.js","features/contentList/ContentListCard.js","common/redux/errors/errorsSlice.js","features/contentList/ContentList.js","features/analyses/AnalysesContainer/AnalysesView.js","features/analyses/AnalysesContainer/AnalysesContainer.js","common/components/layouts/FormLayout.js","common/components/ContentActions/MoreMenuPopup.js","common/components/ContentActions/MoreMenu.js","features/analyses/common/AnalysisControlsHeader.js","features/narratives/ConnectedContent/AnalysisDetailConnectedContent.js","features/contentLibrary/libraryItemService.js","features/analyses/analysisSliceThunk.js","features/workflow/workflowService.js","common/hooks/useApprovalWorkflow.js","common/helpers/viewClientVersion.js","common/components/PageContentLabel/PageContentLabel.js","common/components/PageSection/index.js","common/charts/types/ContentItem/ContentItemNew.js","features/analyses/PowerBiReport/PowerBiReportDisplayConfig.js","features/contentLibrary/IngestLibraryItemModal/getPowerBiTheme.js","features/analyses/PowerBiReport/powerBiReportHelpers.js","features/analyses/PowerBiReport/PowerBiReport.js","common/charts/types/ContentItem/RichTextLibraryItem.js","features/analyses/AnalysesScreen/AnalysisLibraryItem.js","features/analyses/AnalysesScreen/OneColumnLayout.js","features/analyses/AnalysesScreen/MultipleColumnLayout/MultipleColumnLayout.js","features/analyses/AnalysesScreen/Section.js","common/components/PageLastUpdated/PageLastUpdated.js","common/components/StatusContainer/StatusContainer.js","features/analyses/AnalysesScreen/AnalysisDetailScreen/AnalysisDetailScreen.js","features/analyses/AnalysesScreen/AnalysisDetailScreen/AnalysisDetailScreenContainer.js","common/components/ContentHeaders/ActiveContentHeader.js","common/components/layouts/ProjectListLayout.js","common/components/layouts/BlankLayout.js","common/components/PublishButton/PublishButton.js","common/components/PublishButton/index.js","features/narratives/EditNarrativeCard/EditNarrativeCard.js","features/narratives/EditNarrativeSection/EditNarrativeSection.js","features/narratives/EditConnectedContentSection/EditConnectedContentSection.js","features/narratives/EditConnectedContent/useConnectedNarratives.js","features/narratives/EditConnectedContent/EditConnectedContent.js","features/analyses/CreateAnalysis/getLibraryItemIconName.js","features/analyses/CreateAnalysis/renderLibraryItemIcon.js","features/analyses/common/LibraryItemCard/LibraryItemCard.js","features/analyses/common/RichTextPlainView.js","features/analyses/common/RichTextCardInner.js","features/analyses/common/AddLibraryItemsBox.js","common/components/TitleFieldset/TitleFieldset.js","features/analyses/CreateAnalysis/AnalysisTextInput.js","features/analyses/Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer.js","features/analyses/Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/sectionsReducer.js","features/analyses/Freeform/FreeformAnalysisForm/FreeformAnalysisFormContext.js","features/analyses/Freeform/FreeformAnalysisForm/FreeformAnalysisFormContextUtils.js","common/redux/reportFormat/reportFormatSlice.js","common/components/RichTextEditor/CKEditorConfig.js","common/components/RichTextEditor/RichTextEditor.js","common/components/RichTextForm/RichTextForm.js","features/analyses/common/LibraryItemCard/RichTextLibraryItemCard.js","features/analyses/Freeform/FreeformAnalysisLayout/droppableLocationIds.js","features/analyses/Freeform/FreeformAnalysisLayout/DraggableLibraryItemCard.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/Section/SectionArea/SectionArea.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/LayoutIcon.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/Section/DeleteButton/DeleteButton.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/Section/Section.js","features/analyses/Freeform/FreeformAnalysisLayout/generateDroppableLocationIdWithSection.js","features/analyses/Freeform/FreeformAnalysisLayout/generateDroppableLocationSetForSection.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/LeftPanel.js","features/analyses/Freeform/FreeformAnalysisLayout/generateTargetDroppableLocationIds.js","common/assets/report-format-layouts/four-block-narrow-right.svg","common/assets/report-format-layouts/four-block.svg","common/assets/report-format-layouts/one-column-full-width.svg","common/assets/report-format-layouts/one-column-large.svg","common/assets/report-format-layouts/one-column-medium.svg","common/assets/report-format-layouts/one-column-small.svg","common/assets/report-format-layouts/six-block.svg","common/assets/report-format-layouts/stacked-large-bottom.svg","common/assets/report-format-layouts/stacked-large-top.svg","common/assets/report-format-layouts/stacked-medium-top.svg","common/assets/report-format-layouts/stacked-two-block-bottom.svg","common/assets/report-format-layouts/stacked-two-block-top.svg","common/assets/report-format-layouts/stacked-with-narrow-right-column.svg","common/assets/report-format-layouts/stacked-with-right-column.svg","common/assets/report-format-layouts/three-column.svg","common/assets/report-format-layouts/three-stacked-with-right-column.svg","common/assets/report-format-layouts/two-column.svg","common/assets/report-format-layouts/two-column-extra-narrow-right.svg","common/assets/report-format-layouts/two-column-narrow-left.svg","common/assets/report-format-layouts/two-column-narrow-right.svg","common/assets/report-format-layouts/two-column-text-only.svg","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/LayoutTab/Layouts.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/LayoutTab/LayoutFilter.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/LayoutTab/LayoutTab.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/RightPanelTabs/ToggleRightPanelButton.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/RightPanelTabs/RightPanelTabs.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/LibraryItemsListData/LibraryItemsListData.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/DataLibraryTab/DataLibraryTab.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/RightPanel.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/RightPanelExpand/RightPanelExpand.js","features/analyses/Freeform/FreeformAnalysisLayout/generateLayoutTypeChangeHandler.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/BottomPanel/BottomPanel.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/useActiveSection.js","common/redux/reportFormat/reportFormatThunk.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/useActiveSectionsAlgos.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/EditLayout.js","features/analyses/common/AnalysisReportPreview/AnalysisReportService.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/SaveAndPreview/SaveAndPreview.js","features/analyses/Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/FreeformAnalysisFormUtil.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayoutTabs/EditLayoutTab.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayoutTabs/EditLayoutTabs.js","features/analyses/Freeform/FreeformAnalysisLayout/freeformLayoutIsValid.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/AddReportDataTabs/AddReportDataTabs.js","features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/AddReportDataLayoutContainer.js","features/analyses/Freeform/FreeformAnalysisLayout/FreeformAnalysisLayout.js","features/analyses/Freeform/FreeformAnalysisLayout/getDroppableLocations.js","features/analyses/Freeform/FreeformAnalysisLayout/getSectionsFromDroppableLocations.js","features/analyses/Freeform/FreeformAnalysisLayout/FreeformAnalysisLayoutContainer.js","common/components/ContentTable/ContentTable.js","features/contentLibrary/IngestLibraryItemModal/getPowerBiEmbedConfigurationBase.js","features/contentLibrary/IngestLibraryItemModal/PowerBiPageIngestion.js","features/contentLibrary/IngestLibraryItemModal/PowerBiSelectionContainer.js","features/contentLibrary/IngestLibraryItemModal/PowerBiIngestionModalBody.js","features/contentLibrary/IngestLibraryItemModal/PowerPointIngestion/PowerPointIngestionErrorHandling.js","features/contentLibrary/IngestLibraryItemModal/PowerPointIngestion/IngestionErrorProvider.js","features/contentLibrary/IngestLibraryItemModal/PowerPointIngestion/PowerPointIngestButton.js","features/contentLibrary/sharePointService.js","features/contentLibrary/IngestLibraryItemModal/PowerPointIngestion/PowerPointFileName.js","features/contentLibrary/IngestLibraryItemModal/PowerPointIngestion/PowerPointGroupName.js","features/contentLibrary/IngestLibraryItemModal/PowerPointIngestion/PowerPointSlideNumber.js","features/contentLibrary/IngestLibraryItemModal/PowerPointIngestion/PowerPointIngestionModalBody.js","features/contentLibrary/IngestLibraryItemModal/StartIngestionModalBody.js","features/contentLibrary/IngestLibraryItemModal/IngestLibraryItemModal.js","common/components/DateCell.js","features/contentLibrary/LibraryItemDeleteButton/LibraryItemDeleteButton.js","features/analyses/Freeform/LibraryItemListContainer/getLibraryItemTypeDisplayName.js","features/analyses/Freeform/LibraryItemListContainer/columnConfig.js","features/analyses/Freeform/LibraryItemListContainer/EmptyLibraryItemsListCard.js","features/analyses/Freeform/LibraryItemListContainer/LibraryItemListContainer.js","features/analyses/Freeform/LibraryItemListContainer/getSelectedItemIds.js","features/analyses/Freeform/LibraryItemListContainer/getSectionsFromSelectedItems.js","common/components/RichTextEditorFormikField/RichTextEditorFormikField.js","features/analyses/Freeform/FreeformAnalysisForm/FreeformAnalysisForm.js","features/analyses/Freeform/CreateFreeformAnalysis/CreateFreeformAnalysis.js","features/analyses/Freeform/EditFreeformAnalysis/EditFreeformAnalysis.js","common/engine/actions/viewingToggledUpdated.js","common/engine/actions/processingBegan.js","common/engine/actions/processingEnded.js","common/engine/actions/resetAllToggles.js","common/engine/reducers/calcEngine.js","common/engine/actions/resetCalculationDataForDocument.js","common/engine/reducers/structuredAnalysisViewSlice.js","common/engine/thunks/resetCalculationDataByDocumentCodesThunk.js","common/engine/actions/longDescriptionUpdated.js","common/engine/reducers/longDescription.js","common/services/richTextLongDescriptionService.js","common/engine/services/setRichText.js","common/engine/reducers/structuredDocumentDescriptionSlice.js","common/engine/thunks/dispatchLibraryItemLinksSet.js","common/engine/actions/adjustmentsForDocumentUpdated.js","common/engine/actions/factsForDocumentUpdated.js","common/engine/actions/headerRowIngested.js","common/engine/actions/rowIngested.js","common/engine/actions/timePeriodMetadataIngested.js","common/engine/utilities/keyUtilities.js","common/engine/utilities/selectors.js","common/engine/utilities/accumulateAdjustmentsFromDataRows.js","common/engine/utilities/accumulateFactsFromDataRows.js","common/engine/thunks/transformIngestedDataByDocumentCode.js","common/engine/utilities/linkedAdjustmentsUtilities.js","common/engine/services/structuredAnalysisLinkedAdjustmentsService.js","common/engine/actions/linkedAdjustments.js","common/engine/thunks/dispatchLinkedAdjustmentsForDocument.js","common/engine/thunks/transformAllIngestedDataThunk.js","common/engine/thunks/clearDataAndtransformAllIngestedStructuredDocumentsThunk.js","features/analyses/structured-analysis/common/hooks/useStructuredAnalysisContainer.js","common/components/SourceDisplay/SourceDisplay.js","features/narratives/ConnectedContent/ConnectedContent.js","features/analyses/common/NotesDisplay/NotesDisplay.js","common/engine/selectors/adjustmentTogglesSelectors.js","features/analyses/structured-analysis/ClientManipulationBar/ClientManipulationBar.js","common/components/RichTextEditor/readOnlyCKEditorConfig.js","common/components/RichTextEditor/ReadOnlyRichTextEditor.js","common/components/RichTextEditor/initializeCKEditor.js","features/analyses/structured-analysis/common/AnalysisDescription/NonEditableTextEditor.js","common/components/OutsideClickHandler.js","features/analyses/structured-analysis/common/AnalysisDescription/AnalysisDescription.js","features/analyses/structured-analysis/common/StructuredAnalysisErrorCard/StructuredAnalysisErrorCard.js","features/analyses/structured-analysis/common/StructuredAnalysisHeader/StructuredAnalysisHeader.js","common/engine/selectors/timePeriodSelectors.js","common/charts/types/createScreenReaderPointDescription.js","common/charts/highchart-utilities.js","common/charts/types/createQofESeries.js","common/charts/types/highchartsColorTheme.js","common/engine/selectors/factCalculationsSelectors.js","common/engine/utilities/calculationUtilities.js","common/engine/utilities/adjustmentUtilities.js","common/engine/selectors/adjustmentSelectors.js","common/engine/selectors/aggregatorSelectors.js","common/charts/types/QofEBridgeChart.js","common/engine/selectors/adjustmentLinkSelectors.js","common/engine/actions/adjustmentToggled.js","features/analyses/structured-analysis/common/AdjustmentToggle.js","features/analyses/structured-analysis/common/FinancialValue.js","features/analyses/structured-analysis/common/AdjustmentControlsColumn.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupHelpers.js","features/analyses/structured-analysis/common/LinkedAdjustmentLinkIcon.js","features/analyses/structured-analysis/common/LinkedAdjustmentPopover/LinkedAdjustmentPopover.js","features/analyses/structured-analysis/common/LinkedAdjustmentPopover/LinkedAdjustmentsOverlayTrigger.js","features/analyses/structured-analysis/common/Adjustment/Adjustment.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupSummary.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupDetails.js","features/analyses/structured-analysis/common/FinancialSpacer.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupExpansionButton.js","features/analyses/structured-analysis/common/AdjustmentGroup/LinkedAdjustmentIconHeader.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupHeader.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupEbitdaContribution.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupWorkingCapitalContribution.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroup.js","features/analyses/structured-analysis/common/AdjustmentGroup/AdjustmentGroupForMode.js","features/analyses/structured-analysis/common/OverallTableHeader.js","features/analyses/structured-analysis/common/ReportedFinancials.js","features/analyses/structured-analysis/DebtDebtLike/DebtDebtLikeTable/DebtDebtLikeTable.js","features/analyses/structured-analysis/NetWorkingCapital/charts/NetWorkingCapitalChart.js","features/analyses/structured-analysis/common/FinalBorderRow.js","features/analyses/structured-analysis/NetWorkingCapital/NetWorkingCapitalTable/NetWorkingCapitalTable.js","features/analyses/structured-analysis/QofE/QofETable/PercentageRow.js","features/analyses/structured-analysis/QofE/QofETable/QofETable.js","features/analyses/structured-analysis/common/StructuredAnalysisView/structuredComponentToDocumentCodeMap.js","features/analyses/structured-analysis/common/StructuredAnalysisView/StructuredAnalysisView.js","features/analyses/structured-analysis/DebtDebtLike/DebtDebtLikeContainer/DebtDebtLikeContainer.js","common/engine/selectors/linkedAdjustmentsByDocument.js","common/components/ContentHeaders/ActiveContentDraftHeader.js","common/components/SourceInput.js","features/contentLibrary/LibraryItemSelect/LibraryItemSelect.js","features/analyses/structured-analysis/common/LinkedAdjustments/SelectablePill.js","features/analyses/structured-analysis/common/LinkedAdjustments/DocumentAndAdjustmentPill.js","features/analyses/structured-analysis/common/LinkedAdjustments/LinkedAdjustment.js","features/analyses/structured-analysis/common/LinkedAdjustments/LinkedAdjustments.js","features/analyses/common/NotesInput.js","features/analyses/common/AnalysisForm.js","features/analyses/common/analysisModel.js","features/analyses/EditAnalysis/EditStructuredAnalysis.js","features/analyses/structured-analysis/DebtDebtLike/DebtDebtLikeForm/DebtDebtLikeForm.js","features/analyses/structured-analysis/NetWorkingCapital/NetWorkingCapitalContainer/NetWorkingCapitalContainer.js","features/analyses/structured-analysis/NetWorkingCapital/NetWorkingCapitalEditForm/NetWorkingCapitalEditForm.js","features/analyses/structured-analysis/QofE/QofEContainer/QofEContainer.js","features/analyses/structured-analysis/QofE/QofEEditForm/QofEEditForm.js","features/analyses/structured-analysis/StructuredAnalysisViewingToggledDataBanner/structuredAnalysisBannerSelectors.js","features/analyses/structured-analysis/StructuredAnalysisViewingToggledDataBanner/StructuredAnalysisViewingToggledDataBanner.js","features/analyses/structured-analysis/StructuredAnalysisContainer/StructuredAnalysisContainer.js","features/analyses/common/AnalysisReportPreview/ReportBuilderLink.js","features/analyses/common/AnalysisReportPreview/AnalysisReportPreview.js","features/analyses/AnalysesContentRouter.js","features/analyses2/structured-analysis/IngestStructuredAnalysisButton/IngestStructuredDocumentButton.js","features/analyses2/structured-analysis/StructuredAnalysisCard/StructuredAnalysisCard.js","features/analyses2/structured-analysis/EmptyStructuredAnalysis/EmptyStructuredAnalysisCard.js","features/analyses2/structured-analysis/StructuredAnalysisTable/StructuredAnalysisTable.js","features/analyses2/AddAnalysisFromTemplate/AddAnalysisFromTemplate.js","features/analyses2/common/ViewAnalysisSourceLinks/ViewAnalysisSourceLinks.js","features/analyses2/AddAnalysisType/AddAnalysisType.js","features/analyses2/analysesService.js","features/analyses2/common/TagList/TagList.js","features/analyses2/AnalysesGridCard/AnalysesGridCard.js","features/analyses2/AnalysesGrid/AnalysesGrid.js","features/analyses2/CreateAnalysisLinkButton.js","features/analyses2/EmptyAnalyses/EmptyAnalysesCard.js","features/analyses2/analysisSlice.js","features/analyses2/AnalysesContainer/AnalysesView.js","features/analyses2/AnalysesContainer/AnalysesContainer.js","features/analyses2/common/AnalysisControlsHeader.js","features/analyses2/powerBiService.js","features/analyses2/analysisSliceThunk.js","features/analyses2/PowerBiReport/PowerBiReportDisplayConfig.js","features/analyses2/PowerBiReport/powerBiReportHelpers.js","features/analyses2/PowerBiReport/PowerBiReport.js","features/analyses2/AnalysesScreen/AnalysisLibraryItem.js","features/analyses2/AnalysesScreen/OneColumnLayout.js","features/analyses2/AnalysesScreen/MultipleColumnLayout/MultipleColumnLayout.js","features/analyses2/AnalysesScreen/Section.js","features/analyses2/AnalysesScreen/AnalysisDetailScreen/AnalysisDetailScreen.js","features/analyses2/AnalysesScreen/AnalysisDetailScreen/AnalysisDetailScreenContainer.js","features/analyses2/CreateAnalysis/AnalysisTextInput.js","features/analyses2/Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer.js","features/analyses2/Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/sectionsReducer.js","features/analyses2/Freeform/FreeformAnalysisForm/FreeformAnalysisFormContext.js","features/analyses2/Freeform/FreeformAnalysisForm/FreeformAnalysisFormContextUtils.js","features/analyses2/Freeform/FreeformAnalysisLayout/droppableLocationIds.js","features/analyses2/Freeform/FreeformAnalysisLayout/generateDroppableLocationIdWithSection.js","features/analyses2/Freeform/FreeformAnalysisLayout/generateDroppableLocationSetForSection.js","features/analyses2/Freeform/FreeformAnalysisLayout/generateLayoutTypeChangeHandler.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/Constants.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/useActiveSection.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/useActiveSectionsAlgos.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/LayoutIcon.js","common/components/ReportLayoutIcon/Constants.js","common/components/ReportLayoutIcon/index.js","common/components/ReportLayoutIcon/ReportLayoutIcon.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/SectionControls/index.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/SectionControls/SectionControls.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/Section/DeleteButton/DeleteButton.js","features/contentLibrary/mock.js","features/analyses2/CreateAnalysis/getLibraryItemIconName.js","features/analyses2/CreateAnalysis/renderLibraryItemIcon.js","features/analyses2/common/LibraryItemCard/LibraryItemCard.js","features/analyses2/common/RichTextPlainView.js","features/analyses2/common/RichTextCardInner.js","features/analyses2/common/LibraryItemCard/RichTextLibraryItemCard.js","features/analyses2/Freeform/FreeformAnalysisLayout/DraggableLibraryItemCard.js","features/analyses2/Freeform/FreeformAnalysisLayout/ObjectInjestPopover/ObjectInjestPopover.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/Section/SectionArea/SectionArea.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/Section/Section.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/LeftPanel/LeftPanel.js","features/analyses2/Freeform/FreeformAnalysisLayout/generateTargetDroppableLocationIds.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/LayoutTab/Layouts.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/LayoutTab/LayoutTab.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/RightPanel/RightPanel.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/EditLayout/EditLayout.js","features/analyses2/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/AddReportDataLayoutContainer.js","features/analyses2/Freeform/FreeformAnalysisLayout/FreeformAnalysisLayout.js","features/analyses2/Freeform/FreeformAnalysisLayout/getDroppableLocations.js","features/analyses2/Freeform/FreeformAnalysisLayout/getSectionsFromDroppableLocations.js","features/analyses2/Freeform/FreeformAnalysisLayout/FreeformAnalysisLayoutContainer.js","features/analyses2/Freeform/LibraryItemListContainer/getLibraryItemTypeDisplayName.js","features/analyses2/Freeform/LibraryItemListContainer/columnConfig.js","features/analyses2/Freeform/LibraryItemListContainer/EmptyLibraryItemsListCard.js","features/analyses2/Freeform/LibraryItemListContainer/LibraryItemListContainer.js","features/analyses2/Freeform/LibraryItemListContainer/getSelectedItemIds.js","features/analyses2/Freeform/LibraryItemListContainer/getSectionsFromSelectedItems.js","features/analyses2/Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/FreeformAnalysisFormUtil.js","common/components/RichTextEditorFormikField2/RichTextEditorFormikField.js","features/analyses2/Freeform/FreeformAnalysisForm/FreeformAnalysisForm.js","features/analyses2/Freeform/CreateFreeformAnalysis/CreateFreeformAnalysis.js","features/analyses2/Freeform/EditFreeformAnalysis/EditFreeformAnalysis.js","features/analyses2/structured-analysis/common/hooks/useStructuredAnalysisContainer.js","features/analyses2/common/NotesDisplay/NotesDisplay.js","features/analyses2/structured-analysis/ClientManipulationBar/ClientManipulationBar.js","features/analyses2/structured-analysis/common/AnalysisDescription/NonEditableTextEditor.js","features/analyses2/structured-analysis/common/AnalysisDescription/AnalysisDescription.js","features/analyses2/structured-analysis/common/StructuredAnalysisErrorCard/StructuredAnalysisErrorCard.js","features/analyses2/structured-analysis/common/StructuredAnalysisHeader/StructuredAnalysisHeader.js","features/analyses2/structured-analysis/common/AdjustmentToggle.js","features/analyses2/structured-analysis/common/FinancialValue.js","features/analyses2/structured-analysis/common/AdjustmentControlsColumn.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupHelpers.js","features/analyses2/structured-analysis/common/LinkedAdjustmentLinkIcon.js","features/analyses2/structured-analysis/common/LinkedAdjustmentPopover/LinkedAdjustmentPopover.js","features/analyses2/structured-analysis/common/LinkedAdjustmentPopover/LinkedAdjustmentsOverlayTrigger.js","features/analyses2/structured-analysis/common/Adjustment/Adjustment.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupSummary.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupDetails.js","features/analyses2/structured-analysis/common/FinancialSpacer.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupExpansionButton.js","features/analyses2/structured-analysis/common/AdjustmentGroup/LinkedAdjustmentIconHeader.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupHeader.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupEbitdaContribution.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupWorkingCapitalContribution.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroup.js","features/analyses2/structured-analysis/common/AdjustmentGroup/AdjustmentGroupForMode.js","features/analyses2/structured-analysis/common/OverallTableHeader.js","features/analyses2/structured-analysis/common/ReportedFinancials.js","features/analyses2/structured-analysis/DebtDebtLike/DebtDebtLikeTable/DebtDebtLikeTable.js","features/analyses2/structured-analysis/NetWorkingCapital/charts/NetWorkingCapitalChart.js","features/analyses2/structured-analysis/common/FinalBorderRow.js","features/analyses2/structured-analysis/NetWorkingCapital/NetWorkingCapitalTable/NetWorkingCapitalTable.js","features/analyses2/structured-analysis/QofE/QofETable/PercentageRow.js","features/analyses2/structured-analysis/QofE/QofETable/QofETable.js","features/analyses2/structured-analysis/common/StructuredAnalysisView/structuredComponentToDocumentCodeMap.js","features/analyses2/structured-analysis/common/StructuredAnalysisView/StructuredAnalysisView.js","features/analyses2/structured-analysis/DebtDebtLike/DebtDebtLikeContainer/DebtDebtLikeContainer.js","features/analyses2/structured-analysis/common/LinkedAdjustments/SelectablePill.js","features/analyses2/structured-analysis/common/LinkedAdjustments/DocumentAndAdjustmentPill.js","features/analyses2/structured-analysis/common/LinkedAdjustments/LinkedAdjustment.js","features/analyses2/structured-analysis/common/LinkedAdjustments/LinkedAdjustments.js","features/analyses2/common/NotesInput.js","features/analyses2/common/AnalysisForm.js","features/analyses2/common/analysisModel.js","features/analyses2/EditAnalysis/EditStructuredAnalysis.js","features/analyses2/structured-analysis/DebtDebtLike/DebtDebtLikeForm/DebtDebtLikeForm.js","features/analyses2/structured-analysis/NetWorkingCapital/NetWorkingCapitalContainer/NetWorkingCapitalContainer.js","features/analyses2/structured-analysis/NetWorkingCapital/NetWorkingCapitalEditForm/NetWorkingCapitalEditForm.js","features/analyses2/structured-analysis/QofE/QofEContainer/QofEContainer.js","features/analyses2/structured-analysis/QofE/QofEEditForm/QofEEditForm.js","features/analyses2/structured-analysis/StructuredAnalysisViewingToggledDataBanner/structuredAnalysisBannerSelectors.js","features/analyses2/structured-analysis/StructuredAnalysisViewingToggledDataBanner/StructuredAnalysisViewingToggledDataBanner.js","features/analyses2/structured-analysis/StructuredAnalysisContainer/StructuredAnalysisContainer.js","features/analyses2/common/AnalysisReportPreview/ReportBuilderLink.js","features/analyses2/common/AnalysisReportPreview/AnalysisReportService.js","features/analyses2/common/AnalysisReportPreview/AnalysisReportPreview.js","features/analyses2/AnalysesContentRouter2.js","Survey/common/services/utilities/surveyUtility.js","Survey/routes.js","Survey/httpAction.js","features/divestitureDiagnostic/divestitureDiagnosticSlice.js","common/components/DivestitureDiagnosticResults/Category/Score/Score.js","common/components/DivestitureDiagnosticResults/Category/ScoreView/ScoreView.js","common/components/DivestitureDiagnosticResults/Category/Header/Header.js","common/components/DivestitureDiagnosticSidebar/SidebarNavItem/SidebarNavItem.js","common/components/DivestitureDiagnosticSidebar/SurveySidebar/ReviewResponsesNavItem/ReviewResponsesNavItem.js","common/components/DivestitureDiagnosticSidebar/ResultsSidebar/ResultsSidebar.js","Survey/common/services/urlService.js","Survey/surveySlice.js","common/components/DivestitureDiagnosticSidebar/SurveySidebar/SectionNav/SectionNav.js","common/helpers/featureFlags.js","common/components/DivestitureDiagnosticSidebar/SurveySidebar/SurveySidebar.js","common/components/DivestitureDiagnosticSidebar/DivestitureDiagnosticSidebarRouter.js","Survey/components/SurveyProceed/SurveyProceed.js","Survey/components/Question/utility/formatAnswer.js","Survey/components/Question/utility/compareNewAnswerToExistingAnswer.js","Survey/components/Question/QuestionSectionHeader/QuestionSectionHeader.js","Survey/components/Question/QuestionMultiselect/QuestionMultiselect.js","Survey/components/Question/QuestionPercent/QuestionPercent.js","Survey/components/Question/QuestionRadio/QuestionRadio.js","Survey/components/Question/QuestionType/QuestionType.js","Survey/components/Question/QuestionFooter/QuestionFooter.js","Survey/components/Question/Question.js","Survey/components/SurveySection/SurveySection.js","Survey/components/SurveyRouter/SurveyRedirectToQuestionInSection/SurveyRedirectToQuestionInSection.js","Survey/components/SurveyRouter/RedirectIfDivestitureResults/RedirectIfDivestitureResults.js","Survey/components/SurveyRouter/SurveyRouter.js","Survey/components/SurveyWelcomeModal/SurveyWelcomeModal.js","common/components/DivestitureDiagnosticResults/Category/Description/Description.js","common/components/DivestitureDiagnosticResults/ScoreTextInput/ScoreTextInput.js","common/components/DivestitureDiagnosticResults/ComplexityScaleWrapper/ComplexityScaleWrapper.js","common/components/DivestitureDiagnosticResults/Category/Overview/Overview.js","common/components/DivestitureDiagnosticResults/DealComplexityOverview/DealComplexityOverview.js","common/components/DivestitureDiagnosticResults/ResultsHeader/ResultsHeader.js","common/components/DivestitureDiagnosticResults/InitialDescription/InitialDescription.js","common/components/DivestitureDiagnosticResults/Subcategory/Subcategory.js","common/components/DivestitureDiagnosticResults/TopLevelCategoryOverview/TopLevelCategoryOverview.js","common/components/DivestitureDiagnosticResults/DivestitureDiagnosticUtils/validateScore.js","common/components/DivestitureDiagnosticResults/DivestitureDiagnosticUtils/validateCategoryOnChange.js","common/components/DivestitureDiagnosticResults/DivestitureDiagnosticResults.js","common/components/DivestitureDiagnosticResults/Category/Category.js","features/divestitureDiagnostic/ResultsRouter.js","Survey/components/Response/Response.js","Survey/components/ResponseSection/ResponseSection.js","Survey/components/ReviewResponses/AdditionalCommentsSection/AdditionalCommentsForm/AdditionalCommentsForm.js","Survey/components/ReviewResponses/AdditionalCommentsSection/AdditionalCommentsView/AdditionalCommentsView.js","Survey/components/ReviewResponses/AdditionalCommentsSection/AdditionalCommentsSection.js","Survey/components/ReviewResponses/ReviewResponses.js","features/divestitureDiagnostic/ResetAnswersRedirect.js","features/divestitureDiagnostic/ResponsesRouter.js","features/divestitureDiagnostic/DivestitureDiagnosticContent.js","features/divestitureDiagnostic/DivestitureDiagnosticContentRouter.js","features/hypotheses/common/HypothesisForm.js","features/hypotheses/common/hypothesisModel.js","features/hypotheses/CreateHypothesis/CreateHypothesis.js","features/narratives/EditConnectedContent/useLinkedNarratives.js","features/hypotheses/EditHypothesis/EditHypothesis.js","features/hypotheses/ViewHypothesis/ViewHypothesis.js","common/components/Accordion/Accordion.js","features/narratives/AccordionConnectedContent/AccordionConnectedContent.js","features/hypotheses/HypothesisGridCard/ConnectedKfaPropTypes.js","features/hypotheses/HypothesisGridCard/AnalysisTitleLink.js","features/hypotheses/HypothesisGridCard/InsightsTableRow.js","features/hypotheses/HypothesisGridCard/AnalysesTableRow.js","features/hypotheses/HypothesisGridCard/AnalysesAndInsightsTable.js","features/hypotheses/HypothesisGridCard/ConnectedKfasSection.js","features/hypotheses/HypothesisGridCard/HypothesisGridCard.js","features/hypotheses/HypothesesGrid/HypothesesGrid.js","features/hypotheses/HypothesesListContainer.js","features/hypotheses/HypothesesContentRouter.js","features/insights/InsightsGridCard/InsightsGridCard.js","features/insights/InsightsGrid/InsightsGrid.js","features/insights/InsightsListContainer.js","features/insights/common/InsightForm.js","features/insights/common/insightModel.js","features/insights/CreateInsight/CreateInsight.js","features/insights/ViewInsight/ViewInsight.js","features/insights/EditInsight/EditInsight.js","features/insights/InsightsContentRouter.js","features/notifications/NotificationsContentRouter/NotificationsContentRouter.js","features/projectDisclaimer/projectDisclaimerService.js","features/projectDisclaimer/projectDisclaimerSlice.js","common/services/scrollDataService.js","features/projectDisclaimer/ProjectDisclaimerView.js","features/projectDisclaimer/ProjectDisclaimerRouter.js","features/reports/ReportsContentRouter.js","common/components/Checkbox/CheckboxFormikField.js","common/components/RadioGroup/RadioGroupFieldset.js","common/components/SelectMultiple/selectMultipleHelpers.js","common/components/SelectMultiple/SelectMultiple.js","common/components/TextAreaFieldset/TextAreaFieldset.js","common/components/TextInputFieldset/TextInputFieldset.js","common/hooks/useProjectOptionsFromApi.js","features/project/common/projectOptions.js","features/project/common/ProjectModel.js","features/settings/ProjectDetails.js","features/projects/ProjectLoader.js","features/projectStateChangeCards/projectStateChangeService.js","features/projectStateChangeCards/projectStatusChangeSlice.js","features/projectStateChangeCards/ProjectStateChangeCardsTypes.js","features/projectStateChangeCards/ProjectUsersUtils.js","features/projectStateChangeCards/WarningCard.js","features/projectStateChangeCards/StateChangeCard.js","features/projectStateChangeCards/ProjectStateChangeCards.js","features/settings/ProjectStatus.js","common/components/Pills/ProjectRoleUserPill.js","common/services/userSearchService.js","common/components/UserSearchSelect/UserSearchSelect.js","common/hooks/useUserSearch.js","common/components/ProjectRoleUsersField/ProjectRoleUsersField.js","features/project/CreateProject/common/components/FormBottomActionsContainer.js","features/project/CreateProject/common/components/CancelButtonLink.js","features/settings/UserEditSettings.js","features/settings/ClientSettings.js","features/settings/PwCTeamSettings.js","common/redux/userNotificationSettings/userNotificationSettingsSlice.js","common/services/userNotificationSettingsService.js","common/redux/userNotificationSettings/userNotificationSettingsThunk.js","features/settings/NotificationSettings.js","features/projectDisclaimer/ProjectDisclaimerSettings.js","features/settings/ClientSettingsClientView.js","features/settings/Settings.js","features/settings/SettingsContentRouter.js","common/redux/fileUpload/fileUploadSlice.js","common/services/fileLibraryService.js","common/redux/fileUpload/fileUploadThunk.js","features/fileUpload/Constants.js","features/fileUpload/List/FileHeaders.js","features/fileUpload/Actions/FileDownload/FileDownload.js","features/fileUpload/Actions/FileOptions/DeleteConfirmationDialog.js","features/fileUpload/Actions/FileOptions/MenuButtonShowPassword.js","features/fileUpload/Actions/FileOptions/MenuButtonUpdate.js","features/fileUpload/Actions/FileOptions/ShowPasswordDialog.js","features/fileUpload/Actions/FileOptions/FileListItemPopupMenu.js","features/fileUpload/Actions/FileOptions/FileListItemRowActionsButton.js","features/fileUpload/Actions/FileOptions/FileListItemRowMenu.js","features/fileUpload/Actions/FileOptions/FileOptions.js","features/fileUpload/Actions/FileActions/FileActions.js","features/fileUpload/Status/CancelRequest.js","features/fileUpload/Status/RequestApproval.js","features/fileUpload/Status/Approve.js","features/fileUpload/Status/Decline.js","features/fileUpload/Status/SharedFile/SharedFile.js","features/fileUpload/Status/ApprovedFile/ApprovedFile.js","features/fileUpload/Status/FileStatus.js","features/fileUpload/List/FileListItem.js","features/fileUpload/List/FileListZeroStateCopy.js","features/fileUpload/List/FileList.js","features/fileUpload/Modal/DropZone/FileUploaded.js","features/fileUpload/Modal/DropZone/DropArea.js","features/fileUpload/Modal/DropZone/DropZone.js","features/fileUpload/Modal/ModalActions.js","features/fileUpload/Modal/PasswordSection.js","features/fileUpload/Modal/FileUploadModalContent.js","features/fileUpload/Modal/FileUploadModal.js","features/fileUpload/Upload/FileUploader.js","features/fileUpload/Upload/UploadSuccessBanner/UploadSuccessBanner.js","features/fileUpload/FilesContainer.js","features/fileUpload/FileUploadContentRouter.js","common/components/DealDetails.js","common/components/UserSnippet.js","features/project/common/NewAndUpdated.js","features/project/ViewProject/ContentLinkSubPanel.js","features/project/ViewProject/KPIs/KPIDetail.js","features/project/ViewProject/KPIs/KPISection.js","features/project/KPIService.js","features/project/ViewProject/KPIs/KPIContainer.js","features/project/topicService.js","common/contexts/NarrativesContext.js","features/project/ViewProject/ProjectOverview/Topic/TopicContentSelectSearch/TopicContentSelectSearch.js","features/project/ViewProject/ProjectOverview/Topic/SingleColumnLayout/SingleColumnLayout.js","features/project/ViewProject/ProjectOverview/Topic/mapTopic.js","features/project/ViewProject/ProjectOverview/Topic/topicFormIsValid.js","features/project/ViewProject/ProjectOverview/Topic/TopicFormModal/SelectedSectionIcon.js","features/project/ViewProject/ProjectOverview/Topic/TopicFormModal/SelectedSection.js","features/project/ViewProject/ProjectOverview/Topic/TopicFormModal/TopicFormModal.js","features/project/ViewProject/ProjectOverview/Topic/topicConstants.js","common/charts/types/ContentItem/ContentItem.js","features/project/ViewProject/ProjectOverview/Topic/TopicPanel/RichTextTopicPanel.js","features/project/ViewProject/ProjectOverview/Topic/TopicPanel/KeyFocusAreaTopicPanel.js","features/project/ViewProject/ProjectOverview/Topic/TopicPanel/ExcelChartTopicPanel.js","features/project/ViewProject/ProjectOverview/Topic/TopicPanel/TopicPanel.js","features/project/ViewProject/ProjectOverview/Topic/TopicHeader/TopicHeader.js","features/project/ViewProject/ProjectOverview/ProjectOverviewModule.js","features/project/ViewProject/ProjectOverview/ProjectOverviewModuleContainer.js","features/project/ViewProject/WelcomeBox/WelcomeBox.js","features/project/ViewProject/WelcomeBox/WelcomeBoxBeginQuestionnaire/WelcomeBoxBeginQuestionnaire.js","features/project/ViewProject/WelcomeBox/WelcomeBoxDealComplexity/WelcomeBoxDealComplexity.js","common/services/userFeatureToggleService.js","features/project/ViewProject/WelcomeBox/WelcomeBoxQuickStart/WelcomeBoxQuickStart.js","features/project/ViewProject/Diagnostic/DiagnosticContainer.js","common/components/Accordion/AccordionOnlyMobile.js","features/project/ViewProject/ProjectOverview.js","features/project/ViewProject/ProjectOverviewContentRouter.js","features/project/ViewProject/ProjectDetails.js","features/admin/AdminProjectList/adminService.js","features/admin/AdminProjectList/AdminProjectList.js","features/project/CreateProject/common/helpers/anyErrors.js","features/project/CreateProject/common/helpers/createObjectWithSameKeys.js","features/project/CreateProject/common/helpers/isBlank.js","features/project/CreateProject/steps/MetaDataStep/validateMetaDataFormValues.js","features/project/CreateProject/common/components/Form.js","features/project/CreateProject/steps/MetaDataStep/MetaDataStepDisplay.js","features/project/CreateProject/steps/MetaDataStep/MetaDataStep.js","features/project/CreateProject/steps/TeamMembersStep/TeamMembersStep.js","features/project/CreateProject/steps/SubmitRequestStep/SubmitRequestStep.js","features/project/CreateProject/steps/RequestError/RequestError.js","features/project/CreateProject/steps/RequestSubmittedStep/RequestSubmittedStep.js","features/project/CreateProject/CreateProject.js","common/redux/security/loggedInUser/loggedInUserSlice.js","common/services/security/loggedInUserMapper.js","features/userAnalytics/PendoStarter.js","features/security/PrivateRoute.js","common/redux/security/loggedInUser/setLoggedInUserThunk.js","features/projects/ProjectStatus.js","features/projects/ProjectListRow.js","features/projects/ProjectList.js","features/projects/ProjectsPage.js","features/security/Access.js","common/services/security/authenticationUrlBuilder.js","common/services/userTermsAndConditionsService.js","features/security/Landing.js","common/redux/userTermsAndConditions/getUserTermsAndConditionsThunk.js","common/components/UnexpectedError.js","common/redux/termsAndConditions/termsAndConditionsSlice.js","common/services/termsAndConditionsService.js","common/redux/termsAndConditions/getTermsAndConditionsThunk.js","features/termsAndConditions/common/PolicyInjections/performanceCookieHelpers.js","features/termsAndConditions/common/PolicyInjections/PerformanceCookiesToggle.js","features/termsAndConditions/common/Policy.js","features/termsAndConditions/TermsAndConditions.js","features/termsAndConditions/TermsAndConditionsView/TermsAndConditionsView.js","app/NonProjectContentRouter.js","app/ContentRouter.js","app/UnauthenticatedRoute.js","common/components/ModalError/ModalError.js","app/AppLayout.js","app/RouteChangeFocusResetter.js","app/App.js","common/hooks/useAppTitle.js","serviceWorker.js","common/engine/actions/scheduleActionRequested.js","common/engine/middleware/processingMiddleware.js","common/engine/middleware/rowIngestionMiddleware.js","common/engine/middleware/schedulerMiddleware.js","common/engine/actions/adjustmentsWithTogglesForDocumentUpdated.js","common/engine/middleware/toggleMiddleware.js","common/engine/reducers/adjustmentsByDocument.js","common/engine/utilities/extractAdjustmentLines.js","common/engine/utilities/adjustmentSummationUtilities.js","common/engine/reducers/adjustmentSumsByDocument.js","common/engine/reducers/adjustmentTogglesByDocument.js","common/engine/reducers/factCalculations.js","common/engine/reducers/timePeriodMetadataByDocument.js","common/engine/reducers/timePeriods.js","common/engine/reducers/toggledAdjustmentSumsByDocument.js","common/engine/reducers/linkedAdjustmentsByDocument.js","features/comments/commentMiddleware.js","Survey/httpMiddleware.js","app/reduxStore.js","common/services/security/userActivityService.js","common/jobs/job.runner.js","common/jobs/token.refresh.job.js","common/jobs/job.scheduler.js","webpack:///./src/index.js?b635"],"names":["initialState","content","status","isLoading","hasError","errorMessage","sharedStatus","sections","versions","sharedVersion","draftVersion","libraryItemsNew","items","libraryItemsShared","libraryItemGroups","tags","analysisSlice","createSlice","name","reducers","resetAnalysis","fetchAnalysisBegan","state","errorStatusCode","fetchAnalysisSucceeded","action","payload","fetchAnalysisFailed","fetchAnalysisDetailBegin","fetchAnalysisContent","newContent","omit","fetchAnalysisLibraryItemGroups","fetchAnalysisDetailFailed","fetchLibraryItemsNew","libraryItems","updateSharedStatus","updateVersions","updateSectionItems","currentSections","cloneDeep","length","newSections","map","section","newItems","item","clonedItem","updatedLibItemIndex","findIndex","_","id","libraryItemId","updatedItem","updateSections","fetchAnalysisVersionsSuccess","fetchAllTags","actions","updateSectionSharedItems","getCurrentAnalysis","analysis","selectAnalysisContent","createSelector","slice","selectAnalysisSections","getAnalysisStatus","selectAllTags","getAnalysisIsShared","shareWithAll","selectAnalysisVersions","selectDraftVersion","find","versionStatus","Constants","VERSION_STATUS","DRAFT","value","selectSharedVersion","SHARED","CONTENT_TYPE_RESULTS","divestitureRoute","resultsRoute","categoryPathRoute","formatResultsRoute","projectId","replace","formatCategoryPathRoute","categoryPath","jwtTokenKey","getToken","jwtTokenValue","sessionStorage","getItem","decode","setToken","token","a","setItem","storageKeyTemplate","setTokens","tokenSet","applicationToken","projectTokens","forEach","projectToken","tokenStorageKey","btoa","isClientUser","email","TextUtilities","isPwCEmail","authorizationService","secondsFromExp","jwtToken","exp","Date","now","hasValidToken","Math","floor","clear","getTokenValue","key","updateProcessTime","getEmail","getExpirationInSeconds","expirationInMinutesEnvVar","process","parsedExpirationInMinutes","parseInt","canCreateProjects","undefined","isAdmin","Admin","getUserTypeClass","applicationTokenKey","projectTokenKeyPrefix","projectTokenKeyTemplate","getProjectToken","isKeyJunctionRelated","startsWith","getAllTokenKeys","_keys","filter","getPlaintextToken","getProjectTokenProperty","prop","userTokenService","hasProjectPermission","permissionList","permissions","permissionKeys","_some","includes","hasProjectTokenProp","hasToken","savedToken","p","Object","prototype","hasOwnProperty","call","hasProjectRoles","roles","projectRole","getUserEmail","_get","UserAuthClient","HttpClient","UserAccessTokenClient","ProjectManagementHttpClient","ProjectStateManagementHttpClient","getProjectTokenBasedOnPath","path","split","ProjectHttpClient","ConnectedContentHttpClient","ContentServiceHttpClient","LibraryItemsExcelHttpClient","LibraryItemsPptHttpClient","LibraryItemsPowerBiHttpClient","LibraryItemsRichTextHttpClient","ReportingApiClient","CommentServiceClient","MasterApiClient","SurveyServiceClient","FileLibraryServiceClient","TagsServiceClient","filterNarrativesForContent","narratives","contentId","filteredLinks","keys","links","link","getLinksFromNarratives","narrative","linked","push","getTopicLinksForContent","existingContentLinks","narrativeLinks","_flatMap","_values","contentArray","c","existingLinks","topicLinks","_difference","getNarratives","get","response","projectNarratives","data","getNarrativesForContent","getNarrativesCount","getNarrativesForKfas","mapHypothesisToApi","hypothesis","body","conclusion","createdBy","baseServicePath","hypothesisThreadId","pathForId","pathForStatus","getHypotheses","sort","hypothesisA","hypothesisB","sortOrder","getHypothesesWithConnectedData","kfas","kfasWithConnectedContentData","emptyConnectedContent","connectedKfas","connectedInsights","connectedAnalyses","kfa","connectedContent","kfaWithConnectedContentData","contentThreadId","getSharedHypotheses","dateA","dateModified","getHypothesis","postHypothesis","post","putHypothesis","put","deleteHypothesis","delete","getHypothesisVersions","updateHypothesisStatus","workflowAction","url","updateHypothesesOrder","orderedContentThreadIds","hypothesisSlice","resetHypothesis","fetchHypothesisBegan","fetchHypothesisSucceeded","fetchHypothesisFailed","getHypothesisLoading","getCurrentHypothesis","loadHypothesisThunk","hypothesisId","dispatch","insightThreadId","Boolean","join","mapInsightToApi","insight","getInsights","insights","_orderBy","getInsight","getInsightVersions","postInsight","putInsight","deleteInsight","updateInsightStatus","updateInsightsOrder","insightSlice","resetInsight","fetchInsightBegan","fetchInsightSucceeded","fetchInsightFailed","getInsightLoading","getCurrentInsight","loadInsightThunk","insightId","CALC_ENGINE_ACTION_PREFIX","COMPOSITE_KEY_DELIMITER","TOTALS_KEY","LABEL_KEY","ACTIVE_KEY","CALC_ENGINE_KEY","ALL_ADJUSTMENTS_KEY","FACT_CALCULATIONS_KEY","TIME_PERIODS_BY_CODE_KEY","TIME_PERIOD_FLAGS_KEY","LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY","REPORTED_REVENUE_KEY","ADJUSTED_REVENUE_KEY","REPORTED_EBITDA_KEY","REVENUE_ADJUSTMENTS_KEY","CURRENT_ASSETS_KEY","CURRENT_LIABILITIES_KEY","EMPTY_VALUE","Symbol","ROW_TYPE_ADJUSTMENT","OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT","EMPTY_DATA_MARKER","REPORTED_DEBT_KEY","REPORTED_CASH_KEY","NET_DEBT_KEY","DEBT_LIKE_ITEMS_KEY","NET_DEBT_AND_DEBT_LIKE_KEY","QUALITY_OF_EARNINGS_DISPLAY_NAME","NET_WORKING_CAPITAL_DISPLAY_NAME","DEBT_AND_DEBT_LIKE_DISPLAY_NAME","STRUCTURED_DISPLAY_NAME_BY_CODE","QUALITY_OF_EARNINGS","NET_WORKING_CAPITAL","DEBT_AND_DEBT_LIKE","STRUCTURED_DISPLAY_NAME_BY_SUBTYPE","200","300","400","COLUMN_HIGHLIGHT_CLASS","clearAllProjectData","createAction","getAllProjects","getProjectById","getProjectSettingsById","postProject","project","industryId","serviceIds","sp","updateProjectDetails","type","restriction","updateProjectSettings","settings","patch","updateProjectUsers","users","EmailAddress","RoleName","role","PendingApproval","pendingApproval","requestClientUsersUpdate","clientUsersRequest","getUserViewStatusCountsForProject","getProjectOptions","getReports","getReportEmbedData","isShared","shared","getReportEmbedDataByReportId","reportId","getPowerBiReportData","reportData","defaultCurrency","defaultFinancialsMagnitude","showDiagnostic","powerBiReports","currency","financialsMagnitude","financialsDecimalCount","EngagementUrl","sharePointSiteUrl","projectSlice","resetProject","fetchProjectBegan","fetchProjectEnded","fetchProjectSettingsSucceeded","financialsDecimalCountToUse","_toNumber","fetchProjectDetailsSucceeded","fetchProjectFailed","powerBiReportsUpdated","fetchUserViewCountsSucceeded","getProjectLoading","getProjectError","getProjectErrorStatusCode","getProject","getProjectId","getProjectSharePointUrl","getEngagementUrl","getProjectFinancials","loadProjectThunk","projectResponse","settingsResponse","updateProjectSettingsThunk","previewPageSelector","report","previewPage","DEFAULT_TITLE","makeTitle","getStr","args","makeProjectTitle","projectName","makeProject","ROUTES","title","insightTitle","hypothesisTitle","analysisTitle","tileTitle","useMatchedRoute","route","match","useRouteMatch","useExactMatchedRoute","r","isExact","useCustomRouteNames","useSelector","tile","getFooter","footerSlice","template","loaded","loading","setFooterRequested","setFooterReceived","getFooterLoaded","footer","getFooterTemplate","getFooterThunk","getState","Separator","className","userTermsAndConditionsSlice","hasAccepted","setUserTermsAndConditionsRequested","setUserTermsAndConditionsReceived","getUserTermsAndConditionsLoaded","userTermsAndConditions","getUserTermsAndConditionsLoading","getUserTermsAndConditionsHasAccepted","profile","ALLOWED_TAGS","ALLOWED_ATTR","sanitize","input","DOMPurify","TermsConditionsLinks","TERMS_AND_CONDITIONS_LINKS","to","text","Footer","footerLoaded","footerTemplate","isInternalUser","shouldShowLinks","interpolatedTemplate","getCurrentYear","getFullYear","fallbackCopyrightStatement","templateTokens","showSubText","currentYear","Handlebars","compile","e","dangerouslySetInnerHTML","__html","projectsSlice","projectsList","fetchProjectsEnded","getProjectsList","projects","loadProjectsThunk","PROJECT_STATUS_CODES","NEW","IN_PROGRESS","COMPLETED","MIGRATION_COMPLETED","MIGRATION_FAILED","SYNC_FAILED","FAILED","ON_HOLD","INACTIVE","INACTIVE_PENDING_NEEDS_APPROVAL","INACTIVE_PENDING_IN_PROGRESS","REACTIVE_PENDING_NEEDS_APPROVAL","REACTIVE_PENDING_IN_PROGRESS","ARCHIVED","ARCHIVING_PENDING_NEEDS_APPROVAL","ARCHIVING_PENDING_FROM_INACTIVE_NEEDS_APPROVAL","ARCHIVING_PENDING_IN_PROGRESS","ARCHIVING_PENDING_FROM_INACTIVE_IN_PROGRESS","UNARCHIVING_PENDING_NEEDS_APPROVAL","UNARCHIVING_PENDING_IN_PROGRESS","isProjectActive","projectStatus","isProjectReactivePendingInProgress","isProjectInactive","projectState","isProjectInactivePendingInProgress","isProjectArchived","isProjectInPendingState","isProjectUnarchivingPendingInProgress","isProjectArchivingPendingInProgress","isProjectReadOnly","getProjectStatus","projectStatuses","getProjectStatusIcon","icon","useProjectsStatuses","projectList","_isEmpty","_chain","keyBy","mapValues","ProjectStatePill","showWhenActive","isSmall","showPendingStatus","projectsStates","projectStateIcon","data-testid","classNames","width","height","tabIndex","defaultProps","CONSTANTS","freeze","TABS","EDIT_LAYOUT","SAVE_PREVIEW_REPORT","TABS_ROUTE","LAYOUT","PREVIEW","SUB_ROUTES","CREATE_PREVIEW","CREATE_LAYOUT","EDIT_PREVIEW","PARTIAL_ROUTE","CREATE_LAYOUT_PREVIEW","EDIT_LAYOUT_PREVIEW","COLUMN_TYPE","ONE","TWO","THREE","FOUR","USER_EVENTS","SCROLL","RESIZE","LAYOUT_TYPE_TO_LAYOUT_TITLE_DESCRIPTION_MAP","SECTION_LAYOUT_TYPE","ONE_COLUMN","description","TWO_COLUMN","THREE_COLUMN","ONE_COLUMN_80","ONE_COLUMN_60","ONE_COLUMN_40","ONE_COLUMN_OVERFLOW_AREA","TWO_COLUMN_L_50_2A_R_50_1A","TWO_COLUMN_L_50_3A_R_50_1A","TWO_COLUMN_L_40_1A_R_60_1A","TWO_COLUMN_L_67_1A_R_33_1A","TWO_COLUMN_L_67_2A_R_33_1A","TWO_COLUMN_L_80_1A_R_20_1A","TWO_ROW_T_80_1A_B_20_1A","TWO_ROW_T_60_1A_B_40_1A","TWO_ROW_T_20_1A_B_80_1A","TWO_ROW_T_50_2A_B_50_1A","TWO_ROW_T_50_1A_B_50_2A","TWO_COLUMN_TWO_ROW_50_2A_50_2A","TWO_COLUMN_TWO_ROW_67_2A_33_2A","THREE_COLUMN_TWO_ROW","LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP","VIEWPORT_WIDTHS","TABLET","LAYOUT_TYPE_TO_ICON_MAP","useWindowSize","isClient","window","getSize","innerHeight","innerWidth","useState","windowSize","setWindowSize","useEffect","addEventListener","handleResize","removeEventListener","useTabletOrMobile","getLoggedInUser","loggedInUser","userSettingsSlice","viewGrid","setUserSettings","setUserSettingsIsLoading","getUserSettingsSelector","userSettings","getIsDarkModeSelector","darkMode","USER_SETTING_BASE_PATH","fetchUserSettings","saveUserTheme","saveUserPerformanceCookiePreference","allowPerformanceCookies","setDoNotProcessForPendo","doNotProcessRequests","loadUserSettingsThunk","getResponse","locationService","redirect","location","refreshTokens","origin","invalidateTokens","tokens","removeItem","getAuthenticationUrl","redirectUri","getSignoutUrl","getTokens","accessCode","projectTokenCache","LRUCache","maxAge","logOutThunk","signoutUrl","reset","LogOut","useDispatch","onClick","preventDefault","UserInitialsSnippet","props","toggleDarkMode","useCallback","newTheme","currentUserSettings","changeUserThemeThunk","localStorage","show","setShow","target","setTarget","ref","useRef","userTypeClass","event","setTimeout","document","click","initials","Overlay","placement","rootClose","onHide","container","current","Popover","Content","checked","structuredRoutes","RegExp","structuredRoutesForSubType","structuredDocumentSubtypeCodes","projectOverviewPath","hypothesesListPath","viewHypothesisPath","createHypothesisPath","editHypothesisPath","insightsListPath","viewInsightPath","createInsightPath","editInsightPath","analysesListPath","analysesListPath2","addAnalysisTypePath","addAnalysis2TypePath","addAnalysisFromTemplatePath","viewAnalysisPath","analysisId","viewAnalysisPath2","editAnalysisPath","editAnalysisPath2","viewAnalysisReportPreviewPath","version","isUnStructured","viewQualityOfEarningsPath","viewNetWorkingCapitalPath","viewDebtAndDebtLikePath","viewStructuredAnalysisPathForDocument","documentCode","viewStructuredAnalysisPathForSubType","subType","createAnalysisPath","reportsListPath","filesPath","createReportPath","projectSettingsPath","structuredAnalysisDocumentsPath","getDocumentsWithDataPath","createProjectPagePath","projectDisclaimerPath","fetchDivestitureDiagnosticResultsPath","resetDivestitureDiagnosticResultsPath","saveCategoriesPath","saveOverallComplexityPath","getAllLatestDocumentsWithContent","isViewingAsClient","AddProjectItemsHeaderMenu","addHypothesisHref","addInsightHref","addAnalysis2TypeHref","handleClick","popperConfig","modifiers","options","offset","Breadcrumbs","breadcrumbs","crumb","index","testId","toLowerCase","allRoutes","customName","replaceSlugs","params","paramsKeys","reduce","desluggedPath","param","BreadcrumbsContainer","useLocation","hide","setHide","customNames","pathname","indexOf","EnvironmentVariableUtilities","platformName","exact","render","routeParams","routePath","breadcrumbRoute","substring","AddProjectHeaderMenu","Header","isTabletOrMobile","ProjectListSideNavButtons","closeSideNav","mobile","activeMenuItem","setActiveMenuItem","allProjects","history","useHistory","isExactActive","linkPath","navTarget","currentProject","projectStatusIcon","iconClasses","extraIcons","extraIconsClasses","linkClass","iconWidth","appSettingsSlice","mobileSidebarOpened","showProjectListMenu","toggleMobileSidebarOpened","nextState","setShowProjectList","getMobileSidebarOpened","appSettings","EnableForProjectState","children","isProjectsListFetched","isProjectListFetched","setIsProjectListFetched","isJestTesting","JEST_WORKER_ID","isProjectDisabled","propTypes","PropTypes","oneOfType","string","number","isRequired","AddProjectItemsNavMenu","open","setOpen","data-toggle","aria-haspopup","aria-expanded","disabled","classnames","ShowForPermissions","noPermissionsView","setHasProjectPermission","hasPermission","arrayOf","ICON_SIZE","ProjectSideNavButtons","showProjectList","isActive","aria-label","USER_PERMISSIONS","CONTRIBUTE","SideNav","hasCurrentProject","menuId","dataTestId","pendoService","install","apiKey","pendo","pendoObjectReference","_q","method","_index","methods","callToAdd","unshift","elementToCreateSelector","createdPendoScriptTag","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","start","lineofservice","country","pwcGlobalGradeName","pwcUserType","initialize","visitor","started","isInstalled","isStarted","Pendo","baseAlertConfig","variant","message","alertTypeConfigs","default","publish","fetch","alertTypes","accumulator","getAlertConfigs","alertType","err","apiErrorMessage","getAlertConfigsFromObj","D3Alert","configType","alertConfig","Alert","versionNumber","getCommentsByEntity","entityType","entityId","entityVersion","addCommentToEntity","comment","postDeprecated","updateComment","deleteCommentThread","thread","threadId","deleteComment","commentId","shareCommentThread","resolveCommentThread","threads","viewingStatus","hasLoaded","hasCommented","showCommentsPanel","commentPanelOpened","versionRequired","isEntitySharedWithClient","commentsSlice","resetComments","fetchCommentsBegan","fetchCommentsSucceeded","isForSameThread","threadWithoutComments","loadCommentThreads","fetchCommentsFailed","setHasCommented","viewUnresolvedComments","viewResolvedComments","initializeCommentsPanel","_state","toggleCommentPanelOpened","entitySharedStatusUpdateSuccess","extraReducers","builder","addCase","updateEntityVersion","updateCommentPanel","getComments","comments","getCommentsHasLoaded","getCommentsIsLoading","getHasCommented","getViewingStatus","getCurrentCommentThreads","getCommentPanelOpened","getCurrentComments","flat","loadCommentsThunk","setViewingStateThunk","viewingState","formatComment","uuidv4","authorId","createdAt","getCommentsAdapter","currentUser","commentThreads","formatThread","editor","this","usersPlugin","plugins","commentsRepository","allUserIds","nonExistentUsers","uniqBy","firstName","lastName","toString","addUser","defineMe","adapter","addComment","format","foundComment","Promise","resolve","firstCommentInThread","UserUtilities","isPractitioner","threadVersion","updatedComment","removeComment","foundThread","getCommentThread","getCommentsRepositoryPluginAdapter","CommentThreadView","ClassicEditor","ButtonView","SwitchButtonView","getModules","user","instantiator","createResolveButtonView","createSharedView","projectUsers","currentEntityVersion","commentThread","setTemplate","tag","attributes","class","bindTemplate","if","tabindex","commentsListView","commentThreadInputView","buttonView","locale","t","buttonLabel","threadAuthorId","threadAuthor","isPracticionerCreatedThread","isEnabled","resolved","set","label","isToggleable","tooltip","withText","isOn","extendTemplate","on","toggleShareCommentThreadThunk","toggleResolveCommentThreadThunk","CommentView","versionDisplay","model","createVersionDisplay","_model","templateDefinition","buttonsArray","editButton","removeButton","avatarClass","u","author","getCommentAuthorClass","commentContainer","userAndTimeContainer","style","display","timeDiv","margin","contentContainer","currentThread","MentionPlugin","builtinPlugins","plugin","pluginName","CustomMentionView","getFeedItems","queryText","activeThread","userId","searchString","isItemMatching","CommentEditor","context","channelId","useParams","setCurrentUser","commentEditor","setCommentEditor","hasLoadedComments","isMounted","userEmail","CommentsAdapter","sidebar","setSidebar","querySelector","commentIcon","openNewCommentThread","commentButton","commentRepository","hasCommentThread","formattedThread","addedCommentThread","addCommentThread","isReadOnly","evt","propName","activeSavedThread","position","onInit","switchTo","config","licenseKey","extraPlugins","toolbar","language","collaboration","editorConfig","mention","feeds","marker","feed","minimumCharacters","CustomCommentThreadView","CustomCommentView","renderToString","CommentPanelContent","hidden","CommentPanel","commentsIsLoading","Helmet","data-comments","isVisible","CommentPanelContainer","setContext","Context","create","result","versionReadyOrNotNeeded","guardEntityVersion","ProjectPermissionRoute","isAuthorized","Component","component","rest","from","IngestStructuredAnalysisButton","onIngestion","mapAnalysisToApi","source","baseStructuredAnalysisDocumentsPath","baseStructuredAnalysesServicePath","analysisThreadId","getAllStructuredIngestionDocuments","getStructuredAnalysisVersions","postIngestStructuredDocument","documentCodes","getStructuredAnalysisDocumentsWithData","getAllDocumentsWithContentForProjectAndViewingType","getLibraryItemLinksByContentVersion","contentVersionNumber","endpoint","libraryItemLinks","putStructuredAnalyses","deleteStructuredDocument","searchAnalyses","analysisType","updateStructuredAnalysisStatus","getStructuredAnalysis","ingestedDocuments","loadingInProcess","structuredAnalysisSlice","clearIngestError","code","ingestionBegan","x","ingestionSucceeded","_uniq","ingestionFailed","codes","error","getIngestedDocuments","structuredAnalysis","getLoadingInProcess","getStructuredAnalysisHasError","getStructuredAnalysisError","IngestionThunk","ReingestDocumentWithDependencies","documentWithDependencies","DocumentUtilities","getDocumentWithDependencies","documentsForRefresh","dependencies","ModalConfirmation","onCancel","onConfirm","confirmTitle","confirmationMessage","cancelButtonText","confirmButtonText","showCancel","Modal","closeButton","Title","Body","StructuredAnalysisCard","documentName","showDetailLink","loadingDocuments","beginIngest","handleModalClose","EmptyStructuredAnalysisCard","StructuredAnalysisTable","structuredDocuments","hasDocuments","displayName","hasDetailView","AddAnalysisFromTemplate","allStructuredIngestionDocuments","setAllStructuredIngestionDocuments","fetchAll","ViewAnalysisSourceLinks","toolTipDirection","sharepointUrl","engagementUrl","toolTipText","rel","href","direction","tip","PageTitle","size","contained","AddAnalysisType","addAnalysisFromTemplateHref","createFreeformAnalysisHref","AnalysisTypes","Unstructured","getAllAnalyses","tagIds","qs","stringify","TagIds","getPagedAnalyses","page","pageSize","getAnalysis","getAnalysisDetailsVersions","getAnalysisDetailsDraft","getAnalysisDetailsShared","analysisContentId","postAnalysis","analysisDto","putAnalysis","deleteAnalysis","updateAnalysisStatus","newStatus","updateAnalysesOrder","ToggleGridList","buttons","iconName","iconClass","getButtons","button","MenuButtonDelete","MenuButtonEdit","ContentActionsPopupMenu","React","forwardRef","itemId","onEditMenuClick","onDeleteMenuClick","RowActionsButton","isDisabled","ContentActionsRowMenu","handleButtonClick","handler","ControlledAccordion","onExpand","isOpen","setIsOpen","getConnectedContent","NarrativeCard","getViewPath","truncate","showBody","NarrativeSection","titleIdentifier","titleIdentifierWithIndex","hasNarratives","sectionClasses","narrativeIndex","textIsYesRegEx","createMetadataFromRaw","metadata","startColumnIndex","rawValues","rawDataHeaderRowIndex","extractedMetadata","indexOf2dArrayOptions","stopBeforeRowIndex","k","metadataPosition","ArrayUtilities","indexOf2dArray","metadataRowAsBooleans","test","sanitizeSummableValue","floatValue","parseFloat","_isFinite","structuredAnalysisLinkToDisplay","getViewPathForAnalysis","analysisLinkBuilder","analyses","targetId","targetAnalysis","_find","ConnectedContentAccordion","hasConnectedContent","setConnectedContent","hasInsights","hasAnalyses","hasKeyFocusAreas","hypotheses","isFetchedConnectedContent","fetchedConnectedContent","fetchConnectedContent","TagList","orderedTags","i","ShowForRole","restrictedForRoleElement","hasProjectRole","setHasProjectRole","hasProjectRoleBeenFetched","setHasProjectRoleBeenFetched","hasRole","DisplayPill","forUserView","UserViewStatusPill","userViewStatus","USER_VIEW_STATUS","NONE","getUserViewStatus","DraftPill","DraftPillClientView","SharedPill","versionText","VersionStatus","allowDraftPill","draftStatuses","APPROVAL_REJECTED","draftVersionNumber","sharedVersionNumber","StatusPill","ApprovalPill","APPROVED","APPROVAL_REQUESTED","getVersionStatus","PillContainer","USER_ROLE_GROUPS","INTERNAL","CLIENT","AnalysesGridCard","frontendIdentifier","AnalysesGrid","onDelete","dataLength","currentPage","next","hasMore","handleEditAnalysis","scrollThreshold","CreateAnalysisLinkButton","addAnalysisHref","EmptyContentCard","singularName","pluralName","givenName","dasherizedPluralName","pluralNameCardTestId","pluralNameCardCreateTestId","nothingSharedMessage","helloMessage","createFirstMessage","EmptyAnalysesCard","ConditionalClearButton","onClearClick","isBrokenLink","ClearableDisplayPill","HiddenInput","field","ValidateTag","trim","getAllTags","applyButtonId","createButtonId","optId","_strings","opt","shouldShowApplyButton","searchCriteria","exactMatch","tagsChanged","allowCreateTags","getApplyButton","onSubmit","currentlySelectedTags","blurHandler","handleEscapeKey","onBlur","onKeyDown","shouldShowCreateButton","getCreateButton","insensitive","str","MultiSelectSearch","selectedTags","closeDropdown","innerIdWhitelist","originalSelectedTags","setOrignalSelectedTags","setCurrentlySelectedTags","viewableOptions","setViewableOptions","setTagsChanged","setExactMatchChanged","optionsMap","acc","option","zipObject","stubTrue","xor","searchCriteriaInsensitive","insensitiveOptionsText","insensitiveSelectedTags","ids","onFocusOutside","ev","relatedTarget","focusedId","focusIsWithin","some","keyCode","cond","constant","onChange","selectedTag","updatedTags","updateCheckedTags","useClickedOutsideOfRef","onClickedOutsideOf","handleClickOutside","contains","querySelectorAll","TAGS_FIELD_NAME","TagEditor","onSelect","tagsRight","subtitle","placeholderText","fetchedTagOptions","setFetchedTagOptions","tagOptions","setTagOptions","setLoading","selectedTagsText","setSelectedTagsText","search","setSearch","setError","dropdownOpen","setDropdownOpen","useFormikContext","getFieldMeta","setFieldValue","setTagFormValues","getTagFormValue","tagsFieldValue","fetchedTagOptionsByText","opts","newTagOptions","updatedSelectedTagTexts","validatedUpdatedSelectedTagTexts","errors","updateSelectedTags","wasClickedOutside","arrayHelpers","data-tags-right","placeholder","autoComplete","onFocus","tagIndex","removeTag","NoContentForTagsCard","optionValue","labelValueTuple","radioOption","shape","linkEdge","adjustmentType","adjustmentDisplayName","tagShape","isBroken","bool","modifiedBy","sortAscending","impact","sortDescending","contentTypeHypotheses","oneOf","contentTypeInsights","contentTypeAnalyses","CreateHypothesisLinkButton","EmptyHypothesesCard","CreateInsightLinkButton","EmptyInsightsCard","sortKeys","SortChevron","currentSortDir","chevronClassNames","asc","ListHeaderCell","sortKey","currentSortKey","setCurrentSortKey","setCurrentSortDir","sortDir","setSortDir","isCurrentSort","cellClassNames","newSortDirection","ContentListHeader","isDragAllowed","isDragEnabled","areSomeSelected","areAllSelected","onSelectAll","handleSelectAllOnChange","tipStrings","splice","sortOrderCellClasses","indeterminate","DisplayContentStatus","displayDate","dateToFormat","dt","DateTime","fromJSDate","toFormat","financialsFormatDefaultOptions","decimalCount","formatForScreenReader","emptyDataMarker","financialsFormat","decimalFormatSection","repeat","negativeValuePrefix","negativeValueSuffix","hasScientificNotationRegEx","financialValue","cleanValue","Number","isNaN","effectiveOptions","isNumericValue","toFixed","numeral","valueAsPercent","currencyDictionary","dollar","pound","euro","getCurrencySymbol","symbol","getFinancialScale","currencySymbol","effectiveMagnitudeLower","endsWithAdjustmentsRegEx","endsWithNqFlagRegEx","adjustmentTypeContributionName","contributionType","hasNqSuffix","derived","adjustmentTypeEbitdaContributionName","adjustmentTypeWorkingCapitalContributionName","startsWithLastNPeriodsRegEx","isLastNPeriodLabel","isReportedDebtRegEx","isReportedDebt","isReportedCashRegEx","isReportedCash","isDebtLikeItemsRegEx","isDebtLikeItems","DisplayDate","dateText","ContentLink","contentItem","viewPathCreator","ariaLabel","SortOrderCell","isSelected","iconClassNames","enabled","ContentListCard","selectedCount","isDragTarget","editPathCreator","linkAriaLabel","handleEditContent","isDraggingMultiple","draggableId","isDragDisabled","provided","cardClassnames","draggable","sortOrderDisplay","innerRef","draggableProps","dragHandleProps","modal","modalErrorType","ModalErrorType","moreMenu","moreMenuErrorType","MoreMenuErrorType","errorsSlice","showModalError","hideModalError","showMoreMenuError","hideMoreMenuError","getErrorModalState","getErrorMoreMenuState","ContentList","contentType","contentItems","projectHasContent","onReorder","updateSortOrderApiCall","isFiltered","isModalVisible","setIsModalVisible","deleteTarget","setDeleteTarget","setIsDragAllowed","setIsDragEnabled","dragTarget","setDragTarget","setIsInternalUser","sortedContentItems","setSortedContentItems","selectedContentItems","setSelectedContentItems","sorted","internalUserRoles","permissionAllowsDrag","MANAGE_CONTENT","emptyCard","deleteModalMessage","handleDeleteMenuClick","handleSelect","updatedSelected","_union","isAscendingSort","listClassNames","onDragEnd","dragEnd","destination","draggedList","originalSortedHypotheses","draggedItemSourceIndex","draggedItemTargetIndex","insertIndex","itemsToMove","_differenceBy","targetContentThreadId","targetContentIndexInKeepList","h","movedItem","indexedList","order","contentThreadIds","sortedContentThreadIds","reverse","then","catch","errorType","API_ERROR_CODES","VALIDATION_ERROR","UNABLE_TO_SAVE_SORT_ORDER_STALE_DATA","UNABLE_TO_SAVE_SORT_ORDER","onBeforeCapture","dragTargetContentThreadId","droppableId","droppableProps","AnalysesView","isFetching","toggleView","onFilter","setIsLoading","isDeleteConfirmationVisible","setDeleteConfirmationVisible","selectedAnalysis","setSelectedAnalysis","tagFilters","setTagFilters","setData","allTags","analysisA","analysisB","updateTags","values","val","memoizedFilteredAnalyses","useMemo","analysisTags","Set","has","INTERNAL_READWRITE","initialValues","hasContent","addFrontendProperties","contentSubType","AnalysesContainer","combinedAnalyses","setCombinedAnalyses","itemPage","setItemPage","itemCount","setItemCount","setIsFetching","canBeScrolled","scrollHeight","hasMoreItems","compileAnalyses","rowCount","currentItems","concat","fetchPagedAnalyses","analysesResponse","fetchAllAnalyses","isScrollable","handleDeleteAnalysis","request","itemIndex","allItems","isGridView","orderedAnalyses","FormLayout","headerComponent","MoreMenuPopup","actionToConfirm","setActionToConfirm","moreMenuError","onActionClick","confirmation","update","cancelActionToConfirm","confirmActionToConfirm","closeErrorState","LIBRARY_ITEM_CORRUPTED","renderContent","hideOverlay","callback","MoreMenu","onRefresh","onEdit","viewClient","workflowActions","reportPreviewUrl","isOnClientVersion","workflowActionsWithIcons","createRefreshAction","onShowDraftVersion","onShowClientVersion","hasClientVersion","createViewClientAction","createEditAction","createDeleteAction","createPreviewReportAction","_forEach","AnalysisControlsHeader","deleteConfirmation","libraryItemCorruptedError","onCloseErrorState","AnalysisDetailConnectedContent","classModifier","setNarratives","getLibraryItems","getExcelLibraryItemsByGroup","requestData","getPptLibraryItemsByGroup","getRichTextLibraryItemsByGroup","getLibraryItemForStructuredContent","getLibraryItemWithHtml","getHtml","postPowerpointGroup","sharePointItemUrl","driveItemId","fileName","groupName","slideNumber","driveId","Error","postPowerBiReport","reportName","postPowerBiPage","pageName","pageDisplayName","getExcelCharts","LIBRARY_ITEM_TYPES","EXCEL_CHART","getLibraryItemsByType","libraryItemType","postRichText","richTextData","isDeletable","res","deleteLibraryItem","formatTypeMap","301","500","libraryItemTypeApiMethodMap","401","requestArrayType","updateLibraryItemsThunk","itemsToAdd","transformPowerBiResponse","clonedResponse","fetchPowerBiSingleItemThunk","reqData","libItem","transformedResponse","console","log","loadPowerBiLibraryItemsThunk","powerBiLibraryItemList","group","reqBody","embedUrl","powerBiLibraryItems","workspaceId","transformExcelPptGroupResponse","fileContents","cloned","fetchExcelPptSingleGroupThunk","groupType","transformedItems","loadExcelPptLibraryItemsItemsThunk","excelPptLibraryItemList","groupedByKey","siteId","excelPptLibraryItems","formatType","fetchRichTextGroupedItemsThunk","richTextLibraryItemList","richTextLibItems","accum","parsedId","isInteger","libraryItemIds","richTextLibraryItems","transformSharedItem","existingSectionItem","sharedItem","newSectionItem","richTextContent","updateSharedLibraryItemsThunk","sharedItems","transformedSharedItem","loadAnalysisVersions","versionsResponse","loadThunk","loadFunction","getWorkflowStatus","WORKFLOW_ACTIONS","UNDEFINED","REQUEST_APPROVAL","STOP_APPROVAL_REQUEST","APPROVE","REJECT","SHARE","WorkflowActionsDictionary","actionName","buttonText","popOverText","workflowButtonText","isNil","b","latest","latestVersionFromVersions","useApprovalWorkflow","getWorkflow","nextSteps","setNextSteps","setWorkflowState","workflow","createWorkflowAction","getWorkflowState","statusUpdater","workflowActionFactory","Array","step","getViewClientInfo","contentVersionStatus","PageContentLabel","cssLabel","PageDescription","sectionId","ContentItemNew","htmlData","setHtmlData","setSvgWidth","setHasError","svg","DOMParser","parseFromString","viewBox","getAttribute","getWidthFromSvg","renderToStaticMarkup","PowerBiReportDisplayConfig","embedToken","reportTitle","getPowerBiTheme","isDarkMode","themeJson","powerBiDarkTheme","powerBiLightTheme","computeContainerDimensions","isSinglePage","buildPowerBiReportConfig","tokenType","models","TokenType","Embed","accessToken","Permissions","All","panes","pageNavigation","visible","filters","expanded","layoutType","LayoutType","Custom","customLayout","displayOption","DisplayOption","ActualSize","theme","PowerBiReport","Cypress","isE2eEnvironment","setReportData","powerBiContainerRef","powerBiContainerDimensions","setPowerBiContainerDimensions","toFetchEmbeddedData","isEmpty","JSON","parse","ReportId","fetchReportData","powerbi","bootstrap","powerBiData","embeddedReport","embed","getPages","pages","foundPageIndex","defaultSize","computedHeight","computedWidth","embedPowerBi","powerBiDisplay","maxWidth","RichTextLibraryItem","AnalysisLibraryItem","memo","renderableContentItemTypes","EXCEL_NAMED_RANGE","POWER_POINT_GROUP","isPowerBiReport","POWER_BI_REPORT","POWER_BI_REPORT_PAGE","data-library-item-name","RICH_TEXT","prevProps","nextProps","OneColumnLayout","MultipleColumnLayout","columnPositionClassMap","containerClass","analysisColumn","layoutConfig","LEFT","RIGHT","MIDDLE","TOP","BOTTOM","TOP_LEFT","BOTTOM_LEFT","LEFT_FIRST","LEFT_SECOND","LEFT_THIRD","BOTTOM_RIGHT","TOP_RIGHT","TOP_MIDDLE","BOTTOM_MIDDLE","PageLastUpdated","fromISO","zone","toLocal","StatusContainer","AnalysisDetailScreen","sortedSectionByOrder","AnalysisDetailScreenContainer","analysisContent","isAnalysisShared","setIsDeleteConfirmationVisible","selectedVersions","getDraftContent","loadAnalysisWithDraftContent","getSharedContent","loadAnalysisWithSharedContent","handleDelete","_projectId","ErrorUtilities","hasLibraryItemCorruptedError","UNABLE_TO_SAVE_CHANGE","ActiveContentHeader","pageLabel","ProjectListLayout","BlankLayout","PublishButton","isSaving","isValid","buttonPosition","buttonSize","onSaveText","standbyText","dirty","isPublishable","EditNarrativeCard","parentContentId","linkNarrative","currentNarrative","contentIsLinked","linkedId","l","contentLink","allNarratives","newNarrative","newNarratives","replaceAtIndex","n","EditConnectedContentSection","EditNarrativeSection","newHypotheses","edit","newInsights","newAnalyses","emptyNarratives","useConnectedNarratives","availableToConnectNarratives","setAvailableToConnectNarratives","filteredAvailableToConnectNarratives","setFilteredAvailableToConnectNarratives","previouslyConnectedNarratives","setPreviouslyConnectedNarratives","testString","testSearch","filterByIsConnectedToParent","linkId","filterByIsNotConnectedToParent","filterBySearch","available","mergeContent","updatedNarratives","original","updated","EditConnectedContent","isViewingAll","setIsViewingAll","handleSetNarratives","updatedSectionNarratives","hasPreviouslyConnectedNarratives","flattenedNarratives","y","searchField","iconLeft","basic","getLibraryItemIconName","libraryItemNumericalValue","hoverClass","EXCEL_CELL_RANGE","renderLibraryItemIcon","DefaultCardInner","libraryItemName","LibraryItemCard","libraryItem","isDragging","outlineTypes","computedIconClass","iconVariant","getLibraryItemIconClass","stripHtml","div","innerHTML","textContent","innerText","RichTextPlainView","richText","RichTextCardInner","handleDeleteClick","isInSourceTray","handleEditClick","AddLibraryItemsBox","selectedLibraryItems","layoutSaved","parseRichText","floatStyle","float","libraryItemsBrowseLink","TitleFieldset","textareaLineHeight","AnalysisTextInput","validate","handleValidationChange","handleValueChange","formValidationErrorMessage","setFormValidationErrorMessage","touched","setTouched","errorMessageForDisplay","DRAG_AND_DROP_STATE_ACTION","dragAndDropReducer","currentPosition","draggableWithinSectionsItemId","draggableBetweenSectionsItemId","currentDroppableSectionId","currentSectionOrder","SECTION_STATE_ACTION","updateNonLaidOutLibraryItems","moveDown","currentSection","s","nonLaidOutLibraryItems","updateCurrentSections","itemToMove","max","newSectionNumber","newOrder","itemWithNewOrder","removeNonLaidOutItemsFromSections","nonLaidOutItems","itemIdsToRemove","sectionsReducer","richTextId","RichTextData","newAnalysisColumn","newCurrentSections","newAnalysisColumnInt","sectionIdToScroll","initSections","initialSections","initDragAndDropState","SectionsStateContext","createContext","SectionsDispatchContext","useSectionsState","useContext","useSectionsDispatch","useSections","SectionsProvider","useReducer","sectionsState","sectionsDispatch","dragAndDropState","dragAndDropDispatch","combinedDispatch","dispatches","combineDispatch","combinedState","Provider","setNonLaidOutLibraryItems","setCurrentSections","setSectionToScroll","reportFormatSlice","layout","showRightPanel","showRightPanel2","activeSectionIndex","floatingTabsHeight","floatingTabsWidth","floatingTabsTop","libraryItemPosition","finish","reportPreview","toggleRightPanel","toggleRightPanel2","setActiveSectionId","setFloatingTabsHeight","setFloatingTabsWidth","setFloatingTabsTop","top","setLibraryItemStartPosition","setLibraryItemFinishPosition","setReportPreviewData","setReportPreviewLoading","setReportPreviewError","existingMessage","LOCATION_CHANGE","reportFormatState","reportFormat","getReportFormatLayoutState","getLibraryItemPosition","getLibraryItem","getReportPreviewState","introConversion","view","classes","paragraphConversion","footnotesConversion","customIntroHeadingOnlyPlugin","addIntroClass","conversionApi","writer","addClass","mapper","toViewElement","conversion","for","add","dispatcher","priority","elementToElement","heading","noHeadingEditorConfig","introHeadingOnlyEditorConfig","shortIntroHeadingOnlyEditorConfig","RichTextEditor","isFocused","labelRef","showCharactersCounter","focusClass","characters","setCharacters","htmlFor","maxCharacters","ckeditor","getData","maxLength","RichTextForm","setCurrentRichText","handleCancel","handleSave","lightModeVariant","focused","setFocused","ui","element","RichTextLibraryItemCard","setIsDragDisabled","editState","setEditState","setRichText","currentRichText","EMPTY_RICH_TEXT_PLACEHOLDER","genDroppableStrings","baseString","baseStringLC","fill","DROPPABLE_LOCATION_IDS","SOURCE_TRAY_ID","SINGLE_COLUMN_AREA_ID","DOUBLE_COLUMN_FIRST_AREA_ID","DOUBLE_COLUMN_SECOND_AREA_ID","DOUBLE_ROW_FIRST_AREA_ID","DOUBLE_ROW_SECOND_AREA_ID","SINGLE_COLUMN_AREA_80","SINGLE_COLUMN_AREA_60","SINGLE_COLUMN_AREA_40","SINGLE_COLUMN_TEXT_OVERFLOW_AREA","TWO_ROW_THREE_AREA_100_50_50","TWO_ROW_TWO_COLUMN_AREA_67_33","DraggableLibraryItemCard","droppableLocationId","droppableLocations","reduxDispatch","setIsInSourceTray","wrapperElement","setWrapperElement","hoverState","setHoverState","canMoveDownToNextSection","dndPosition","indexOfLastItem","isAtTheBottomOfCurrentColumn","setDraggableBetweenSectionsItemId","moveItemToAdjacentSection","dispatchEvent","KeyboardEvent","space","bubbles","handleOnKeyDown","arrowUp","arrowDown","adjacentArea","currentDroppableLocation","areaAbove","areaBelow","canMoveToAdjacentArea","newPosition","initialIndex","focus","currentLocationId","handleOnMouseEnter","handleOnMouseLeave","draggableProvided","draggableSnapshot","myRef","onMouseEnter","onMouseLeave","data-draggable-mode","SectionArea","areaClass","droppableLocation","libraryItemMap","canLibraryItemBePlacedInSection","parsedLibraryItemId","baseStyles","border","borderRadius","backgroundColor","draggingOverBorder","draggingOverBorderError","draggingOverBackgroundColor","isAreaFilled","ignoreContainerClipping","snapshot","droppableSnapshot","computedStyle","isDraggingOver","draggingOverWith","draggingFromThisWith","returnedStyle","assign","getStyle","computedHint","getPath","fillRule","d","points","LayoutIcon","xmlns","xmlnsXlink","DeleteButton","iconType","handleMouseEnter","handleMouseLeave","tooltipPlacement","sectionData","PropType","any","onAddSection","func","onRemoveSection","targetDroppableLocationIds","lastSection","activeSection","Section","showDeleteButton","scrollIntoView","setIconType","setIsActive","currentHeight","offsetHeight","currentTop","offsetTop","behavior","handleRemoveSection","newSectionIndex","layoutTitle","layoutDescription","data-section-id","Fragment","generateDroppableLocationIdWithSection","sectionLayoutType","sectionNumber","numericSortCallback","layoutTypeToDroppableLocationIdMap","generateDroppableLocationSetForSection","baseColumn","dropLocId","allLocIds","dropLocIdWithOrder","area","sectionOrder","neighbors","areaOrder","areaWithoutOrder","topBottomNeighbors","neighbor","neighborAreaOrder","findAreaNeighbors","LeftPanel","onAddNewSection","contextDispatch","handleAddNewSection","sectionToRemove","newNonLaidOutLibraryItems","allSections","droppableLocationIds","generateTargetDroppableLocationIdsNew","LAYOUTS","image","OneColumnFullWith","OneColumnSmall","OneColumnMedium","OneColumnLarge","TwoColumnTextOnly","TwoColumnNarrowLeft","TwoColumnNarrowRight","TwoColumn","StackedMediumTop","StackedLargeTop","StackedLargeBottom","TwoColumnExtraNarrowRight","ThreeColumn","StachedWithRightColumn","StackedWithNarrowRightColumn","StackedTwoBlockTop","StackedTwoBlockBottom","FourBlock","FourBlockNarrowRigth","ThreeStackedWithRightColumn","SixBlock","SECTION_AREA_TEXT","SECTION_AREAS","conlumnType","LayoutFilter","filterLayouts","sectionAreaFilters","setSectionAreaFilter","setlectFilter","handleFilter","LayoutTab","handleLayoutTypeChange","layouts","setLayout","activeSectionLayoutId","useActiveSectionLayoutId","changeLayout","layoutId","filteredLayouts","alt","ToggleRightPanelButton","RightPanelTab","RightPanelTabs","tabs","initialActiveTab","sectionHeight","panelExpanded","activeTab","setActiveTab","activeTabContent","contentStyle","LibraryItemsListData","handleAddTextBox","DataLibraryLabel","DataLibraryTab","RightPanel","panelRef","rightPanelTabs","componentStyle","transition","translateY","buttonClassName","RightPanelExpand","isTextBox","generateLayoutTypeChangeHandler","setDroppableLocations","editNonLaidOutLibraryItems","newSection","clonedSectionItems","removedSectionItems","currentSectionItems","BottomPanel","bottomPanelTabs","eventTypes","useActiveSection","cancelPreviewRequestToken","sectionElements","bottomPanelRef","rightPanelRef","isPanelMounted","setIsPanelMounted","handleOnResizeEvent","offsetWidth","handleOnScrollEvent","elementRect","getBoundingClientRect","node","nodeRect","lastVisibleSectionInReversedArray","bottom","findActiveSectionOnMobile","numberOfSections","_ceil","documentElement","min","_floor","scrollTop","findActiveSectionOnDesktop","EditLayout","onDragStart","onDragUpdate","renderedSectionElements","setRenderedSectionElements","isEqual","getReportPreview","cancelRequestFn","previewImage","getReportPreviewThunk","cancelToken","reason","submitAnalysisThunk","baseUrl","constructedUrl","cancel","SaveAndPreview","updateData","projectID","analysisID","analysisDTO","getReportData","validateTitle","mapDto","EditLayoutTab","setTabByIndex","tabNumber","numOfTabs","tabRef","aria-selected","nextTabIndex","setNextTab","previousTabIndex","setPreviousTab","EditLayoutTabs","defaultTab","validChildren","child","freeformLayoutIsValidNew","sourceTray","every","AddReportDataTabs","pathMap","getDefaultTab","setDefaultTab","setTab","tab","notificationPath","newRoute","baseRoute","AddReportDataLayoutContainer","analysisDescription","handleKeyDownEnd","updatedStart","column","startItemIds","removeItemFromColumn","updatedFinish","newItemIds","insertItemIntoColumn","newDroppableLocations","steps","FreeformAnalysisLayout","handleDragEnd","updateCurrentPosition","maxSectionOrder","previousSection","getDroppableLocations","retrieveLayoutType","locationId","analysisCol","exists","locId","getSectionsFromDroppableLocations","numberOfAreaIds","sectionsRemain","itemsInSection","droppableLocationIdsExist","locationIdIndex","isArray","locIndex","locIdWithSection","itemsWithColumnAndOrder","locationIdWithSection","FreeformAnalysisLayoutContainer","goBackUrl","basePageUrl","operationType","setLayoutSaved","laidOutLibraryItems","flatMap","libraryItemMapByIdObject","setSectionsAndNavigate","handleSaveLayout","backButton","updatedColumn","sourceIndex","destinationIndex","parsedItemId","moveItemWithinColumn","parsedDraggableId","oldDestItemId","draggableIndexInFinish","updatedFinishLibItemIds","draggableIndexInStart","updatedStartLibItemIds","updatedStartLibItemIdsLength","swapLibraryItems","ContentTable","columns","initialSortColumn","initialSortDirection","rowClassFunction","renderSubRowComponent","useTable","disableMultiSort","disableSortRemove","sortBy","desc","useSortBy","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","columnSortIconClassname","isSorted","isSortedDesc","headerGroup","getHeaderGroupProps","headers","getHeaderProps","getSortByToggleProps","row","rowIndex","rowData","getRowProps","cells","cell","cellIndex","getCellProps","FitToPage","retrievePages","selectedReportId","setPagesHandler","allReportPages","allIngestedPageLibraryItems","ingestedPageNamesWithReportId","PageName","pagesNotIngested","PowerBiPageIngestion","reportOptions","setSelectedReportId","selectedPage","setSelectedPage","embeddedData","setEmbeddedData","setPages","selectedPageName","setSelectedPageName","getPowerBiEmbedConfigurationBase","load","pagesToMap","isPageSelectDisabled","characterLimit","handlePageOnChange","PowerBiSelectionContainer","ingestionType","filteredReportOptions","powerBiReportContainerRef","currentReportId","setCurrentReportId","handleReportSelectionChange","POWERBI_INGESTION_TYPES","PowerBiIngestionModalBody","pbiItems","handleSuccessfulIngestion","reportList","setReportList","filteredReportList","setFilteredReportList","setIngestionType","ingestionError","setIngestionError","refreshReports","reports","formattedReports","pbiReportIds","filteredReports","handleIngest","o","pageDisplayNameWithReportName","ingestionTypeField","ingestionTypeOptions","initialErrorState","fileError","slideNumberError","groupNameError","noAvailableGroupsError","ErrorActionType","ErrorAction","NoFilesInSharePointError","NoSlidesInPowerPointFileError","NoGroupsInPowerPointSlideError","NoAvailableGroupsInPowerPointSlideError","FailedRetrievingPowerPointSlides","IngestionError","Clear","initErrorState","errorReducer","IngestionErrorsStateContext","IngestionErrorsDispatchContext","useIngestionErrorsState","useIngestionErrorsDispatch","useIngestionErrors","IngestionErrorsProvider","formIsValid","PowerPointIngestButton","setSlideNumber","setGroupName","errorDispatch","getPowerPointFileList","getPowerPointSlides","fileId","PowerPointFileName","pptFiles","setFileName","setSelectedFileOption","setPptFiles","errorState","fileOptions","file","generateFileOptions","handleFileNameChange","selectedFileOption","fileNameField","files","getFiles","PowerPointGroupName","groupNames","isSlideListLoading","handleGroupNameChange","groupNameField","slideGroupOptions","allOptionsAlreadyIngested","PowerPointSlideNumber","setSharePointItemUrl","ingestedPowerPointGroups","setSlides","setIsSlideListLoading","slideOptions","setSlideOptions","driveUrl","newSlideList","pptSlide","getSlides","handleSlideNumberChange","slideNumberField","IngestionErrorMessage","PowerPointIngestionModalBody","slides","setGroupNames","ingestedGroups","alreadyIngested","dictionary","groupsForSlideNumber","slide","availableGroupNames","getGroupNameOptionsPerSlide","StartIngestionModalBody","handleStartClick","selectedType","setSelectedType","radioGroupField","modalContentType","IngestLibraryItemModal","setModalContentType","showBack","setShowBack","header","setHeader","DateCell","POPOVER_STATES","popoverState","setPopoverState","fetchIsDeletable","deletable","handleClose","handleToggle","getPopoverData","close","popoverData","useLibraryItemDeletion","getLibraryItemTypeDisplayName","libraryItemTypeValue","getColumnConfig","setAllItems","setSortColumnName","setSortColumnDirection","setSelectedLibraryItemIds","onDeleteLibraryItem","accessor","sortType","SortUtilities","caseInsensitiveAlphaSort","Cell","checkboxId","selected","oldSelectedLibraryItemsIds","newSelectedLibraryItemIdSet","currentSort","disableSortBy","EmptyLibraryItemsListCard","LibraryItemListContainer","returnUrl","setPbiItems","sortColumnDate","setSortColumnDate","sortColumnDirection","getSelectedItemIds","selectedLibraryItemIds","isPowerpointIngestionSuccessful","setIsPowerpointIngestionSuccessful","showStartIngestionModal","setShowStartIngestionModal","refreshList","fetchedLibraryItems","filteredLibraryItems","li","ingestedPbiItems","returnToOverview","previouslyLaidOutLibraryItemIds","currentlyLaidOutItemIds","selectedItemId","newNonLaidOutLibraryItemIds","getSectionsFromSelectedItems","fli","libraryItemJson","DriveItemId","SlideNumber","GroupName","notice","newItem","RichTextEditorFormikField","form","newValue","FreeformAnalysisForm","analysisBody","publishAction","cancelAction","formTitle","appliedTags","setErrorType","setIsSaving","formErrors","setFormErrors","setTags","setTitle","setBody","setIsValid","isPublishError","titleFieldError","generalError","narrs","narrativesWithoutThisAnalysis","errorValues","checkIsValid","handleTitleValidationChange","errorMsg","previousFormErrors","bodyField","handlePublish","getContentErrorType","handleTagSelect","enableReinitialize","CreateFreeformAnalysis","goBack","EditFreeformAnalysis","setAnalysis","analysisData","redirectToAnalysisDetailPage","isViewingToggled","isProcessing","calcEngine","createReducer","processingBegan","processingEnded","viewingToggledUpdated","resetAllToggles","getCalcEngineIsProcessing","getIsViewingToggled","structuredAnalysisViewSlice","startProcessing","_action","processingSucceeded","documentsWithContent","processingFailed","resetCalculationDataForDocument","updatedDocuments","structuredAnalysisViewReducer","reducer","getStructuredAnalysisViewLoadingInProcess","structuredAnalysisView","getStructuredAnalysisViewHasError","getStructuredAnalysisViewDocumentsWithContent","getStructuredAnalysisViewDocumentsWithContentForDocument","resetAllCalculationDataByDocumentCode","resetCalculationDataByDocumentCodesThunk","shortDescription","longDescription","getLongDescriptionByDocumentAndAdjustment","adjustmentKey","longDescriptionsByCode","longDescriptionReducer","longDescriptionUpdated","codeDescriptions","getRichTextLongDescription","adjustmentRowId","matchingLibraryItemLink","textKey","richTextObject","relatedTextKey","childrenData","childItemIds","basisOfPresentation","selectedAdjustment","subheader","plainText","adjustmentMetadata","adjustmentGroup","structuredDocumentDescriptionSlice","loadDescriptionBegin","loadDescriptionComplete","descriptionResetToBasisOfPresentation","basisOfPresentationSet","libraryItemLinksSet","getAnalysisDescription","setDescriptorForAdjustmentThunk","defaultLongDescription","dynamicLongDescription","descriptionPayload","saveDocumentDescriptionThunk","root","childItems","adjustmentMeta","structuredDocumentDescription","dispatchLibraryItemLinksSet","fetchLibraryItems","adjustments","facts","timePeriodMetadataIngested","timePeriodFlags","trimIfString","String","constructCompositeKey","prefix","keyIndexes","suffix","identifiers","deconstructAdjustmentKey","delimiter","adjustmentNumber","adjustmentCategory","trialBalanceAccount","timePeriod","deconstructFactKey","uniqueAccountId","aggregator","ebitdaFlag","selectOrEmpty","part","selection","selectOrInit","accumulateAdjustmentsFromDataRows","headerRow","dataRows","configJson","adjustmentsAccumulator","financialPeriodHeaders","summableColumnStartIndex","rowHeaders","keyPositions","updatedAdjustmentType","reconstructKeyForDdl","adjustmentTypeState","accumulateFactsFromDataRows","factsAccumulator","transformIngestedDataByDocumentCode","documentJson","documentRows","headerRowIngested","rowIngestedAction","rowIngested","rowType","adjustmentsForDocument","adjustmentsForDocumentUpdated","factsForDocument","factsForDocumentUpdated","linkedAdjustmentKeyBuilder","adjustmentName","keyParser","requestBuilder","sourceAdjustment","targetAdjustment","sourceItems","targetItems","sourceDocumentCode","sourceAdjustmentType","sourceAdjustmentNumber","sourceAdjustmentName","targetDocumentCode","targetAdjustmentType","targetAdjustmentNumber","targetAdjustmentName","buildPathForStructuredAnalysisAdjustmentLinks","postLinkedAdjustment","deleteLinkedAdjustment","getDeletedLinkedAdjustments","initialLinkedAdjustments","modifiedLinkedAdjustments","ia","ma","saveLinkedAdjustments","newLinkedAdjustments","la","newId","deletedLinkedAdjustments","all","dla","adj","fetchLinkedAdjustmentsByCode","linkedAdjustmentsForDocumentUpdated","linkedAdjustments","dispatchLinkedAdjustmentsForDocument","fetchVersionsForDocuments","documents","doc","results","addVersionsToDocumentsWithContent","versionsForDocuments","documentVersions","removeRawCellDataFromDocuments","cloone","rawCellData","processSingleDocument","configurationValues","transformAllIngestedDataThunk","documentCodeForReview","contentAnalysis","documentsWithContentAndVersions","trimmedDocumentsWithContent","clearDataAndtransformAllIngestedStructuredDocumentsThunk","documentSetups","REPORTED_INCOME_STATEMENT","BALANCE_SHEET","setup","useStructuredAnalysisContainer","searchParams","hasIngestionError","hasAlreadyLoadedHack","setHasAlreadyLoadedHack","isConfirmVisible","setIsConfirmVisible","isCommentPanelOpen","reIngestingDocuments","initialViewingAsClient","viewingAsClient","setViewingAsClient","initializingData","chartKey","setChartKey","incrementChartKey","chartKeyPrevState","fetchAnalysis","handleRefresh","isClientView","hasLoadingError","handleEdit","SourceDisplay","sourceText","ConnectedContent","fetchedNarratives","fetchNarratives","NotesDisplay","getAdjustmentTogglesByDocument","createSelectorGetAdjustmentTogglesForDocumentCode","adjustmentTogglesByDocument","getAdjustmentTogglesForQofE","getAdjustmentTogglesForNwc","getAdjustmentTogglesForDdl","getAreAdjustmentsToggledFromDefault","adjustmentsByDocument","_pipe","_filter","active","ClientManipulationBar","shouldShow","data-appbanner","ReadOnlyRichTextEditor","setEditor","execute","rendered","initializeCKEditor","readOnlyCkEditorConfig","NonEditableTextEditor","OutsideClickHandler","CustomTag","AnalysisDescription","isViewingSharedVersion","editMode","setEditMode","hasRichText","persistRichText","shouldShowEditButton","aria-live","aria-level","StructuredAnalysisErrorCard","reload","StructuredAnalysisHeader","screenReaderPointDescriptorFactory","point","processedDescription","accessibility","processedValue","pxToRem","px","makeDefaultChartOptions","pointDescriptorFn","chart","Highcharts","colors","styledMode","spacing","announceNewData","interruptUser","minAnnounceInterval","descriptionFormatter","caption","align","useHTML","color","fontSize","fontFamily","fontWeight","credits","xAxis","labels","yAxis","legend","series","makeDefaultNwcChartOptions","itemStyle","plotOptions","line","lineWidth","tickAmount","gridLineColor","getChartDisplayLabel","labelColor","financialDisplayValue","textLabelStyle","createDataPoint","isSum","xIndex","lineGlobalColors","barGlobalColors","getTimePeriodsByCode","getTimePeriodMetadataByCode","createSelectorGetTimePeriodsForDocumentCode","timePeriodsByCode","getTimePeriodsForQofE","getTimePeriodsForNwC","getTimePeriodsForDdl","getTimePeriodMetadataForNwc","timePeriodMetadataByCode","getTableTimePeriodsMetadataForNwc","nwcTimePeriodMetadata","getChartTimePeriodsMetadataForNwc","filterActiveTimePeriods","timePeriods","flags","getActiveTableTimePeriodsForNwc","getActiveChartTimePeriodsForNwc","getReportedRevenue","getReportedEbitda","getCurrentAssets","getCurrentLiabilities","getReportedWorkingCapital","assets","liabilities","currentTimePeriod","asset","liability","workingCapital","sanitizedWorkingCapital","sumIfNumber","augend","addend","candidate","isCalcParticipatingAdjustmentType","textLowerCase","getAdjustmentSumsByCode","plainSums","toggledSums","getAdjustmentTypesByCode","createSelectorGetAdjustmentSumsForDocumentCode","adjustmentSumsByCode","createSelectorGetAdjustmentSumsParticipatingInCalculationsForDocumentCode","adjustmentTypes","adjustmentSumsForCode","nonTotalsKeys","_pickBy","createSelectorGetAdjustmentSumsNotParticipatingInCalculationsForDocumentCode","createSelectorBuildAdjustmentOptions","adjustmentTypesByCode","adjustmentTypesForDocument","spaceIndex","getAdjustmentSumsParticipatingInCalculationsForQofE","getAdjustmentSumsNotParticipatingInCalculationsForQofE","getRevenueAdjustmentsForQofE","createSelectorGetRevenueAdjustmentsForDocumentCode","getAdjustmentOptionsForQofE","getAdjustmentSumsForNwc","getAdjustmentOptionsForNwc","getAdjustmentOptionsForDdl","reduceAdjustmentTypeContributionsWithRunningTotals","adjustmentSums","runningTotals","getLabelFn","contributions","typeKey","totalsByPeriod","currentTypeTotals","typeTotals","period","getAdjustmentTypesEbitdaContributionForQofE","qofeTimePeriods","reportedEbitda","totals","getAdjustmentSumsParticipatingInCalculationsForNwc","getAdjustmentSumsNotParticipatingInCalculationsForNwc","getAdjustmentSumsNotParticipatingInCalculationsForDdl","getAdjustmentTypesWorkingCapitalContributionForNwc","nwcTimePeriods","reportedWorkingCapital","getAdjustedWorkingCapitalForNwc","adjTotalForPeriod","workingCapitalForPeriod","adjustedWorkingCapital","sanitizedAdjustedWorkingCapital","getChartTimePeriodsAdjustedWorkingCapitalForNwc","chartPeriodsAdjustedWorkingCapital","getAdjustmentSumsForDdl","pickAdjustmentType","targetType","createTotalsPlaceholderForAdjustmentType","getAdjustmentTotalsForAdjustmentType","allAdjustments","getBankDebtAdjustmentSumsForDdl","flattenedAdjustments","_map","createSelectorGetFlattenAdjustmentObjectsByCodes","getLessCashAdjustmentSumsForDdl","getDebtLikeItemAdjustmentSumsForDdl","getNetDebtForDdl","bankDebt","lessCash","bankDebtForPeriod","lessCashForPeriod","netForPeriod","getNetDebtAndDebtLikeForDdl","netDebt","debtLikeItems","netDebtForPeriod","debtLikeItemsForPeriod","prepAdjustmentSumsForTable","adjustmentSumsKeys","isLastGroup","getTableReadyAdjustmentSumsParticipatingInCalculationsForQofE","getTableReadyAdjustmentSumsNotParticipatingInCalculationsForQofE","getTableReadyAdjustmentSumsParticipatingInCalculationsForNwc","getTableReadyAdjustmentSumsNotParticipatingInCalculationsForNwc","getTableReadyBankDebtAdjustmentSumsForDdl","getTableReadyLessCashAdjustmentSumsForDdl","getTableReadyDebtLikeItemAdjustmentSumsForDdl","getTableReadyAdjustmentSumsNotParticipatingInCalculationsForDdl","qofeAllAdjustmentTotalSelector","getAdjustedEBITDA","reportedEBITDA","qofeAllAdjustmentTotals","sums","adjustmentTotals","sumForCurrent","getAdjustedRevenue","reportedRevenue","qofeRevenueAdjustments","qofeTimePeriod","revenueAdjustmentForPeriod","revenueForPeriod","adjustedRevenueForPeriod","getPercentOfRevenue","currentRevenue","currentEbitda","percentOfRevenue","formattedPercentOfRevenue","getPercentOfAdjustedRevenue","adjustedRevenue","adjustedEbitda","QofEBridgeChart","highchartsAccessibility","highchartsMore","marginTop","lineColor","upColor","borderWidth","pointPadding","responsive","rules","condition","chartOptions","rotation","overflow","waterfall","pointPlacement","makeDefaultQofEBridgeOptions","setChartOptions","financialsDisplaySettings","shallowEqual","qofeFinancialPeriods","qofeAdjustmentSumsParticipatingCalculations","seriesData","qofeReportedEbitda","qofeAdjustedEbitda","qofeAdjustments","last","reportedEbitdaValue","reportedEbitdaDataPoint","adjustmentDataPoints","dataPoint","isNumber","adjustedEbitdaValue","adjustedEbitdaDataPoint","createQofESeries","lastFinancialPeriod","_last","highcharts","getLinkedAdjustmentsByDocument","createSelectorGetLinkedAdjustmentsAsSourceForDocument","documentLinkedAdjustments","sourceLinkBuilder","sourceDisplayName","targetDisplayName","documentAsSourceLinkBuilder","sourceAdjustmentDisplayName","targetAdjustmentDisplayName","foundSourceAdjustment","foundTargetAdjustment","isSourceBroken","isTargetBroken","linkValidator","queryString","getLinkedAdjustmentsAsSourceForQofE","getLinkedAdjustmentsAsSourceForNwc","getLinkedAdjustmentsAsSourceForDdl","adjustmentToggled","findRelatedLinksForRoot","rootAdjustment","allAdjustmentLinks","relatedLinks","linkedAdjustment","toggledAdjustment","matchesTarget","cur","alreadySolved","solutions","relatedAdjustment","found","recursivelyFindRelatedAdjustments","solutionForPath","accumulatingSolutions","nextPath","getAllRelatedLinksForSelectedAdjustment","mergeRelatedLinks","_uniqWith","_isEqual","adjustmentToggledThunk","getUniqueLinkedAdjustments","_getOr","_uniqBy","allUniqueLinks","relatedLink","AdjustmentToggle","FinancialValue","showColumnHighlight","aria-hidden","AdjustmentControlsColumn","scope","getLinksDescriptor","hasLinks","hasBrokenLinks","LinkedAdjustmentLinkIcon","interactive","outline","LinkedAdjustmentPopover","adjustmentLinks","targetDoc","targetDocLinks","sortedTargetDocLinksForPopover","_sortBy","documentDisplayName","getLinksPopoverData","targetDocumentUrl","AdjustmentLinkOverlayTrigger","setSelected","linksDescriptor","OverlayTrigger","trigger","overlay","onToggle","Adjustment","adjustment","showToggle","disableToggle","isPublishMode","isFinalRow","isNwcTable","inactive","aria-controls","isLastNPeriod","AdjustmentGroupSummary","totalOverrideValue","AdjustmentGroupDetails","showTotalRow","showToggles","adjustmentToggles","disableAllToggles","adjustmentNamesInGroup","g","isAdjustmentToggledActive","getAdjustmentIsToggledActive","linkSourceType","linkSourceDisplayName","getLinksForAdjustment","FinancialSpacer","AdjustmentGroupExpansionButton","LinkedAdjustmentIconHeader","AdjustmentGroupHeader","AdjustmentGroupEbitdaContribution","rowDescription","isTotalsRowStyle","AdjustmentGroupWorkingCapitalContribution","AdjustmentGroup","ebitdaContributions","workingCapitalContributions","nameOfAdjustmentToExpand","renderCount","isExpanded","setIsExpanded","groupLinksDescriptor","linksForGroup","getGroupLinksDescriptor","areAdjustmentsToggledFromDefault","isExpandedPrev","AdjustmentGroupForMode","linkedAdjustmentsForMode","showTogglesForMode","adjustmentTogglesForMode","FinancialHeader","OverallTableHeader","ReportedFinancials","rowText","financials","DebtDebtLikeTable","forUseWithPublishingSSRService","ddlFinancialPeriods","bankDebtAdjustmentSums","lessCashAdjustmentSums","debtLikeItemAdjustmentSums","netDebtAndDebtLike","notParticipatingAdjustmentSums","ddlAdjustmentToggles","adjustmentTypeGroup","NetWorkingCapitalChart","categories","lineHeight","formatter","nwcValue","FinalBorderRow","NetWorkingCapitalTable","nwcTableViewTimePeriods","participatingAdjustmentSums","adjustmentTypesWorkingCapitalContribution","currentAssets","currentLiabilities","nwcAdjustmentToggles","displayAsPercent","PercentageRow","slugify","QofETable","adjustedRev","adjustmentTypesEbitdaContribution","percentOfAdjustedRevenue","qofeAdjustmentToggles","NullComponent","tableComponent","chartComponent","structuredComponentToDocumentCodeMap","StructuredAnalysisView","initialPaneOneAvailable","initialPaneTwoAvailable","initialPaneThreeAvailable","TableComponent","tableForDocumentCode","ChartComponent","chartForDocumentCode","Controls","HeaderContent","PaneOne","PaneTwo","PaneThree","SourceContent","notes","DebtDebtLikeContainer","getLinkedAdjustmentsRoot","getLinkedAdjustmentsByCode","getLinkedAdjustmentsNodeForDocumentCode","buildLinkedAdjustmentAsSourceForDocument","ActiveContentDraftHeader","_errors","_touched","SourceInput","helperText","helperIcon","helperIconColor","LibraryItemSelect","setLibraryItems","groups","flattenedOptions","selectTestId","optiongroup","SelectablePill","selectedLabel","selectedValue","getLabelFromOptions","pillText","isAdjustmentBroken","DocumentAndAdjustmentPill","onDocumentChange","onAdjustmentChange","documentOptions","adjustmentOptions","documentValue","adjustmentValue","selectedDocumentLabel","selectedAdjustmentLabel","getTaregtPillText","LinkedAdjustment","targetDocumentOptions","onToggleEditMode","targetDocument","setTargetDocument","setSourceAdjustmentName","setTargetAdjustmentName","targetAdjustmentOptions","setTargetAdjustmentOptions","isAddButtonDisabled","isValueEmpty","v","QofE","NWC","DDL","nameBuilder","LinkedAdjustments","formValues","enableAddNewLinkedAdjustment","setEnableAddNewLinkedAdjustment","finishAddingNewLinkedAdjustment","adjustmentToAdd","valueToDelete","adjustmentsForUpdate","updatedValue","NotesInput","AnalysisForm","canEditTitle","showLibraryItemPicker","showLinkedAdjustments","showNotes","analysisSchema","Yup","required","EditStructuredAnalysis","getReturnPath","currentTags","setCurrentTags","tagsUpdated","setTagsUpdated","structuredAnalysisDocumentsWithData","setStructuredAnalysisDocumentsWithData","docsWithDataFetchStatus","setDocsWithDataFetchStatus","analysisFetchStatus","setAnalysisFetchStatus","gotoViewChart","structuredDocumentsResponse","structuredAnalysisDocument","returnedAnalysis","allContent","fetchData","initialFormTags","tagsFromAnalysis","initialFormValues","validationSchema","validateOnChange","DebtDebtLikeForm","NetWorkingCapitalContainer","NetWorkingCapitalEditForm","QofEContainer","QofEEditForm","getIsCurrentRouteAStructuredAnalysisRoute","getLocation","currentLocation","currentKeyPath","endsWith","getAppBannerConfig","isStructuredAnalysisLocation","showBanner","StructuredAnalysisViewingToggledDataBanner","showDisclaimerModal","withStructuredContainer","WrappedStructuredContainer","ToggledDisclaimerModal","showModal","closeModal","centered","StructuredAnalysisContainer","openModal","ReportBuilderLink","AnalysisReportPreview","isReportLoading","setIsReportLoading","fetchReportPreview","analysisVersion","loadStructuredAnalysisThunk","loadAnalysisThunk","analysisLink","basePath","qofEContainer","nwcContainer","ddlContainer","AnalysesContentRouter","routes","projectPermissionRoutes","createCustomAnalysisHref","createCustomAnalysis2Path","locationToAdd","DragAndDropContext","DragAndDropContextProvider","setAddLibraryLocation","droppable","sectionLayoutConstants","LAYOUT_TO_ICON","ReportLayoutIcon","SectionControls","controlsActive","handleMoveSection","moveUp","remove","iconProperties","setIconProperties","excelTable1","isError","errorCode","mouseClick","setMouseClick","fieldRef","onMouseDown","scrollTo","left","scrollY","onMouseUp","ObjectInjestEmptyClipboardModal","ObjectInjestPopoverContent","onInsertPowerBi","noClipboardShow","setNoClipboardShow","ObjectInjestPopover","onPopover","popOver","useDragAndDrop","onAddItem","mouseOver","setMouseOver","hideClearSectionButton","clearSection","clearSectionHover","setClearSectionHover","padding","onMoveSection","auxSections","indexToMove","LAYOUTS_BY_TYPE","layoutsByType","idx","handleCollapse","clickOutside","newStructure","clearAddLibraryLocation","nonLaidOutLibraryItems2","fieldName","getTitleFieldError","AnalysesContentRouter2","userAnswer","SURVEY_DIRECTION","CONTENT_TYPE_SURVEY","contentResponsesRoute","surveyRoute","surveySectionRoute","surveyQuestionRoute","nextRoute","previousRoute","formatContentResponsesRoute","formatSurveyRoute","formatSurveySectionRoute","sectionPath","formatSurveyQuestionRoute","questionId","formatNextRoute","require","httpAction","DD_REDUCER","coerceDivestitureDiagnosticResults","divestitureDiagnosticResults","fetchDivestitureDiagnosticResultsStatus","pending","success","resetDivestitureDiagnosticResultsStatus","saveCategoriesStatus","saveOverallComplexityStatus","resetDivestitureDiagnostic","fetchDivestitureDiagnosticResultsBegan","fetchDivestitureDiagnosticResultsSuccess","fetchDivestitureDiagnosticResultsError","resetDivestitureDiagnosticResultsBegan","resetDivestitureDiagnosticResultsSuccess","resetDivestitureDiagnosticResultsError","saveCategoriesBegan","saveCategoriesSuccess","saveCategoriesError","saveOverallComplexityBegan","saveOverallComplexitySuccess","saveOverallComplexityError","resetSaveCategoriesStatus","resetSaveOverallComplexityStatus","fetchDivestitureDiagnosticResults","verb","httpClient","getFetchDivestitureDiagnosticResultsStatus","divestitureDiagnostic","getDivestitureDiagnosticResults","getResetDivestitureDiagnosticResultsStatus","getEditMode","getSaveCategoriesStatus","getSaveOverallComplexityStatus","getCurrentContentTypeFromURL","router","matchPath","Score","scoreType","minified","DivestitureDiagnosticUtility","calculateScoreText","getScoreTitle","ScoreView","category","initialValue","isTitleBold","SidebarNavItem","activeClassName","ReviewResponsesNavItem","navText","reviewResponsesPath","ResultsSidebar","overallDealComplexity","cat","parentId","categoryId","nextQuestionPath","orderNumber","submitAnswerPath","fetchSurveyResponsesPath","resetAnswersPath","postResponsesPath","previousQuestionPath","SURVEY_REDUCER","fetchQuestionStatus","postAnswerStatus","putAnswerStatus","submitAnswerStatus","fetchSurveyResponsesStatus","resetAnswersStatus","postResponsesStatus","question","surveyComplete","surveyResponses","fetchQuestionBegan","fetchQuestionSuccess","nextAnswer","fetchQuestionError","postAnswerBegan","postAnswerSuccess","postAnswerError","putAnswerBegan","putAnswerSuccess","putAnswerError","resetSubmitAnswerStatus","fetchSurveyResponsesBegan","fetchSurveyResponsesSuccess","fetchSurveyResponsesError","resetAnswersBegan","resetAnswersSuccess","resetAnswersError","postResponsesBegan","postResponsesSuccess","postResponsesError","resetFetchSurveyResponsesStatus","getQuestionById","questions","q","resetFetchQuestionStatus","resetQuestion","resetPostResponsesStatus","resetResetAnswersStatus","postAnswer","answer","ans","submitAnswerBatchPath","fetchSurveyResponses","getQuestion","survey","getSurveyResponses","getResetAnswersStatus","getPostResponsesStatus","getFetchQuestionStatus","getFetchSurveyResponsesStatus","getSubmitAnswerStatus","getSurveyResponsesCompleted","completed","SectionNav","fullSectionPath","inProgress","numQuestionsAnswered","numQuestionsTotal","total","displaySteps","diagnostic","diagnosticDebuggingControls","SurveySideBar","setSections","prefillSurveyError","setPrefillSurveyError","sectionsWithCompletionStatus","sectionCompletionStatus","completionStatus","cs","addCompletionStatuses","prefillSurvey","expectedRoute","sortedSections","featureFlags","DivestitureDiagnosticSidebarRouter","SurveyProceed","isReadyToProceed","questionOrder","navigateBackward","fetchNextQuestion","fetchPreviousQuestion","redirectPath","formatAnswer","optionId","compareNewAnswerToExistingAnswer","allAnswers","existingAnswers","existingAnswer","QuestionSectionHeader","toggleOption","selectedOption","currentOption","QuestionMultiselect","setUserAnswer","setIsAnswerValid","setOptions","responses","answers","tempOptions","formatOptions","selectedOptionValues","updatedOptions","QuestionPercent","setErrorMsg","QuestionRadio","QuestionType","QuestionComponent","QuestionFooter","onNext","onPrevious","skipPath","isNextDisabled","isBackDisabled","proceedPath","formatPreviousRoute","navigateToNextQuestion","Question","isAnswerValid","totalSteps","setTotalSteps","totalAnswered","setTotalAnswered","surveyDirection","setSurveyDirection","isConditionalQuestion","setIsConditionalQuestion","fetchQuestionPending","submitAnswerSuccess","submitAnswerPending","isFirstQuestion","prev","conditions","showProgressBar","submitAnswer","answerId","foundAnswer","getAnswerId","putAnswer","onProceed","formattedAnswer","SurveySection","resetAnswerSuccess","SurveyRedirectToQuestionInSection","setRedirectPath","firstQuestionId","getFirstQuestionInSection","RedirectIfDivestitureResults","SurveyRouter","renderSurveyRedirect","strict","SurveyWelcomeModal","questionBasedText","setQuestionBasedText","dialogClassName","backdrop","Description","onDescriptionChange","isDescriptionEditable","isEditMode","isEditable","ScoreTextInput","onScoreChange","ComplexityScaleWrapper","initial","modified","highLow","showTooltip","isModified","originalValue","originalLabel","modifiedValue","modifiedLabel","Overview","thisCategory","categoryCaption","DealComplexityOverview","selectedCategory","newDescription","ResultsHeader","saveDisabled","editDisabled","cancelDisabled","onSave","InitialDescription","initialDescription","Subcategory","subcategory","originalCategories","isDescriptionAdjusted","editableSubcategoryId","originalSubcategory","originalCategory","getIsDescriptionAdjusted","TopLevelCategoryOverview","subcategories","sub","validateScore","validateCategoryOnChange","immutableCategory","editableCategory","immutableSubcategories","editableSubcategories","hasChanged","performValidation","immutable","editable","filterSubCategories","DivestitureDiagnosticResults","setSaveDisabled","editableSelectedCategory","setEditableSelectedCategory","isFetchDDResultsPending","isSaveCategoriesPending","isSaveCategoriesSuccessful","isSaveOverallPending","isSaveOverallSuccessful","isSavePending","isSaveSuccessful","setSubcategories","previousCats","newCats","originalSubcategories","isSavable","updateCategory","editedCategoryId","categoryToEdit","updatedCategory","updatedSubcategories","overallComplexity","saveOverallComplexity","saveCategories","resetDivestitureDiagnosticResults","Category","overallComplexityPath","ResultsRouter","fetchingResults","fetchDDSuccess","Response","questionType","shouldRenderResponse","ResponseSection","sectionTitle","isResultsRoute","AdditionalCommentsForm","additionalComments","AdditionalCommentsView","commentOrDefault","AdditionalCommentsSection","formatTextAnswer","foundOption","formatRadioAnswer","formatMultiselectAnswer","formatFoundAnswer","formatSurveyResponses","ReviewResponses","isSurveySubmitted","resetAnswersPending","postResponsesPending","fetchSurveyResponseStatus","surveyResponsesCompleted","setIsClient","setHasPermission","setAdditionalComment","isSurveyRoute","userRole","approverPermission","additionalComment","postResponses","resetAnswers","ResetAnswersRedirect","ResponsesRouter","DivestitureDiagnosticContent","fetchDDPending","DivestitureDiagnosticContentRouter","HypothesisForm","hypothesisSchema","CreateHypothesis","formikRef","defaultHypothesis","resetForm","validateForm","cancelAndGoBack","gotoHypothesisView","validateOnMount","useLinkedNarratives","linkedNarrativesChanged","setLinkedNarrativesChanged","originalNarratives","setOriginalNarratives","narrativeCompositeKey","narrativesToTransform","EditHypothesis","hypothesisContentThreadId","setHypothesis","ViewHypothesis","setVersions","showDeleteConfirmation","setShowDeleteConfirmation","handleDeleteHypothesis","gotoEditHypothesis","Accordion","AccordionConnectedContent","DisplayableContent","AnalysisTitleLink","InsightsTableRow","hypothesisIndex","insightIndex","insightUrl","AnalysesTableRow","AnalysesAndInsightsTable","allInsightConnectedAnalyses","distinctDirectlyConnectedAnalyses","connectedAnalysis","totalAnalysesCount","hasConnectedInsights","hasConnectedAnalyses","ConnectedKfasSection","primaryKfaIndex","connectedKfa","connectedKfaIndex","HypothesisGridCard","narrativesForAccordion","HypothesesGrid","kfasFilteredByTags","projectHasKfas","noop","processDeleteFn","setProcessDeleteFn","handleEditHypothesis","handleDeleteConfirmation","processConfirmedDeleteForId","hasDataForTagFilters","HypothesesListContainer","setIsError","kfasWithHierarchicalConnectedContent","setKfasWithHierarchicalConnectedContent","projectKfasWithHierarchicalConnectedContent","hypothesisTags","orderedHypotheses","HypothesesContentRouter","InsightsGridCard","InsightsGrid","handleEditInsight","InsightsListContainer","setInsights","useLayoutEffect","projectInsights","handleDeleteInsight","filteredInsights","insightTags","orderedInsights","InsightForm","insightSchema","CreateInsight","defaultInsight","gotoInsightsView","ViewInsight","insightContentThreadId","insightVersions","gotoEditInsight","EditInsight","setInsight","gotoInsightsList","gotoInsightView","InsightsContentRouter","NotificationsContentRouter","NotificationComponent","getProjectDisclaimer","setProjectUserAccepted","updateProjectDisclaimer","disclaimerText","disclaimerHtml","projectDisclaimersSlice","setDisclaimer","disclaimer","acceptDisclaimer","setIsLoadingDisclaimer","setProjectDisclaimer","acceptProjectDisclaimer","setProjectDisclaimerIsLoading","getProjectDisclaimerSelector","projectDisclaimers","loadProjectDisclaimerThunk","getDistanceLeftToScroll","clientHeight","ProjectDisclaimerView","projectDisclaimer","hasScrolledToBottom","setHasScrolledToBottom","hasScrollableText","setHasScrollableText","waitingForDisclaimerAcceptanceCall","setWaitingForDisclaimerAcceptanceCall","textRef","handleTextScroll","distanceLeftToScroll","handleTextScrollMobile","updateHasScrollableText","amountCanScroll","onScroll","acceptProjectDisclaimerThunk","ProjectDisclaimerRouter","ReportsContentRouter","CheckboxFormikField","RadioGroupFieldset","isContainsMatchBuilder","searchText","optionLabel","lowercaseLabel","allPartialsFound","partial","isMatchFunc","SelectMultiple","selections","isMatchBuilder","minimumSearchStringLength","noMatchElement","setSearchText","matches","setMatches","shouldShowApply","setShouldShowApply","resetSearch","pills","updatedSelections","onSelectionRemoved","displayedOptions","m","updatedMatches","updatedMatch","updatedSearchText","isMatchFuncBuilder","isMatch","getMatchingOptions","findMatches","unselectedMatches","selectedMatches","removeUnselectedMatches","addSelectedMatches","applySelectedMatches","TextAreaFieldset","TextInputFieldset","getIndustryOptions","projectOptions","industry","getServiceOptions","service","useProjectOptionsFromApi","setProjectOptions","industryOptions","serviceOptions","dealOptions","defaultRestrictionOption","restrictionOptions","financialMagnitudeOptions","currencyOptions","TERRITORIES","UNITED_STATES","UNITED_KINGDOM","financialsDecimalCountOptions","projectType","getProjectType","getDefaultValue","defaultWhere","consentLevelOptions","step1Schema","moreThan","clientName","consentLevel","User","step2Schema","of","projectSettingsSchema","getUserByRole","ProjectDetails","handleSubmit","updatedFormValues","projectForUpdate","services","asString","clientTypeRestriction","territory","MANAGE_USERS","formikField","matchOnStartsWith","alignItems","marginRight","ProjectLoader","getProjectApproval","callPauseEndpoint","approvalId","callPauseApprovalEndpoint","callReactivateApprovalEndpoint","approveRequestUnarchiveProject","declineRequestUnarchiveProject","cancelRequestUnarchiveProject","setProjectStatus","approvals","fetchProjectApprovals","archiveProject","requestArchiveProject","unarchiveProject","cards","overview","secondaryText","rightButton","leftButton","warnings","approveRequest","cancelRequest","getScenarioCards","canApprove","canRequest","cardsToDisplay","leftCard","rightCard","leftCardConfirm","rightCardConfirm","leftCardAction","rightCardAction","leftCardNextState","rightCardNextState","warningCard","warningCardApproveAction","warningCardCancelAction","isUserPrivilegedToApprove","isUserPrivilegedToRequest","pauseParams","approvalParams","isRequestedToBePaused","pauseApprovalId","isRequestedToBeArchived","archiveApprovalId","isRequestedToBeReactivated","isRequestedToBeUnarchived","reactivateApprovalId","unarchiveApprovalId","checkIfUserHasRole","_role","WarningCard","warning","onAccept","StateChangeCard","flow","ProjectStateChangeCards","projectApprovals","getProjectApprovals","approvalsChart","approval","approvalType","requestId","isPendingState","isLeftCardClicked","setIsLeftCardClicked","isRightCardClicked","setIsRightCardClicked","_user","USER_ROLES","ENGAGEMENT_LEAD","ENGAGEMENT_MANAGER","canUserApproveChange","APPROVER","TEAM_MEMBER","PROJECT_ADMIN","canUserRequestChange","refetchProjectsAndApprovals","handleOnLeftCardClick","handleOnCancelClick","handleOnApprove","handleOnDecline","ResetLink","onResetCountdown","isSpinnerVisible","isLinkVisible","ProjectStatus","ProjectRoleUserPill","showEmail","onTogglePending","withToggleCLass","pendingClass","wasPending","newlyAdded","pendingApprovedClass","pendingApprovalClass","iconColorClass","pillId","userSearchService","maxResultCount","userSearchServiceCancelToken","timeoutSeconds","SEARCH_USER_API_SEARCH_TIMEOUT_IN_SECONDS","resultsFromServer","hasAvailableUsers","availableUsers","renderLoadingIndicator","renderErrorMessage","renderNotEnouchCharactersMessage","renderNoMatchingUsersFoundMessage","renderUsersList","selectUser","UserSearchSelect","onUserSelected","unavailableUsers","setName","roleIdPart","SEARCH_USER_MAX_RESULT_COUNT","debounceTime","SEARCH_USER_DELAY_BEFORE_SEND_SEARCH","startSearchingLength","SEARCH_USER_MIN_CHARACTERS_TO_SEND_SEARCH","usersFound","setUsersFound","lastSearch","setLastSearch","lastSearchRef","searchUsers","debouncedSearchUsers","debounce","clearUsers","useUserSearch","unUser","handleTextChange","renderPopup","nameIsLongEnough","userPillId","ProjectRoleUsersField","validateNotAlreadyIn","USER_ROLES_LIST","allowMany","allowRemoving","allowAdding","addAsPending","allowApprovePending","handleUserSubmit","handleRemoval","handleTogglePending","showTextInput","usersAndIndex","approvedUsers","pendingUsers","allowsManyClass","hasUsersClass","FormBottomActionsContainer","CancelButtonLink","getDefaultInitialValues","init","getInitialState","existingUsers","vals","UserEditSettings","fieldConfigs","submitButtonText","isDirty","flattenValuesWrapper","fn","formattedValues","fc","fieldConfig","ClientSettings","setInitialValues","initialValuesSet","setInitialValuesSet","CLIENT_ADMIN","CLIENT_TEAM_MEMBER","PwCTeamSettings","PWC_READONLY","PWC_READONLY_DISPLAY","newValues","userNotificationSettingsSlice","setUserNotificationSettingsAction","saveError","setUserNotificationSettingsIsLoadingAction","setSaveErrorUserNotificationSettingsAction","setUserNotificationSettings","setUserNotificationSettingsIsLoading","setSaveErrorUserNotificationSettings","getUserNotificationSettingsSelector","userNotificationSettings","receiveEmails","serviceUrl","getUserNotificationSettings","saveUserNotificationSettings","loadUserNotificationSettingsThunk","allowEmailNotificationsOptions","NotificationSettings","saveErrorUserNotificationSettings","getSaveErrorUserNotificationSettingsSelector","newSettings","currentUserNotificationSettings","saveUserNotificationSettingsThunk","ProjectDisclaimerSettings","toggleEditMode","updatedDisclaimer","updateProjectDisclaimerThunk","getUserListDifferences","usersList1","usersList2","usersList1Map","ul1Map","ul1","ul2","getUpdateClientUsersRequest","newUsers","rolesToConsider","oldClientUsers","rtc","newClientUsers","nu","usersToRemove","userToRemove","emailAddress","getUsersToRemove","usersToAdd","userToAdd","roleName","getUsersToAdd","ClientSettingsClientView","updateClientUsersRequest","Settings","projectDetailsTabVisible","setProjectDetailsTabVisible","projectStatusTabVisible","setProjectStatusTabVisible","clientTabVisible","setClientTabVisible","clientViewClientTabVisible","setClientViewClientTabVisible","pwcTeamTabVisible","setPwcTeamTabVisible","projectDisclaimerTabVisible","setProjectDisclaimerTabVisible","notificationsTabVisible","setNotificationsTabVisible","MANAGE_CLIENT_USERS","hasManageUsersPermission","hasManageClientUsersPermission","hasProjectDisclaimerPermission","isClientAdmin","SettingsContentRouter","fileUploadSlice","upload","successMessage","uploadedFileId","uploadedFileName","setFilesData","setFilesDataLoading","setFilesDataError","setFileUploadLoading","setFileUploadError","showSuccessMessage","hideSuccessMessage","getFileUploadSlice","fileUpload","getFilesState","getFileUploadState","baseServicePathWithFile","uploadFile","password","postFile","updateFileContent","putFile","deleteFile","updateFileStatus","operation","downloadFile","parseFiles","uploadedDateTime","getFilesThunk","requestFileStatusChange","HEADERS","FILE_NAME","DATE_UPLOADED","UPLOADED_BY","APPROVAL_STATUS","CONTENTS","ZERO_STATE","CLIENT_USER","PWC_USER","TEXT_STATUSES","CAN_REQUEST_APPROVAL","CAN_BE_APPROVED_OR_DECLINED","TEST_IDS","LOADER","STATUSES","OPERATIONS","CANCEL","REJECTED","FileHeaders","fileTypeMap","pdf","docx","ppt","pptx","xls","xlsx","parseFileStream","fileStream","byteCharacters","atob","byteArrays","byteNumbers","charCodeAt","byteArray","Uint8Array","FileDownload","showText","isDownloading","setIsDownloading","isReadOnlyUser","setIsReadOnlyUser","handleDownload","fileExtension","pop","blob","Blob","URL","createObjectURL","download","DeleteConfirmationDialog","onCloseClick","removeFile","MenuButtonShowPassword","MenuButtonUpdate","ShowPasswordDialog","navigator","clipboard","writeText","FileListItemPopupMenu","onUpdateMenuClick","filePassword","dismissMenu","showPasswordDialog","setShowPasswordDialog","readOnly","showDeleteConfirmationDialog","setShowDeleteConfirmationDialog","displayOrShowPasswordDialog","displayOrShowDeleteConfirmationDialog","confirmationClassNameIfNeeded","FileListItemRowActionsButton","setIsReadOnly","FileListItemRowMenu","FileOptions","FileActions","CancelRequest","RequestApproval","Approve","Decline","SharedFile","ShareFilePopover","ApprovedFile","showShare","setShowShare","FileStatus","isTeamMember","setIsTeamMember","getPermissions","translateReadOnlyStatus","FileListItem","fromSeconds","uploadedBy","FileListZeroStateCopy","FileList","FileUploaded","clearFile","fullErrorCopy","DropArea","onDropAccepted","fileRejectedError","setFileRejectedError","useDropzone","maxFiles","maxSize","multiple","onDropRejected","errorFiles","errorFile","isFileMaxSizeError","getRootProps","getInputProps","DropZone","ModalActions","PasswordSection","setPassword","FileUploadModal","setFile","pageTitle","updateFile","FileUploadModalContent","FileUploader","allowUploadByRole","setAllowByRoleUpload","UploadSuccessBanner","onClose","FilesContainer","FileUploadContentRouter","DealDetails","UserSnippet","getUserInitials","NewAndUpdated","updatedContent","shouldRetrieveNotificationCount","count","ContentLinkSubPanel","addOrArrow","contentListLinkTo","contentAddLinkTo","contentListIconName","KPIDetail","trend","identifier","KPISection","indicators","indicator","indicatorIndex","getKPIs","KPIContainer","kpis","setKpis","topicThreadId","postTopic","topicData","putTopic","getAllTopics","getTopic","deleteTopic","updateTopicStatus","getTopicVersions","updateTopicOrder","topicOrder","NarrativesContext","TopicContentSelectSearch","handleSelectChange","selectedContentId","contentOptions","setContentOptions","TOPIC_PANEL_TYPES","KEY_FOCUS_AREA","latestHypothesis","selectedContent","SingleColumnLayout","setContentTypes","setRichTexts","setHypothesisArray","excelChartId","setExcelChartIdArray","labelComponent","handleContentTypeChange","previousContentTypes","newContentTypes","handleRichTextChange","previousRichTexts","newRichTexts","handleHypothesisChange","previousHypotheses","handleExcelChartChange","previousExcelChartIds","newExcelChartIds","contentTypeField","contentTypeOptions","topicPanelType","mapTopic","topicLayoutTypeValue","richTextArray","hypothesisArray","contentTypeArray","excelChartIdArray","topicToSaveDto","topicTitle","panels","numberOfPanels","panel","panelNumber","mapTopicPanels","mapTopicLinks","panelIsValid","topicFormIsValid","hypothesisIds","hasDuplicateHypothesisIds","excelChartIds","hasDuplicateExcelChartIds","stroke","strokeWidth","SelectedSectionIcon","SelectedSection","getTitle","TOPIC_LAYOUT_TYPE","translateLayoutValueToIconNamePart","translatePanelValueToIconNamePart","defaultContentTypeArray","defaultRichTextArray","singleColumnArray","selectedSection","leftRightColumns","doubleColumnArray","threeColumnArray","twoColumnNarrowRightArray","stackedTop80Bottom20Array","stackedTop60Bottom40Array","stackedT501AB502AArray","stackedWithRightColumnArray","fetchAndSetRichTextArray","topic","setRichTextArray","richTextPromiseArray","libraryItemHtml","resolvedRichTextPromiseArray","TopicFormModal","theTopic","contentTypes","getTopicPanelTypeAsString","getInitialContentTypeArray","setContentTypeArray","getInitialKfaArray","getInitialExcelChartIdArray","columnDataArray","getColumnDataArray","topicFormData","richTextArrayTemp","hypothesisArrayTemp","excelChartIdArrayTemp","contentTypeArrayTemp","handleLayoutChange","layoutField","layoutField1","layoutField2","titleField","layoutOptions","topicLayout","checkedClassName","uncheckedClassName","layoutOptions1","layoutOptions2","copyWithin","warningText","showWarning","shouldShowWarning","enforceFocus","contentClassName","ContentItem","sharedContent","RichTextTopicPanel","KeyFocusAreaTopicPanel","ExcelChartTopicPanel","DeletedContentWarning","TopicPanel","getClassName","TopicHeader","onMove","moveOption","movePrev","moveNext","disableMovePrev","MOVE_OPTIONS","PREV","BOTH","disableMoveNext","NEXT","ProjectOverviewModule","onTopicStatusUpdated","onViewSpecificVersion","setViewClient","data-topic-id","ProjectOverviewModuleContainer","showAddTopicModal","setShowAddTopicModal","selectedTopic","setSelectedTopic","topics","setTopics","topicList","handleDeleteTopic","topicsWithoutDeletedTopic","updateTopic","updatedTopic","updatedTopics","existing","moveTopic","tmp","newIndex","getMoveOptionForTopic","WelcomeBox","WelcomeBoxBeginQuestionnaire","WelcomeBoxDealComplexity","scoreLabel","featureName","getUserFeatureEnabled","saveUserFeatureEnabled","WelcomeBoxQuickStart","featureEnabled","setFeatureEnabled","FEATURE_NAMES","WELCOME_BOX","handleDismiss","DiagnosticContainer","diagnosticData","isBuySideProject","isSellSideProject","shouldShowDiagnostic","fetchResultsSuccess","ProjectOverview","engagementLead","engagementManager","addHypothesisTypeHref","addInsightTypeHref","addAnalysisTypeHref","counts","setCounts","userViewCountsResponse","narrativeCounts","newCount","updatedCount","ProjectOverviewContentRouter","isClientErrorCode","updateDeletedStatus","deleted","hideProject","showProject","ProjectRow","onShow","AdminProjectList","setIsDirty","setProjects","getProjects","displayedProjects","anyErrors","errorMessages","createObjectWithSameKeys","initialValueForEveryProperty","isBlank","validateMetaDataFormValues","dealType","Form","MetaDataStepDisplay","formTouches","onNextClick","classification","lineOfService","initialFormErrors","initialFormTouches","MetaDataStep","onStepCompleted","setFormValues","setFormTouches","validateWrap","updatedFormErrors","TeamMembersStep","SubmitRequestStep","RequestError","onTryAgainClick","RequestSubmittedStep","CreateProject","currentStep","setCurrentStep","stepOneFormValues","setStepOneFormValues","stepTwoFormValues","setStepTwoFormValues","newProjectId","setNewProjectId","onStepOneCompleted","onStepTwoCompleted","onStepThreeCompleted","defaultSelf","usersWithSelf","refreshTokenSet","loggedInUserSlice","setLoggedInUserSucceeded","loggedInUserMapper","given_name","family_name","familyName","PendoStarter","checkingInitializedInterval","setInterval","clearInterval","PrivateRoute","tAndCHasAccepted","requireTAndCAcceptance","setLoggedInUser","REACT_APP_SUPPORT_EMAIL","ProjectListRow","setProjectToken","projectStatusClass","isProjectReadable","ProjectList","ProjectsPage","Access","decoded","authenticationUrlBuilder","build","encodeURIComponent","getUserAcceptedTermsHasAccepted","setUserAcceptedTermsHasAccepted","Landing","tAndCLoading","tAndCLoaded","finalRedirect","authenticationUrl","fromPath","UnexpectedError","statusCode","termsAndConditionsSlice","termsAndConditions","setTermsAndConditionsRequested","setTermsAndConditionsReceived","tAndC","getTermsAndConditionsLoading","getTermsAndConditions","getTermsAndConditionsThunk","pendoStorageBase","pendoAccountId","pendoVisitorId","getPartialKeyMatches","searches","obj","cookies","cookie","keyValue","deleteCookieWherePartialMatch","deleteCookies","deleteLocalStorageWherePartialMatch","deleteLocalStorage","accessStorage","storageKey","anonVisitorId","visitorId","apikey","visitorIdKey","accountId","accountIdKey","removeFromStorage","policy","tableCellValues","tv","getPerformanceCookiesTableCellValues","PerformanceCookiesToggle","table","getElementById","classList","toggleTableClass","changeUserPerformanceCookiePreferenceThunk","allowProcessing","doNotProcessRequest","userType","fallbackUserId","fallbackIdValue","getDoNotProcessRequest","policyInjections","Policy","injections","setInjections","usableInjections","parent","ReactDOM","createPortal","TermsAndConditions","setDisabled","tAndCs","tAndCsLoading","userTAndCsAccepted","userTAndCsLoaded","handleAccept","TermsAndConditionsView","policyId","selectedPolicy","contentRef","hideDateModified","NonProjectContentRouter","ContentRouter","UnauthenticatedRoute","getModalErrorTitle","getModalErrorBody","ModalError","AppLayout","themeClass","freezeClass","htmlElement","RouteChangeFocusResetter","locationKey","data-location-key","App","isInIframe","self","matchedRoute","useAppTitle","hostname","actionToSchedule","processingMiddleware","store","isCalcEngineRelatedAction","scheduleActionRequested","rowIngestionMiddleware","adjustmentRowIdColumnIndex","adjustmentNumberWithShortDescription","adjustmentNumberColumnIndex","adjustmentShortDescColumnIndex","adjustmentLongDescColumnIndex","excelLongDescription","longDescriptionObj","runners","schedulerMiddleware","delayedDispatcher","timeout","dispatchAfterTimeout","actionToScheduleType","scheduledRunner","clearTimeout","updateAdjustmentsWithToggleState","toggles","updatedAdjustments","_cloneDeep","adjType","adjName","handleAdjustmentToggled","adjustmentTogglesForDocument","adjustmentsWithToggleState","adjustmentsWithTogglesForDocumentUpdated","hasInactive","hasInactiveToggles","toggleMiddleware","handleAdjustmentsForDocumentUpdated","createAdjustmentDataPoint","_entries","entry","compositeKey","adjustmentAmount","extractAdjustmentLines","IGNORE_OTHER_CONSIDERATIONS","summateToStateKey","targetObject","targetKey","amount","isActiveAdjustment","ignoreOtherConsiderations","targetTotals","totalForFinancialPeriod","isIgnored","shouldSum","summateAdjustments","adjustmentLines","ignoreActiveFlag","summations","allAdjustmentsSummations","adjustmentTypeSummations","startsWithRevenueRegex","adjustsRevenue","summateRevenueAdjustments","summation","adjustmentSumsByDocument","summedAdjustments","revenueAdjustments","stateNode","_set","createFactDataPoint","fact","altersReportedRevenue","altersCurrentAssets","altersCurrentLiabilities","altersReportedEbitda","accumulateForPredicate","factLineItems","predicate","accumulation","previousTotal","factCalculations","updatedFactsForDocument","accumulateReportedRevenue","accumulateReportedEbitda","accumulateCurrentAssets","accumulateCurrentLiabilities","timePeriodMetadataByDocument","timePeriodsReducer","dataHeaders","toggledAdjustmentSumsByDocument","linkedAdjustmentsByDocument","ACTIONS_WITH_VERSION_CHANGE","commentPaths","formatInitCommentsObject","commentMiddleware","matchedPath","initCommentsObject","httpActionTemplate","httpMiddleware","actionProps","beganActionType","successActionType","errorActionType","fetchMethod","fetchOptions","createBrowserHistory","commonReducers","commonMiddleware","rootReducer","combineReducers","connectRouter","reportSlice","notification","notificationSlice","projectStatusChangeSlice","surveySlice","divestitureDiagnosticSlice","userActivityService","threshold","secondsSinceLastActive","intervalID","userActive","registeredEvents","resetTimer","bind","clearActivityTimer","startActivityTimer","events","eventName","USER_INACTIVE_TIMEOUT","registerEvents","USER_ACTIVITY_DOM_EVENTS","jobs","job","isUserActive","protocol","host","periodInMilliseconds","jobRunner","cssVars","onlyLegacy","include","onComplete","configureStore","middleware","routerMiddleware","thunk","notificationSliceMiddleware","devTools","serviceWorker","ready","registration","unregister"],"mappings":"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AOE,uBACEC,EAAE,kKACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,gIACFltE,GAAG,UACHkoE,KAAK,eAIb,IAAK,qCACH,OACE,qBACEloE,GAAG,4CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,+GACFltE,GAAG,UACHkoE,KAAK,eAIb,IAAK,sCACH,OACE,qBACEloE,GAAG,kDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,+GACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,sCACH,OACE,qBACEloE,GAAG,6CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kKACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,gIACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,uCACH,OACE,qBACEloE,GAAG,mDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kKACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,gIACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,gCACH,OACE,qBACEloE,GAAG,iCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wEACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,+GACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,iCACH,OACE,qBACEloE,GAAG,kCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wEACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,gIACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,iCACH,OACE,qBAAGA,KAAK,OAAO+E,SAAS,UAAxB,UACE,uBACEC,EAAE,gHACFhF,KAAK,YAEP,uBAAMgF,EAAE,qCAAqChF,KAAK,YAClD,uBACEgF,EAAE,0EACFhF,KAAK,eAKb,IAAK,kCACH,OACE,qBACEloE,GAAG,wCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wEACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,gIACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,kCACH,OACE,qBACEloE,GAAG,mCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wEACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,mCACH,OACE,qBACEloE,GAAG,yCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wKACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wEACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,oCACH,OACE,qBACEloE,GAAG,qCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,qLACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,qHACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,qCACH,OACE,qBACEloE,GAAG,2CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,qLACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,qHACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,oCACH,OACE,qBACEloE,GAAG,qCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wJACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,0HACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,qCACH,OACE,qBACEloE,GAAG,8CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wJACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,0HACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,qCACH,OACE,qBACEloE,GAAG,sCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,qLACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,qHACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,sCACH,OACE,qBACEloE,GAAG,4CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,qLACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,qHACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,qCACH,OACE,qBACEloE,GAAG,sCACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wJACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,0HACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,sCACH,OACE,qBACEloE,GAAG,+CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wJACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,0HACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,2CACH,OACE,qBACEloE,GAAG,4CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,yIACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,+HACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,qHACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,gDACH,OACE,qBACEloE,GAAG,iDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,yIACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wJACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,+FACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,iDACH,OACE,qBACEloE,GAAG,kDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,+HACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wJACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,uGACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,4CACH,OACE,qBACEloE,GAAG,kDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,yIACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,+HACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,qHACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,iDACH,OACE,qBACEloE,GAAG,0DACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,yIACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wJACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,+FACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,kDACH,OACE,qBACEloE,GAAG,2DACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,+HACFltE,GAAG,SACHkoE,KAAK,YAEP,uBACEgF,EAAE,wJACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,uGACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,6CACH,OACE,qBACEloE,GAAG,kDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wKACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,+HACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,uFACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,8CACH,OACE,qBACEloE,GAAG,+CACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kHACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,+HACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,gIACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,iDACH,OACE,qBACEloE,GAAG,kDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wKACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,kHACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,+FACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,8CACH,OACE,qBACEloE,GAAG,wDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,wKACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,+HACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,uFACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,+CACH,OACE,qBACEloE,GAAG,qDACHylJ,OAAO,OACPC,YAAY,IACZx9E,KAAK,OACL+E,SAAS,UALX,UAOE,uBACEC,EAAE,kHACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,+HACFltE,GAAG,UACHkoE,KAAK,YAEP,uBACEgF,EAAE,gIACFltE,GAAG,UACHkoE,KAAK,eAKb,IAAK,kDACH,OACE,qBACEloE,GAAG,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","file":"static/js/main.3e9bbcbe.chunk.js","sourcesContent":["import { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { cloneDeep, omit } from 'lodash';\nimport { Constants } from '@pwc/pwc-deals-web-common';\n\nexport const initialState = {\n  content: null,\n  status: {\n    isLoading: false,\n    hasError: false,\n    errorMessage: null\n  },\n  sharedStatus: null,\n  sections: null,\n  versions: null,\n  sharedVersion: null,\n  draftVersion: null,\n  libraryItemsNew: {\n    items: []\n  },\n  libraryItemsShared: {\n    items: []\n  },\n  libraryItemGroups: null,\n  tags: null\n};\n\nconst analysisSlice = createSlice({\n  name: 'analysis',\n  initialState,\n  reducers: {\n    resetAnalysis: () => initialState,\n    fetchAnalysisBegan: state => ({\n      ...state,\n      isLoading: true,\n      hasError: false,\n      errorStatusCode: null\n    }),\n    fetchAnalysisSucceeded: (state, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        isLoading: false,\n        hasError: false,\n        errorStatusCode: null\n      };\n    },\n    fetchAnalysisFailed: (state, action) => ({\n      ...state,\n      isLoading: false,\n      hasError: true,\n      errorStatusCode: action.payload\n    }),\n    fetchAnalysisDetailBegin: state => {\n      state.status.isLoading = true;\n      state.status.hasError = false;\n      state.status.errorMessage = null;\n    },\n    fetchAnalysisContent: (state, action) => {\n      const {\n        content,\n        content: { sections }\n      } = action.payload;\n      const newContent = omit(content, ['sections']);\n      state.content = newContent;\n      state.sections = sections;\n      state.status.isLoading = false;\n      state.status.hasError = false;\n    },\n    fetchAnalysisLibraryItemGroups: (state, action) => {\n      const { libraryItemGroups } = action.payload;\n      state.libraryItemGroups = libraryItemGroups;\n      state.status.isLoading = false;\n      state.status.hasError = false;\n    },\n    fetchAnalysisDetailFailed: (state, action) => {\n      const { isLoading, hasError, errorMessage } = action.payload;\n      state.status.isLoading = isLoading;\n      state.status.hasError = hasError;\n      state.status.errorMessage = errorMessage;\n    },\n    fetchLibraryItemsNew: (state, action) => {\n      const { libraryItems } = action.payload;\n      state.libraryItemsNew.items = libraryItems;\n    },\n    updateSharedStatus: (state, action) => {\n      state.sharedStatus = { ...action.payload };\n    },\n    updateVersions: (state, action) => {\n      state.versions = [...action.payload];\n    },\n    updateSectionItems: state => {\n      const {\n        libraryItemsNew: { items: libraryItems }\n      } = state;\n      const currentSections = cloneDeep(state.sections);\n      if (currentSections && currentSections.length > 0) {\n        const newSections = currentSections.map(section => {\n          const { items } = section;\n          const newItems = items.map(item => {\n            const clonedItem = cloneDeep(item);\n            const updatedLibItemIndex = libraryItems.findIndex(\n              _ => _.id === item.libraryItemId\n            );\n            if (updatedLibItemIndex > -1) {\n              const updatedItem = libraryItems[updatedLibItemIndex];\n              return {\n                ...clonedItem,\n                ...updatedItem\n              };\n            }\n            return {\n              ...clonedItem\n            };\n          });\n          return {\n            ...section,\n            items: newItems\n          };\n        });\n        state.sections = newSections;\n      }\n    },\n    updateSections: (state, action) => {\n      const { newSections } = action.payload;\n      state.sections = newSections;\n    },\n    fetchAnalysisVersionsSuccess: (state, action) => {\n      const { versions } = action.payload;\n      state.versions = versions;\n    },\n    fetchAllTags: (state, action) => {\n      const { tags } = action.payload;\n      state.tags = tags;\n    }\n  }\n});\nexport default analysisSlice.reducer;\n\n// Actions\nexport const {\n  resetAnalysis,\n  fetchAnalysisBegan,\n  fetchAnalysisSucceeded,\n  fetchAnalysisFailed,\n  fetchAnalysisDetailBegin,\n  fetchAnalysisContent,\n  fetchAnalysisLibraryItemGroups,\n  fetchAnalysisDetailFailed,\n  fetchLibraryItemsNew,\n  updateSharedStatus,\n  updateVersions,\n  updateSectionItems,\n  updateSections,\n  updateSectionSharedItems,\n  fetchAnalysisVersionsSuccess,\n  fetchAllTags\n} = analysisSlice.actions;\n\n// Selectors\nexport const getCurrentAnalysis = state => state.analysis;\nexport const selectAnalysisContent = createSelector(\n  getCurrentAnalysis,\n  slice => slice.content\n);\nexport const selectAnalysisSections = createSelector(\n  getCurrentAnalysis,\n  slice => slice.sections\n);\nexport const getLibraryItemsNew = createSelector(\n  getCurrentAnalysis,\n  slice => slice.libraryItemsNew\n);\nexport const getAnalysisStatus = createSelector(\n  getCurrentAnalysis,\n  slice => slice.status\n);\n\nexport const selectAllTags = createSelector(\n  getCurrentAnalysis,\n  slice => slice.tags\n);\n\nexport const getAnalysisIsShared = createSelector(\n  getCurrentAnalysis,\n  slice => slice.content && slice.content.shareWithAll\n);\n\nexport const selectAnalysisVersions = createSelector(\n  getCurrentAnalysis,\n  slice => slice.versions\n);\n\nexport const selectDraftVersion = createSelector(\n  selectAnalysisVersions,\n  versions =>\n    versions &&\n    versions.length > 0 &&\n    versions.find(\n      item => item.versionStatus === Constants.VERSION_STATUS.DRAFT.value\n    )\n);\n\nexport const selectSharedVersion = createSelector(\n  selectAnalysisVersions,\n  versions =>\n    versions &&\n    versions.length > 0 &&\n    versions.find(\n      item => item.versionStatus === Constants.VERSION_STATUS.SHARED.value\n    )\n);\n\nexport const selectSharedStatus = createSelector(\n  getCurrentAnalysis,\n  slice => slice.sharedStatus\n);\n","export const CONTENT_TYPE_RESULTS = 'results';\n\nexport const divestitureRoute = `/projects/:projectId/divestiture-diagnostic`;\nexport const resultsRoute = `${divestitureRoute}/${CONTENT_TYPE_RESULTS}`;\nexport const categoryPathRoute = `${resultsRoute}/:categoryPath`;\n\nexport const formatDivestitureRoute = projectId =>\n  divestitureRoute.replace(':projectId', projectId);\n\nexport const formatResultsRoute = projectId =>\n  resultsRoute.replace(':projectId', projectId);\n\nexport const formatCategoryPathRoute = (projectId, categoryPath) =>\n  categoryPathRoute\n    .replace(':projectId', projectId)\n    .replace(':categoryPath', categoryPath);\n","import decode from 'jwt-decode';\nimport { TextUtilities } from '@pwc/pwc-deals-web-common';\n\nconst jwtTokenKey = 'jwtToken';\nconst processTimeKey = 'processTime';\nconst getToken = () => {\n  const jwtTokenValue = sessionStorage.getItem(jwtTokenKey);\n\n  if (!jwtTokenValue) return null;\n\n  return decode(jwtTokenValue);\n};\n\nconst removeToken = () => {\n  sessionStorage.clear();\n};\n\nconst secondsFromExp = () => {\n  const jwtToken = getToken();\n  return jwtToken && jwtToken.exp - Date.now() / 1000;\n};\n\nconst hasValidToken = () => {\n  const jwtToken = getToken();\n  const secondsUntilTokenExpires =\n    jwtToken && Math.floor(jwtToken.exp - Date.now() / 1000);\n\n  if (secondsUntilTokenExpires > 0) return true;\n\n  removeToken();\n  return false;\n};\n\nconst setToken = async token => {\n  sessionStorage.setItem(jwtTokenKey, token);\n};\n\nconst storageKeyTemplatePrefix = 'projectJWT';\nconst storageKeyTemplate = `${storageKeyTemplatePrefix}{PROJ}`;\nconst setTokens = async tokenSet => {\n  sessionStorage.setItem(jwtTokenKey, tokenSet.applicationToken);\n  if (tokenSet.projectTokens) {\n    tokenSet.projectTokens.forEach(projectToken => {\n      const tokenStorageKey = storageKeyTemplate.replace(\n        '{PROJ}',\n        btoa(projectToken.projectId)\n      );\n      sessionStorage.setItem(tokenStorageKey, projectToken.token);\n    });\n  }\n};\n\nconst updateProcessTime = () => {\n  sessionStorage.setItem(processTimeKey, Date.now() / 1000);\n};\n\nconst isClientUser = email => {\n  if (email) return !TextUtilities.isPwCEmail(email);\n  const token = getToken();\n  if (!token) return true;\n  if (!token.email) return true;\n  return !TextUtilities.isPwCEmail(token.email);\n};\n\nconst getEmail = () => {\n  const token = getToken();\n  return token && token.email ? token.email : null;\n};\n\nconst getTokenValue = key => {\n  const token = getToken();\n  return token && token[key] ? token[key] : null;\n};\n\nconst getExpirationInSeconds = () => {\n  const expirationInMinutesEnvVar =\n    process.env.REACT_APP_SECURITY_TOKEN_EXPIRATION_MINUTES;\n\n  const paddingInMinutes = 2;\n\n  if (expirationInMinutesEnvVar) {\n    const parsedExpirationInMinutes = parseInt(expirationInMinutesEnvVar, 10);\n    if (parsedExpirationInMinutes > paddingInMinutes) {\n      return (parsedExpirationInMinutes - paddingInMinutes) * 60;\n    }\n  }\n\n  return (15 - paddingInMinutes) * 60;\n};\n\nconst canCreateProjects = () => {\n  const token = getToken();\n  return token && token['Create Project'] !== undefined;\n};\n\nconst isAdmin = () => {\n  const token = getToken();\n  return token && token.Admin !== undefined;\n};\n\nconst getUserTypeClass = email =>\n  isClientUser(email) ? 'client-user' : 'pwc-user';\n\nconst authorizationService = {\n  secondsFromExp,\n  hasValidToken,\n  setToken,\n  setTokens,\n  getToken,\n  getTokenValue,\n  updateProcessTime,\n  isClientUser,\n  getEmail,\n  getExpirationInSeconds,\n  canCreateProjects,\n  isAdmin,\n  getUserTypeClass\n};\n\nexport default authorizationService;\n","import decode from 'jwt-decode';\nimport _keys from 'lodash/keys';\nimport _get from 'lodash/get';\nimport _some from 'lodash/some';\n\nconst applicationTokenKey = 'jwtToken';\nconst projectTokenKeyPrefix = 'projectJWT';\nconst projectTokenKeyTemplate = `${projectTokenKeyPrefix}{PROJ}`;\n\nconst getProjectToken = projectId => {\n  const tokenStorageKey = projectTokenKeyTemplate.replace(\n    '{PROJ}',\n    btoa(projectId)\n  );\n  const savedToken = sessionStorage.getItem(tokenStorageKey);\n  return savedToken;\n};\n\nconst isKeyJunctionRelated = key =>\n  key.startsWith(projectTokenKeyPrefix) || key === applicationTokenKey;\n\nexport const getAllTokenKeys = () =>\n  _keys(sessionStorage).filter(isKeyJunctionRelated);\n\nexport const getAllTokens = () =>\n  getAllTokenKeys().map(key => sessionStorage.getItem(key));\n\nexport const clearAllTokens = () =>\n  getAllTokenKeys().forEach(key => sessionStorage.removeItem(key));\n\nconst getPlaintextToken = projectId => decode(getProjectToken(projectId));\n\nconst hasProjectPermission = (projectId, permissionList = []) => {\n  const permissions = getPlaintextToken(projectId);\n  const permissionKeys = _keys(permissions);\n\n  return _some(permissionKeys, key => permissionList.includes(key));\n};\n\nconst hasProjectTokenProp = (projectId, prop) => {\n  let hasToken = false;\n  const tokenStorageKey = projectTokenKeyTemplate.replace(\n    '{PROJ}',\n    btoa(projectId)\n  );\n  const savedToken = sessionStorage.getItem(tokenStorageKey);\n\n  if (savedToken) {\n    const token = decode(savedToken);\n\n    prop.forEach(p => {\n      if (Object.prototype.hasOwnProperty.call(token, p)) {\n        hasToken = true;\n      }\n    });\n  }\n\n  return hasToken;\n};\n\nconst getProjectTokenProperty = (projectId, prop) => {\n  const token = getPlaintextToken(projectId);\n  return token && token[prop];\n};\n\nconst hasProjectRoles = (projectId, roles) => {\n  const projectRole = getProjectTokenProperty(projectId, 'role');\n  return roles.includes(projectRole);\n};\n\nconst getUserEmail = () => {\n  const token = decode(sessionStorage.getItem(applicationTokenKey));\n  return _get(token, 'email');\n};\n\nconst userTokenService = {\n  getProjectToken,\n  hasProjectPermission,\n  hasProjectTokenProp,\n  getProjectTokenProperty,\n  hasProjectRoles,\n  getUserEmail\n};\n\nexport default userTokenService;\n","import { HttpClient } from '@pwc/pwc-deals-web-common';\nimport authorizationService from './security/authorizationService';\nimport userTokenService from './security/userTokenService';\n\nexport const safeErrors = response => {\n  return response && response.data && response.data.errors\n    ? response.data.errors\n    : [];\n};\n\nexport const UserAuthClient = new HttpClient(\n  process.env.REACT_APP_USER_ACCESS_SERVICE,\n  async () => sessionStorage.getItem('jwtToken')\n);\n\nexport const UserAccessTokenClient = new HttpClient(\n  process.env.REACT_APP_USER_ACCESS_SERVICE\n);\n\nexport const ProjectManagementHttpClient = projectId =>\n  new HttpClient(\n    process.env.REACT_APP_PROJECT_MANAGEMENT_API_BASE_PATH,\n    async () => {\n      authorizationService.updateProcessTime();\n      return projectId\n        ? userTokenService.getProjectToken(projectId)\n        : sessionStorage.getItem('jwtToken');\n    }\n  );\n\nexport const ProjectStateManagementHttpClient = projectId =>\n  new HttpClient(\n    process.env.REACT_APP_PROJECT_STATE_MANAGEMENT_API_BASE_PATH,\n    async () => {\n      authorizationService.updateProcessTime();\n      return projectId\n        ? userTokenService.getProjectToken(projectId)\n        : sessionStorage.getItem('jwtToken');\n    }\n  );\n\nexport const getProjectTokenBasedOnPath = path => {\n  const projectId = path.startsWith('/')\n    ? path.split('/')[2]\n    : path.split('/')[1];\n  return userTokenService.getProjectToken(projectId);\n};\n\nexport const ProjectHttpClient = new HttpClient(\n  process.env.REACT_APP_PROJECT_API_BASE_PATH,\n  async path => {\n    authorizationService.updateProcessTime();\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const ConnectedContentHttpClient = new HttpClient(\n  process.env.REACT_APP_CONNECTED_CONTENT_API_BASE_PATH,\n  async path => {\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const ContentServiceHttpClient = new HttpClient(\n  process.env.REACT_APP_CONTENT_SERVICE,\n  async path => {\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const LibraryItemsExcelHttpClient = new HttpClient(\n  process.env.REACT_APP_EXCEL_LIBRARY_ITEM_SERVICE,\n  async path => {\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const LibraryItemsPptHttpClient = new HttpClient(\n  process.env.REACT_APP_PPT_LIBRARY_ITEM_SERVICE,\n  async path => {\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const LibraryItemsPowerBiHttpClient = new HttpClient(\n  process.env.REACT_APP_POWERBI_LIBRARY_ITEM_SERVICE,\n  async path => {\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const LibraryItemsRichTextHttpClient = new HttpClient(\n  process.env.REACT_APP_RICH_TEXT_LIBRARY_ITEM_SERVICE,\n  async path => {\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const ReportingApiClient = new HttpClient(\n  process.env.REACT_APP_REPORTING_SERVICE,\n  async path => {\n    authorizationService.updateProcessTime();\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n\nexport const CommentServiceClient = projectId =>\n  new HttpClient(process.env.REACT_APP_COMMENT_SERVICE, async () => {\n    authorizationService.updateProcessTime();\n    return userTokenService.getProjectToken(projectId);\n  });\n\nexport const MasterApiClient = new HttpClient(\n  process.env.REACT_APP_MASTER_API_BASE_PATH,\n  async () => sessionStorage.getItem('jwtToken')\n);\n\nexport const SurveyServiceClient = projectId =>\n  new HttpClient(process.env.REACT_APP_SURVEY_SERVICE, async () => {\n    authorizationService.updateProcessTime();\n    return userTokenService.getProjectToken(projectId);\n  });\n\nexport const FileLibraryServiceClient = projectId =>\n  new HttpClient(process.env.REACT_APP_FILE_LIBRARY_SERVICE, async () => {\n    authorizationService.updateProcessTime();\n    return userTokenService.getProjectToken(projectId);\n  });\n\nexport const TagsServiceClient = new HttpClient(\n  process.env.REACT_APP_TAGS_LIST_SERVICE,\n  async path => {\n    return getProjectTokenBasedOnPath(path);\n  }\n);\n","import _flatMap from 'lodash/flatMap';\nimport _values from 'lodash/values';\nimport _difference from 'lodash/difference';\n\nexport const filterNarrativesForContent = (narratives, contentId) => {\n  const id = parseInt(contentId, 10);\n  const filteredLinks = {};\n  Object.keys(narratives).forEach(key => {\n    filteredLinks[key] = narratives[key].filter(item => {\n      return item.links.map(link => link.id).includes(id);\n    });\n  });\n  return filteredLinks;\n};\n\nexport const getLinksFromNarratives = (narratives, contentId) => {\n  const links = [];\n  Object.keys(narratives).forEach(key => {\n    narratives[key].forEach(narrative => {\n      narrative.links.forEach(link => {\n        if (link.linked !== false && link.id === contentId) {\n          links.push(narrative.contentId);\n        }\n      });\n    });\n  });\n  return links;\n};\n\nexport const getTopicLinksForContent = (\n  narratives,\n  existingContentLinks = []\n) => {\n  const narrativeLinks = _flatMap(_values(narratives), contentArray =>\n    contentArray.map(c => c.contentId)\n  );\n  const existingLinks = existingContentLinks.map(c => c.id);\n  const topicLinks = _difference(existingLinks, narrativeLinks);\n\n  return topicLinks;\n};\n","import {\n  ConnectedContentHttpClient,\n  ProjectHttpClient\n} from '../../common/services/httpClient';\nimport { filterNarrativesForContent } from './narrativesUtilities';\n\nexport const getNarratives = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/narratives`\n  );\n  const projectNarratives = {};\n  Object.keys(response.data).forEach(key => {\n    projectNarratives[key] = response.data[key].items;\n  });\n  return projectNarratives;\n};\n\nexport const getNarrativesForContent = async (projectId, contentId) => {\n  const projectNarratives = await getNarratives(projectId);\n  return filterNarrativesForContent(projectNarratives, contentId);\n};\n\nexport const getNarrativesCount = async projectId => {\n  try {\n    const { data = {} } = await ConnectedContentHttpClient.get(\n      `projects/${projectId}/count`\n    );\n\n    return data;\n  } catch (err) {\n    return {};\n  }\n};\n\nexport const getNarrativesForKfas = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/narratives/kfa`\n  );\n  return response.data;\n};\n","import { ProjectHttpClient } from '../../common/services/httpClient';\nimport { getNarrativesForKfas } from '../narratives/narrativesService';\n\nconst mapHypothesisToApi = hypothesis => ({\n  ...hypothesis,\n  body: hypothesis.body || null,\n  conclusion: hypothesis.conclusion || null,\n  createdBy: hypothesis.createdBy || 'unset'\n});\n\nconst sortByNewestDate = hypotheses =>\n  hypotheses.sort((hypothesisA, hypothesisB) => {\n    const dateA = new Date(hypothesisA.dateModified);\n    const dateB = new Date(hypothesisB.dateModified);\n    return dateB - dateA;\n  });\n\nconst sortBySortOrder = hypotheses =>\n  hypotheses.sort(\n    (hypothesisA, hypothesisB) => hypothesisA.sortOrder - hypothesisB.sortOrder\n  );\n\nconst baseServicePath = (projectId, hypothesisThreadId, versionStatus) => {\n  const pathForId = hypothesisThreadId ? `/${hypothesisThreadId}` : '';\n  const pathForStatus = versionStatus ? `/${versionStatus}` : '';\n\n  return `projects/${projectId}/hypotheses${pathForId}${pathForStatus}`;\n};\n\nexport const getHypotheses = async projectId => {\n  const response = await ProjectHttpClient.get(baseServicePath(projectId));\n  return sortBySortOrder(response.data);\n};\n\nexport const getHypothesesWithConnectedData = async projectId => {\n  const kfas = await getHypotheses(projectId);\n  const kfasWithConnectedContentData = await getNarrativesForKfas(projectId);\n\n  const emptyConnectedContent = {\n    connectedKfas: [],\n    connectedInsights: [],\n    connectedAnalyses: []\n  };\n  return kfas.map(kfa => {\n    const connectedContent =\n      kfasWithConnectedContentData.find(\n        kfaWithConnectedContentData =>\n          kfaWithConnectedContentData.contentThreadId === kfa.contentThreadId\n      ) || emptyConnectedContent;\n\n    return {\n      ...kfa,\n      ...connectedContent\n    };\n  });\n};\n\nexport const getSharedHypotheses = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/hypotheses?onlyShared=true`\n  );\n  return sortByNewestDate(response.data);\n};\n\nexport const getHypothesis = async (\n  projectId,\n  hypothesisThreadId,\n  versionStatus\n) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, hypothesisThreadId, versionStatus)}`\n  );\n  return response.data;\n};\n\nexport const postHypothesis = async (projectId, hypothesis) => {\n  const response = await ProjectHttpClient.post(\n    baseServicePath(projectId),\n    mapHypothesisToApi(hypothesis)\n  );\n  return response.data;\n};\n\nexport const putHypothesis = async (projectId, hypothesis) => {\n  const response = await ProjectHttpClient.put(\n    `${baseServicePath(projectId, hypothesis.contentThreadId)}`,\n    mapHypothesisToApi(hypothesis)\n  );\n\n  return response.data;\n};\n\nexport const deleteHypothesis = async (projectId, hypothesisThreadId) => {\n  const response = await ProjectHttpClient.delete(\n    baseServicePath(projectId, hypothesisThreadId)\n  );\n  return response.data;\n};\n\nexport const getHypothesisVersions = async (projectId, hypothesisThreadId) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, hypothesisThreadId)}/versions`\n  );\n  return response.data;\n};\n\nexport const updateHypothesisStatus = async (\n  projectId,\n  hypothesisThreadId,\n  workflowAction\n) => {\n  const url = `${baseServicePath(\n    projectId,\n    hypothesisThreadId\n  )}/${workflowAction}`;\n  const response = await ProjectHttpClient.post(url);\n\n  return response.data;\n};\n\nexport const updateHypothesesOrder = async (\n  projectId,\n  orderedContentThreadIds\n) => {\n  const response = await ProjectHttpClient.post(\n    `${baseServicePath(projectId)}/sortorder`,\n    orderedContentThreadIds\n  );\n\n  return response.data;\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { getHypothesis } from './hypothesesService';\n\nexport const initialState = {\n  id: null,\n  name: null,\n  isLoading: false,\n  hasError: false,\n  errorStatusCode: null\n};\n\nconst hypothesisSlice = createSlice({\n  name: 'hypothesis',\n  initialState,\n  reducers: {\n    resetHypothesis: () => initialState,\n    fetchHypothesisBegan: state => ({\n      ...state,\n      isLoading: true,\n      hasError: false,\n      errorStatusCode: null\n    }),\n    fetchHypothesisSucceeded: (state, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        isLoading: false,\n        hasError: false,\n        errorStatusCode: null\n      };\n    },\n    fetchHypothesisFailed: (state, action) => ({\n      ...state,\n      isLoading: false,\n      hasError: true,\n      errorStatusCode: action.payload\n    })\n  }\n});\nexport default hypothesisSlice.reducer;\n\n// Actions\nexport const {\n  resetHypothesis,\n  fetchHypothesisBegan,\n  fetchHypothesisSucceeded,\n  fetchHypothesisFailed\n} = hypothesisSlice.actions;\n\n// Selectors\nexport const getHypotheisId = state => state.hypothesis.id;\nexport const getHypothesisTitle = state => state.hypothesis.title;\nexport const getHypothesisLoading = state => state.hypothesis.isLoading;\nexport const getHypothesisError = state => state.hypothesis.hasError;\nexport const getHypothesisErrorStatusCode = state =>\n  state.hypothesis.errorStatusCode;\nexport const getCurrentHypothesis = state => state.hypothesis;\n\n// Thunks\nexport const loadHypothesisThunk = (\n  projectId,\n  hypothesisId,\n  versionStatus\n) => async dispatch => {\n  try {\n    dispatch(fetchHypothesisBegan());\n\n    const response = await getHypothesis(\n      projectId,\n      hypothesisId,\n      versionStatus\n    );\n\n    dispatch(fetchHypothesisSucceeded(response));\n  } catch (error) {\n    dispatch(\n      fetchHypothesisFailed(error.response ? error.response.status : 500)\n    );\n  }\n};\n","import _orderBy from 'lodash/orderBy';\nimport { ProjectHttpClient } from '../../common/services/httpClient';\n\nconst baseServicePath = (projectId, insightThreadId, versionStatus) =>\n  ['projects', projectId, 'insights', insightThreadId, versionStatus]\n    .filter(Boolean)\n    .join('/');\n\nconst mapInsightToApi = insight => ({\n  ...insight,\n  createdBy: insight.createdBy || 'unset'\n});\n\nconst sortBySortOrder = insights => _orderBy(insights, 'sortOrder');\n\nexport const getInsights = async projectId => {\n  const response = await ProjectHttpClient.get(baseServicePath(projectId));\n  return sortBySortOrder(response.data);\n};\n\nexport const getInsight = async (projectId, insightThreadId, versionStatus) => {\n  const response = await ProjectHttpClient.get(\n    baseServicePath(projectId, insightThreadId, versionStatus)\n  );\n  return response.data;\n};\n\nexport const getInsightVersions = async (projectId, insightThreadId) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, insightThreadId)}/versions`\n  );\n  return response.data;\n};\n\nexport const postInsight = async (projectId, insight) => {\n  const response = await ProjectHttpClient.post(\n    baseServicePath(projectId),\n    mapInsightToApi(insight)\n  );\n  return response.data;\n};\n\nexport const putInsight = async (projectId, insight) => {\n  const response = await ProjectHttpClient.put(\n    baseServicePath(projectId, insight.contentThreadId),\n    mapInsightToApi(insight)\n  );\n  return response.data;\n};\n\nexport const deleteInsight = async (projectId, insightThreadId) => {\n  const response = await ProjectHttpClient.delete(\n    baseServicePath(projectId, insightThreadId)\n  );\n  return response.data;\n};\n\nexport const updateInsightStatus = async (\n  projectId,\n  insightThreadId,\n  workflowAction\n) => {\n  const url = `${baseServicePath(\n    projectId,\n    insightThreadId\n  )}/${workflowAction}`;\n  const response = await ProjectHttpClient.post(url);\n\n  return response.data;\n};\n\nexport const updateInsightsOrder = async (\n  projectId,\n  orderedContentThreadIds\n) => {\n  const response = await ProjectHttpClient.post(\n    `${baseServicePath(projectId)}/sortorder`,\n    orderedContentThreadIds\n  );\n\n  return response.data;\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { getInsight } from './insightsService';\n\nexport const initialState = {\n  id: null,\n  name: null,\n  isLoading: false,\n  hasError: false,\n  errorStatusCode: null\n};\n\nconst insightSlice = createSlice({\n  name: 'insight',\n  initialState,\n  reducers: {\n    resetInsight: () => initialState,\n    fetchInsightBegan: state => ({\n      ...state,\n      isLoading: true,\n      hasError: false,\n      errorStatusCode: null\n    }),\n    fetchInsightSucceeded: (state, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        isLoading: false,\n        hasError: false,\n        errorStatusCode: null\n      };\n    },\n    fetchInsightFailed: (state, action) => ({\n      ...state,\n      isLoading: false,\n      hasError: true,\n      errorStatusCode: action.payload\n    })\n  }\n});\nexport default insightSlice.reducer;\n\n// Actions\nexport const {\n  resetInsight,\n  fetchInsightBegan,\n  fetchInsightSucceeded,\n  fetchInsightFailed\n} = insightSlice.actions;\n\n// Selectors\nexport const getInsightId = state => state.insight.id;\nexport const getInsightTitle = state => state.insight.title;\nexport const getInsightLoading = state => state.insight.isLoading;\nexport const getInsightError = state => state.insight.hasError;\nexport const getInsightErrorStatusCode = state => state.insight.errorStatusCode;\nexport const getCurrentInsight = state => state.insight;\n\n// Thunks\nexport const loadInsightThunk = (\n  projectId,\n  insightId,\n  versionStatus\n) => async dispatch => {\n  try {\n    dispatch(fetchInsightBegan());\n\n    const response = await getInsight(projectId, insightId, versionStatus);\n\n    dispatch(fetchInsightSucceeded(response));\n  } catch (error) {\n    dispatch(fetchInsightFailed(error.response ? error.response.status : 500));\n  }\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nexport const CALC_ENGINE_ACTION_PREFIX = 'calcEngine';\nexport const CALC_ENGINE_SCHEDULER_TIMEOUT = 400;\nexport const COMPOSITE_KEY_DELIMITER = '__||__';\nexport const TOTALS_KEY = 'totals';\nexport const LABEL_KEY = 'label';\nexport const ACTIVE_KEY = 'active';\nexport const CALC_ENGINE_KEY = 'calcEngine';\nexport const ALL_ADJUSTMENTS_KEY = 'All Adjustments';\nexport const ADJUSTMENT_SUMS_BY_CODE_KEY = 'adjustmentSumsByDocument';\nexport const TOGGLED_ADJUSTMENT_SUMS_BY_CODE_KEY =\n  'toggledAdjustmentSumsByDocument';\nexport const ADJUSTMENT_TYPES_BY_CODE_KEY = 'adjustmentsByDocument';\nexport const ADJUSTMENT_TOGGLES_BY_DOCUMENT_KEY = 'adjustmentTogglesByDocument';\nexport const FACT_CALCULATIONS_KEY = 'factCalculations';\nexport const TIME_PERIODS_BY_CODE_KEY = 'timePeriodsByCode';\nexport const TIME_PERIOD_METADATA_BY_CODE_KEY = 'timePeriodMetadataByDocument';\nexport const TIME_PERIOD_FLAGS_KEY = 'timePeriodFlags';\nexport const TABLE_VIEW_COLUMNS_METADATA_KEY = 'tableViewDisplayColumns';\nexport const CHART_VIEW_COLUMNS_METADATA_KEY = 'chartViewDisplayColumns';\nexport const LONG_DESCRIPTIONS_BY_CODE_KEY = 'longDescriptionsByCode';\nexport const LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY = 'linkedAdjustmentsByDocument';\nexport const STRUCTURED_ANALYSIS_VIEW_KEY = 'structuredAnalysisView';\nexport const REPORTED_REVENUE_KEY = 'Reported Revenue';\nexport const ADJUSTED_REVENUE_KEY = 'Adjusted Revenue';\nexport const REPORTED_EBITDA_KEY = 'Reported EBITDA';\nexport const ADJUSTED_EBITDA_KEY = 'Adjusted EBITDA';\nexport const REVENUE_ADJUSTMENTS_KEY = 'Revenue Adjustments';\nexport const REVENUE_CATEGORY = 'Revenue';\nexport const ADJUSTMENT_CATEGORY_REVENUES_PANDL = 'Revenues (P&L)';\nexport const EBITDA_FLAG = 'EBITDA';\n\nexport const CURRENT_ASSETS_CATEGORY = 'Current assets';\nexport const CURRENT_ASSETS_KEY = 'Current Assets';\nexport const CURRENT_LIABILITIES_CATEGORY = 'current liabilities';\nexport const CURRENT_LIABILITIES_KEY = 'Current Liabilities';\nexport const REPORTED_WORKING_CAPITAL_KEY = 'Reported Working Capital';\nexport const QOFE_BRIDGE_CHART_TITLE = 'EBITDA Adjustment Bridge';\n\nexport const EMPTY_VALUE = Symbol('empty value');\nexport const ROW_TYPE_ADJUSTMENT = 'adjustment';\nexport const ROW_TYPE_FACT = 'fact';\nexport const OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT = '+/-NQ';\nexport const NQ_EBITDA_CONTRIBUTION = '(+/-NQ)';\nexport const EMPTY_DATA_MARKER = '-';\nexport const EBITDA = 'EBITDA';\nexport const WORKING_CAPITAL = 'Working Capital';\nexport const NWC_CHART_TITLE = 'Adjusted Net Working Capital';\n\nexport const REPORTED_DEBT_KEY = 'Reported Debt';\nexport const REPORTED_CASH_KEY = 'Reported Cash';\nexport const NET_DEBT_KEY = 'Net Debt';\nexport const DEBT_LIKE_ITEMS_KEY = 'Debt-Like Items';\nexport const NET_DEBT_AND_DEBT_LIKE_KEY = 'Net Debt & Debt-Like';\n\nexport const QUALITY_OF_EARNINGS_DISPLAY_NAME = 'Quality of Earnings';\nexport const NET_WORKING_CAPITAL_DISPLAY_NAME = 'Net Working Capital';\nexport const DEBT_AND_DEBT_LIKE_DISPLAY_NAME = 'Debt & Debt Like';\nexport const STRUCTURED_DISPLAY_NAME_BY_CODE = {\n  [Constants.QUALITY_OF_EARNINGS]: QUALITY_OF_EARNINGS_DISPLAY_NAME,\n  [Constants.NET_WORKING_CAPITAL]: NET_WORKING_CAPITAL_DISPLAY_NAME,\n  [Constants.DEBT_AND_DEBT_LIKE]: DEBT_AND_DEBT_LIKE_DISPLAY_NAME\n};\nexport const STRUCTURED_DISPLAY_NAME_BY_SUBTYPE = {\n  200: QUALITY_OF_EARNINGS_DISPLAY_NAME,\n  300: NET_WORKING_CAPITAL_DISPLAY_NAME,\n  400: DEBT_AND_DEBT_LIKE_DISPLAY_NAME\n};\n\nexport const COLUMN_HIGHLIGHT_CLASS = 'column-highlight';\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport const clearAllProjectData = createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/clearAllProjectData`\n);\n","import {\n  ProjectHttpClient,\n  ProjectManagementHttpClient,\n  MasterApiClient\n} from './httpClient';\n\nexport const getAllProjects = async () => {\n  const response = await MasterApiClient.get('projects');\n  return response.data;\n};\n\nexport const getProjectById = async projectId => {\n  const response = await MasterApiClient.get(`projects/${projectId}`);\n  return response.data;\n};\n\nexport const getProjectSettingsById = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/projectsettings`\n  );\n  return response.data;\n};\n\nexport const postProject = async project => {\n  const response = await ProjectManagementHttpClient().post('projects', {\n    ...project,\n    industryId: parseInt(project.industryId, 10),\n    serviceIds: (project.serviceIds || []).map(sp => parseInt(sp, 10))\n  });\n  return response.data;\n};\n\nexport const updateProjectDetails = async project => {\n  const response = await ProjectManagementHttpClient().put(\n    `projects/${project.id}`,\n    {\n      ...project,\n      type: parseInt(project.type, 10),\n      restriction: parseInt(project.restriction, 10),\n      industryId: parseInt(project.industryId, 10),\n      serviceIds: (project.serviceIds || []).map(sp => parseInt(sp, 10))\n    }\n  );\n  return response.data;\n};\n\nexport const updateProjectSettings = async (projectId, settings) => {\n  const response = await ProjectHttpClient.patch(\n    `projects/${projectId}/projectSettings`,\n    { ...settings }\n  );\n  return response.data;\n};\n\nexport const updateProjectUsers = async (projectId, users) => {\n  const response = await ProjectManagementHttpClient(projectId).put(\n    `projects/${projectId}/users`,\n    users.map(_ => ({\n      EmailAddress: _.email,\n      RoleName: _.role,\n      PendingApproval: _.pendingApproval\n    }))\n  );\n  return response.data;\n};\n\nexport const requestClientUsersUpdate = async (\n  projectId,\n  clientUsersRequest\n) => {\n  const response = await ProjectManagementHttpClient(projectId).put(\n    `projects/${projectId}/clientUsers`,\n    clientUsersRequest\n  );\n  return response.data;\n};\n\nexport const getUserViewStatusCountsForProject = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/userviewstatus/counts`\n  );\n  return response.data;\n};\n\nexport const getProjectOptions = async () => {\n  const response = await MasterApiClient.get('projects/projectOptions');\n  return response.data;\n};\n","import {\n  LibraryItemsPowerBiHttpClient,\n  ProjectHttpClient\n} from '../../common/services/httpClient';\n\nexport const getReports = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/powerBiReports`\n  );\n  return response.data;\n};\n\nexport const getReportEmbedData = async (\n  projectId,\n  libraryItemId,\n  isShared\n) => {\n  const shared = isShared || false;\n\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/powerBiReports/search?libraryItemId=${libraryItemId}&shared=${shared}`\n  );\n  return response.data;\n};\n\nexport const getReportEmbedDataByReportId = async (projectId, reportId) => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/powerBiReports/${reportId}`\n  );\n  return response.data;\n};\n\nexport const getPowerBiReportData = async (projectId, reportData) => {\n  const response = await LibraryItemsPowerBiHttpClient.post(\n    `/projects/${projectId}`,\n    reportData\n  );\n  return response.data;\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport _toNumber from 'lodash/toNumber';\nimport { clearAllProjectData } from '../../common/engine/actions/clearAllProjectData';\n\nimport {\n  getProjectById,\n  getProjectSettingsById,\n  updateProjectSettings\n} from '../../common/services/projectService';\nimport { getReports } from '../analyses/powerBiService';\n\nexport const defaultCurrency = 'Dollar';\nexport const defaultFinancialsMagnitude = 'Millions';\nexport const defaultFinancialsDecimalCount = 1;\n\nexport const initialState = {\n  id: null,\n  name: null,\n  isLoading: false,\n  hasError: false,\n  showDiagnostic: true,\n  errorStatusCode: null,\n  powerBiReports: [],\n  currency: defaultCurrency,\n  financialsMagnitude: defaultFinancialsMagnitude,\n  financialsDecimalCount: defaultFinancialsDecimalCount,\n  serviceIds: [],\n  EngagementUrl: '',\n  sharePointSiteUrl: ''\n};\n\nconst projectSlice = createSlice({\n  name: 'project',\n  initialState,\n  reducers: {\n    resetProject: () => initialState,\n    fetchProjectBegan: state => ({\n      ...state,\n      isLoading: true,\n      hasError: false,\n      errorStatusCode: null\n    }),\n    fetchProjectEnded: state => ({\n      ...state,\n      isLoading: false\n    }),\n    fetchProjectSettingsSucceeded: (state, action) => {\n      const {\n        currency,\n        financialsMagnitude,\n        financialsDecimalCount\n      } = action.payload;\n\n      const financialsDecimalCountToUse = _toNumber(\n        financialsDecimalCount || defaultFinancialsDecimalCount\n      );\n\n      return {\n        ...state,\n        ...action.payload,\n        currency: currency || defaultCurrency,\n        financialsMagnitude: financialsMagnitude || defaultFinancialsMagnitude,\n        financialsDecimalCount: financialsDecimalCountToUse,\n        hasError: false,\n        errorStatusCode: null\n      };\n    },\n    fetchProjectDetailsSucceeded: (state, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        hasError: false,\n        errorStatusCode: null\n      };\n    },\n    fetchProjectFailed: (state, action) => ({\n      ...state,\n      isLoading: false,\n      hasError: true,\n      errorStatusCode: action.payload\n    }),\n    powerBiReportsUpdated: (state, action) => ({\n      ...state,\n      powerBiReports: action.payload\n    }),\n    fetchUserViewCountsSucceeded: (state, action) => ({\n      ...state,\n      ...action.payload\n    })\n  }\n});\nexport default projectSlice.reducer;\n\n// Actions\nexport const {\n  resetProject,\n  fetchProjectBegan,\n  fetchProjectEnded,\n  fetchProjectDetailsSucceeded,\n  fetchProjectSettingsSucceeded,\n  fetchProjectFailed,\n  powerBiReportsUpdated,\n  fetchUserViewCountsSucceeded\n} = projectSlice.actions;\n\n// Selectors\nexport const getProjectLoading = state => state.project.isLoading;\nexport const getProjectError = state => state.project.hasError;\nexport const getProjectErrorStatusCode = state => state.project.errorStatusCode;\nexport const getProject = state => state.project;\nexport const getProjectId = state => state.project.id;\nexport const getProjectSharePointUrl = state => state.project.sharePointSiteUrl;\nexport const getEngagementUrl = state => state.project.EngagementUrl;\nexport const getPowerBiReports = state => state.project.powerBiReports;\nexport const getProjectFinancials = state => ({\n  currency: state.project.currency,\n  financialsMagnitude: state.project.financialsMagnitude,\n  financialsDecimalCount: state.project.financialsDecimalCount\n});\n\n// Thunks\nexport const loadProjectThunk = projectId => async dispatch => {\n  try {\n    dispatch(clearAllProjectData());\n    dispatch(fetchProjectBegan());\n    const projectResponse = await getProjectById(projectId);\n    dispatch(fetchProjectDetailsSucceeded(projectResponse));\n\n    if (projectResponse) {\n      const settingsResponse = await getProjectSettingsById(projectId);\n      dispatch(fetchProjectSettingsSucceeded(settingsResponse));\n    }\n  } catch (error) {\n    dispatch(fetchProjectFailed(error.response ? error.response.status : 500));\n  } finally {\n    dispatch(fetchProjectEnded());\n  }\n};\n\nexport const loadPowerBiReportsThunk = projectId => async dispatch => {\n  const reports = await getReports(projectId);\n  dispatch(powerBiReportsUpdated(reports));\n};\n\nexport const updateProjectSettingsThunk = (\n  projectId,\n  settings\n) => async dispatch => {\n  try {\n    dispatch(fetchProjectBegan());\n\n    await updateProjectSettings(projectId, settings);\n\n    dispatch(fetchProjectSettingsSucceeded(settings));\n  } catch (error) {\n    dispatch(fetchProjectFailed(error.response ? error.response.status : 500));\n  } finally {\n    dispatch(fetchProjectEnded());\n  }\n};\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst reportSliceSelector = state => state.report || {};\n\nconst previewPageSelector = createSelector(\n  reportSliceSelector,\n  report => report.previewPage || {}\n);\n\nexport { previewPageSelector };\n","import { useSelector } from 'react-redux';\nimport { useRouteMatch } from 'react-router-dom';\nimport { selectAnalysisContent } from '../../features/analyses/analysisSlice';\nimport { categoryPathRoute } from '../../features/divestitureDiagnostic/routes';\nimport { getCurrentHypothesis } from '../../features/hypotheses/hypothesisSlice';\nimport { getCurrentInsight } from '../../features/insights/insightSlice';\nimport { getProject } from '../../features/project/projectSlice';\nimport { previewPageSelector } from '../redux/reports/reportsSelectors';\n\nexport const DEFAULT_TITLE = 'Junction';\n\nconst makeTitle = getStr => args => `${getStr(args)} | ${DEFAULT_TITLE}`;\n\nconst makeProject = getStr => args => `${getStr(args)} - ${args.projectName}`;\n\nconst makeProjectTitle = getStr => args => makeTitle(makeProject(getStr))(args);\n\nconst ROUTES = [\n  // Projects\n  { path: '/projects', title: makeTitle(() => 'Projects') },\n  {\n    path: '/projects/create-project',\n    title: makeTitle(() => 'Create a new project')\n  },\n  {\n    path: '/projects/:projectId',\n    title: makeTitle(({ projectName }) => projectName)\n  },\n\n  // Insights\n  {\n    path: '/projects/:projectId/insights',\n    title: makeProjectTitle(() => `Insights`)\n  },\n  {\n    path: '/projects/:projectId/insights/create',\n    title: makeProjectTitle(() => `Add new Insight`)\n  },\n  {\n    path: '/projects/:projectId/insights/:insightId/view',\n    title: makeProjectTitle(({ insightTitle }) => `${insightTitle}`)\n  },\n  {\n    path: '/projects/:projectId/insights/:insightId/edit',\n    title: makeProjectTitle(() => 'Edit Insight')\n  },\n\n  // Key Focus Areas\n  {\n    path: '/projects/:projectId/key-focus-areas',\n    title: makeProjectTitle(() => `Key Focus Areas`)\n  },\n  {\n    path: '/projects/:projectId/key-focus-areas/create',\n    title: makeProjectTitle(() => `Add new Key Focus Area`)\n  },\n  {\n    path: '/projects/:projectId/key-focus-areas/:hypothesisId/view',\n    title: makeProjectTitle(({ hypothesisTitle }) => `${hypothesisTitle}`)\n  },\n  {\n    path: '/projects/:projectId/key-focus-areas/:hypothesisId/edit',\n    title: makeProjectTitle(() => 'Edit Key Focus Area')\n  },\n\n  // Analyses\n  {\n    path: '/projects/:projectId/analyses',\n    title: makeProjectTitle(() => `Analyses`)\n  },\n  {\n    path: '/projects/:projectId/analyses/create',\n    title: makeProjectTitle(() => `Add new Analysis`)\n  },\n  {\n    path: '/projects/:projectId/analyses/create/library-items',\n    title: makeProjectTitle(() => `Add data - Add new Analysis`)\n  },\n  {\n    path: '/projects/:projectId/analyses/create/layout',\n    title: makeProjectTitle(() => `Add layout - Add new Analysis`)\n  },\n  {\n    path: '/projects/:projectId/analyses/add-type',\n    title: makeProjectTitle(() => `Add Analysis`)\n  },\n  {\n    path: '/projects/:projectId/analyses/add-from-template',\n    title: makeProjectTitle(() => `Add Analysis from template`)\n  },\n  {\n    path: '/projects/:projectId/analyses/quality-of-earnings',\n    title: makeProjectTitle(() => `Quality of Earnings`)\n  },\n  {\n    path: '/projects/:projectId/analyses/quality-of-earnings/edit',\n    title: makeProjectTitle(() => `Edit Quality of Earnings`)\n  },\n  {\n    path: '/projects/:projectId/analyses/net-working-capital',\n    title: makeProjectTitle(() => `Net Working Capital`)\n  },\n  {\n    path: '/projects/:projectId/analyses/net-working-capital/edit',\n    title: makeProjectTitle(() => `Edit Net Working Capital`)\n  },\n  {\n    path: '/projects/:projectId/analyses/debt-debt-like',\n    title: makeProjectTitle(() => `Debt & Debt Like`)\n  },\n  {\n    path: '/projects/:projectId/analyses/debt-debt-like/edit',\n    title: makeProjectTitle(() => `Edit Debt & Debt Like`)\n  },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/view',\n    title: makeProjectTitle(({ analysisTitle }) => `${analysisTitle}`)\n  },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/edit',\n    title: makeProjectTitle(() => 'Edit Analysis')\n  },\n\n  // Settings\n  {\n    path: '/projects/:projectId/settings',\n    title: makeProjectTitle(() => `Settings`)\n  },\n\n  // Reports\n  {\n    path: '/projects/:projectId/reports',\n    title: makeProjectTitle(() => `Reports`)\n  },\n  {\n    path: '/projects/:projectId/reports/create-report',\n    title: makeProjectTitle(() => `Report Builder`)\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/filter',\n    title: makeProjectTitle(() => `Report Builder Filtered Results`)\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/preview/report',\n    title: makeProjectTitle(() => `Report Preview`)\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/preview/cover',\n    title: makeProjectTitle(() => `Cover - Report Preview`)\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/preview/tile/:tileId',\n    title: makeProjectTitle(({ tileTitle }) => `${tileTitle} - Report Preview`)\n  },\n\n  // Notifications\n  {\n    path:\n      '/projects/:projectId/divestiture-diagnostic/survey/:sectionPath/:questionId',\n    title: makeProjectTitle(() => 'Diagnostic Questionnaire')\n  },\n  {\n    path: '/projects/:projectId/divestiture-diagnostic/survey/responses',\n    title: makeProjectTitle(() => 'Diagnostic Responses')\n  },\n  {\n    path: categoryPathRoute,\n    title: makeProjectTitle(() => 'Diagnostic Results')\n  },\n\n  // Notifications\n  {\n    path: '/projects/:projectId/notifications',\n    title: makeProjectTitle(() => 'Notifications')\n  },\n  {\n    path: '/projects/:projectId/notifications/mentions',\n    title: makeProjectTitle(() => 'Mentions - Notifications')\n  },\n  {\n    path: '/projects/:projectId/notifications/approval-requests',\n    title: makeProjectTitle(() => 'Approval Requests - Notifications')\n  },\n  {\n    path: '/projects/:projectId/notifications/project-activity',\n    title: makeProjectTitle(() => 'Project Activity - Notifications')\n  },\n\n  // Legal\n  {\n    path: '/terms-and-conditions',\n    title: makeTitle(() => 'Terms & Conditions')\n  },\n  {\n    path: '/policies/privacy-statement',\n    title: makeTitle(() => 'Privacy Statement')\n  },\n  {\n    path: '/policies/cookie-statement',\n    title: makeTitle(() => 'Cookie Statement')\n  },\n  {\n    path: '/policies/terms-of-use',\n    title: makeTitle(() => 'Terms Of Use')\n  },\n  {\n    path: '/projects/:projectId/project-disclaimer',\n    title: makeProjectTitle(() => 'Project Disclaimer')\n  },\n\n  // Error\n  {\n    path: '/notfound',\n    title: makeTitle(() => 'Not Found')\n  },\n  {\n    path: '/unauthorized',\n    title: makeTitle(() => 'Unauthorized')\n  },\n  {\n    path: '/unauthenticated',\n    title: makeTitle(() => 'Unauthenticated')\n  }\n];\n\nconst useMatchedRoute = route => ({\n  ...route,\n  match: useRouteMatch(route.path)\n});\n\nconst useMatchedRoutes = () => ROUTES.map(useMatchedRoute);\n\nexport const useExactMatchedRoute = () =>\n  useMatchedRoutes().filter(r => (r.match || {}).isExact)[0];\n\nexport const useCustomRouteNames = () => {\n  const project = useSelector(getProject);\n  const hypothesis = useSelector(getCurrentHypothesis);\n  const analysis = useSelector(selectAnalysisContent);\n  const insight = useSelector(getCurrentInsight);\n  const tile = useSelector(previewPageSelector);\n  return {\n    projectName: project.name,\n    hypothesisTitle: hypothesis.title,\n    analysisTitle: analysis && analysis.title,\n    insightTitle: insight.title,\n    tileTitle: tile.title\n  };\n};\n","import { MasterApiClient } from './httpClient';\n\nexport const getFooter = async () => {\n  const response = await MasterApiClient.get('footer');\n  return response.data;\n};\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const initialState = {\n  template: null,\n  loaded: false,\n  loading: false\n};\n\nconst footerSlice = createSlice({\n  name: 'footer',\n  initialState,\n  reducers: {\n    setFooterRequested: state => {\n      return {\n        ...state,\n        template: null,\n        loaded: false,\n        loading: true\n      };\n    },\n    setFooterReceived: (state, action) => {\n      return {\n        ...state,\n        template: action.payload.body,\n        loaded: true,\n        loading: false\n      };\n    }\n  }\n});\n\n// Actions\nexport const { setFooterRequested, setFooterReceived } = footerSlice.actions;\n\n// Selectors\nexport const getFooterLoaded = state => state.footer.loaded;\nexport const getFooterLoading = state => state.footer.loading;\nexport const getFooterTemplate = state => state.footer.template;\n\nexport default footerSlice.reducer;\n","import { getFooter } from '../../services/footerService';\nimport authorizationService from '../../services/security/authorizationService';\nimport {\n  getFooterLoaded,\n  getFooterLoading,\n  setFooterReceived,\n  setFooterRequested\n} from './footerSlice';\n\nexport const getFooterThunk = () => async (dispatch, getState) => {\n  if (\n    !authorizationService.hasValidToken() ||\n    getFooterLoading(getState()) ||\n    getFooterLoaded(getState())\n  ) {\n    return;\n  }\n\n  dispatch(setFooterRequested());\n  const footer = await getFooter();\n  dispatch(setFooterReceived(footer));\n};\n","import React from 'react';\n\nimport './separator.scss';\n\nconst Separator = () => <div className=\"separator\" />;\n\nexport default Separator;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const initialState = {\n  loaded: false,\n  loading: false,\n  hasAccepted: null\n};\n\nconst userTermsAndConditionsSlice = createSlice({\n  name: 'userTermsAndConditions',\n  initialState,\n  reducers: {\n    setUserTermsAndConditionsRequested: state => {\n      return {\n        ...state,\n        hasAccepted: null,\n        loaded: false,\n        loading: true\n      };\n    },\n    setUserTermsAndConditionsReceived: (state, action) => {\n      return {\n        ...state,\n        hasAccepted: action.payload,\n        loaded: true,\n        loading: false\n      };\n    }\n  }\n});\n\n// Actions\nexport const {\n  setUserTermsAndConditionsRequested,\n  setUserTermsAndConditionsReceived\n} = userTermsAndConditionsSlice.actions;\n\n// Selectors\nexport const getUserTermsAndConditionsLoaded = state =>\n  state.userTermsAndConditions.loaded;\nexport const getUserTermsAndConditionsLoading = state =>\n  state.userTermsAndConditions.loading;\nexport const getUserTermsAndConditionsHasAccepted = state =>\n  state.userTermsAndConditions.hasAccepted;\n\nexport default userTermsAndConditionsSlice.reducer;\n","import DOMPurify from 'dompurify';\n\nconst profile = {\n  ALLOWED_TAGS: [\n    'a',\n    'b',\n    'br',\n    'caption',\n    'clippath',\n    'col',\n    'colgroup',\n    'defs',\n    'div',\n    'ellipse',\n    'g',\n    'h2',\n    'h3',\n    'h4',\n    'i',\n    'img',\n    'image',\n    'li',\n    'marker',\n    'ol',\n    'p',\n    'pattern',\n    'path',\n    'span',\n    'strong',\n    'symbol',\n    'svg',\n    'table',\n    'tbody',\n    'td',\n    'text',\n    'th',\n    'tr',\n    'tspan',\n    'u',\n    'ul',\n    'use'\n  ],\n  ALLOWED_ATTR: [\n    'border',\n    'target',\n    'cellpadding',\n    'cellspacing',\n    'class',\n    'clip-path',\n    'colspan',\n    'contenteditable',\n    'cx',\n    'd',\n    'fill',\n    'fill-opacity',\n    'font-family',\n    'font-size',\n    'font-stretch',\n    'font-style',\n    'font-weight',\n    'height',\n    'href',\n    'id',\n    'marker-end',\n    'marker-start',\n    'markerHeight',\n    'markerUnits',\n    'markerWidth',\n    'name',\n    'orient',\n    'patternunits',\n    'preserveaspectratio',\n    'rowspan',\n    'rx',\n    'ry',\n    'stroke',\n    'stroke-dasharray',\n    'stroke-linecap',\n    'stroke-linejoin',\n    'stroke-opacity',\n    'stroke-width',\n    'style',\n    'text-rendering',\n    'transform',\n    'version',\n    'viewbox',\n    'width',\n    'x',\n    'xlink:href',\n    'xml:space',\n    'xmlns',\n    'xmlns:xlink',\n    'y'\n  ]\n};\n\nexport const sanitize = input => DOMPurify.sanitize(input, profile);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\n\nconst TermsConditionsLinks = () => {\n  return Constants.TERMS_AND_CONDITIONS_LINKS.map(link => (\n    <Link className=\"footer-link\" to={`/policies/${link.key}`} key={link.key}>\n      {link.text}\n    </Link>\n  ));\n};\n\nexport default TermsConditionsLinks;\n","import React from 'react';\nimport Handlebars from 'handlebars';\nimport { useSelector } from 'react-redux';\nimport Separator from '../Separator';\nimport authorizationService from '../../services/security/authorizationService';\nimport { getUserTermsAndConditionsHasAccepted } from '../../redux/userTermsAndConditions/userTermsAndConditionsSlice';\nimport { getProjectId } from '../../../features/project/projectSlice';\nimport { sanitize } from '../../services/sanitizeService';\nimport {\n  getFooterLoaded,\n  getFooterTemplate\n} from '../../redux/termsAndConditions/footerSlice';\nimport TermsConditionsLinks from './TermsConditionsLinks';\nimport './Footer.scss';\n\nconst Footer = () => {\n  const footerLoaded = useSelector(getFooterLoaded);\n  const projectId = useSelector(getProjectId);\n  const hasAccepted = useSelector(getUserTermsAndConditionsHasAccepted);\n  const footerTemplate = useSelector(getFooterTemplate);\n  const isInternalUser = !authorizationService.isClientUser();\n  const shouldShowLinks = hasAccepted || isInternalUser;\n\n  if (!footerLoaded) {\n    return null;\n  }\n\n  const getCurrentYear = () => new Date().getFullYear();\n  const fallbackCopyrightStatement = `<div class=\"copyright\"><p>© ${getCurrentYear()} PwC. All rights reserved.</p></div>`;\n\n  const showSubText = shouldShowLinks && projectId;\n  const templateTokens = {\n    showSubText,\n    projectId,\n    currentYear: getCurrentYear()\n  };\n\n  let interpolatedTemplate;\n  try {\n    const template = Handlebars.compile(footerTemplate);\n    interpolatedTemplate = template(templateTokens);\n  } catch (e) {\n    interpolatedTemplate = fallbackCopyrightStatement;\n  }\n\n  return (\n    <footer>\n      <Separator />\n      {shouldShowLinks ? <TermsConditionsLinks /> : null}\n      <div\n        className=\"copyright\"\n        dangerouslySetInnerHTML={{\n          __html: sanitize(interpolatedTemplate)\n        }}\n      />\n    </footer>\n  );\n};\nexport default Footer;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { getAllProjects } from '../../common/services/projectService';\n\nexport const initialState = {\n  projectsList: []\n};\n\nconst projectsSlice = createSlice({\n  name: 'projects',\n  initialState,\n  reducers: {\n    fetchProjectsEnded: (state, action) => ({\n      ...state,\n      projectsList: action.payload\n    })\n  }\n});\nexport default projectsSlice.reducer;\n\n// Actions\nexport const { fetchProjectsEnded } = projectsSlice.actions;\n\n// Selectors\nexport const getProjectsList = state =>\n  state.projects && state.projects.projectsList;\n\n// Thunks\nexport const loadProjectsThunk = () => async dispatch => {\n  const projects = await getAllProjects();\n  dispatch(fetchProjectsEnded(projects));\n};\n","export const PROJECT_STATUS_CODES = {\r\n  NEW: 1,\r\n  IN_PROGRESS: 2,\r\n  COMPLETED: 3,\r\n  MIGRATION_COMPLETED: 4,\r\n  MIGRATION_FAILED: 5,\r\n  SYNC_FAILED: 7,\r\n  FAILED: 10,\r\n  ON_HOLD: 11,\r\n  INACTIVE: 12,\r\n  INACTIVE_PENDING_NEEDS_APPROVAL: 13,\r\n  INACTIVE_PENDING_IN_PROGRESS: 15,\r\n  REACTIVE_PENDING_NEEDS_APPROVAL: 17,\r\n  REACTIVE_PENDING_IN_PROGRESS: 16,\r\n  ARCHIVED: 14,\r\n  ARCHIVING_PENDING_NEEDS_APPROVAL: 1001,\r\n  ARCHIVING_PENDING_FROM_INACTIVE_NEEDS_APPROVAL: 1002,\r\n  ARCHIVING_PENDING_IN_PROGRESS: 1003,\r\n  ARCHIVING_PENDING_FROM_INACTIVE_IN_PROGRESS: 1004,\r\n  UNARCHIVING_PENDING_NEEDS_APPROVAL: 1005,\r\n  UNARCHIVING_PENDING_IN_PROGRESS: 1006\r\n};\r\n","import { PROJECT_STATUS_CODES } from '../constants/ProjectStatus';\r\n\r\nexport const isProjectActive = projectStatus => {\r\n  return (\r\n    projectStatus === PROJECT_STATUS_CODES.COMPLETED ||\r\n    projectStatus === PROJECT_STATUS_CODES.REACTIVE_PENDING_IN_PROGRESS ||\r\n    projectStatus === PROJECT_STATUS_CODES.UNARCHIVING_PENDING_IN_PROGRESS ||\r\n    projectStatus === PROJECT_STATUS_CODES.ARCHIVING_PENDING_NEEDS_APPROVAL ||\r\n    projectStatus === PROJECT_STATUS_CODES.INACTIVE_PENDING_NEEDS_APPROVAL\r\n  );\r\n};\r\n\r\nexport const isProjectReactivePendingInProgress = projectStatus => {\r\n  return projectStatus === PROJECT_STATUS_CODES.REACTIVE_PENDING_IN_PROGRESS;\r\n};\r\n\r\nexport const isProjectUnarchivingPendingInProgress = projectStatus => {\r\n  return projectStatus === PROJECT_STATUS_CODES.UNARCHIVING_PENDING_IN_PROGRESS;\r\n};\r\n\r\nexport const isProjectInactive = projectState => {\r\n  return (\r\n    projectState === PROJECT_STATUS_CODES.INACTIVE ||\r\n    projectState === PROJECT_STATUS_CODES.INACTIVE_PENDING_IN_PROGRESS ||\r\n    projectState === PROJECT_STATUS_CODES.REACTIVE_PENDING_NEEDS_APPROVAL ||\r\n    projectState ===\r\n      PROJECT_STATUS_CODES.ARCHIVING_PENDING_FROM_INACTIVE_NEEDS_APPROVAL\r\n  );\r\n};\r\n\r\nexport const isProjectInactivePendingInProgress = projectStatus => {\r\n  return projectStatus === PROJECT_STATUS_CODES.INACTIVE_PENDING_IN_PROGRESS;\r\n};\r\n\r\nexport const isProjectArchived = projectState => {\r\n  return (\r\n    projectState === PROJECT_STATUS_CODES.ARCHIVED ||\r\n    projectState === PROJECT_STATUS_CODES.ARCHIVING_PENDING_IN_PROGRESS ||\r\n    projectState === PROJECT_STATUS_CODES.UNARCHIVING_PENDING_NEEDS_APPROVAL\r\n  );\r\n};\r\n\r\nexport const isProjectArchivingPendingInProgress = projectStatus => {\r\n  return projectStatus === PROJECT_STATUS_CODES.ARCHIVING_PENDING_IN_PROGRESS;\r\n};\r\n\r\nexport const isProjectInPendingState = projectStatus => {\r\n  return (\r\n    isProjectUnarchivingPendingInProgress(projectStatus) ||\r\n    isProjectReactivePendingInProgress(projectStatus) ||\r\n    isProjectInactivePendingInProgress(projectStatus) ||\r\n    isProjectArchivingPendingInProgress(projectStatus)\r\n  );\r\n};\r\n\r\nexport const isProjectReadOnly = projectState => {\r\n  return isProjectInactive(projectState) || isProjectArchived(projectState);\r\n};\r\n","import { chain as _chain, isEmpty as _isEmpty } from 'lodash';\nimport { useSelector } from 'react-redux';\nimport { getProjectsList } from '../../features/projects/projectsSlice';\nimport {\n  isProjectArchived,\n  isProjectInactive\n} from '../helpers/projectStatusesUtils';\n\nexport const getProjectStatus = (projectStatuses, projectId) => {\n  return (\n    projectId && projectStatuses[projectId] && projectStatuses[projectId].status\n  );\n};\n\nexport const getProjectStatusIcon = (projectStatuses, projectId) => {\n  return projectId && projectStatuses[projectId]\n    ? projectStatuses[projectId].icon\n    : '';\n};\n\nexport const useProjectsStatuses = () => {\n  const projectList = useSelector(getProjectsList);\n  if (!_isEmpty(projectList)) {\n    return _chain(projectList)\n      .filter(project => project && project.id && project.status)\n      .keyBy(project => project.id)\n      .mapValues(project => {\n        let icon = '';\n        if (isProjectInactive(project.status)) {\n          icon = 'pause';\n        } else if (isProjectArchived(project.status)) {\n          icon = 'archive';\n        }\n\n        return {\n          status: project.status,\n          icon\n        };\n      })\n      .value();\n  }\n  return {};\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport classNames from 'classnames';\nimport './ProjectStatePill.scss';\nimport {\n  getProjectStatus,\n  getProjectStatusIcon,\n  useProjectsStatuses\n} from '../../common/hooks/useProjectsStatuses';\nimport {\n  isProjectActive,\n  isProjectArchived,\n  isProjectInactive,\n  isProjectInactivePendingInProgress,\n  isProjectReactivePendingInProgress\n} from '../../common/helpers/projectStatusesUtils';\n\nconst ProjectStatePill = ({\n  showWhenActive,\n  isSmall,\n  projectId,\n  showPendingStatus\n}) => {\n  const projectsStates = useProjectsStatuses();\n  const projectStatus = getProjectStatus(projectsStates, projectId);\n  const projectStateIcon = getProjectStatusIcon(projectsStates, projectId);\n  const iconSize = 13;\n\n  if (\n    !isProjectActive(projectStatus) &&\n    !isProjectInactive(projectStatus) &&\n    !isProjectArchived(projectStatus)\n  ) {\n    return null;\n  }\n\n  if (!projectStatus || (!showWhenActive && isProjectActive(projectStatus))) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"project-state-pill-container\"\n      data-testid=\"project-state-pill\"\n    >\n      <div\n        className={classNames('project-state-pill', {\n          'project-state-pill__no-icon': isProjectActive(projectStatus),\n          'project-state-pill__small': isSmall\n        })}\n      >\n        {(isProjectInactive(projectStatus) ||\n          isProjectArchived(projectStatus)) && (\n          <Icon\n            name={projectStateIcon}\n            className=\"fill icon-black\"\n            width={iconSize}\n            height={iconSize}\n          />\n        )}\n        {isProjectActive(projectStatus) && (\n          /* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */\n          <span tabIndex={0} data-testid=\"project-state-pill-status\">\n            {`Active${\n              isProjectReactivePendingInProgress(projectStatus) &&\n              showPendingStatus\n                ? ', pending'\n                : ''\n            }`}\n          </span>\n        )}\n        {isProjectInactive(projectStatus) && (\n          /* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */\n          <span tabIndex={0} data-testid=\"project-state-pill-status\">\n            {`Inactive${\n              isProjectInactivePendingInProgress(projectStatus) &&\n              showPendingStatus\n                ? ', pending'\n                : ''\n            }`}\n          </span>\n        )}\n        {isProjectArchived(projectStatus) && (\n          /* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */\n          <span tabIndex={0} data-testid=\"project-state-pill-status\">\n            Archived\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nProjectStatePill.propTypes = {\n  projectId: PropTypes.number.isRequired,\n  showWhenActive: PropTypes.bool,\n  showPendingStatus: PropTypes.bool,\n  isSmall: PropTypes.bool\n};\n\nProjectStatePill.defaultProps = {\n  showWhenActive: true,\n  showPendingStatus: false,\n  isSmall: false\n};\n\nexport default ProjectStatePill;\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst CONSTANTS = Object.freeze({\n  TABS: {\n    EDIT_LAYOUT: 'Edit Layout',\n    SAVE_PREVIEW_REPORT: 'Save and preview report'\n  },\n  TABS_ROUTE: {\n    LAYOUT: 'layout',\n    PREVIEW: 'preview'\n  },\n  SUB_ROUTES: {\n    CREATE_PREVIEW: '/projects/:projectId/analyses/create/layout/preview',\n    CREATE_LAYOUT: '/projects/:projectId/analyses/create/layout',\n    EDIT_PREVIEW:\n      '/projects/:projectId/analyses/:analysisId/edit/layout/preview',\n    EDIT_LAYOUT: '/projects/:projectId/analyses/:analysisId/edit/layout'\n  },\n  PARTIAL_ROUTE: {\n    CREATE_LAYOUT: 'create/layout',\n    EDIT_LAYOUT: 'edit/layout',\n    CREATE_LAYOUT_PREVIEW: 'create/layout/preview',\n    EDIT_LAYOUT_PREVIEW: 'edit/layout/preview'\n  },\n  COLUMN_TYPE: {\n    ONE: 'ONE_COLUM',\n    TWO: 'TWO_COLUM',\n    THREE: 'THREE_COLUM',\n    FOUR: 'FOUR_COLUM'\n  },\n  USER_EVENTS: {\n    SCROLL: 'scroll',\n    RESIZE: 'resize'\n  },\n  LAYOUT_TYPE_TO_LAYOUT_TITLE_DESCRIPTION_MAP: {\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: {\n      title: 'One column, full width',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: {\n      title: 'Two column',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]: {\n      title: 'Three column',\n      description: 'excess text in each column will cut off in the report.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: {\n      title: 'One column, large',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: {\n      title: 'One column, medium',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: {\n      title: 'One column, small',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]: {\n      title: 'Two column, text only',\n      description:\n        'text will fill in the left column and continue in the right column, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]: {\n      title: 'Stacked with right column',\n      description:\n        'excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]: {\n      title: 'Three stacked with right column',\n      description:\n        'excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]: {\n      title: 'Two column, narrow left',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]: {\n      title: 'Two column, narrow right',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]: {\n      title: 'Stacked with narrow right column',\n      description:\n        'excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]: {\n      title: 'Two column, extra narrow right',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]: {\n      title: 'Stacked, large top',\n      description:\n        'excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]: {\n      title: 'Stacked, medium top',\n      description:\n        'excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]: {\n      title: 'Stacked, large bottom',\n      description:\n        'excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]: {\n      title: 'Stacked, two block top',\n      description:\n        'excess text in the top areas will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    }, // TODO: fix left side layout 17, it should be TWO_ROW_T_50_2A_B_100_1A\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]: {\n      title: 'Stacked, two block bottom',\n      description: 'excess text in each area will cut off in the report.'\n    }, // TODO: fix left side layout 18, it should be TWO_ROW_T_100_1A_B_50_2A\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]: {\n      title: 'Four block',\n      description: 'excess text in each area will cut off in the report.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]: {\n      title: 'Four block, narrow right',\n      description: 'excess text in each area will cut off in the report.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]: {\n      title: 'Six block',\n      description: 'excess text in each area will cut off in the report.'\n    }\n  },\n  LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP: {\n    // 1\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: 'one-column',\n    // 2\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: 'two-column',\n    // 3\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]: 'three-column',\n    // 4\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: 'one-column-80',\n    // 5\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: 'one-column-60',\n    // 6\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: 'one-column-40',\n    // 7\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]:\n      'one-column-text-overflow-area',\n    // 8\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]:\n      'two-column-three-area-2left50-right50',\n    // 9\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]:\n      'two-column-four-area-3left50-right50',\n    // 10\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]:\n      'two-column-left40-right60',\n    // 11\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]:\n      'two-column-left67-right33',\n    // 12\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]:\n      'two-column-three-area-2left67-right33',\n    // 13\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]:\n      'two-column-left80-right20',\n    // 14\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]:\n      'two-row-top80-bottom20',\n    // 15\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]:\n      'two-row-top60-bottom40',\n    // 16\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]:\n      'two-row-top20-bottom80',\n    // 17\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]:\n      'two-row-three-area-2top50-bottom100',\n    // 18\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]:\n      'two-row-three-area-top100-2bottom50',\n    // 19\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]:\n      'two-row-two-column-50-50',\n    // 20\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]:\n      'two-row-two-column-67-33',\n    // 21\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]: 'two-row-three-column'\n  },\n  VIEWPORT_WIDTHS: {\n    TABLET: 768\n  },\n  LAYOUT_TYPE_TO_ICON_MAP: {\n    // positions:\n    // one area\n    '1-1': 'one-column-full-width',\n    '4-1': 'one-column-large',\n    '5-1': 'one-column-medium',\n    '6-1': 'one-column-small',\n    '7-1': 'two-column-text-only',\n\n    // two areas\n    '10-1': 'two-column-narrow-left-left',\n    '10-2': 'two-column-narrow-left-right',\n\n    '11-1': 'two-column-narrow-right-left',\n    '11-2': 'two-column-narrow-right-right',\n\n    '2-1': 'two-column-left',\n    '2-2': 'two-column-right',\n\n    '15-1': 'stacked-medium-top-top',\n    '15-2': 'stacked-medium-top-bottom',\n\n    '14-1': 'stacked-large-top-top',\n    '14-2': 'stacked-large-top-bottom',\n\n    '16-1': 'stacked-large-bottom-top',\n    '16-2': 'stacked-large-bottom-bottom',\n\n    '13-1': 'two-column-extra-narrow-right-left',\n    '13-2': 'two-column-extra-narrow-right-right',\n\n    // three areas\n    '3-1': 'three-column-left',\n    '3-2': 'three-column-middle',\n    '3-3': 'three-column-right',\n\n    '8-1': 'stacked-with-right-column-top-left',\n    '8-2': 'stacked-with-right-column-right',\n    '8-3': 'stacked-with-right-column-bottom-left',\n\n    '12-1': 'stacked-with-narrow-right-column-top-left',\n    '12-2': 'stacked-with-narrow-right-column-right',\n    '12-3': 'stacked-with-narrow-right-column-bottom-left',\n\n    '17-1': 'stacked-two-block-top-top-left',\n    '17-2': 'stacked-two-block-top-top-right',\n    '17-3': 'stacked-two-block-top-bottom',\n\n    '18-1': 'stacked-two-block-bottom-top',\n    '18-2': 'stacked-two-block-bottom-bottom-left',\n    '18-3': 'stacked-two-block-bottom-bottom-right',\n\n    // four areas\n    '19-1': 'four-block-top-left',\n    '19-2': 'four-block-top-right',\n    '19-3': 'four-block-bottom-left',\n    '19-4': 'four-block-bottom-right',\n\n    '20-1': 'four-block-narrow-right-top-left',\n    '20-2': 'four-block-narrow-right-top-right',\n    '20-3': 'four-block-narrow-right-bottom-left',\n    '20-4': 'four-block-narrow-right-bottom-right',\n\n    '9-1': 'three-stacked-with-right-column-left-top',\n    '9-2': 'three-stacked-with-right-column-right',\n    '9-3': 'three-stacked-with-right-column-left-middle',\n    '9-4': 'three-stacked-with-right-column-left-bottom',\n\n    '21-1': 'six-block-top-left',\n    '21-2': 'six-block-top-middle',\n    '21-3': 'six-block-top-right',\n    '21-4': 'six-block-bottom-left',\n    '21-5': 'six-block-bottom-middle',\n    '21-6': 'six-block-bottom-right'\n  }\n});\nexport default CONSTANTS;\n","import { useState, useEffect } from 'react';\n\nfunction useWindowSize() {\n  const isClient = typeof window === 'object';\n\n  function getSize() {\n    return {\n      height: isClient ? window.innerHeight : undefined,\n      width: isClient ? window.innerWidth : undefined\n    };\n  }\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) {\n      return;\n    }\n\n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    window.addEventListener('resize', handleResize);\n    // eslint-disable-next-line consistent-return\n    return () => window.removeEventListener('resize', handleResize);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return windowSize;\n}\n\nexport default useWindowSize;\n","import CONSTANTS from '../../features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/Constants';\r\nimport useWindowSize from './useWindowSize';\r\n\r\nfunction useTabletOrMobile() {\r\n  const { width } = useWindowSize();\r\n  return width <= CONSTANTS.VIEWPORT_WIDTHS.TABLET;\r\n}\r\n\r\nexport default useTabletOrMobile;\r\n","export const getLoggedInUser = state => state.loggedInUser;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const initialState = {\n  settings: {\n    viewGrid: true\n  },\n  loading: false,\n  loaded: false\n};\n\nconst userSettingsSlice = createSlice({\n  name: 'userSettings',\n  initialState,\n  reducers: {\n    setUserSettings: (state, action) => {\n      return {\n        ...state,\n        settings: { ...state.settings, ...action.payload },\n        loading: false,\n        loaded: true\n      };\n    },\n    setUserSettingsIsLoading: state => {\n      return {\n        ...state,\n        loading: true\n      };\n    }\n  }\n});\n\n// Actions\nexport const {\n  setUserSettings,\n  setUserSettingsIsLoading\n} = userSettingsSlice.actions;\n\n// Selectors\nexport const getUserSettingsSelector = state => state.userSettings;\nexport const getIsDarkModeSelector = state =>\n  state.userSettings.settings.darkMode;\n\nexport default userSettingsSlice.reducer;\n","import { MasterApiClient, UserAuthClient } from './httpClient';\n\nconst USER_SETTING_BASE_PATH = 'userSettings';\n\nexport const fetchUserSettings = async () => {\n  const response = await MasterApiClient.get(USER_SETTING_BASE_PATH, {}, true);\n  return response;\n};\n\nexport const saveUserTheme = async darkMode => {\n  const response = await MasterApiClient.put(\n    `${USER_SETTING_BASE_PATH}/theme`,\n    {\n      darkMode\n    }\n  );\n  return response;\n};\n\nexport const saveUserPerformanceCookiePreference = async allowPerformanceCookies => {\n  const response = await MasterApiClient.put(\n    `${USER_SETTING_BASE_PATH}/allowPerformanceCookies`,\n    {\n      allowPerformanceCookies\n    }\n  );\n  return response;\n};\n\nexport const setDoNotProcessForPendo = async doNotProcessRequests => {\n  const response = await UserAuthClient.put('users/doNotProcessPendoRequests', {\n    doNotProcessRequests\n  });\n  return response;\n};\n","import {\n  getUserSettingsSelector,\n  setUserSettings,\n  setUserSettingsIsLoading\n} from './userSettingsSlice';\nimport {\n  saveUserTheme,\n  saveUserPerformanceCookiePreference,\n  fetchUserSettings,\n  setDoNotProcessForPendo\n} from '../../services/userSettingsService';\n\nexport const loadUserSettingsThunk = () => async dispatch => {\n  dispatch(setUserSettingsIsLoading());\n  const getResponse = await fetchUserSettings();\n  if (getResponse) {\n    dispatch(setUserSettings(getResponse.data));\n  }\n};\n\nexport const changeUserThemeThunk = darkMode => async (dispatch, getState) => {\n  const currentUserSettings = getUserSettingsSelector(getState());\n  if (\n    !currentUserSettings.loading &&\n    !!currentUserSettings.settings.darkMode !== darkMode\n  ) {\n    dispatch(setUserSettingsIsLoading());\n    await saveUserTheme(darkMode);\n    dispatch(loadUserSettingsThunk());\n  }\n};\n\nexport const changeUserPerformanceCookiePreferenceThunk = (\n  allowPerformanceCookies,\n  doNotProcessRequests\n) => async (dispatch, getState) => {\n  const currentUserSettings = getUserSettingsSelector(getState());\n  if (\n    !currentUserSettings.loading &&\n    !!currentUserSettings.settings.allowPerformanceCookies !==\n      allowPerformanceCookies\n  ) {\n    dispatch(setUserSettingsIsLoading());\n    await Promise.all([\n      saveUserPerformanceCookiePreference(allowPerformanceCookies),\n      setDoNotProcessForPendo(doNotProcessRequests)\n    ]);\n    dispatch(loadUserSettingsThunk());\n  }\n};\n","const locationService = {\n  // eslint-disable-next-line no-return-assign\n  redirect: url => (window.location = url)\n};\nexport default locationService;\n","import { UserAccessTokenClient, UserAuthClient } from '../httpClient';\nimport { clearAllTokens, getAllTokens } from './userTokenService';\n\nexport const refreshTokens = async () => {\n  const response = await UserAuthClient.get(\n    `access/refreshTokens?redirectUri=${window.location.origin}/access}`\n  );\n  return response.data;\n};\n\nexport const invalidateTokens = async () => {\n  const tokens = getAllTokens();\n  clearAllTokens();\n\n  if (tokens.length) {\n    try {\n      await UserAccessTokenClient.post('access/invalidateTokens', {\n        tokens\n      });\n      // eslint-disable-next-line no-empty\n    } catch (_) {}\n  }\n};\n\nexport const getAuthenticationUrl = async (redirectUri, state) => {\n  const response = await UserAccessTokenClient.get(\n    `access/authenticationUrl?redirectUri=${redirectUri}&state=${state}`\n  );\n\n  return response.data;\n};\n\nexport const getSignoutUrl = async () => {\n  const response = await UserAccessTokenClient.get(`access/signOutUrl`);\n\n  return response.data;\n};\n\nexport const getTokens = async accessCode => {\n  const response = await UserAccessTokenClient.get(\n    `access/tokens?code=${accessCode}&redirectUri=${window.location.origin}/access`\n  );\n\n  return response.data;\n};\n","import LRUCache from 'lru-cache';\n\nconst projectTokenCache = new LRUCache({\n  maxAge: 1000 * 60 * 2\n});\n\nexport default projectTokenCache;\n","import locationService from '../../../services/locationService';\nimport {\n  invalidateTokens,\n  getSignoutUrl\n} from '../../../services/security/userAuthService';\nimport projectTokenCache from '../../../services/security/projectTokenCache';\n\nexport const logOutThunk = () => async () => {\n  await invalidateTokens();\n  const signoutUrl = await getSignoutUrl();\n  projectTokenCache.reset();\n  locationService.redirect(signoutUrl);\n};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { logOutThunk } from '../../redux/security/LogOut/logOutThunk';\n\nconst LogOut = () => {\n  const dispatch = useDispatch();\n\n  return (\n    <Button\n      data-testid=\"logout-link\"\n      onClick={e => {\n        dispatch(logOutThunk());\n        e.preventDefault();\n      }}\n    >\n      Log out\n    </Button>\n  );\n};\n\nexport default LogOut;\n","import React, { useCallback, useRef, useState } from 'react';\nimport { Overlay, Popover } from 'react-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button, Toggle } from '@pwc/pwc-deals-ui';\nimport { getLoggedInUser } from '../../redux/security/loggedInUser/loggedInUserSelector';\nimport './UserInitialSnippet.scss';\nimport { changeUserThemeThunk } from '../../redux/userSettings/userSettingsThunk';\nimport { getUserSettingsSelector } from '../../redux/userSettings/userSettingsSlice';\nimport LogOut from '../LogOut/LogOut';\nimport authorizationService from '../../services/security/authorizationService';\n\nconst UserInitialsSnippet = ({ ...props }) => {\n  const loggedInUser = useSelector(getLoggedInUser);\n  const userSettings = useSelector(getUserSettingsSelector);\n  const dispatch = useDispatch();\n\n  const darkMode = !!userSettings.settings.darkMode;\n\n  const toggleDarkMode = useCallback(\n    newTheme => {\n      dispatch(changeUserThemeThunk(newTheme));\n      localStorage.setItem(\n        'pwc-theme',\n        newTheme ? 'theme-dark' : 'theme-light'\n      );\n    },\n    [dispatch]\n  );\n\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n    if (show === true) {\n      setTimeout(() => {\n        document.body.click();\n      }, 200);\n    }\n  };\n\n  const userTypeClass = authorizationService.getUserTypeClass();\n  return loggedInUser ? (\n    <div className=\"usersnippet-initials\" data-testid=\"user-initials\" ref={ref}>\n      <Button\n        {...props}\n        className={`usersnippet-initials-text button-no-appearance ${userTypeClass}`}\n        data-testid=\"user-initials-button\"\n        onClick={handleClick}\n      >\n        {loggedInUser.initials}\n      </Button>\n      <Overlay\n        show={show}\n        target={target}\n        placement=\"bottom\"\n        rootClose\n        onHide={() => {\n          setShow(!show);\n        }}\n        container={ref.current}\n        darkMode={!!userSettings.settings.darkMode}\n      >\n        <Popover\n          id=\"popover-user\"\n          ref={ref}\n          {...props}\n          data-testid=\"popup-menu-user\"\n          className={darkMode ? 'theme-dark' : 'theme-light'}\n        >\n          <Popover.Content className=\"popup-user\">\n            <div className=\"user-profile-dropdown-menu-section\">\n              <p data-testid=\"popup-user-fullname-message\">\n                Welcome {loggedInUser.name}\n              </p>\n            </div>\n            <div className=\"user-profile-dropdown-menu-section\">\n              <Toggle\n                checked={!!darkMode}\n                onClick={() => toggleDarkMode(!darkMode)}\n                name=\"dark-mode-toggle\"\n                data-testid=\"dark-mode-toggle\"\n              >\n                Dark Mode\n              </Toggle>\n            </div>\n            <div className=\"user-profile-dropdown-menu-section\">\n              <LogOut />\n            </div>\n          </Popover.Content>\n        </Popover>\n      </Overlay>\n    </div>\n  ) : null;\n};\n\nexport default UserInitialsSnippet;\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst endSlash = new RegExp(/\\/$/);\nconst startSlash = new RegExp(/^\\//);\n\nconst assembleUrl = base => path => {\n  const cleanBase = base.replace(endSlash, '');\n  const cleanPath = path.replace(startSlash, '');\n\n  return `${cleanBase}/${cleanPath}`;\n};\n\nexport const structuredRoutes = {\n  [Constants.QUALITY_OF_EARNINGS]: 'quality-of-earnings',\n  [Constants.NET_WORKING_CAPITAL]: 'net-working-capital',\n  [Constants.DEBT_AND_DEBT_LIKE]: 'debt-debt-like'\n};\n\nexport const structuredRoutesForSubType = {\n  [Constants.structuredDocumentSubtypeCodes[Constants.QUALITY_OF_EARNINGS]]:\n    'quality-of-earnings',\n  [Constants.structuredDocumentSubtypeCodes[Constants.NET_WORKING_CAPITAL]]:\n    'net-working-capital',\n  [Constants.structuredDocumentSubtypeCodes[Constants.DEBT_AND_DEBT_LIKE]]:\n    'debt-debt-like'\n};\n\nexport const buildUrl = (base, path) => assembleUrl(base)(path);\n\nexport const projectOverviewPath = projectId => `/projects/${projectId}`;\n\nexport const hypothesesListPath = projectId =>\n  `/projects/${projectId}/key-focus-areas`;\n\nexport const viewHypothesisPath = (projectId, hypothesisId) =>\n  `/projects/${projectId}/key-focus-areas/${hypothesisId}/view`;\n\nexport const createHypothesisPath = projectId =>\n  `/projects/${projectId}/key-focus-areas/create`;\n\nexport const editHypothesisPath = (projectId, hypothesisId) =>\n  `/projects/${projectId}/key-focus-areas/${hypothesisId}/edit`;\n\nexport const insightsListPath = projectId => `/projects/${projectId}/insights`;\n\nexport const viewInsightPath = (projectId, insightId) =>\n  `/projects/${projectId}/insights/${insightId}/view`;\n\nexport const createInsightPath = projectId =>\n  `/projects/${projectId}/insights/create`;\n\nexport const editInsightPath = (projectId, insightId) =>\n  `/projects/${projectId}/insights/${insightId}/edit`;\n\nexport const analysesListPath = projectId => `/projects/${projectId}/analyses`;\nexport const analysesListPath2 = projectId =>\n  `/projects/${projectId}/analyses2`;\n\nexport const addAnalysisTypePath = projectId =>\n  `/projects/${projectId}/analyses/add-type`;\n\nexport const addAnalysis2TypePath = projectId =>\n  `/projects/${projectId}/analyses2/add-type`;\n\nexport const addAnalysisFromTemplatePath = projectId =>\n  `/projects/${projectId}/analyses/add-from-template`;\n\nexport const createCustomAnalysisPath = projectId =>\n  `/projects/${projectId}/analyses/create`;\n\nexport const createCustomAnalysis2Path = projectId =>\n  `/projects/${projectId}/analyses2/create`;\n\nexport const viewAnalysisPath = (projectId, analysisId) =>\n  `/projects/${projectId}/analyses/${analysisId}/view`;\n\nexport const viewAnalysisPath2 = (projectId, analysisId) =>\n  `/projects/${projectId}/analyses2/${analysisId}/view`;\n\nexport const editAnalysisPath = (projectId, analysisId) =>\n  `/projects/${projectId}/analyses/${analysisId}/edit`;\n\nexport const editAnalysisPath2 = (projectId, analysisId) =>\n  `/projects/${projectId}/analyses2/${analysisId}/edit`;\n\nexport const viewAnalysisReportPreviewPath = (\n  projectId,\n  analysisId,\n  version,\n  isUnStructured = true\n) =>\n  `/projects/${projectId}/analyses/${analysisId}/report-preview/${version}?isUnStructured=${isUnStructured}`;\n\nexport const viewQualityOfEarningsPath = projectId =>\n  `/projects/${projectId}/analyses/${\n    structuredRoutes[Constants.QUALITY_OF_EARNINGS]\n  }`;\n\nexport const viewNetWorkingCapitalPath = projectId =>\n  `/projects/${projectId}/analyses/${\n    structuredRoutes[Constants.NET_WORKING_CAPITAL]\n  }`;\n\nexport const viewDebtAndDebtLikePath = projectId =>\n  `/projects/${projectId}/analyses/${\n    structuredRoutes[Constants.DEBT_AND_DEBT_LIKE]\n  }`;\n\nexport const viewStructuredAnalysisPathForDocument = (\n  projectId,\n  documentCode\n) => `/projects/${projectId}/analyses/${structuredRoutes[documentCode]}`;\n\nexport const viewStructuredAnalysisPathForSubType = (projectId, subType) =>\n  `/projects/${projectId}/analyses/${structuredRoutesForSubType[subType]}`;\n\nexport const createAnalysisPath = projectId =>\n  `/projects/${projectId}/analyses/create`;\n\nexport const reportsListPath = projectId => `/projects/${projectId}/reports`;\n\nexport const filesPath = projectId => `/projects/${projectId}/files`;\n\nexport const createReportPath = projectId =>\n  `/projects/${projectId}/reports/create-report`;\n\nexport const projectSettingsPath = projectId =>\n  `/projects/${projectId}/settings`;\n\nexport const structuredAnalysisDocumentsPath = projectId =>\n  `/projects/${projectId}/StructuredAnalysisDocuments`;\n\nexport const getDocumentsWithDataPath = projectId =>\n  `/projects/${projectId}/StructuredAnalysisDocuments/withData`;\n\nexport const createProjectPagePath = '/projects/create-project';\n\nexport const projectDisclaimerPath = projectId =>\n  `/projects/${projectId}/project-disclaimer`;\n\nexport const fetchDivestitureDiagnosticResultsPath = projectId =>\n  `/projects/${projectId}/diagnostics`;\n\nexport const resetDivestitureDiagnosticResultsPath = projectId =>\n  `/projects/${projectId}/diagnostics/reset`;\n\nexport const getDisclaimerPath = projectId =>\n  `/projects/${projectId}/project-disclaimer`;\n\nexport const saveCategoriesPath = projectId =>\n  `/projects/${projectId}/diagnostics/batch`;\n\nexport const saveOverallComplexityPath = projectId =>\n  `/projects/${projectId}/diagnostics/overallComplexity`;\n\nexport const getAllLatestDocumentsWithContent = (\n  projectId,\n  isViewingAsClient\n) =>\n  `/projects/${projectId}/StructuredAnalysisDocuments/getLatestContent?isViewingAsClient=${isViewingAsClient}`;\n\nexport const freeForm20Enabled = () =>\n  process.env.REACT_APP_FF20_ENABLED &&\n  process.env.REACT_APP_FF20_ENABLED === 'enabled';\n","import React, { useState, useRef } from 'react';\nimport { Overlay, Popover } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Icon, Button } from '@pwc/pwc-deals-ui';\nimport './AddProjectItemsHeaderMenu.scss';\nimport { number } from 'prop-types';\nimport {\n  addAnalysis2TypePath,\n  addAnalysisTypePath,\n  createHypothesisPath,\n  createInsightPath,\n  freeForm20Enabled\n} from '../../../services/urlService';\n\nconst iconSize = 24;\n\nconst AddProjectItemsHeaderMenu = ({ projectId }) => {\n  const addHypothesisHref = createHypothesisPath(projectId);\n  const addInsightHref = createInsightPath(projectId);\n  const addAnalysisTypeHref = addAnalysisTypePath(projectId);\n  const addAnalysis2TypeHref = addAnalysis2TypePath(projectId);\n\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n  };\n\n  const handleClose = () => {\n    setShow(false);\n    setTimeout(() => {\n      document.body.click();\n    }, 200);\n  };\n\n  return (\n    <>\n      <div className=\"add-project-items-header-menu\" ref={ref}>\n        <Button\n          data-testid=\"header-fab\"\n          id=\"header-fab\"\n          className=\"button-avoid-focus add-icon button-link add-popover-button\"\n          onClick={handleClick}\n          title=\"Add Content\"\n        >\n          <Icon name=\"add\" className=\"fill icon-orange\" width={32} />\n        </Button>\n        <Overlay\n          show={show}\n          target={target}\n          placement=\"bottom\"\n          rootClose\n          onHide={() => {\n            setShow(!show);\n          }}\n          container={ref.current}\n          popperConfig={{\n            modifiers: [\n              {\n                name: 'offset',\n                options: {\n                  offset: [0, 12]\n                }\n              }\n            ]\n          }}\n        >\n          <Popover\n            id=\"popover-add\"\n            ref={ref}\n            className=\"header-add-popover\"\n            data-testid=\"header-add-popover\"\n          >\n            <Popover.Content className=\"popup-user\">\n              <Link\n                data-testid=\"add-hypothesis-button\"\n                className=\"dropdown-item\"\n                to={addHypothesisHref}\n                onClick={handleClick}\n              >\n                <Icon\n                  name=\"hypothesis\"\n                  width={iconSize}\n                  className=\"outline icon-orange-theme\"\n                />\n                Add a Key Focus Area\n              </Link>\n              <Link\n                data-testid=\"add-insight-button\"\n                className=\"dropdown-item\"\n                to={addInsightHref}\n                onClick={handleClick}\n              >\n                <Icon\n                  name=\"insight\"\n                  width={iconSize}\n                  className=\"outline icon-orange-theme\"\n                />\n                Add an Insight\n              </Link>\n              {!freeForm20Enabled() ? (\n                <Link\n                  data-testid=\"add-analysis-button\"\n                  className=\"dropdown-item\"\n                  to={addAnalysisTypeHref}\n                  onClick={handleClick}\n                >\n                  <Icon\n                    name=\"analysis\"\n                    width={iconSize}\n                    className=\"outline icon-orange-theme\"\n                  />\n                  Add an Analysis\n                </Link>\n              ) : (\n                <></>\n              )}\n              {freeForm20Enabled() ? (\n                <Link\n                  data-testid=\"add-analysis2-button\"\n                  className=\"dropdown-item\"\n                  to={addAnalysis2TypeHref}\n                  onClick={handleClick}\n                >\n                  <Icon\n                    name=\"analysis\"\n                    width={iconSize}\n                    className=\"outline icon-orange-theme\"\n                  />\n                  Add an Analysis 2.0\n                </Link>\n              ) : (\n                <></>\n              )}\n            </Popover.Content>\n          </Popover>\n        </Overlay>\n      </div>\n      {show && (\n        <div\n          className=\"add-header-popover-overlay\"\n          onClick={handleClose}\n          data-testid=\"add-header-popover-overlay\"\n          role=\"presentation\"\n        />\n      )}\n    </>\n  );\n};\n\nAddProjectItemsHeaderMenu.propTypes = {\n  projectId: number.isRequired\n};\n\nexport default AddProjectItemsHeaderMenu;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Breadcrumbs = ({ breadcrumbs }) => {\n  return breadcrumbs.map((crumb, index) => {\n    const testId = `breadcrumb-${crumb.text.toLowerCase().replace(/ /g, '-')}`;\n\n    return index === breadcrumbs.length - 1 ? (\n      <span className=\"breadcrumb-text\" data-testid={testId} key={crumb.path}>\n        {crumb.text}\n      </span>\n    ) : (\n      <span key={crumb.path}>\n        <Link to={crumb.path} data-testid={testId} className=\"breadcrumb-link\">\n          {crumb.text}\n        </Link>\n      </span>\n    );\n  });\n};\n\nexport default Breadcrumbs;\n","import { EnvironmentVariableUtilities } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState } from 'react';\nimport { Route, useLocation } from 'react-router-dom';\nimport Breadcrumbs from './Breadcrumbs';\nimport { categoryPathRoute } from '../divestitureDiagnostic/routes';\nimport { useCustomRouteNames } from '../../common/hooks/routeHookHelpers';\n\nconst getDisplayName = name =>\n  name.length > 25 ? `${name.substring(0, 25)}...` : name;\n\nconst allRoutes = [\n  { path: '/projects', text: 'Projects' },\n  { path: '/projects/:projectId', customName: 'projectName' },\n  { path: '/projects/:projectId/insights', text: 'Insights' },\n  { path: '/projects/:projectId/insights/create', text: 'New' },\n  {\n    path: '/projects/:projectId/insights/:insightId/view',\n    customName: 'insightTitle'\n  },\n  {\n    path: '/projects/:projectId/insights/:insightId/edit',\n    text: 'Edit'\n  },\n  { path: '/projects/:projectId/key-focus-areas', text: 'Key Focus Areas' },\n  { path: '/projects/:projectId/key-focus-areas/create', text: 'New' },\n  {\n    path: '/projects/:projectId/key-focus-areas/:hypothesisId/edit',\n    text: 'Edit'\n  },\n  {\n    path: '/projects/:projectId/key-focus-areas/:hypothesisId/view',\n    customName: 'hypothesisTitle'\n  },\n  { path: '/projects/:projectId/analyses', text: 'Analyses' },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/view',\n    customName: 'analysisTitle'\n  },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/report-preview/:version/',\n    customName: 'analysisTitle'\n  },\n  { path: '/projects/:projectId/analyses/add-type', text: 'Add Analyses' },\n  {\n    path: '/projects/:projectId/analyses/add-from-template',\n    text: 'Add From Template'\n  },\n  { path: '/projects/:projectId/analyses/create', text: 'New' },\n  {\n    path: '/projects/:projectId/analyses/create/library-items',\n    text: 'Add data'\n  },\n  { path: '/projects/:projectId/analyses/create/layout', text: 'Add data' },\n  {\n    path: '/projects/:projectId/analyses/create/layout/preview',\n    text: 'Save and preview report'\n  },\n  {\n    path: '/projects/:projectId/analyses/quality-of-earnings',\n    text: 'Quality of Earnings'\n  },\n  {\n    path: '/projects/:projectId/analyses/net-working-capital',\n    text: 'Net Working Capital'\n  },\n  {\n    path: '/projects/:projectId/analyses/debt-debt-like',\n    text: 'Debt & Debt Like'\n  },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/edit',\n    text: 'Edit'\n  },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/edit/library-items',\n    text: 'Add data'\n  },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/edit/layout',\n    text: 'Add data'\n  },\n  {\n    path: '/projects/:projectId/analyses/:analysisId/edit/layout/preview',\n    text: 'Save and preview report'\n  },\n  {\n    path: '/projects/:projectId/reports',\n    text: 'Reports'\n  },\n  {\n    path: '/projects/:projectId/reports/create-report',\n    text: 'Report Builder'\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/filter',\n    text: 'Filtered Results'\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/filter/preview/cover',\n    text: 'Cover'\n  },\n  {\n    path:\n      '/projects/:projectId/reports/create-report/filter/preview/tile/:tileId',\n    customName: 'tileTitle'\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/preview/report',\n    text: 'Report Preview'\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/preview/cover',\n    text: 'Cover'\n  },\n  {\n    path: '/projects/:projectId/reports/create-report/preview/tile/:tileId',\n    customName: 'tileTitle'\n  },\n\n  { path: '/projects/:projectId/settings', text: 'Settings' },\n  {\n    path: '/projects/:projectId/project-disclaimer',\n    text: 'Project Disclaimer'\n  },\n  {\n    path:\n      '/projects/:projectId/divestiture-diagnostic/survey/:sectionPath/:questionId',\n    text: 'Diagnostic Questionnaire'\n  },\n  {\n    path: '/projects/:projectId/divestiture-diagnostic/survey/responses',\n    text: 'Diagnostic Questionnaire'\n  },\n  {\n    path: categoryPathRoute,\n    text: 'Diagnostic Questionnaire'\n  },\n  {\n    path: '/projects/:projectId/notifications/',\n    text: 'Notifications'\n  },\n  {\n    path: '/projects/:projectId/notifications/mentions',\n    text: ' Mentions'\n  },\n  {\n    path: '/projects/:projectId/notifications/approval-requests',\n    text: ' Approval Requests'\n  },\n  {\n    path: '/projects/:projectId/notifications/project-activity',\n    text: ' Project Activity'\n  },\n  {\n    path: '/projects/:projectId/files',\n    text: 'Files'\n  }\n];\n\nconst replaceSlugs = (params, path) => {\n  const paramsKeys = Object.keys(params);\n  const hasParams = paramsKeys.length > 0;\n\n  if (!hasParams) {\n    return path;\n  }\n\n  return paramsKeys.reduce(\n    (desluggedPath, param) => desluggedPath.replace(`:${param}`, params[param]),\n    path\n  );\n};\n\nconst BreadcrumbsContainer = () => {\n  const location = useLocation();\n  const [hide, setHide] = useState(true);\n  const customNames = useCustomRouteNames();\n\n  const path = location.pathname;\n  useEffect(() => {\n    setHide(\n      path.toLowerCase() === '/unauthorized' ||\n        path.toLowerCase() === '/notfound' ||\n        path.toLowerCase() === '/unauthenticated'\n    );\n  }, [path]);\n\n  if (hide) {\n    return null;\n  }\n\n  if (path.indexOf('policies') > -1) {\n    const breadcrumbs = [\n      { text: 'Projects', path: '/projects' },\n      { text: 'Terms & Conditions', path }\n    ];\n    return (\n      <div>\n        <span className=\"breadcrumb-root\">Junction</span>\n        {' | '}\n        <Breadcrumbs breadcrumbs={breadcrumbs} />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <span className=\"breadcrumb-root\">\n        {EnvironmentVariableUtilities.platformName}\n      </span>\n      {' | '}\n      {allRoutes.map(route => (\n        <Route\n          exact\n          path={route.path}\n          key={route.path}\n          render={props => {\n            const routeParams = props.match.params;\n            const routePath = props.match.path;\n\n            let breadcrumbs;\n\n            if (routeParams.projectId === 'create-project') {\n              breadcrumbs = [\n                { text: 'Projects', path: '/projects' },\n                { text: 'New', path: '/projects/create-project' }\n              ];\n            } else {\n              breadcrumbs = allRoutes\n                .filter(breadcrumbRoute =>\n                  routePath.includes(breadcrumbRoute.path)\n                )\n                .map(breadcrumbRoute => {\n                  return {\n                    text: breadcrumbRoute.customName\n                      ? getDisplayName(\n                          customNames[breadcrumbRoute.customName] || ''\n                        )\n                      : breadcrumbRoute.text,\n                    path: replaceSlugs(routeParams, breadcrumbRoute.path)\n                  };\n                });\n            }\n\n            return <Breadcrumbs breadcrumbs={breadcrumbs} />;\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default BreadcrumbsContainer;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React, { useRef, useState } from 'react';\nimport { Overlay, Popover } from 'react-bootstrap';\nimport { Link, useLocation } from 'react-router-dom';\nimport authorizationService from '../../../services/security/authorizationService';\nimport { createProjectPagePath } from '../../../services/urlService';\nimport './AddProjectHeaderMenu.scss';\n\nconst AddProjectHeaderMenu = () => {\n  const [show, setShow] = useState();\n  const [target, setTarget] = useState();\n  const ref = useRef(null);\n  const { pathname } = useLocation();\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n    if (show === true) {\n      setTimeout(() => {\n        document.body.click();\n      }, 200);\n    }\n  };\n\n  const handleClose = () => {\n    setShow(false);\n    setTimeout(() => {\n      document.body.click();\n    }, 200);\n  };\n\n  return (\n    <>\n      <div className=\"add-project-header-menu\" ref={ref}>\n        {authorizationService.canCreateProjects() && pathname === '/projects' && (\n          <Button\n            className=\"button-avoid-focus add-icon button-link add-popover-button\"\n            onClick={handleClick}\n          >\n            <Icon name=\"add\" className=\"fill icon-orange\" width={32} />\n          </Button>\n        )}\n        <Overlay\n          show={show}\n          target={target}\n          placement=\"bottom\"\n          rootClose\n          onHide={() => {\n            setShow(!show);\n          }}\n          container={ref.current}\n          popperConfig={{\n            modifiers: [\n              {\n                name: 'offset',\n                options: {\n                  offset: [0, 12]\n                }\n              }\n            ]\n          }}\n        >\n          <Popover\n            id=\"popover-add-project\"\n            ref={ref}\n            className=\"header-add-popover\"\n          >\n            <Popover.Content className=\"popup-user\">\n              <Link\n                className=\"dropdown-item\"\n                to={createProjectPagePath}\n                onClick={handleClick}\n              >\n                <Icon\n                  name=\"folder\"\n                  width={24}\n                  className=\"outline icon-orange-theme\"\n                />\n                Add Project\n              </Link>\n            </Popover.Content>\n          </Popover>\n        </Overlay>\n      </div>\n      {show && (\n        <div\n          className=\"add-header-popover-overlay\"\n          onClick={handleClose}\n          data-testid=\"add-header-popover-overlay\"\n          role=\"presentation\"\n        />\n      )}\n    </>\n  );\n};\n\nexport default AddProjectHeaderMenu;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport ProjectStatePill from '../../../features/projectStatePill/ProjectStatePill';\nimport useTabletOrMobile from '../../hooks/useTabletOrMobile';\nimport UserInitialsSnippet from '../UserInitialSnippet/UserInitialsSnippet';\nimport AddProjectItemsHeaderMenu from './AddProjectItemsHeaderMenu/AddProjectItemsHeaderMenu';\nimport './Header.scss';\nimport BreadcrumbsContainer from '../../../features/breadcrumbs/BreadcrumbsContainer';\nimport { getUserSettingsSelector } from '../../redux/userSettings/userSettingsSlice';\nimport AddProjectHeaderMenu from './AddProjectHeaderMenu/AddProjectHeaderMenu';\n\nconst Header = ({ projectId }) => {\n  const userSettings = useSelector(getUserSettingsSelector);\n  const isTabletOrMobile = useTabletOrMobile();\n  return (\n    <div className=\"header\">\n      <div className=\"header-content\">\n        <div className=\"header-content-breadcrumbs\">\n          <BreadcrumbsContainer />\n        </div>\n        <div className=\"snippet-pendo-container\">\n          {projectId ? (\n            <AddProjectItemsHeaderMenu projectId={projectId} />\n          ) : (\n            <AddProjectHeaderMenu />\n          )}\n          {projectId && !isTabletOrMobile && (\n            <ProjectStatePill projectId={projectId} showWhenActive={false} />\n          )}\n          {userSettings && userSettings.loaded && <UserInitialsSnippet />}\n          <div className=\"pendo-help nowrap\">\n            <Icon\n              name=\"help-question\"\n              width={30}\n              className=\"outline icon-help\"\n            />{' '}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { MenuItem } from '@pwc/pwc-deals-ui';\nimport Button from '@pwc/pwc-deals-ui/build/common/Button';\nimport {\n  useProjectsStatuses,\n  getProjectStatusIcon\n} from '../../hooks/useProjectsStatuses';\nimport {\n  createProjectPagePath,\n  projectOverviewPath\n} from '../../services/urlService';\nimport { getProjectsList } from '../../../features/projects/projectsSlice';\nimport authorizationService from '../../services/security/authorizationService';\nimport './ProjectListSideNavButtons.scss';\n\nconst ProjectListSideNavButtons = ({ closeSideNav, mobile }) => {\n  const location = useLocation();\n  const [activeMenuItem, setActiveMenuItem] = useState(location.pathname);\n  const projectsStates = useProjectsStatuses();\n  const allProjects = useSelector(getProjectsList);\n  const ICON_SIZE = 24;\n\n  const history = useHistory();\n\n  useEffect(() => {\n    setActiveMenuItem(location.pathname);\n  }, [location]);\n\n  const isExactActive = linkPath => {\n    return linkPath === activeMenuItem ? 'menu-active' : '';\n  };\n\n  const handleClick = navTarget => {\n    setActiveMenuItem(navTarget);\n    closeSideNav();\n  };\n\n  const viewAllProjects = () => {\n    history.push('/projects');\n    closeSideNav();\n  };\n\n  return (\n    <>\n      {mobile ? (\n        <>\n          <div className=\"all-projects-title\" data-testid=\"all-projects-title\">\n            All&nbsp;\n            <span key={process.env.REACT_APP_PLATFORM_NAME}>\n              {process.env.REACT_APP_PLATFORM_NAME}\n            </span>\n            &nbsp;projects\n          </div>\n          <div className=\"menu-navigation\">\n            {allProjects &&\n              allProjects.map(currentProject => {\n                const projectStatusIcon = getProjectStatusIcon(\n                  projectsStates,\n                  currentProject.id\n                );\n\n                return (\n                  <MenuItem\n                    navTarget={projectOverviewPath(currentProject.id)}\n                    icon=\"folder\"\n                    iconClasses=\"outline icon-grey\"\n                    extraIcons={projectStatusIcon ? [projectStatusIcon] : []}\n                    extraIconsClasses={\n                      projectStatusIcon ? ['fill icon-black state-icon'] : []\n                    }\n                    title={currentProject.name}\n                    onClick={() =>\n                      handleClick(projectOverviewPath(currentProject.id))\n                    }\n                    linkClass={isExactActive(\n                      projectOverviewPath(currentProject.id)\n                    )}\n                    key={currentProject.id}\n                  />\n                );\n              })}\n            <div className=\"view-all-projects\">\n              <Button\n                className=\"button-link button-theme mx-2 mr-4\"\n                onClick={viewAllProjects}\n                type=\"button\"\n              >\n                View all projects\n              </Button>\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"menu-navigation\">\n          {authorizationService.canCreateProjects() && (\n            <MenuItem\n              navTarget={createProjectPagePath}\n              icon=\"add\"\n              iconClasses=\"fill icon-orange\"\n              iconWidth={ICON_SIZE}\n              title=\"Add Project\"\n              onClick={() => handleClick(createProjectPagePath)}\n              linkClass={isExactActive(createProjectPagePath)}\n            />\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProjectListSideNavButtons;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const initialState = {\n  mobileSidebarOpened: false,\n  showProjectListMenu: false\n};\n\nconst appSettingsSlice = createSlice({\n  name: 'appSettings',\n  initialState,\n  reducers: {\n    toggleMobileSidebarOpened: (state, action) => {\n      const nextState =\n        typeof action.payload === 'undefined'\n          ? !state.mobileSidebarOpened\n          : action.payload;\n      return {\n        ...state,\n        mobileSidebarOpened: nextState,\n        showProjectListMenu: false\n      };\n    },\n    setShowProjectList: state => {\n      return {\n        ...state,\n        showProjectListMenu: true\n      };\n    }\n  }\n});\n\nexport default appSettingsSlice.reducer;\n\n// Actions\nexport const {\n  toggleMobileSidebarOpened,\n  setShowProjectList\n} = appSettingsSlice.actions;\n\n// Selectors\nexport const getMobileSidebarOpened = state =>\n  state.appSettings.mobileSidebarOpened;\nexport const showProjectListMenu = state =>\n  state.appSettings.showProjectListMenu;\n","import { isEmpty as _isEmpty } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  getProjectStatus,\n  useProjectsStatuses\n} from '../../common/hooks/useProjectsStatuses';\nimport {\n  isProjectArchived,\n  isProjectInactive\n} from '../../common/helpers/projectStatusesUtils';\nimport { loadProjectsThunk } from '../projects/projectsSlice';\n\nconst EnableForProjectState = ({ projectId, children }) => {\n  const dispatch = useDispatch();\n  const projectsStates = useProjectsStatuses();\n  const projectStatus = getProjectStatus(projectsStates, projectId);\n  const [isProjectListFetched, setIsProjectListFetched] = useState(\n    window.isProjectsListFetched\n  );\n  const isJestTesting = process.env.JEST_WORKER_ID !== undefined;\n\n  useEffect(() => {\n    if (_isEmpty(projectsStates) && !isProjectListFetched && !isJestTesting) {\n      dispatch(loadProjectsThunk());\n      setIsProjectListFetched(true);\n      window.isProjectsListFetched = true;\n    }\n  }, [dispatch, projectsStates, isProjectListFetched, isJestTesting]);\n\n  return children({\n    isProjectDisabled: projectStatus\n      ? isProjectArchived(projectStatus) || isProjectInactive(projectStatus)\n      : false\n  });\n};\n\nEnableForProjectState.propTypes = {\n  projectId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    .isRequired\n};\n\nexport default EnableForProjectState;\n","import classnames from 'classnames';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Icon, Button } from '@pwc/pwc-deals-ui';\nimport EnableForProjectState from '../../../features/security/EnableForProjectState';\nimport {\n  addAnalysis2TypePath,\n  addAnalysisTypePath,\n  createHypothesisPath,\n  createInsightPath,\n  freeForm20Enabled\n} from '../../services/urlService';\nimport './AddProjectItemsNavMenu.scss';\n\nconst iconSize = 24;\n\nconst AddProjectItemsNavMenu = ({ projectId }) => {\n  const [open, setOpen] = useState(false);\n\n  const addHypothesisHref = createHypothesisPath(projectId);\n  const addInsightHref = createInsightPath(projectId);\n  const addAnalysisTypeHref = addAnalysisTypePath(projectId);\n  const addAnalysis2TypeHref = addAnalysis2TypePath(projectId);\n\n  return (\n    <div className=\"menu-wrapper\" data-testid=\"add-project-items-nav-menu\">\n      <EnableForProjectState projectId={projectId}>\n        {({ isProjectDisabled }) => (\n          <Button\n            data-testid=\"fab\"\n            id=\"add-popover\"\n            className=\"button-avoid-focus menu-item hide-for-mobile add-icon\"\n            onClick={() => !isProjectDisabled && setOpen(!open)}\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n            disabled={isProjectDisabled}\n          >\n            <span className=\"menu-item-icon\">\n              <Icon\n                name=\"add\"\n                className={classnames('fill', {\n                  'icon-orange': !isProjectDisabled,\n                  'icon-grey': isProjectDisabled\n                })}\n                width={iconSize}\n              />\n            </span>\n            <span className=\"menu-item-title\">Add Content</span>\n          </Button>\n        )}\n      </EnableForProjectState>\n      <div\n        className={`add-popover ${open ? 'show' : ''}`}\n        data-testid=\"add-popover\"\n      >\n        <Link\n          data-testid=\"add-hypothesis-button\"\n          className=\"dropdown-item\"\n          to={addHypothesisHref}\n          onClick={() => setOpen(false)}\n        >\n          <Icon\n            name=\"hypothesis\"\n            width={iconSize}\n            className=\"outline icon-orange-theme\"\n          />\n          Add a Key Focus Area\n        </Link>\n        <Link\n          data-testid=\"add-insight-button\"\n          className=\"dropdown-item\"\n          to={addInsightHref}\n          onClick={() => setOpen(false)}\n        >\n          <Icon\n            name=\"insight\"\n            width={iconSize}\n            className=\"outline icon-orange-theme\"\n          />\n          Add an Insight\n        </Link>\n        {!freeForm20Enabled() ? (\n          <Link\n            data-testid=\"add-analysis-button\"\n            className=\"dropdown-item\"\n            to={addAnalysisTypeHref}\n            onClick={() => setOpen(false)}\n          >\n            <Icon\n              name=\"analysis\"\n              width={iconSize}\n              className=\"outline icon-orange-theme\"\n            />\n            Add an Analysis\n          </Link>\n        ) : (\n          <></>\n        )}\n        {freeForm20Enabled() ? (\n          <Link\n            data-testid=\"add-analysis-button\"\n            className=\"dropdown-item\"\n            to={addAnalysis2TypeHref}\n            onClick={() => setOpen(false)}\n          >\n            <Icon\n              name=\"analysis\"\n              width={iconSize}\n              className=\"outline icon-orange-theme\"\n            />\n            Add an Analysis 2.0\n          </Link>\n        ) : (\n          <></>\n        )}\n      </div>\n      {open && (\n        <div\n          className=\"add-popover-overlay\"\n          onClick={() => setOpen(!open)}\n          data-testid=\"add-popover-overlay\"\n          role=\"presentation\"\n        />\n      )}\n      <div className=\"menu-separator\" />\n    </div>\n  );\n};\n\nAddProjectItemsNavMenu.propTypes = {\n  projectId: PropTypes.number.isRequired\n};\n\nexport default AddProjectItemsNavMenu;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport userTokenService from '../../common/services/security/userTokenService';\n\nconst ShowForPermissions = ({\n  projectId,\n  permissions,\n  children,\n  noPermissionsView = null\n}) => {\n  const [hasProjectPermission, setHasProjectPermission] = useState(false);\n\n  useEffect(() => {\n    const hasPermission = userTokenService.hasProjectPermission(\n      projectId,\n      permissions\n    );\n    setHasProjectPermission(hasPermission);\n  }, [projectId, permissions, setHasProjectPermission]);\n\n  if (hasProjectPermission) {\n    return children;\n  }\n\n  return noPermissionsView;\n};\n\nShowForPermissions.propTypes = {\n  projectId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  permissions: PropTypes.arrayOf(PropTypes.string)\n};\n\nexport default ShowForPermissions;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { MenuItem } from '@pwc/pwc-deals-ui';\nimport { NotificationBell } from '@pwc/pwc-deals-notification-ui';\nimport Icon from '@pwc/pwc-deals-ui/build/common/Icon';\nimport {\n  projectOverviewPath,\n  hypothesesListPath,\n  insightsListPath,\n  analysesListPath,\n  reportsListPath,\n  projectSettingsPath,\n  filesPath,\n  freeForm20Enabled,\n  analysesListPath2\n} from '../../services/urlService';\nimport {\n  setShowProjectList,\n  showProjectListMenu\n} from '../../../features/appSettings/appSettingsSlice';\nimport AddProjectItemsNavMenu from './AddProjectItemsNavMenu';\nimport ShowForPermissions from '../../../features/security/ShowForPermissions';\nimport './ProjectSideNavButtons.scss';\nimport { getProject } from '../../../features/project/projectSlice';\nimport ProjectListSideNavButtons from './ProjectListSideNavButtons';\nimport { loadProjectsThunk } from '../../../features/projects/projectsSlice';\n\nconst ICON_SIZE = 24;\n\nconst ProjectSideNavButtons = ({ closeSideNav, projectId, projectName }) => {\n  const project = useSelector(getProject);\n  const showProjectList = useSelector(showProjectListMenu);\n  const location = useLocation();\n  const [activeMenuItem, setActiveMenuItem] = useState(location.pathname);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setActiveMenuItem(location.pathname);\n  }, [location]);\n\n  const isExactActive = linkPath => {\n    return linkPath === activeMenuItem ? 'menu-active' : '';\n  };\n\n  const isActive = linkPath => {\n    return activeMenuItem.includes(linkPath) ? 'menu-active' : '';\n  };\n\n  const handleClick = navTarget => {\n    setActiveMenuItem(navTarget);\n    closeSideNav();\n  };\n\n  const handleShowAllProjects = () => {\n    dispatch(loadProjectsThunk());\n    dispatch(setShowProjectList());\n  };\n\n  return (\n    <>\n      {showProjectList ? (\n        <ProjectListSideNavButtons closeSideNav={closeSideNav} mobile />\n      ) : (\n        <>\n          <NavLink\n            to={projectOverviewPath(project.id)}\n            aria-label={`All ${process.env.REACT_APP_PLATFORM_NAME} projects`}\n            className=\"all-projects-link\"\n            onClick={handleShowAllProjects}\n            data-testid=\"all-projects-link\"\n          >\n            <span className=\"menu-item-icon\">\n              <Icon\n                name=\"left-chevron\"\n                className=\"fill icon-orange\"\n                width={20}\n              />\n            </span>\n            <div\n              className=\"all-projects-link-title\"\n              data-testid=\"all-projects-link-title\"\n            >\n              All&nbsp;\n              <span key={process.env.REACT_APP_PLATFORM_NAME}>\n                {process.env.REACT_APP_PLATFORM_NAME}\n              </span>\n              &nbsp;projects\n            </div>\n          </NavLink>\n          <div className=\"menu-navigation\">\n            <ShowForPermissions\n              projectId={projectId}\n              permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n            >\n              <AddProjectItemsNavMenu projectId={projectId} />\n            </ShowForPermissions>\n\n            <div className=\"sidebar-project-name\">\n              <h3>{projectName}</h3>\n            </div>\n            <MenuItem\n              navTarget={projectOverviewPath(project.id)}\n              icon=\"folder\"\n              iconClasses=\"outline icon-grey\"\n              iconWidth={ICON_SIZE}\n              title=\"Project Overview\"\n              onClick={() => handleClick(projectOverviewPath(project.id))}\n              linkClass={isExactActive(projectOverviewPath(project.id))}\n            />\n            <MenuItem\n              navTarget={hypothesesListPath(project.id)}\n              icon=\"hypothesis\"\n              iconClasses=\"outline icon-grey\"\n              iconWidth={ICON_SIZE}\n              title=\"Key Focus Areas\"\n              onClick={() => handleClick(hypothesesListPath(project.id))}\n              linkClass={isActive(hypothesesListPath(project.id))}\n            />\n            <MenuItem\n              navTarget={insightsListPath(project.id)}\n              icon=\"insight\"\n              iconClasses=\"outline icon-grey\"\n              iconWidth={ICON_SIZE}\n              title=\"Insights\"\n              onClick={() => handleClick(insightsListPath(project.id))}\n              linkClass={isActive(insightsListPath(project.id))}\n            />\n            {freeForm20Enabled() ? (\n              <MenuItem\n                navTarget={analysesListPath2(project.id)}\n                icon=\"analysis\"\n                iconClasses=\"outline icon-grey\"\n                iconWidth={ICON_SIZE}\n                title=\"Analyses\"\n                onClick={() => handleClick(analysesListPath2(project.id))}\n                linkClass={isActive(analysesListPath2(project.id))}\n              />\n            ) : (\n              <MenuItem\n                navTarget={analysesListPath(project.id)}\n                icon=\"analysis\"\n                iconClasses=\"outline icon-grey\"\n                iconWidth={ICON_SIZE}\n                title=\"Analyses\"\n                onClick={() => handleClick(analysesListPath(project.id))}\n                linkClass={isActive(analysesListPath(project.id))}\n              />\n            )}\n            <MenuItem\n              navTarget={reportsListPath(project.id)}\n              icon=\"report\"\n              iconClasses=\"outline icon-grey\"\n              iconWidth={ICON_SIZE}\n              title=\"Reports\"\n              onClick={() => handleClick(reportsListPath(project.id))}\n              linkClass={isActive(reportsListPath(project.id))}\n            />\n            <MenuItem\n              navTarget={filesPath(project.id)}\n              icon=\"files-feature\"\n              iconClasses=\"outline icon-grey\"\n              iconWidth={ICON_SIZE}\n              title=\"Files\"\n              onClick={() => handleClick(filesPath(project.id))}\n              linkClass={isActive(filesPath(project.id))}\n            />\n          </div>\n          <div className=\"menu-footer\">\n            <NotificationBell\n              onClick={handleClick}\n              activeMenuItem={activeMenuItem}\n              iconWidth={ICON_SIZE}\n              projectId={projectId}\n            />\n            <MenuItem\n              data-testid=\"project-settings-menu-item\"\n              navTarget={projectSettingsPath(project.id)}\n              icon=\"settings\"\n              iconClasses=\"outline icon-grey\"\n              iconWidth={ICON_SIZE}\n              title=\"Settings\"\n              onClick={() => handleClick(projectSettingsPath(project.id))}\n              linkClass={`menu-item-footer ${isActive(\n                projectSettingsPath(project.id)\n              )}`}\n            />\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default ProjectSideNavButtons;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  MenuSwitch,\n  Menu,\n  HeaderLogo,\n  AppBannerSpacer\n} from '@pwc/pwc-deals-ui';\nimport ProjectListSideNavButtons from './ProjectListSideNavButtons';\nimport ProjectSideNavButtons from './ProjectSideNavButtons';\nimport {\n  toggleMobileSidebarOpened,\n  getMobileSidebarOpened\n} from '../../../features/appSettings/appSettingsSlice';\nimport { getProject } from '../../../features/project/projectSlice';\n\nconst SideNav = () => {\n  const dispatch = useDispatch();\n  const open = useSelector(getMobileSidebarOpened);\n  const menuId = 'navigation';\n  const project = useSelector(getProject);\n  const projectId = project && project.id;\n  const hasCurrentProject = !!projectId;\n\n  return (\n    <div className={`side-bar ${open}`}>\n      <AppBannerSpacer />\n      <div className=\"side-bar-logo\">\n        <MenuSwitch\n          open={open}\n          onClick={() => dispatch(toggleMobileSidebarOpened())}\n          menuId={menuId}\n        />\n        <HeaderLogo width={48} dataTestId=\"header-logo\" />\n      </div>\n      <Menu data-testid=\"side-bar\" open={open}>\n        {hasCurrentProject ? (\n          <ProjectSideNavButtons\n            closeSideNav={() => dispatch(toggleMobileSidebarOpened(false))}\n            projectId={projectId}\n            projectName={project.name}\n          />\n        ) : (\n          <ProjectListSideNavButtons\n            closeSideNav={() => dispatch(toggleMobileSidebarOpened(false))}\n            mobile={open}\n          />\n        )}\n        <AppBannerSpacer />\n      </Menu>\n    </div>\n  );\n};\n\nexport default SideNav;\n","/* eslint-disable func-names */\n/* eslint-disable no-underscore-dangle */\nimport authorizationService from '../../common/services/security/authorizationService';\n\nconst install = () => {\n  const apiKey = process.env.REACT_APP_USER_ANALYTICS_API_KEY;\n\n  if (!window.pendo && apiKey) {\n    // Step 1: initialize pendo object\n    const pendoObjectReference = window.pendo || {};\n    window.pendo = pendoObjectReference;\n    pendoObjectReference._q = [];\n\n    // Step 2: add method stubs for pendo\n    ['initialize', 'identify', 'updateOptions', 'pageLoad', 'track'].forEach(\n      (method, _index, methods) => {\n        pendoObjectReference[method] =\n          pendoObjectReference[method] ||\n          function(...args) {\n            const callToAdd = [method, ...args];\n            if (method === methods[0]) {\n              pendoObjectReference._q.unshift(callToAdd);\n            } else {\n              pendoObjectReference._q.push(callToAdd);\n            }\n          };\n      }\n    );\n\n    // Step 3: create pendo script tag\n    const elementToCreateSelector = 'script';\n    const createdPendoScriptTag = document.createElement(\n      elementToCreateSelector\n    );\n    createdPendoScriptTag.src = `https://cdn.pendo.io/agent/static/${apiKey}/pendo.js`;\n\n    // Step 4: add pendo script to DOM\n    const firstScriptTag = document.getElementsByTagName(\n      elementToCreateSelector\n    )[0];\n    firstScriptTag.parentNode.insertBefore(\n      createdPendoScriptTag,\n      firstScriptTag\n    );\n  }\n};\n\nconst supplementPwcusertype = () => {\n  const email = authorizationService.getEmail();\n  if (email.indexOf('@pwc.com') > -1) {\n    return 'Internal';\n  }\n  return 'External';\n};\n\nconst start = () => {\n  const { pendo } = window;\n  if (!pendo) return;\n  if (!authorizationService.hasValidToken()) return;\n\n  const lineofservice =\n    authorizationService.getTokenValue(\n      'http://schemas.pwc.com/identity/claims/lineofservice'\n    ) || '';\n  const country =\n    authorizationService.getTokenValue(\n      'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/country'\n    ) || 'US';\n  const pwcGlobalGradeName =\n    authorizationService.getTokenValue(\n      'http://schemas.pwc.com/identity/claims/pwcglobalgradename' // Not available in IDAM yet (user access API adds it we have it)\n    ) || '';\n  const pwcUserType =\n    authorizationService.getTokenValue(\n      'http://schemas.pwc.com/identity/claims/pwcusertype'\n    ) || supplementPwcusertype();\n  pendo.initialize({\n    visitor: {\n      lineofservice,\n      country,\n      pwcGlobalGradeName,\n      pwcUserType\n    }\n  });\n\n  pendo.started = true;\n};\n\nconst isInstalled = () => {\n  const { pendo } = window;\n  return !!pendo;\n};\n\nconst isStarted = () => {\n  const { pendo } = window;\n\n  return pendo.started;\n};\n\nconst pendoService = {\n  install,\n  start,\n  isInstalled,\n  isStarted\n};\n\nexport default pendoService;\n","/* eslint-disable func-names */\n/* eslint-disable no-underscore-dangle */\nimport React, { useEffect } from 'react';\nimport pendoService from './pendoService';\n\nconst Pendo = () => {\n  useEffect(() => {\n    pendoService.install();\n  });\n  return <></>;\n};\n\nexport default Pendo;\n","const baseAlertConfig = {\n  'data-testid': 'error',\n  variant: 'danger',\n  className: 'a-mt-10',\n  message: 'An error occurred'\n};\n\nconst alertTypeConfigs = {\n  default: baseAlertConfig,\n  publish: {\n    ...baseAlertConfig,\n    message: 'An error occurred while publishing data',\n    'data-testid': 'publish-error'\n  },\n  fetch: {\n    ...baseAlertConfig,\n    message: 'An error occurred while fetching data',\n    'data-testid': 'fetch-error'\n  }\n};\n\nexport const alertTypes = Object.keys(alertTypeConfigs).reduce(\n  (accumulator, item) => ({ ...accumulator, [item]: item }),\n  {}\n);\n\nexport const getAlertConfigsFromObj = err => {\n  const { apiErrorMessage } = err || {};\n  if (apiErrorMessage) {\n    return {\n      'data-testid': 'custom-error',\n      variant: 'danger',\n      className: 'a-mt-10',\n      message: apiErrorMessage\n    };\n  }\n  return alertTypeConfigs.default;\n};\n\nexport const getAlertConfigs = alertType => {\n  if (typeof alertType === 'object') {\n    return getAlertConfigsFromObj(alertType);\n  }\n\n  switch (alertType) {\n    case 'publish': {\n      return alertTypeConfigs.publish;\n    }\n    case 'fetch': {\n      return alertTypeConfigs.fetch;\n    }\n    default: {\n      return alertTypeConfigs.default;\n    }\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert } from 'react-bootstrap';\nimport { alertTypes, getAlertConfigs } from './AlertConfigs';\n\nconst D3Alert = ({ configType }) => {\n  const alertConfig = getAlertConfigs(configType);\n  return <Alert {...alertConfig}>{alertConfig.message}</Alert>;\n};\n\nD3Alert.defaultProps = {\n  configType: 'default'\n};\n\nD3Alert.propTypes = {\n  configType: PropTypes.oneOfType([\n    PropTypes.oneOf(Object.keys(alertTypes)),\n    PropTypes.shape({ apiErrorMessage: PropTypes.string })\n  ])\n};\n\nexport default D3Alert;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport default createAction('updateEntityVersion', versionNumber => ({\n  payload: versionNumber\n}));\n","import { CommentServiceClient } from '../../common/services/httpClient';\n\nexport const getCommentsByEntity = async (\n  projectId,\n  entityType,\n  entityId,\n  entityVersion\n) => {\n  const response = await CommentServiceClient(projectId).get(\n    `${projectId}/${entityType}/${entityId}/threads?entityVersion=${entityVersion}`\n  );\n\n  return response.data;\n};\n\nexport const addCommentToEntity = async comment => {\n  const response = await CommentServiceClient(comment.projectId).postDeprecated(\n    `${comment.projectId}/${comment.entityType}/${comment.entityId}/threads`,\n    comment\n  );\n\n  return response.data;\n};\n\nexport const updateComment = async comment => {\n  await CommentServiceClient(comment.projectId).put(\n    `${comment.projectId}/${comment.entityType}/${comment.entityId}/threads`,\n    comment\n  );\n};\n\nexport const deleteCommentThread = async thread => {\n  await CommentServiceClient(thread.projectId).delete(\n    `${thread.projectId}/${thread.entityType}/${\n      thread.entityId\n    }/threads/${thread.id || thread.threadId}`\n  );\n};\n\nexport const deleteComment = async comment => {\n  await CommentServiceClient(comment.projectId).delete(\n    `${comment.projectId}/${comment.entityType}/${comment.entityId}/threads/${comment.threadId}/comments/${comment.commentId}`\n  );\n};\n\nexport const shareCommentThread = async comment => {\n  await CommentServiceClient(comment.projectId).patch(\n    `${comment.projectId}/${comment.entityType}/${comment.entityId}/threads/${comment.threadId}/share`,\n    comment\n  );\n};\n\nexport const resolveCommentThread = async comment => {\n  await CommentServiceClient(comment.projectId).patch(\n    `${comment.projectId}/${comment.entityType}/${comment.entityId}/threads/${comment.threadId}/resolve`,\n    comment\n  );\n};\n","import _ from 'lodash';\nimport { createSlice } from '@reduxjs/toolkit';\nimport updateEntityVersion from '../../common/actions/updateEntityVersion';\nimport {\n  getCommentsByEntity,\n  updateComment,\n  shareCommentThread,\n  resolveCommentThread\n} from './commentService';\n\nconst updateValues = (oldComment, newComment) => {\n  const copy = { ...oldComment };\n  Object.keys(copy).forEach(key => {\n    copy[key] =\n      typeof newComment[key] === 'undefined'\n        ? oldComment[key]\n        : newComment[key];\n  });\n\n  return copy;\n};\n\nexport const initialState = {\n  threads: [],\n  viewingStatus: 'unresolved',\n  isLoading: false,\n  hasLoaded: false,\n  hasError: false,\n  hasCommented: false,\n  errorStatusCode: null,\n  projectId: undefined,\n  entityType: '',\n  entityId: undefined,\n  showCommentsPanel: false,\n  commentPanelOpened: false,\n  entityVersion: undefined,\n  versionRequired: undefined,\n  isEntitySharedWithClient: true\n};\n\nconst commentsSlice = createSlice({\n  name: 'comments',\n  initialState,\n  reducers: {\n    resetComments: () => initialState,\n    fetchCommentsBegan: state => ({\n      ...state,\n      isLoading: true,\n      hasLoaded: false,\n      hasError: false,\n      errorStatusCode: null\n    }),\n    fetchCommentsSucceeded: (state, action) => {\n      const { entityType, entityId } =\n        action.payload.length && action.payload[0];\n      const isForSameThread =\n        entityType === state.entityType && entityId === +state.entityId;\n      const threadWithoutComments = action.payload.length === 0;\n      const loadCommentThreads = isForSameThread || threadWithoutComments;\n      return {\n        ...state,\n        threads: loadCommentThreads ? action.payload : [],\n        isLoading: false,\n        hasLoaded: true,\n        hasError: false,\n        errorStatusCode: null\n      };\n    },\n    fetchCommentsFailed: (state, action) => ({\n      ...state,\n      isLoading: false,\n      hasLoaded: false,\n      hasError: true,\n      errorStatusCode: action.payload\n    }),\n    setHasCommented: state => ({\n      ...state,\n      hasCommented: true\n    }),\n    viewUnresolvedComments: state => ({\n      ...state,\n      viewingStatus: 'unresolved'\n    }),\n    viewResolvedComments: state => ({\n      ...state,\n      viewingStatus: 'resolved'\n    }),\n    initializeCommentsPanel: (_state, action) => {\n      const {\n        projectId,\n        entityType,\n        entityId,\n        versionRequired\n      } = action.payload;\n      return {\n        ...initialState,\n        projectId,\n        entityType,\n        entityId,\n        versionRequired,\n        showCommentsPanel: true\n      };\n    },\n    toggleCommentPanelOpened: state => ({\n      ...state,\n      commentPanelOpened: !state.commentPanelOpened\n    }),\n    entitySharedStatusUpdateSuccess: (state, action) => ({\n      ...state,\n      isEntitySharedWithClient: action.payload\n    })\n  },\n  extraReducers: builder => {\n    builder.addCase(updateEntityVersion, (state, action) => ({\n      ...state,\n      entityVersion: action.payload\n    }));\n  }\n});\nexport default commentsSlice.reducer;\n\n// Actions\nexport const {\n  resetComments,\n  fetchCommentsBegan,\n  fetchCommentsSucceeded,\n  fetchCommentsFailed,\n  setHasCommented,\n  viewUnresolvedComments,\n  viewResolvedComments,\n  initializeCommentsPanel,\n  toggleCommentPanelOpened,\n  updateCommentPanel,\n  entitySharedStatusUpdateSuccess\n} = commentsSlice.actions;\n\n// Selectors\nexport const getComments = state => state.comments;\nexport const getCommentsHasLoaded = state => state.comments.hasLoaded;\nexport const getCommentsIsLoading = state => state.comments.isLoading;\nexport const getHasCommented = state => state.comments.hasCommented;\nexport const getViewingStatus = state => state.comments.viewingStatus;\nexport const getCurrentCommentThreads = state => state.comments.threads || [];\nexport const getCommentPanelOpened = state => state.comments.commentPanelOpened;\nexport const getCurrentComments = state =>\n  _.map(state.comments.threads, 'comments').flat();\n\n// Thunks\nexport const loadCommentsThunk = (\n  projectId,\n  entityType,\n  entityId,\n  entityVersion\n) => async (dispatch, getState) => {\n  try {\n    const state = getState();\n    if (!state.comments.isLoading) {\n      dispatch(fetchCommentsBegan());\n\n      const response = await getCommentsByEntity(\n        projectId,\n        entityType,\n        entityId,\n        entityVersion\n      );\n\n      dispatch(fetchCommentsSucceeded(response));\n    }\n  } catch (error) {\n    dispatch(fetchCommentsFailed(error.response ? error.response.status : 500));\n  }\n};\n\nexport const updateCommentThunk = comment => async (dispatch, getState) => {\n  try {\n    const state = getState();\n    const existingComment = getCurrentComments(state).find(\n      currentComment =>\n        currentComment.commentId === comment.commentId ||\n        currentComment.commentId === comment.id\n    );\n\n    const oldCopy = { ...existingComment };\n    const updatedComment = updateValues(existingComment, comment);\n\n    if (!_.isEqual(oldCopy, updatedComment)) {\n      await updateComment(updatedComment);\n    }\n\n    const { projectId, entityType, entityId, entityVersion } = state.comments;\n\n    dispatch(loadCommentsThunk(projectId, entityType, entityId, entityVersion));\n  } catch (error) {\n    dispatch(fetchCommentsFailed(error.response ? error.response.status : 500));\n  }\n};\n\nexport const setViewingStateThunk = viewingState => async (\n  dispatch,\n  getState\n) => {\n  if (viewingState === 'resolved') dispatch(viewResolvedComments());\n  else dispatch(viewUnresolvedComments());\n\n  const state = getState();\n  const { projectId, entityType, entityId, entityVersion } = state.comments;\n\n  dispatch(loadCommentsThunk(projectId, entityType, entityId, entityVersion));\n};\n\nexport const toggleShareCommentThreadThunk = (\n  comment,\n  currentEntityVersion\n) => async dispatch => {\n  try {\n    await shareCommentThread(comment);\n\n    const { projectId, entityType, entityId } = comment;\n\n    dispatch(fetchCommentsBegan());\n    const response = await getCommentsByEntity(\n      projectId,\n      entityType,\n      entityId,\n      currentEntityVersion\n    );\n    dispatch(fetchCommentsSucceeded(response));\n  } catch (error) {\n    dispatch(fetchCommentsFailed(error.response ? error.response.status : 500));\n  }\n};\n\nexport const toggleResolveCommentThreadThunk = (\n  comment,\n  currentEntityVersion\n) => async dispatch => {\n  try {\n    await resolveCommentThread(comment);\n\n    const { projectId, entityType, entityId } = comment;\n\n    dispatch(fetchCommentsBegan());\n    const response = await getCommentsByEntity(\n      projectId,\n      entityType,\n      entityId,\n      currentEntityVersion\n    );\n    dispatch(fetchCommentsSucceeded(response));\n  } catch (error) {\n    dispatch(fetchCommentsFailed(error.response ? error.response.status : 500));\n  }\n};\n","import { v4 as uuidv4 } from 'uuid';\nimport { UserUtilities } from '@pwc/pwc-deals-web-common';\nimport {\n  addCommentToEntity,\n  deleteComment,\n  deleteCommentThread,\n  updateComment\n} from '../../features/comments/commentService';\nimport {\n  loadCommentsThunk,\n  setHasCommented\n} from '../../features/comments/commentsSlice';\n\nexport const formatComment = ({\n  data,\n  commentId = uuidv4(),\n  projectId,\n  entityType,\n  entityId,\n  entityVersion,\n  authorId,\n  shareWithAll = false,\n  createdAt = new Date()\n}) => ({\n  ...data,\n  commentId,\n  projectId,\n  entityType,\n  entityId,\n  entityVersion,\n  authorId,\n  shareWithAll,\n  createdAt\n});\n\nexport const getCommentsRepositoryPluginAdapter = (\n  project,\n  currentUser,\n  comments,\n  entityType,\n  entityId,\n  entityVersion,\n  commentThreads,\n  dispatch,\n  formatThread\n) => ({\n  async addComment(data, format = formatComment) {\n    const foundComment = comments.find(_ => data.commentId === _.commentId);\n\n    if (foundComment) return Promise.resolve(foundComment);\n\n    const firstCommentInThread = comments.filter(\n      comment => comment.threadId === data.threadId\n    )[0];\n\n    const shareWithAll = firstCommentInThread\n      ? firstCommentInThread.shareWithAll\n      : !UserUtilities.isPractitioner(currentUser, project.id);\n\n    const threadVersion = firstCommentInThread\n      ? firstCommentInThread.entityVersion\n      : entityVersion;\n\n    const comment = format({\n      data,\n      projectId: project.id,\n      entityType,\n      entityId,\n      entityVersion: threadVersion,\n      authorId: currentUser.id,\n      shareWithAll\n    });\n\n    dispatch(setHasCommented());\n\n    await addCommentToEntity(comment);\n\n    dispatch(\n      loadCommentsThunk(project.id, entityType, entityId, entityVersion)\n    );\n\n    return Promise.resolve();\n  },\n\n  updateComment(data) {\n    const foundComment =\n      comments.find(_ => data.commentId === _.commentId) || {};\n    const updatedComment = { ...foundComment, ...data };\n\n    return updateComment(updatedComment);\n  },\n\n  async removeComment(data) {\n    const foundThread = commentThreads.find(_ => data.threadId === _.id);\n\n    if (foundThread && foundThread.comments[0].commentId === data.commentId) {\n      await deleteCommentThread({\n        threadId: data.threadId,\n        projectId: project.id,\n        entityType,\n        entityId\n      });\n    } else {\n      await deleteComment({\n        threadId: data.threadId,\n        projectId: project.id,\n        entityType,\n        entityId,\n        commentId: data.commentId\n      });\n    }\n\n    dispatch(\n      loadCommentsThunk(project.id, entityType, entityId, entityVersion)\n    );\n\n    return Promise.resolve();\n  },\n\n  getCommentThread(data) {\n    const foundThread = commentThreads.find(\n      thread => thread.id === data.threadId || thread.id === data.id\n    );\n\n    return Promise.resolve(formatThread(foundThread));\n  }\n});\n","import { uniqBy } from 'lodash';\nimport { getCommentsRepositoryPluginAdapter } from './CommentsRepositoryPluginAdapter';\n\nexport const formatCommentUsers = users =>\n  users.map(_ => ({\n    ..._,\n    id: _.id.toString(),\n    name: `${_.firstName} ${_.lastName}`\n  }));\n\nexport const getCommentsAdapter = (\n  project,\n  currentUser,\n  comments,\n  entityType,\n  entityId,\n  entityVersion,\n  commentThreads,\n  dispatch,\n  formatThread\n) => {\n  return class {\n    constructor(editor) {\n      this.editor = editor;\n    }\n\n    init() {\n      const usersPlugin = this.editor.plugins.get('Users');\n      const commentsRepository = this.editor.plugins.get('CommentsRepository');\n\n      // Load the users data.\n      const allUserIds = project.users.map(_ => _.id);\n      const nonExistentUsers = uniqBy(\n        comments\n          .filter(_ => !allUserIds.includes(_.authorId))\n          .map(_ => ({\n            id: _.authorId,\n            firstName: 'Deleted',\n            lastName: 'User'\n          })),\n        'id'\n      );\n\n      const commentUsers = formatCommentUsers([\n        ...project.users,\n        ...nonExistentUsers\n      ]);\n\n      commentUsers.forEach(_ => usersPlugin.addUser(_));\n\n      // Set the current user.\n      usersPlugin.defineMe(currentUser.id.toString());\n\n      // Set the adapter on the `CommentsRepository#adapter` property.\n      commentsRepository.adapter = getCommentsRepositoryPluginAdapter(\n        project,\n        currentUser,\n        comments,\n        entityType,\n        entityId,\n        entityVersion,\n        commentThreads,\n        dispatch,\n        formatThread,\n        commentsRepository\n      );\n    }\n  };\n};\n","import { ClassicEditor } from '@pwc/pwc-deals-rich-text-editor';\nimport { UserUtilities } from '@pwc/pwc-deals-web-common';\n\nimport {\n  toggleShareCommentThreadThunk,\n  toggleResolveCommentThreadThunk\n} from '../../../features/comments/commentsSlice';\n\nconst { CommentThreadView, ButtonView, SwitchButtonView } = ClassicEditor;\n\nexport function getModules(thread, user, instantiator) {\n  if (UserUtilities.isPractitioner(user, thread.projectId)) {\n    return [\n      instantiator.createResolveButtonView(thread),\n      instantiator.createSharedView(thread)\n    ];\n  }\n\n  return [instantiator.createResolveButtonView(thread)];\n}\n\nexport default (\n  dispatch,\n  commentThreads,\n  isEntitySharedWithClient,\n  currentUser,\n  projectUsers,\n  currentEntityVersion,\n  isProjectDisabled\n) =>\n  class CustomCommentThreadView extends CommentThreadView {\n    constructor(...args) {\n      super(...args);\n\n      // arg[0] (locale) = { uiLanguage, contentLanguage, contentLanguageDirection, uiLanguageDirection, t }\n      // arg[1] (comment thread) = { channelId, id, comments, context, id, isReadOnly }\n      // arg[2] (user) = { avatar, color, id, name }\n      // arg[3] (config) = { CommentView, editorConfig, formatDateTime, maxCommentCharsWhenCollapsed, maxCommentsWhenCollapsed, maxThreadTotalWeight }\n      const commentThread = args[1];\n      const foundThread = commentThreads.find(\n        thread => thread.id === commentThread.id\n      );\n\n      // This template definition is partially based on the default comment thread view.\n      this.setTemplate({\n        tag: 'div',\n\n        attributes: {\n          class: [\n            'ck-thread',\n            this.bindTemplate.if('isActive', 'ck-thread--active')\n          ],\n          // Needed for managing focus after adding a new comment.\n          tabindex: 0\n        },\n\n        children: [\n          // Adding the top bar element that will hold the dropdown.\n          {\n            tag: 'div',\n            attributes: {\n              class: 'ck-thread-top-bar'\n            },\n            children: foundThread && getModules(foundThread, currentUser, this)\n          },\n          // The rest of the view is as in the default view.\n          {\n            tag: 'div',\n            attributes: {\n              class: 'ck-thread__container'\n            },\n            children: [this.commentsListView, this.commentThreadInputView]\n          }\n        ]\n      });\n    }\n\n    createSharedView(commentThread) {\n      const buttonView = new SwitchButtonView(this.locale);\n\n      const { t } = this.locale;\n\n      const buttonLabel = 'Visible to client';\n\n      const threadAuthorId = commentThread.comments[0].authorId;\n      const threadAuthor = projectUsers.find(\n        user => user.id === threadAuthorId\n      );\n      const isPracticionerCreatedThread = UserUtilities.isPractitioner(\n        threadAuthor,\n        commentThread.projectId\n      );\n\n      const isEnabled = !commentThread.resolved\n        ? isPracticionerCreatedThread && isEntitySharedWithClient\n        : false;\n\n      buttonView.set({\n        label: buttonLabel,\n        isToggleable: !isProjectDisabled,\n        tooltip: t(buttonLabel),\n        withText: true,\n        isOn: commentThread.shareWithAll || false,\n        isEnabled: !isProjectDisabled && isEnabled\n      });\n\n      buttonView.extendTemplate({\n        attributes: {\n          class: 'ck-share-toggle'\n        }\n      });\n\n      // eslint-disable-next-line no-underscore-dangle\n      const comment = commentThread.comments[0];\n\n      buttonView.on('execute', () =>\n        dispatch(\n          toggleShareCommentThreadThunk(\n            {\n              ...comment,\n              shareWithAll: !commentThread.shareWithAll\n            },\n            currentEntityVersion\n          )\n        )\n      );\n\n      return buttonView;\n    }\n\n    createResolveButtonView(commentThread) {\n      const buttonView = new ButtonView(this.locale);\n\n      const { t } = this.locale;\n\n      const buttonLabel = commentThread.resolved ? 'Reopen' : 'Resolve';\n\n      buttonView.set({\n        label: buttonLabel,\n        isToggleable: !isProjectDisabled,\n        tooltip: t(buttonLabel),\n        withText: true,\n        isEnabled: !isProjectDisabled\n      });\n\n      buttonView.extendTemplate({\n        attributes: {\n          class: 'ck-resolve-button'\n        }\n      });\n\n      // eslint-disable-next-line no-underscore-dangle\n      const comment = commentThread.comments[0];\n\n      buttonView.on('execute', () =>\n        dispatch(\n          toggleResolveCommentThreadThunk(\n            {\n              ...comment,\n              resolved: !commentThread.resolved\n            },\n            currentEntityVersion\n          )\n        )\n      );\n\n      return buttonView;\n    }\n  };\n","/* eslint-disable no-underscore-dangle */\nimport { ClassicEditor } from '@pwc/pwc-deals-rich-text-editor';\nimport authorizationService from '../../services/security/authorizationService';\n\nconst { CommentView } = ClassicEditor;\n\nexport const createVersionDisplay = (commentThreads, model) => {\n  const thread = commentThreads.find(t => t.id === model.threadId);\n  const comment =\n    thread &&\n    thread.comments.find((c, index) => c.commentId === model.id && index === 0);\n  return comment && comment.entityVersion > 0\n    ? ` | v${comment.entityVersion}`\n    : '';\n};\n\nconst getCommentAuthorClass = (users, model) => {\n  const user = users.find(u => u.id.toString() === model.author.id);\n\n  if (user) {\n    if (authorizationService.isClientUser(user.email)) {\n      return 'comment-client-user';\n    }\n\n    return 'comment-pwc-user';\n  }\n\n  return 'comment-unknown-user';\n};\n\nexport default (commentThreads, users, isProjectDisabled) =>\n  class CustomCommentView extends CommentView {\n    _getTemplate() {\n      const versionDisplay = createVersionDisplay(commentThreads, this._model);\n\n      const templateDefinition = super._getTemplate();\n\n      const buttonsArray =\n        templateDefinition.children[0].children[1].children[1].children;\n      const editButton = buttonsArray[0];\n      const removeButton = buttonsArray[1];\n\n      const avatarClass = getCommentAuthorClass(users, this._model);\n      const commentContainer = templateDefinition.children[0];\n      commentContainer.attributes = {\n        ...commentContainer.attributes,\n        class: [...commentContainer.attributes.class, avatarClass]\n      };\n\n      const userAndTimeContainer =\n        templateDefinition.children[0].children[1].children[0];\n      userAndTimeContainer.attributes = {\n        style: { display: 'flex', 'flex-direction': 'column' }\n      };\n\n      const userDiv = userAndTimeContainer.children[0];\n      userDiv.children.push({\n        tag: 'span',\n        children: [`${versionDisplay}`],\n        attributes: { class: 'entity-version' }\n      });\n\n      const timeDiv = userAndTimeContainer.children[1];\n      timeDiv.attributes = {\n        ...timeDiv.attributes,\n        style: { margin: '-4px 0px 0px 0px' }\n      };\n\n      const contentContainer =\n        templateDefinition.children[0].children[1].children[2];\n      contentContainer.attributes = {\n        ...contentContainer.attributes,\n        style: { 'margin-top': '8px' }\n      };\n\n      const editIcon =\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M0 19v5h5L19.747 9.253l-5-5L0 19zM23.613 5.387c.52-.52.52-1.36 0-1.88l-3.12-3.12c-.52-.52-1.36-.52-1.88 0l-2.44 2.44 5 5 2.44-2.44z\"/></svg>';\n      const removeIcon =\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M4 10.062h24l-.35 17.69a4.318 4.318 0 01-1.303 3.01A4.326 4.326 0 0123.312 32H8.854a4.284 4.284 0 01-2.397-.722 4.324 4.324 0 01-1.94-3.526L4 10.062zm19-8.06h5.999a2 2 0 110 4.001H3a2 2 0 110-4.002H9A2 2 0 0111.001 0H21C22.104 0 23 .896 23 2.001z\"/></svg>';\n\n      editButton.set({\n        icon: editIcon,\n        isEnabled: !isProjectDisabled\n      });\n      removeButton.set({ icon: removeIcon, isEnabled: !isProjectDisabled });\n\n      return templateDefinition;\n    }\n  };\n","/* eslint-disable react/no-this-in-sfc */\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport { ClassicEditor } from '@pwc/pwc-deals-rich-text-editor';\nimport React, { useEffect, useState } from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { v4 as uuidv4 } from 'uuid';\nimport { UserUtilities } from '@pwc/pwc-deals-web-common';\nimport {\n  getCommentsHasLoaded,\n  getCurrentComments,\n  getCurrentCommentThreads,\n  loadCommentsThunk,\n  getViewingStatus\n} from '../../features/comments/commentsSlice';\nimport { getProject } from '../../features/project/projectSlice';\nimport userTokenService from '../services/security/userTokenService';\nimport { getCommentsAdapter } from './CommentsAdapter';\nimport CustomCommentThreadView from './views/CustomCommentThreadView';\nimport CustomCommentView from './views/CustomCommentView';\nimport './CommentEditor.scss';\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let currentThread = {};\n\nconst MentionPlugin = ClassicEditor.builtinPlugins.find(\n  plugin => plugin.pluginName === 'Mention'\n);\n\nconst { CustomMentionView } = ClassicEditor;\n\nexport const filterExistingComments = (commentThreads, commentRepository) =>\n  commentThreads.filter(\n    thread => !commentRepository.hasCommentThread(thread.id)\n  );\n\nexport const formatThread = thread => {\n  const comments = (thread.comments || []).map(comment => ({\n    ...comment,\n    authorId: (comment.authorId || '').toString()\n  }));\n\n  return {\n    ...thread,\n    threadId: thread.id,\n    comments\n  };\n};\n\nexport const getFeedItems = (queryText, users, projectId, activeThread) => {\n  function isItemMatching(item) {\n    // Make the search case-insensitive.\n    const searchString = queryText.toLowerCase();\n\n    // Include an item in the search results if the name or username includes the current user input.\n    return item.toLowerCase().includes(searchString);\n  }\n\n  const mentionList =\n    !activeThread || !activeThread.shareWithAll\n      ? users.filter(user => UserUtilities.isPractitioner(user, +projectId))\n      : users;\n\n  const usersWithFormattedNames = mentionList.map(user => ({\n    ...user,\n    userId: user.id,\n    id: `@${user.firstName} ${user.lastName}`\n  }));\n\n  return usersWithFormattedNames\n    .filter(user => isItemMatching(user.id))\n    .slice(0, 10);\n};\n\nconst CommentEditor = ({\n  children,\n  context,\n  entityType,\n  entityId,\n  entityVersion,\n  isEntitySharedWithClient,\n  channelId = uuidv4(),\n  isProjectDisabled\n}) => {\n  const dispatch = useDispatch();\n  const { projectId } = useParams();\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [commentEditor, setCommentEditor] = useState();\n\n  const project = useSelector(getProject);\n  const hasLoadedComments = useSelector(getCommentsHasLoaded);\n  const commentThreads = useSelector(getCurrentCommentThreads);\n  const comments = useSelector(getCurrentComments);\n  const viewingStatus = useSelector(getViewingStatus);\n\n  useEffect(() => {\n    dispatch(loadCommentsThunk(projectId, entityType, entityId, entityVersion));\n  }, [\n    dispatch,\n    projectId,\n    entityType,\n    entityId,\n    entityVersion,\n    isEntitySharedWithClient\n  ]);\n\n  useEffect(() => {\n    let isMounted = true;\n    (async () => {\n      if (project.id) {\n        const userEmail = await userTokenService.getProjectTokenProperty(\n          project.id,\n          'email'\n        );\n        if (isMounted) {\n          setCurrentUser(\n            project.users.find(\n              _ => _.email.toLowerCase() === userEmail.toLowerCase()\n            )\n          );\n        }\n      }\n      return () => {\n        isMounted = false;\n      };\n    })();\n  }, [project]);\n\n  const CommentsAdapter = getCommentsAdapter(\n    project,\n    currentUser,\n    comments,\n    entityType,\n    entityId,\n    entityVersion,\n    commentThreads,\n    dispatch,\n    formatThread\n  );\n\n  // We have to do this because CKEditor will try to\n  // use the sidebar *before* it's been rendered :(\n  const [sidebar, setSidebar] = useState();\n  useEffect(() => {\n    setSidebar(document.querySelector('#comment-panel'));\n  }, [context]);\n\n  useEffect(() => {\n    const commentIcon = document.querySelector('.comment-icon');\n\n    if (commentEditor && commentIcon) {\n      const commentsRepository = commentEditor.plugins.get(\n        'CommentsRepository'\n      );\n\n      commentIcon.addEventListener('click', () => {\n        commentsRepository.openNewCommentThread({\n          channelId,\n          threadId: uuidv4(),\n          target: document.querySelector('.top')\n        });\n      });\n    }\n  }, [commentEditor, channelId, isProjectDisabled]);\n\n  useEffect(() => {\n    const commentButton = document.querySelector('.new-comment-button');\n\n    if (commentEditor && commentButton) {\n      const commentsRepository = commentEditor.plugins.get(\n        'CommentsRepository'\n      );\n\n      commentButton.addEventListener('click', () => {\n        commentsRepository.openNewCommentThread({\n          channelId,\n          threadId: uuidv4(),\n          target: document.querySelector('.top')\n        });\n      });\n    }\n  }, [commentEditor, channelId, isProjectDisabled]);\n\n  useEffect(() => {\n    if (commentEditor) {\n      const commentRepository = commentEditor.plugins.get('CommentsRepository');\n\n      commentThreads\n        .filter(thread => !commentRepository.hasCommentThread(thread.id))\n        .filter(thread => {\n          if (thread.resolved && viewingStatus === 'resolved') return true;\n          if (!thread.resolved && viewingStatus === 'unresolved') return true;\n          return false;\n        })\n        .forEach(thread => {\n          const formattedThread = formatThread(thread);\n          const addedCommentThread = commentRepository.addCommentThread({\n            ...formattedThread,\n            target: document.querySelector('.bottom')\n          });\n\n          if (addedCommentThread && (thread.resolved || isProjectDisabled)) {\n            addedCommentThread.isReadOnly = true;\n          }\n        });\n\n      commentRepository.on(\n        'change:activeCommentThread',\n        (evt, propName, activeThread) => {\n          if (activeThread) {\n            const activeSavedThread = commentThreads.find(\n              thread => thread.id === activeThread.id\n            );\n\n            currentThread = activeSavedThread;\n          }\n        }\n      );\n    }\n  }, [commentEditor, commentThreads, isProjectDisabled, viewingStatus]);\n\n  return (\n    <div\n      id=\"container\"\n      style={{ display: 'flex', position: 'relative', width: '100%' }}\n    >\n      {hasLoadedComments && project.id && currentUser.id && sidebar && (\n        <CKEditor\n          onInit={editor => {\n            const annotations = editor.plugins.get('Annotations');\n            annotations.switchTo('wideSidebar');\n            setCommentEditor(editor);\n          }}\n          editor={ClassicEditor}\n          config={{\n            licenseKey: process.env.REACT_APP_CK_EDITOR_LICENSE,\n            extraPlugins: [CommentsAdapter],\n            toolbar: {\n              items: []\n            },\n            sidebar: {\n              container: sidebar\n            },\n            language: 'en',\n            context,\n            collaboration: { channelId },\n            comments: {\n              editorConfig: {\n                extraPlugins: [MentionPlugin, CustomMentionView],\n                mention: {\n                  feeds: [\n                    {\n                      marker: '@',\n                      feed: queryText =>\n                        getFeedItems(\n                          queryText,\n                          project.users,\n                          projectId,\n                          currentThread\n                        ),\n                      minimumCharacters: 1\n                    }\n                  ]\n                }\n              },\n              CommentThreadView: CustomCommentThreadView(\n                dispatch,\n                commentThreads,\n                isEntitySharedWithClient,\n                currentUser,\n                project.users,\n                entityVersion,\n                isProjectDisabled\n              ),\n              CommentView: CustomCommentView(\n                commentThreads,\n                project.users,\n                isProjectDisabled\n              )\n            }\n          }}\n          data={renderToString(children)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default CommentEditor;\n","import React from 'react';\n\nconst CommentPanelContent = ({ commentPanelOpened }) => {\n  return (\n    <>\n      <div className=\"top\" />\n      <div\n        className=\"scrollable\"\n        id=\"comment-panel\"\n        data-testid=\"comment-panel\"\n        hidden={!commentPanelOpened}\n      />\n\n      <div className=\"bottom\" />\n    </>\n  );\n};\n\nexport default CommentPanelContent;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport './CommentPanel.scss';\nimport { Icon, Loader, Button } from '@pwc/pwc-deals-ui';\nimport {\n  getHasCommented,\n  getViewingStatus,\n  setViewingStateThunk,\n  toggleCommentPanelOpened,\n  getCommentPanelOpened,\n  getCommentsIsLoading\n} from '../../../features/comments/commentsSlice';\nimport EnableForProjectState from '../../../features/security/EnableForProjectState';\nimport CommentPanelContent from '../CommentPanelContent/CommentPanelContent';\n\nconst CommentPanel = ({ projectId }) => {\n  const dispatch = useDispatch();\n  const commentsIsLoading = useSelector(getCommentsIsLoading);\n  const commentPanelOpened = useSelector(getCommentPanelOpened);\n  const hasCommented = useSelector(getHasCommented);\n  const viewingStatus = useSelector(getViewingStatus);\n\n  const commentIcon = hasCommented ? (\n    <Button\n      className=\"comment-icon\"\n      aria-label=\"comment icon\"\n      data-testid=\"comment-icon\"\n      onClick={() => dispatch(toggleCommentPanelOpened())}\n    >\n      <Icon name=\"comment-chevron\" className=\"fill icon-orange\" width={25} />\n    </Button>\n  ) : (\n    <Button\n      className=\"comment-icon\"\n      aria-label=\"comment icon\"\n      data-testid=\"comment-icon\"\n      onClick={() => dispatch(toggleCommentPanelOpened())}\n    >\n      <Icon name=\"comment-plus\" className=\"fill icon-orange\" width={25} />\n    </Button>\n  );\n\n  return (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <div\n          className={`comment-panel-container comment-panel-${\n            commentPanelOpened ? 'open' : 'closed'\n          }`}\n        >\n          <Helmet>\n            <body data-comments={commentPanelOpened ? 'open' : 'closed'} />\n          </Helmet>\n          {commentPanelOpened ? (\n            <>\n              <Button\n                className=\"collapse-icon\"\n                aria-label=\"collapse icon\"\n                data-testid=\"collapse-icon\"\n                onClick={() => {\n                  dispatch(setViewingStateThunk('unresolved'));\n                  dispatch(toggleCommentPanelOpened());\n                }}\n              >\n                <Icon\n                  name=\"comment-chevron\"\n                  className=\"fill icon-orange\"\n                  width={25}\n                />\n              </Button>\n\n              <div className=\"comment-panel-actions\">\n                <Button\n                  className={`unresolved-comments-button ${\n                    viewingStatus === 'unresolved' ? 'action-active' : ''\n                  }`}\n                  aria-label=\"unresolved comments button\"\n                  data-testid=\"unresolved-comments-button\"\n                  onClick={() => dispatch(setViewingStateThunk('unresolved'))}\n                >\n                  Unresolved\n                </Button>\n                <Button\n                  className={`resolved-comments-button ${\n                    viewingStatus === 'resolved' ? 'action-active' : ''\n                  }`}\n                  aria-label=\"resolved comments button\"\n                  data-testid=\"resolved-comments-button\"\n                  onClick={() => dispatch(setViewingStateThunk('resolved'))}\n                >\n                  Resolved\n                </Button>\n              </div>\n            </>\n          ) : (\n            commentIcon\n          )}\n          <Loader\n            dataTestId=\"comment-loading-indicator\"\n            isVisible={commentsIsLoading && commentPanelOpened}\n          />\n\n          <CommentPanelContent commentPanelOpened={commentPanelOpened} />\n\n          <div\n            className=\"new-comment-button-container\"\n            hidden={viewingStatus === 'resolved' || !commentPanelOpened}\n          >\n            <Button\n              className=\"new-comment-button button-outline\"\n              aria-label=\"new comment button\"\n              data-testid=\"new-comment-button\"\n              tabIndex={0}\n              disabled={isProjectDisabled}\n            >\n              Add a new thread\n            </Button>\n          </div>\n        </div>\n      )}\n    </EnableForProjectState>\n  );\n};\n\nexport default CommentPanel;\n","import { ClassicEditor } from '@pwc/pwc-deals-rich-text-editor';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport EnableForProjectState from '../../../features/security/EnableForProjectState';\n\nimport CommentEditor from '../../plugins/CommentEditor';\nimport CommentPanel from './CommentPanel';\nimport { getComments } from '../../../features/comments/commentsSlice';\nimport authorizationService from '../../services/security/authorizationService';\n\nconst CommentPanelContainer = ({ projectId }) => {\n  const {\n    showCommentsPanel,\n    entityType,\n    entityId,\n    entityVersion,\n    versionRequired,\n    isEntitySharedWithClient\n  } = useSelector(getComments);\n  const [context, setContext] = useState();\n\n  // For future CKEditor Comment feature\n  useEffect(() => {\n    let isMounted = true;\n    (async () => {\n      const result = await ClassicEditor.Context.create();\n      if (isMounted) setContext(result);\n    })();\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  const versionReadyOrNotNeeded = !versionRequired || entityVersion;\n  const guardEntityVersion = versionRequired ? entityVersion : -1;\n\n  const isClientUser = authorizationService.isClientUser();\n\n  if (showCommentsPanel && versionReadyOrNotNeeded) {\n    return (\n      <EnableForProjectState projectId={projectId}>\n        {({ isProjectDisabled }) => (\n          <div\n            className={`comment-panel ${\n              isClientUser ? 'current-user-is-client' : 'current-user-is-pwc'\n            }`}\n          >\n            <span hidden data-testid=\"comment-editor\">\n              <CommentEditor\n                context={context}\n                entityType={entityType}\n                entityId={entityId}\n                entityVersion={guardEntityVersion}\n                isEntitySharedWithClient={isEntitySharedWithClient}\n                isProjectDisabled={isProjectDisabled}\n              />\n            </span>\n            <CommentPanel projectId={projectId} />\n          </div>\n        )}\n      </EnableForProjectState>\n    );\n  }\n  return null;\n};\n\nexport default CommentPanelContainer;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport userTokenService from '../../common/services/security/userTokenService';\n\nconst ProjectPermissionRoute = ({\n  isAuthorized,\n  permissions,\n  component: Component,\n  ...rest\n}) => (\n  <Route\n    {...rest}\n    render={({ match, location }) => {\n      const { projectId } = match.params;\n      if (!isAuthorized()) {\n        return (\n          <Redirect\n            to={{\n              pathname: '/',\n              state: { from: location }\n            }}\n          />\n        );\n      }\n\n      if (projectId) {\n        const hasPermission = userTokenService.hasProjectTokenProp(\n          projectId,\n          permissions\n        );\n\n        if (hasPermission) {\n          return <Component />;\n        }\n      }\n\n      return (\n        <Redirect\n          to={{\n            pathname: '/unauthorized',\n            state: { from: location }\n          }}\n        />\n      );\n    }}\n  />\n);\n\nProjectPermissionRoute.propTypes = {\n  permissions: PropTypes.arrayOf(PropTypes.string)\n};\n\nProjectPermissionRoute.defaultProps = {\n  permissions: []\n};\n\nexport default ProjectPermissionRoute;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\n\nconst IngestStructuredAnalysisButton = ({ documentCode, onIngestion }) => {\n  return (\n    <Button\n      data-testid={`ingest-analysis-button-${documentCode}`}\n      onClick={onIngestion}\n    >\n      Add\n    </Button>\n  );\n};\n\nIngestStructuredAnalysisButton.propTypes = {\n  documentCode: PropTypes.string\n};\n\nIngestStructuredAnalysisButton.defaultProps = {\n  documentCode: ''\n};\n\nexport default IngestStructuredAnalysisButton;\n","import { ProjectHttpClient } from '../../services/httpClient';\nimport {\n  structuredAnalysisDocumentsPath,\n  getDocumentsWithDataPath,\n  getAllLatestDocumentsWithContent\n} from '../../services/urlService';\n\nexport const mapAnalysisToApi = analysis => ({\n  ...analysis,\n  body: analysis.body || null,\n  source: analysis.source || '',\n  tags: analysis.tags.map(tag => ({\n    text: tag\n  }))\n});\n\nconst baseStructuredAnalysisDocumentsPath = projectId =>\n  `projects/${projectId}/structuredAnalysisDocuments`;\n\nconst baseStructuredAnalysesServicePath = (projectId, analysisThreadId) =>\n  `projects/${projectId}/structuredanalyses/${analysisThreadId || ''}`;\n\nexport const getAllStructuredIngestionDocuments = async projectId => {\n  const response = await ProjectHttpClient.get(\n    structuredAnalysisDocumentsPath(projectId)\n  );\n  return response.data;\n};\n\nexport const getStructuredAnalysisVersions = async (\n  projectId,\n  analysisThreadId\n) => {\n  try {\n    const response = await ProjectHttpClient.get(\n      `${baseStructuredAnalysesServicePath(\n        projectId,\n        analysisThreadId\n      )}/versions`\n    );\n\n    return {\n      projectId,\n      analysisThreadId,\n      analysisId: analysisThreadId,\n      data: response.data\n    };\n  } catch (error) {\n    return {\n      projectId,\n      analysisThreadId,\n      analysisId: analysisThreadId,\n      data: []\n    };\n  }\n};\n\nexport const postIngestStructuredDocument = async (\n  projectId,\n  documentCodes /** an array of strings */\n) => {\n  const response = await ProjectHttpClient.post(\n    baseStructuredAnalysisDocumentsPath(projectId),\n    {\n      documentCodes\n    }\n  );\n  return response.data;\n};\n\nexport const getStructuredAnalysisDocumentsWithData = async projectId => {\n  const response = await ProjectHttpClient.get(\n    getDocumentsWithDataPath(projectId)\n  );\n  return response.data;\n};\n\nexport const getAllDocumentsWithContentForProjectAndViewingType = async (\n  projectId,\n  isViewingAsClient\n) => {\n  const url = getAllLatestDocumentsWithContent(projectId, isViewingAsClient);\n  const response = await ProjectHttpClient.get(url);\n  return response.data;\n};\n\nexport const getLibraryItemLinksByContentVersion = async (\n  projectId,\n  documentCode,\n  contentThreadId,\n  contentVersionNumber\n) => {\n  const endpoint = `${baseStructuredAnalysisDocumentsPath(\n    projectId\n  )}/libraryItemsForContent?documentCode=${documentCode}&contentThreadId=${contentThreadId}&contentVersionNumber=${contentVersionNumber}`;\n  const response = await ProjectHttpClient.get(endpoint);\n  return response.data.libraryItemLinks;\n};\n\nexport const putStructuredAnalyses = async (projectId, analysis) => {\n  const response = await ProjectHttpClient.put(\n    `${baseStructuredAnalysesServicePath(projectId, analysis.contentThreadId)}`,\n    mapAnalysisToApi(analysis)\n  );\n\n  return response.data;\n};\n\nexport const deleteStructuredDocument = async (projectId, documentCode) => {\n  const response = await ProjectHttpClient.delete(\n    `${baseStructuredAnalysisDocumentsPath(projectId)}`,\n    { documentCode }\n  );\n\n  return response;\n};\n\nexport const getStructuredAnalyses = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/StructuredAnalyses`\n  );\n  return response.data;\n};\n\nexport const searchAnalyses = async (projectId, analysisType) => {\n  const response = await ProjectHttpClient.get(\n    `${baseStructuredAnalysesServicePath(projectId)}search?type=${analysisType}`\n  );\n  return response.data;\n};\n\nexport const updateStructuredAnalysisStatus = async (\n  projectId,\n  analysisThreadId,\n  workflowAction\n) => {\n  const url = `${baseStructuredAnalysesServicePath(\n    projectId,\n    analysisThreadId\n  )}/${workflowAction}`;\n  return ProjectHttpClient.post(url);\n};\n\nexport const getStructuredAnalysis = async (\n  projectId,\n  analysisThreadId,\n  versionStatus\n) => {\n  const response = await ProjectHttpClient.get(\n    baseStructuredAnalysesServicePath(projectId, analysisThreadId) +\n      (versionStatus ? `/${versionStatus}` : '')\n  );\n  return response.data;\n};\n","import { DocumentUtilities } from '@pwc/pwc-deals-web-common';\nimport { createSlice } from '@reduxjs/toolkit';\nimport _uniq from 'lodash/uniq';\nimport _get from 'lodash/get';\nimport { postIngestStructuredDocument } from '../services/structuredAnalysisService';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\n\nexport const initialState = {\n  ingestedDocuments: [],\n  loadingInProcess: [],\n  errorMessage: ''\n};\n\nconst structuredAnalysisSlice = createSlice({\n  name: 'structuredAnalysis',\n  initialState,\n  reducers: {\n    clearIngestError: (state, action) => ({\n      ...state,\n      loadingInProcess: state.loadingInProcess.filter(\n        item => item !== action.payload.code\n      ),\n      errorMessage: ''\n    }),\n    ingestionBegan: (state, action) => ({\n      ...state,\n      loadingInProcess: [\n        ...state.loadingInProcess,\n        ...action.payload.map(x => x.code)\n      ],\n      errorMessage: ''\n    }),\n    ingestionSucceeded: (state, action) => ({\n      ...state,\n      ingestedDocuments: _uniq([\n        ...state.ingestedDocuments,\n        ...action.payload.map(x => x.code)\n      ]),\n      loadingInProcess: [\n        ...state.loadingInProcess.filter(item => {\n          return action.payload.find(x => x.code === item) === undefined;\n        })\n      ],\n      errorMessage: ''\n    }),\n    ingestionFailed: (state, action) => ({\n      ...state,\n      loadingInProcess: [\n        ...state.loadingInProcess.filter(item => {\n          return action.payload.codes.find(x => x.code === item) === undefined;\n        })\n      ],\n      errorMessage: action.payload.error\n    })\n  },\n  extraReducers: builder => {\n    builder.addCase(clearAllProjectData, () => initialState);\n  }\n});\nexport default structuredAnalysisSlice.reducer;\n\n// Actions\nexport const {\n  clearIngestError,\n  ingestionBegan,\n  ingestionSucceeded,\n  ingestionFailed\n} = structuredAnalysisSlice.actions;\n\n// Selectors\nexport const getIngestedDocuments = state =>\n  state.structuredAnalysis.ingestedDocuments;\nexport const getLoadingInProcess = state =>\n  state.structuredAnalysis.loadingInProcess;\nexport const getStructuredAnalysisHasError = state =>\n  state.structuredAnalysis.errorMessage !== '';\nexport const getStructuredAnalysisError = state =>\n  state.structuredAnalysis.errorMessage;\n\n// Thunks\nexport const IngestionThunk = (projectId, documentCode) => async dispatch => {\n  try {\n    dispatch(ingestionBegan([{ code: documentCode }]));\n    await postIngestStructuredDocument(projectId, [documentCode]);\n    dispatch(ingestionSucceeded([{ code: documentCode }]));\n  } catch (error) {\n    const errorMessage = _get(\n      error,\n      'response.data.errors[0].apiErrorMessage',\n      'An error occurred'\n    );\n    const errorObject = {\n      error: errorMessage,\n      codes: [{ code: documentCode }]\n    };\n    dispatch(ingestionFailed(errorObject));\n  }\n};\n\nexport const ReingestDocumentWithDependencies = (\n  projectId,\n  documentCode\n) => async dispatch => {\n  const documentWithDependencies = DocumentUtilities.getDocumentWithDependencies(\n    documentCode\n  );\n  const documentsForRefresh = [\n    documentWithDependencies.document,\n    ...documentWithDependencies.dependencies\n  ];\n  const codes = documentsForRefresh.map(code => ({ code }));\n  try {\n    dispatch(ingestionBegan(codes));\n    await postIngestStructuredDocument(projectId, documentsForRefresh);\n    dispatch(ingestionSucceeded(codes));\n  } catch (error) {\n    const errorMessage = _get(\n      error,\n      'response.data.errors[0].apiErrorMessage',\n      'An error occurred'\n    );\n    const errorObject = { error: errorMessage, codes };\n    dispatch(ingestionFailed(errorObject));\n  }\n};\n","import React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { Button } from '@pwc/pwc-deals-ui';\n\nconst ModalConfirmation = ({\n  show = false,\n  onCancel,\n  onConfirm,\n  confirmTitle = 'Proceed?',\n  confirmationMessage = 'Are you sure?',\n  cancelButtonText = 'Cancel',\n  confirmButtonText = 'Proceed',\n  showCancel = true\n}) => (\n  <Modal show={show} onHide={onCancel}>\n    <Modal.Header closeButton>\n      <Modal.Title>{confirmTitle}</Modal.Title>\n    </Modal.Header>\n    <Modal.Body>{confirmationMessage}</Modal.Body>\n    <Modal.Footer>\n      {showCancel && (\n        <Button\n          className=\"button-link mr-3\"\n          data-testid=\"modal-cancel\"\n          onClick={onCancel}\n        >\n          {cancelButtonText}\n        </Button>\n      )}\n      <Button data-testid=\"modal-confirm\" onClick={onConfirm}>\n        {confirmButtonText}\n      </Button>\n    </Modal.Footer>\n  </Modal>\n);\n\nexport default ModalConfirmation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Icon, Loader } from '@pwc/pwc-deals-ui';\nimport IngestStructuredAnalysisButton from '../IngestStructuredAnalysisButton/IngestStructuredDocumentButton';\nimport {\n  IngestionThunk,\n  clearIngestError,\n  getLoadingInProcess,\n  getStructuredAnalysisHasError,\n  getStructuredAnalysisError,\n  getIngestedDocuments\n} from '../../../../common/engine/reducers/StructuredAnalysisSlice';\nimport ModalConfirmation from '../../../../common/components/ModalConfirmation';\nimport { structuredRoutes } from '../../../../common/services/urlService';\nimport './structured-analysis-card.scss';\n\nconst StructuredAnalysisCard = ({\n  projectId,\n  documentName,\n  documentCode,\n  showDetailLink\n}) => {\n  const loadingDocuments = useSelector(getLoadingInProcess);\n  const hasError = useSelector(getStructuredAnalysisHasError);\n  const errorMessage = useSelector(getStructuredAnalysisError);\n  const ingestedDocuments = useSelector(getIngestedDocuments);\n  const dispatch = useDispatch();\n\n  const beginIngest = async () => {\n    dispatch(IngestionThunk(projectId, documentCode));\n  };\n\n  const handleModalClose = () => dispatch(clearIngestError());\n\n  return (\n    <div\n      className=\"analysis-card\"\n      data-testid={`analysis-card-${documentCode}`}\n    >\n      <div\n        className=\"analysis-card-header\"\n        data-testid={`card-header-${documentCode}`}\n      >\n        {documentName}\n      </div>\n      <div className=\"template-placeholder\" />\n      <div className=\"button-spinner-group\">\n        {!ingestedDocuments.includes(documentCode) && (\n          <IngestStructuredAnalysisButton\n            projectId={projectId}\n            documentCode={documentCode}\n            onIngestion={beginIngest}\n          />\n        )}\n        {loadingDocuments.includes(documentCode) && (\n          <Loader className=\"small\" dataTestId=\"loading-spinner\" />\n        )}\n      </div>\n      {showDetailLink && ingestedDocuments.includes(documentCode) && (\n        <Link\n          to={`/projects/${projectId}/analyses/${structuredRoutes[documentCode]}`}\n        >\n          <div className=\"status-container\">\n            <Icon\n              name=\"check\"\n              data-testid={`${documentCode}-confirm-icon`}\n              width={14}\n              className=\"fill icon-green\"\n            />\n            <div data-testid={`${documentCode}-link`}>View analysis</div>\n            <Icon\n              data-testid=\"structured-analysis-card-arrow\"\n              name=\"arrow-right\"\n              className=\"outline right\"\n              width={15}\n            />\n          </div>\n        </Link>\n      )}\n      {!showDetailLink && ingestedDocuments.includes(documentCode) && (\n        <div className=\"status-container\">\n          <Icon\n            name=\"check\"\n            data-testid={`${documentCode}-confirm-icon`}\n            width={14}\n            className=\"fill icon-green\"\n          />\n          <div data-testid={`${documentCode}-no-link`}>\n            Ingestion Successful\n          </div>\n        </div>\n      )}\n      <ModalConfirmation\n        show={hasError}\n        onCancel={handleModalClose}\n        onConfirm={handleModalClose}\n        confirmTitle=\"Failed attempt on import\"\n        confirmationMessage={errorMessage}\n        showCancel={false}\n        confirmButtonText=\"OK\"\n      />\n    </div>\n  );\n};\n\nStructuredAnalysisCard.propTypes = {\n  projectId: PropTypes.string,\n  documentName: PropTypes.string,\n  documentCode: PropTypes.string\n};\n\nStructuredAnalysisCard.defaultProps = {\n  projectId: '',\n  documentName: '',\n  documentCode: ''\n};\n\nexport default StructuredAnalysisCard;\n","import React from 'react';\nimport './empty-structured-analysis-card.scss';\n\nconst EmptyStructuredAnalysisCard = () => {\n  return (\n    <div\n      className=\"empty-structured-analysis-card\"\n      data-testid=\"empty-structured-analysis-card\"\n    >\n      <h2>No structured documents defined for ingestion</h2>\n    </div>\n  );\n};\n\nexport default EmptyStructuredAnalysisCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport StructuredIngestionDocumentCard from '../StructuredAnalysisCard/StructuredAnalysisCard';\nimport EmptyStructuredIngestionDocumentCard from '../EmptyStructuredAnalysis/EmptyStructuredAnalysisCard';\nimport './StructuredAnalysisTable.scss';\n\nconst StructuredAnalysisTable = ({ projectId, structuredDocuments }) => {\n  const hasDocuments = !!structuredDocuments.length;\n  return (\n    <>\n      {!hasDocuments && <EmptyStructuredIngestionDocumentCard />}\n      {hasDocuments && (\n        <div>\n          <div\n            className=\"structured-analysis-add-from-template\"\n            data-testid=\"structured-analysis-table\"\n          >\n            {structuredDocuments.map(document => (\n              <div key={document.code}>\n                <StructuredIngestionDocumentCard\n                  projectId={projectId}\n                  documentName={document.displayName}\n                  documentCode={document.code}\n                  showDetailLink={document.hasDetailView}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nStructuredAnalysisTable.propTypes = {\n  projectId: PropTypes.string,\n  structuredDocuments: PropTypes.arrayOf(PropTypes.object)\n};\n\nStructuredAnalysisTable.defaultProps = {\n  projectId: '',\n  structuredDocuments: []\n};\n\nexport default StructuredAnalysisTable;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport StructuredAnalysisTable from '../structured-analysis/StructuredAnalysisTable/StructuredAnalysisTable';\nimport { getAllStructuredIngestionDocuments } from '../../../common/engine/services/structuredAnalysisService';\nimport './AddAnalysisFromTemplate.scss';\n\nconst AddAnalysisFromTemplate = () => {\n  const { projectId } = useParams();\n  const [\n    allStructuredIngestionDocuments,\n    setAllStructuredIngestionDocuments\n  ] = useState([]);\n\n  useEffect(() => {\n    const fetchAll = async () => {\n      const response = await getAllStructuredIngestionDocuments(projectId);\n      setAllStructuredIngestionDocuments(response);\n    };\n\n    fetchAll();\n  }, [projectId]);\n\n  return (\n    <div\n      data-testid=\"structured-analysis-container\"\n      className=\"add-analysis-from-template-container\"\n    >\n      <h2>Add Analysis from template</h2>\n      <p className=\"description\">\n        Please select the Analyses required for this project.\n      </p>\n      <div className=\"divider\" />\n      <StructuredAnalysisTable\n        data-testid=\"structured-analysis-table\"\n        projectId={projectId}\n        structuredDocuments={allStructuredIngestionDocuments}\n      />\n    </div>\n  );\n};\n\nexport default AddAnalysisFromTemplate;\n","import React from 'react';\nimport { Tooltip, Icon } from '@pwc/pwc-deals-ui';\nimport { useSelector } from 'react-redux';\nimport {\n  getEngagementUrl,\n  getProjectSharePointUrl\n} from '../../../project/projectSlice';\nimport './ViewAnalysisSourceLinks.scss';\n\nconst ViewAnalysisSourceLinks = ({ toolTipDirection = 'left' }) => {\n  const sharepointUrl = useSelector(getProjectSharePointUrl);\n  const engagementUrl = useSelector(getEngagementUrl);\n\n  const toolTipText = `Make sure your PowerPoint ${'\\n'}files are saved in SharePoint, ${'\\n'}and your Power BI reports are${'\\n'} published to Workbench.`;\n  return (\n    <div className=\"external-source-links\">\n      View in{' '}\n      <a\n        className=\"external-source-link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        data-testid=\"project-sharepoint-link\"\n        href={`//${sharepointUrl}/Shared%20Documents/Forms/AllItems.aspx`}\n      >\n        Sharepoint\n      </a>{' '}\n      or{' '}\n      <a\n        className=\"external-source-link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        data-testid=\"project-workbench-link\"\n        href={`${engagementUrl}/reports`}\n      >\n        Workbench\n      </a>{' '}\n      <Tooltip\n        direction={toolTipDirection}\n        dataTestId=\"source-links-tooltip-popup\"\n        tip={toolTipText}\n      >\n        <Icon\n          name=\"information\"\n          width=\"16\"\n          className=\"icon fill icon-yellow source-file-tooltip-icon\"\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default ViewAnalysisSourceLinks;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport './PageTitle.scss';\n\nconst PageTitle = ({ size, title, contained }) => {\n  return (\n    <div className={`page-title-container ${contained || ' contain'}`}>\n      {size === 'h1' ? (\n        <h1 data-testid=\"page-title\">{title}</h1>\n      ) : (\n        <h2 data-testid=\"page-title\">{title}</h2>\n      )}\n    </div>\n  );\n};\n\nPageTitle.propTypes = {\n  title: PropTypes.string,\n  size: PropTypes.string,\n  contained: PropTypes.bool\n};\n\nPageTitle.defaultProps = {\n  title: '',\n  size: '',\n  contained: true\n};\n\nexport default PageTitle;\n","import React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport Separator from '../../../common/components/Separator';\nimport {\n  addAnalysisFromTemplatePath,\n  createAnalysisPath\n} from '../../../common/services/urlService';\nimport './AddAnalysisType.scss';\nimport ViewAnalysisSourceLinks from '../common/ViewAnalysisSourceLinks/ViewAnalysisSourceLinks';\nimport PageTitle from '../../../common/components/PageTitle/PageTitle';\n\nconst AddAnalysisType = () => {\n  const { projectId } = useParams();\n  const addAnalysisFromTemplateHref = addAnalysisFromTemplatePath(projectId);\n  const createFreeformAnalysisHref = createAnalysisPath(projectId);\n\n  return (\n    <div className=\"add-analysis-type-container\">\n      <PageTitle title=\"Add an Analysis\" size=\"h1\" />\n\n      <p>There are two ways to create analyses:</p>\n\n      <div className=\"card-container\">\n        <section className=\"card\" data-testid=\"analysis-type-card\">\n          <div className=\"title\">\n            <Icon name=\"from-template\" width={20} />\n            From template\n          </div>\n          <div className=\"card-content\">\n            Add common analyses to generate the tables and charts. Populate the\n            relevant data fields in the Excel template on SharePoint.\n          </div>\n          <Link\n            to={addAnalysisFromTemplateHref}\n            data-testid=\"add-from-template-link\"\n            className=\"add-from-template-button\"\n          >\n            <Icon name=\"add\" width={18} />\n            Start from template\n          </Link>\n        </section>\n\n        <section className=\"card\">\n          <div className=\"title\">\n            <Icon name=\"free-form\" width={20} />\n            Free-form\n          </div>\n          <div className=\"card-content\">\n            Choose pre-ingested data or ingest your own using the Excel add-in.\n            You can also import data from Power BI and PowerPoint.\n          </div>\n          <Link\n            to={createFreeformAnalysisHref}\n            data-testid=\"add-freeform-link\"\n            className=\"add-from-template-button\"\n          >\n            <Icon name=\"add\" width={18} />\n            Start free-form\n          </Link>\n        </section>\n      </div>\n\n      <Separator />\n      <ViewAnalysisSourceLinks />\n    </div>\n  );\n};\n\nexport default AddAnalysisType;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport qs from 'query-string';\nimport {\n  ContentServiceHttpClient,\n  ProjectHttpClient\n} from '../../common/services/httpClient';\n\nexport const AnalysisTypes = {\n  Unstructured: 100,\n  [Constants.QUALITY_OF_EARNINGS]: 200,\n  [Constants.NET_WORKING_CAPITAL]: 300,\n  [Constants.DEBT_AND_DEBT_LIKE]: 400\n};\nObject.freeze(AnalysisTypes);\n\nconst baseServicePath = (projectId, analysisThreadId, versionStatus) => {\n  const pathForId = analysisThreadId ? `/${analysisThreadId}` : '';\n  const pathForStatus = versionStatus ? `/${versionStatus}` : '';\n\n  return `projects/${projectId}/analyses${pathForId}${pathForStatus}`;\n};\n\nexport const getAnalyses = async projectId => {\n  const response = await ProjectHttpClient.get(baseServicePath(projectId));\n  return response.data;\n};\n\nexport const getAllAnalyses = async (projectId, tagIds) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/analyses${\n      tagIds ? `?${qs.stringify({ TagIds: tagIds })}` : ''\n    }`\n  );\n  return response.data;\n};\n\nexport const getPagedAnalyses = async (projectId, page = 0, pageSize = 10) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/analyses?currentPage=${page}&pageSize=${pageSize}`\n  );\n  return response.data;\n};\n\nexport const getAnalysis = async (\n  projectId,\n  analysisThreadId,\n  versionStatus\n) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, analysisThreadId, versionStatus)}`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsStatus = async (projectId, analysisThreadId) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisThreadId}/status`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsVersions = async (\n  projectId,\n  analysisThreadId\n) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisThreadId}/versions`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsDraft = async (projectId, analysisThreadId) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisThreadId}/draft`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsShared = async (\n  projectId,\n  analysisContentId\n) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisContentId}/shared`\n  );\n  return response.data;\n};\n\nexport const getAnalysisVersions = async (projectId, analysisThreadId) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, analysisThreadId)}/versions`\n  );\n\n  return response.data;\n};\n\nexport const postAnalysis = async (projectId, analysisDto) => {\n  const response = await ProjectHttpClient.post(baseServicePath(projectId), {\n    ...analysisDto,\n    createdBy: 'unset'\n  });\n\n  return response.data;\n};\n\nexport const putAnalysis = async (projectId, analysisThreadId, analysisDto) => {\n  const response = await ProjectHttpClient.put(\n    baseServicePath(projectId, analysisThreadId),\n    analysisDto\n  );\n  return response.data;\n};\n\nexport const deleteAnalysis = async (projectId, analysisThreadId) => {\n  const response = await ProjectHttpClient.delete(\n    baseServicePath(projectId, analysisThreadId)\n  );\n\n  return response;\n};\n\nexport const updateAnalysisStatus = async (\n  projectId,\n  analysisThreadId,\n  newStatus\n) => {\n  const url = `${baseServicePath(projectId, analysisThreadId)}/${newStatus}`;\n  return ProjectHttpClient.post(url);\n};\n\nexport const updateAnalysesOrder = async (\n  projectId,\n  orderedContentThreadIds\n) => {\n  const response = await ProjectHttpClient.post(\n    `${baseServicePath(projectId)}/sortorder`,\n    orderedContentThreadIds\n  );\n\n  return response.data;\n};\n","import React, { useCallback } from 'react';\nimport { Icon, Button } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport './ToggleGridList.scss';\n\nconst ICON_SIZE = 24;\n\nconst ToggleGridList = ({ viewGrid, onClick }) => {\n  const getButtons = useCallback(\n    () => [\n      {\n        testId: 'grid-view-toggle',\n        iconName: 'grid-view',\n        iconClass: `${viewGrid ? 'fill' : 'outline'} icon-orange-theme`\n      },\n      {\n        testId: 'list-view-toggle',\n        iconName: 'list-view',\n        iconClass: `${viewGrid ? 'outline' : 'fill'} icon-orange-theme`\n      }\n    ],\n    [viewGrid]\n  );\n  const buttons = getButtons(viewGrid);\n\n  return (\n    <div className=\"toggle-container\" data-testid=\"grid-list-toggle\">\n      {buttons.map(button => {\n        return (\n          <Button\n            type=\"button\"\n            key={`toggle-button-${button.testId}`}\n            className=\"button-toggle button-no-appearance\"\n            data-testid={button.testId}\n            onClick={onClick}\n          >\n            <Icon\n              name={button.iconName}\n              width={ICON_SIZE}\n              className={button.iconClass}\n            />\n          </Button>\n        );\n      })}\n    </div>\n  );\n};\n\nToggleGridList.propTypes = {\n  viewGrid: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired\n};\n\nexport default ToggleGridList;\n","import React from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\n\nconst MenuButtonDelete = ({ onClick }) => {\n  return (\n    <Button\n      className=\"button-menu\"\n      onClick={onClick}\n      data-testid=\"menu-button-delete\"\n      disabled={!onClick}\n    >\n      <Icon name=\"bin\" width=\"21\" className=\"outline icon-orange\" />\n      Delete\n    </Button>\n  );\n};\n\nexport default MenuButtonDelete;\n","import React from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\n\nconst MenuButtonEdit = ({ onClick }) => {\n  return (\n    <Button\n      className=\"button-menu\"\n      onClick={onClick}\n      data-testid=\"menu-button-edit\"\n      disabled={!onClick}\n    >\n      <Icon name=\"pencil\" width=\"21\" className=\"sr2 outline icon-orange\" />\n      Edit\n    </Button>\n  );\n};\n\nexport default MenuButtonEdit;\n","import React from 'react';\nimport { Popover } from 'react-bootstrap';\nimport MenuButtonDelete from '../MenuButtonDelete';\nimport MenuButtonEdit from '../MenuButtonEdit';\nimport ShowForPermissions from '../../../features/security/ShowForPermissions';\n\nconst ContentActionsPopupMenu = React.forwardRef(\n  (\n    { projectId, itemId, onEditMenuClick, onDeleteMenuClick, ...props },\n    ref\n  ) => {\n    return (\n      <Popover\n        ref={ref}\n        id=\"actions-popup\"\n        data-testid={`content-actions-popup-menu-${itemId}`}\n        {...props}\n      >\n        <Popover.Content className=\"popup-menu\">\n          <ShowForPermissions\n            projectId={projectId}\n            permissions={['Contribute']}\n          >\n            <MenuButtonEdit onClick={onEditMenuClick} />\n            <MenuButtonDelete onClick={onDeleteMenuClick} />\n          </ShowForPermissions>\n        </Popover.Content>\n      </Popover>\n    );\n  }\n);\n\nexport default ContentActionsPopupMenu;\n","import classNames from 'classnames';\nimport React from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\n\nimport './RowActionsButton.scss';\n\nconst RowActionsButton = ({ isDisabled, ...rest }) => {\n  return (\n    <div className=\"action-button-container\">\n      <Button\n        {...rest}\n        className=\"button-link action-button action-button\"\n        data-testid=\"row-actions-button\"\n        aria-label=\"Action Button\"\n        disabled={isDisabled}\n      >\n        <Icon\n          name=\"more-vert\"\n          width={24}\n          className={classNames('fill', {\n            'icon-orange': !isDisabled,\n            'icon-grey': isDisabled\n          })}\n        />\n      </Button>\n    </div>\n  );\n};\n\nexport default RowActionsButton;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport React, { useState, useRef } from 'react';\nimport { string } from 'prop-types';\nimport { Overlay } from 'react-bootstrap';\nimport EnableForProjectState from '../../../features/security/EnableForProjectState';\nimport ContentActionsPopupMenu from './ContentActionsPopupMenu';\nimport RowActionsButton from './RowActionsButton';\nimport ShowForPermissions from '../../../features/security/ShowForPermissions';\n\nconst ContentActionsRowMenu = ({\n  projectId,\n  itemId,\n  onEditMenuClick,\n  onDeleteMenuClick,\n  direction\n}) => {\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n\n  const handleButtonClick = handler =>\n    handler\n      ? () => {\n          setShow(false);\n          handler(itemId);\n        }\n      : null;\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n    if (show === true) {\n      setTimeout(() => {\n        document.body.click();\n      }, 200);\n    }\n  };\n\n  return (\n    <ShowForPermissions projectId={projectId} permissions={['Contribute']}>\n      <EnableForProjectState projectId={projectId}>\n        {({ isProjectDisabled }) => (\n          <div ref={ref} className=\"content-actions-row-menu\">\n            <RowActionsButton\n              isDisabled={isProjectDisabled}\n              onClick={handleClick}\n            />\n            <Overlay\n              show={show}\n              target={target}\n              placement={direction}\n              rootClose\n              onHide={() => {\n                setShow(!show);\n              }}\n              container={ref.current}\n            >\n              <ContentActionsPopupMenu\n                projectId={projectId}\n                itemId={itemId}\n                onEditMenuClick={handleButtonClick(onEditMenuClick)}\n                onDeleteMenuClick={handleButtonClick(onDeleteMenuClick)}\n              />\n            </Overlay>\n          </div>\n        )}\n      </EnableForProjectState>\n    </ShowForPermissions>\n  );\n};\n\nContentActionsRowMenu.propTypes = {\n  direction: string\n};\n\nContentActionsRowMenu.defaultProps = {\n  direction: 'bottom'\n};\n\nexport default ContentActionsRowMenu;\n","import React, { useState } from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './Accordion.scss';\n\nconst ControlledAccordion = ({ children, title, onExpand }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className={`accordion accordion-${isOpen ? 'open' : 'closed'}`}>\n      <button\n        type=\"button\"\n        onClick={() => {\n          if (!isOpen) onExpand();\n          setIsOpen(!isOpen);\n        }}\n        className=\"accordion-toggle\"\n        data-testid=\"accordion-toggle\"\n      >\n        {title}\n        <Icon\n          name={isOpen ? 'desc' : 'asc'}\n          width={21}\n          className=\"fill icon-orange-theme\"\n        />\n      </button>\n      {isOpen && children}\n    </div>\n  );\n};\n\nexport default ControlledAccordion;\n","import { ConnectedContentHttpClient } from '../../common/services/httpClient';\n\nexport const getConnectedContent = async (projectId, contentId) => {\n  const response = await ConnectedContentHttpClient.get(\n    `projects/${projectId}/connections/${contentId}`\n  );\n  const connectedContent = {};\n  Object.keys(response.data).forEach(key => {\n    connectedContent[key] = response.data[key].items;\n  });\n  return connectedContent;\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { sanitize } from '../../../common/services/sanitizeService';\nimport './NarrativeCard.scss';\n\nconst NarrativeCard = ({\n  narrative,\n  testId,\n  getViewPath,\n  truncate,\n  showBody\n}) => {\n  return (\n    <div className=\"narrative-card\" data-testid=\"narrative-card\">\n      <Link\n        to={getViewPath(narrative.contentThreadId)}\n        className=\"narrative-card-title\"\n        data-testid={`narrative-card-title-${testId}`}\n      >\n        {narrative.title}\n      </Link>\n      {showBody && narrative.body && (\n        <div\n          className={`narrative-card-body ${truncate ? 'truncate' : ''}`}\n          data-testid={`narrative-card-body-${testId}`}\n          dangerouslySetInnerHTML={{ __html: sanitize(narrative.body) }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default NarrativeCard;\n","/* eslint-disable react/jsx-one-expression-per-line */\nimport React from 'react';\nimport NarrativeCard from '../NarrativeCard/NarrativeCard';\nimport './NarrativeSection.scss';\n\nconst NarrativeSection = ({\n  title,\n  narratives,\n  projectId,\n  getViewPath,\n  index = null,\n  truncate = true,\n  showBody = true\n}) => {\n  const titleIdentifier = title.replace(/\\s/g, '-').toLowerCase();\n  const titleIdentifierWithIndex =\n    titleIdentifier + (index !== null ? `-${index}` : '');\n  const hasNarratives = narratives.length;\n\n  const sectionClasses = [\n    'narrative-section',\n    `narrative-section-${titleIdentifier}`\n  ];\n  if (!hasNarratives) {\n    sectionClasses.push('narrative-section-empty');\n  }\n\n  return (\n    <div\n      className={sectionClasses.join(' ')}\n      data-testid={`narrative-section-${titleIdentifierWithIndex}`}\n    >\n      <div\n        className=\"narrative-section-title\"\n        data-testid={`narrative-section-title-${titleIdentifierWithIndex}`}\n      >\n        {title}\n      </div>\n      {narratives.length ? (\n        narratives.map((narrative, narrativeIndex) => (\n          <NarrativeCard\n            key={`narrative-card-${narrative.title}`}\n            narrative={narrative}\n            testId={`${titleIdentifierWithIndex}-${narrativeIndex}`}\n            getViewPath={getViewPath}\n            truncate={truncate}\n            projectId={projectId}\n            showBody={showBody}\n          />\n        ))\n      ) : (\n        <div\n          className=\"narrative-card narrative-card-empty\"\n          data-testid={`narrative-section-empty-${titleIdentifierWithIndex}`}\n        >\n          No connected {title}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NarrativeSection;\n","import _isFinite from 'lodash/isFinite';\nimport { ArrayUtilities } from '@pwc/pwc-deals-web-common';\n\nimport {\n  viewDebtAndDebtLikePath,\n  viewNetWorkingCapitalPath,\n  viewQualityOfEarningsPath\n} from '../../services/urlService';\n\nconst textIsYesRegEx = /^yes$/i;\n\nexport const createMetadataFromRaw = (\n  metadata,\n  startColumnIndex,\n  rawValues,\n  rawDataHeaderRowIndex = -1\n) => {\n  const extractedMetadata = {};\n\n  const indexOf2dArrayOptions =\n    rawDataHeaderRowIndex >= 0\n      ? {\n          stopBeforeRowIndex: rawDataHeaderRowIndex\n        }\n      : undefined;\n\n  Object.keys(metadata || {}).forEach(k => {\n    const metadataPosition = ArrayUtilities.indexOf2dArray(\n      rawValues,\n      metadata[k],\n      indexOf2dArrayOptions\n    );\n\n    if (metadataPosition) {\n      const metadataRow = rawValues[metadataPosition[0]];\n      const metadataRowActiveColumns = metadataRow.slice(startColumnIndex, -1);\n      const metadataRowAsBooleans = metadataRowActiveColumns.map(c =>\n        textIsYesRegEx.test(c)\n      );\n      extractedMetadata[k] = metadataRowAsBooleans;\n    }\n  });\n\n  return extractedMetadata;\n};\n\nexport const sanitizeSummableValue = text => {\n  try {\n    const floatValue = parseFloat(text);\n    return _isFinite(floatValue) ? floatValue : 0;\n  } catch (_) {\n    return 0;\n  }\n};\n\nexport const structuredAnalysisLinkToDisplay = (projectId, displayName) => {\n  switch (displayName.toLowerCase()) {\n    case 'quality of earnings':\n      return viewQualityOfEarningsPath(projectId);\n    case 'net working capital':\n      return viewNetWorkingCapitalPath(projectId);\n    case 'debt and debt like':\n      return viewDebtAndDebtLikePath(projectId);\n    default:\n      return displayName;\n  }\n};\n","import _find from 'lodash/find';\nimport { structuredAnalysisLinkToDisplay } from '../../../common/engine/utilities/structured-data-utilities';\nimport { viewAnalysisPath } from '../../../common/services/urlService';\n\nexport const getViewPathForAnalysis = (projectId, analysis) => {\n  const url = structuredAnalysisLinkToDisplay(projectId, analysis.title);\n\n  return url === analysis.title\n    ? viewAnalysisPath(projectId, analysis.contentThreadId)\n    : url;\n};\n\nexport const analysisLinkBuilder = (analyses, projectId) => targetId => {\n  const targetAnalysis = _find(analyses, a => a.contentThreadId === targetId);\n  return getViewPathForAnalysis(projectId, targetAnalysis);\n};\n","import React, { useState } from 'react';\nimport { MiniLoader } from '@pwc/pwc-deals-ui';\nimport {\n  viewHypothesisPath,\n  viewInsightPath\n} from '../../../common/services/urlService';\nimport ControlledAccordion from '../../../common/components/Accordion/ControlledAccordion';\nimport { getConnectedContent } from '../ConnectedContentService';\nimport NarrativeSection from '../NarrativeSection/NarrativeSection';\nimport './AccordionConnectedContent.scss';\nimport { analysisLinkBuilder } from '../../analyses/common/analysisUrlHelper';\n\nconst ConnectedContentAccordion = ({\n  hasConnectedContent,\n  projectId,\n  contentId,\n  index,\n  showBody = false\n}) => {\n  const [connectedContent, setConnectedContent] = useState(null);\n  const hasInsights =\n    connectedContent &&\n    connectedContent.insights &&\n    connectedContent.insights.length > 0;\n  const hasAnalyses =\n    connectedContent &&\n    connectedContent.analyses &&\n    connectedContent.analyses.length > 0;\n  const hasKeyFocusAreas =\n    connectedContent &&\n    connectedContent.hypotheses &&\n    connectedContent.hypotheses.length > 0;\n  const isFetchedConnectedContent =\n    hasInsights || hasAnalyses || hasKeyFocusAreas;\n\n  const onAccordionExpand = () => {\n    const fetchConnectedContent = async () => {\n      const fetchedConnectedContent = await getConnectedContent(\n        projectId,\n        contentId\n      );\n      setConnectedContent(fetchedConnectedContent);\n    };\n    if (projectId && contentId) {\n      fetchConnectedContent();\n    }\n  };\n\n  return hasConnectedContent ? (\n    <div\n      className=\"accordion-connected-content\"\n      data-testid={`accordion-connected-content-${index}`}\n    >\n      <ControlledAccordion\n        title=\"Connected content\"\n        onExpand={onAccordionExpand}\n      >\n        {!isFetchedConnectedContent && (\n          <div className=\"accordion-connected-content loading\">\n            <MiniLoader />\n          </div>\n        )}\n        {hasInsights && (\n          <NarrativeSection\n            title=\"Insights\"\n            narratives={connectedContent.insights}\n            getViewPath={insightId => viewInsightPath(projectId, insightId)}\n            index={index}\n            showBody={showBody}\n            truncate={false}\n          />\n        )}\n        {hasAnalyses && (\n          <NarrativeSection\n            title=\"Analyses\"\n            narratives={connectedContent.analyses}\n            getViewPath={analysisLinkBuilder(\n              connectedContent.analyses,\n              projectId\n            )}\n            index={index}\n            showBody={showBody}\n            truncate={false}\n          />\n        )}\n        {hasKeyFocusAreas && (\n          <NarrativeSection\n            title=\"Key Focus Areas\"\n            narratives={connectedContent.hypotheses}\n            getViewPath={hypothesisId =>\n              viewHypothesisPath(projectId, hypothesisId)\n            }\n            index={index}\n            showBody={showBody}\n            truncate={false}\n          />\n        )}\n      </ControlledAccordion>\n    </div>\n  ) : null;\n};\n\nexport default ConnectedContentAccordion;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _orderBy from 'lodash/orderBy';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './TagList.scss';\n\nconst TagList = ({ tags, testId }) => {\n  if (tags && tags.length === 0) {\n    return null;\n  }\n\n  const orderedTags = _orderBy(tags, [tag => tag.text.toLowerCase()], ['asc']);\n\n  return (\n    <div className=\"tags-list-container\" data-testid={testId}>\n      <div>\n        <Icon\n          name=\"tag\"\n          className=\"fill tag-icon\"\n          width={15}\n          data-testid=\"draft-icon\"\n        />\n      </div>\n      <div className=\"tags\">\n        {orderedTags.map((tag, i) => {\n          return (\n            // eslint-disable-next-line react/no-array-index-key\n            <span key={`${tag.text}-${i}`} data-testid=\"tag\">\n              <span className=\"punctuation\">{i ? ', ' : ''}</span>\n              <span className=\"tag-text\">{tag.text}</span>\n            </span>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nTagList.propTypes = {\n  tags: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      text: PropTypes.string\n    })\n  ),\n  testId: PropTypes.string.isRequired\n};\n\nTagList.defaultProps = {\n  tags: []\n};\n\nexport default TagList;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport userTokenService from '../../common/services/security/userTokenService';\nimport './ShowForRole.scss';\n\nconst ShowForRole = ({\n  projectId,\n  roles,\n  children,\n  restrictedForRoleElement = <div data-testid=\"restricted-for-role\" />\n}) => {\n  const [hasProjectRole, setHasProjectRole] = useState(false);\n  const [hasProjectRoleBeenFetched, setHasProjectRoleBeenFetched] = useState(\n    false\n  );\n  useEffect(() => {\n    let isMounted = true;\n    const projectRole = userTokenService.getProjectTokenProperty(\n      projectId,\n      'role'\n    );\n    const hasRole = roles.includes(projectRole);\n\n    if (isMounted) {\n      setHasProjectRoleBeenFetched(true);\n      setHasProjectRole(hasRole);\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [projectId, roles]);\n\n  if (hasProjectRoleBeenFetched) {\n    if (hasProjectRole) {\n      return children;\n    }\n    return (\n      <div className=\"restrictedForRoleElement\">{restrictedForRoleElement}</div>\n    );\n  }\n  return null;\n};\n\nShowForRole.propTypes = {\n  projectId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    .isRequired,\n  roles: PropTypes.arrayOf(PropTypes.string).isRequired\n};\n\nexport default ShowForRole;\n","import React from 'react';\nimport './DisplayPill.scss';\n\nconst DisplayPill = ({ dataTestId, children, forUserView }) => {\n  return (\n    <div\n      className={forUserView ? 'display-pill user-view' : 'display-pill'}\n      data-testid={dataTestId}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default DisplayPill;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport DisplayPill from './DisplayPill';\n\nconst UserViewStatusPill = ({ userViewStatus }) => {\n  return userViewStatus > Constants.USER_VIEW_STATUS.NONE.value ? (\n    <DisplayPill dataTestId=\"user-view-status-pill\" forUserView>\n      {Constants.getUserViewStatus(userViewStatus)}\n    </DisplayPill>\n  ) : null;\n};\n\nexport default UserViewStatusPill;\n","import React from 'react';\nimport './DraftPill.scss';\n\nconst DraftPill = ({ version }) => {\n  return version ? (\n    <div className=\"in-progress-pill\" data-testid=\"draft-pill\">\n      {version > 1 ? `v${version} In progress` : 'In progress'}\n    </div>\n  ) : null;\n};\n\nexport default DraftPill;\n\nexport const DraftPillClientView = () => {\n  return (\n    <div className=\"draft-pill\" data-testid=\"draft-pill\">\n      Draft\n    </div>\n  );\n};\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './SharedPill.scss';\n\nconst SharedPill = ({ shared, version }) => {\n  const versionText = `v${version} Draft shared `;\n\n  return (\n    <>\n      {(shared || version) && (\n        <div className=\"shared-pill\" data-testid=\"shared-with-client-pill\">\n          <Icon name=\"view\" width={20} className=\"fill icon-black\" />\n          <span className=\"text-shared-with-client\">\n            {versionText}\n            <span className=\"hide-for-mobile\">with client</span>\n          </span>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SharedPill;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport DraftPill from './DraftPill';\nimport SharedPill from './SharedPill';\n\nconst VersionStatus = ({ content, allowDraftPill = true }) => {\n  const draftStatuses = [\n    Constants.VERSION_STATUS.DRAFT,\n    Constants.VERSION_STATUS.APPROVAL_REJECTED\n  ].map(_ => _.value);\n  if (!content) return null;\n\n  const draftVersionNumber = draftStatuses.includes(content.versionStatus)\n    ? content.versionNumber\n    : null;\n\n  const sharedVersionNumber =\n    // eslint-disable-next-line no-nested-ternary\n    content.versionStatus === Constants.VERSION_STATUS.SHARED.value\n      ? content.versionNumber\n      : draftVersionNumber && draftVersionNumber > 1\n      ? draftVersionNumber - 1\n      : null;\n\n  return (\n    <>\n      <SharedPill version={sharedVersionNumber} />\n      {allowDraftPill && <DraftPill version={draftVersionNumber} />}\n    </>\n  );\n};\n\nexport default VersionStatus;\n","import React from 'react';\nimport './StatusPill.scss';\n\nconst StatusPill = ({ dataTestId, title, status }) => {\n  return (\n    <span className={`status-pill ${status}`} data-testid={dataTestId}>\n      {title}\n    </span>\n  );\n};\n\nexport default StatusPill;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport StatusPill from './StatusPill';\n\nconst ApprovalPill = ({ versionStatus, dataTestId = 'versionStatus' }) => {\n  const statusesToDisplay = [\n    Constants.VERSION_STATUS.APPROVED,\n    Constants.VERSION_STATUS.APPROVAL_REQUESTED\n  ].map(_ => _.value);\n\n  return statusesToDisplay.includes(versionStatus) ? (\n    <StatusPill\n      dataTestId={dataTestId}\n      title={Constants.getVersionStatus(versionStatus)}\n    />\n  ) : null;\n};\n\nexport default ApprovalPill;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport ShowForRole from '../../../features/security/ShowForRole';\nimport UserViewStatusPill from './UserViewStatusPill';\nimport VersionStatus from './VersionStatus';\nimport { DraftPillClientView } from './DraftPill';\nimport ApprovalPill from './ApprovalPill';\nimport './PillContainer.scss';\n\nconst PillContainer = ({ className, content, projectId, allowDraftPill }) => {\n  return (\n    <div\n      className={classnames('pill-container', className)}\n      data-testid=\"pill-container\"\n    >\n      <UserViewStatusPill userViewStatus={content.userViewStatus} />\n      <ShowForRole\n        projectId={projectId}\n        roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n      >\n        <VersionStatus content={content} allowDraftPill={allowDraftPill} />\n      </ShowForRole>\n      <ShowForRole\n        projectId={projectId}\n        roles={Constants.USER_ROLE_GROUPS.CLIENT}\n      >\n        <DraftPillClientView />\n      </ShowForRole>\n      <ApprovalPill versionStatus={content.versionStatus} />\n    </div>\n  );\n};\n\nexport default PillContainer;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Separator from '../../../common/components/Separator';\nimport ContentActionsRowMenu from '../../../common/components/ContentActions/ContentActionsRowMenu';\nimport { viewAnalysisPath } from '../../../common/services/urlService';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport ConnectedContentAccordion from '../../narratives/AccordionConnectedContent/ConnectedContentAccordion';\nimport { structuredAnalysisLinkToDisplay } from '../../../common/engine/utilities/structured-data-utilities';\nimport './AnalysesGridCard.scss';\nimport TagList from '../common/TagList/TagList';\nimport PillContainer from '../../../common/components/Pills/PillContainer';\nimport { sanitize } from '../../../common/services/sanitizeService';\n\nconst AnalysesGridCard = ({\n  analysis,\n  projectId,\n  onEditMenuClick,\n  onDeleteMenuClick,\n  index\n}) => {\n  return (\n    <div className=\"card-container\">\n      <div className=\"row\">\n        <div className=\"col down\">\n          <div className=\"card-title\">\n            <Link\n              to={\n                analysis.isUnStructured\n                  ? viewAnalysisPath(projectId, analysis.frontendIdentifier)\n                  : structuredAnalysisLinkToDisplay(projectId, analysis.title)\n              }\n              data-testid=\"analysis-title\"\n              aria-label=\"View Analysis\"\n            >\n              <h2>{analysis.displayName || analysis.title}</h2>\n            </Link>\n          </div>\n          <span\n            className=\"card-description\"\n            data-testid=\"analysis-description\"\n            dangerouslySetInnerHTML={{ __html: sanitize(analysis.body) }}\n          />\n\n          <ConnectedContentAccordion\n            hasConnectedContent={analysis.hasConnectedContent}\n            projectId={projectId}\n            contentId={analysis.contentId}\n            index={index}\n          />\n        </div>\n      </div>\n\n      <Separator />\n\n      <div className=\"card-action-footer\">\n        <PillContainer\n          content={analysis}\n          projectId={projectId}\n          allowDraftPill\n        />\n        <div className=\"card-actions\">\n          <ShowForPermissions\n            projectId={projectId}\n            permissions={['Contribute']}\n          >\n            <ContentActionsRowMenu\n              projectId={projectId}\n              itemId={analysis.frontendIdentifier}\n              onEditMenuClick={onEditMenuClick}\n              onDeleteMenuClick={onDeleteMenuClick}\n            />\n          </ShowForPermissions>\n        </div>\n      </div>\n      <div className=\"row\">\n        {analysis.tags && analysis.tags.length > 0 && (\n          <TagList tags={analysis.tags} testId=\"analysis-tag-list\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AnalysesGridCard;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { editAnalysisPath } from '../../../common/services/urlService';\nimport AnalysesGridCard from '../AnalysesGridCard/AnalysesGridCard';\n\nconst AnalysesGrid = ({\n  data,\n  onDelete,\n  projectId,\n  dataLength,\n  currentPage,\n  next,\n  hasMore\n}) => {\n  const history = useHistory();\n\n  const handleEditAnalysis = analysisId =>\n    history.push(editAnalysisPath(projectId, analysisId));\n\n  const getNextItems = () => {\n    const nextPage = currentPage + 1;\n    next(nextPage);\n  };\n\n  return (\n    <div className=\"analyses-grid-container\">\n      <div data-testid=\"list-grid\">\n        <InfiniteScroll\n          dataLength={dataLength}\n          hasMore={hasMore}\n          next={getNextItems}\n          scrollThreshold={1.0}\n          className=\"grid-cards list-grid\"\n        >\n          {data.map((analysis, i) => (\n            <AnalysesGridCard\n              analysis={analysis}\n              projectId={projectId}\n              onEditMenuClick={handleEditAnalysis}\n              onDeleteMenuClick={() => onDelete(analysis)}\n              index={i}\n              key={`content-grid-card-${analysis.contentThreadId}`}\n            />\n          ))}\n        </InfiniteScroll>\n      </div>\n    </div>\n  );\n};\n\nexport default AnalysesGrid;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { Link } from 'react-router-dom';\nimport { addAnalysisTypePath } from '../../common/services/urlService';\nimport EnableForProjectState from '../security/EnableForProjectState';\n\nconst CreateAnalysisLinkButton = ({ projectId }) => {\n  const addAnalysisHref = addAnalysisTypePath(projectId);\n\n  return (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <Link to={!isProjectDisabled && addAnalysisHref}>\n          <Button disabled={isProjectDisabled} className=\"mt-3\">\n            Create Analysis\n          </Button>\n        </Link>\n      )}\n    </EnableForProjectState>\n  );\n};\n\nexport default CreateAnalysisLinkButton;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useSelector } from 'react-redux';\nimport { getLoggedInUser } from '../../redux/security/loggedInUser/loggedInUserSelector';\nimport ShowForPermissions from '../../../features/security/ShowForPermissions';\nimport ShowForRole from '../../../features/security/ShowForRole';\nimport './EmptyContentCard.scss';\n\nconst EmptyContentCard = ({\n  projectId,\n  singularName,\n  pluralName,\n  children\n}) => {\n  const loggedInUser = useSelector(getLoggedInUser) || { givenName: 'User' };\n\n  const dasherizedPluralName = pluralName.split(' ').join('-');\n  const pluralNameCardTestId = `empty-${dasherizedPluralName}-card`;\n  const pluralNameCardCreateTestId = `empty-${dasherizedPluralName}-card-create-content`;\n  const nothingSharedMessage = `No ${pluralName} have been shared yet`;\n  const helloMessage = `Hello ${loggedInUser.givenName},`;\n  const createFirstMessage = `Create the first ${singularName} for this project`;\n\n  return (\n    <div\n      className=\"empty-content-card content-container\"\n      data-testid={pluralNameCardTestId}\n    >\n      <ShowForRole\n        projectId={projectId}\n        roles={Constants.USER_ROLE_GROUPS.CLIENT}\n      >\n        <p className=\"nothing-shared\">{nothingSharedMessage}</p>\n      </ShowForRole>\n\n      <ShowForPermissions projectId={projectId} permissions={['Contribute']}>\n        <div data-testid={pluralNameCardCreateTestId}>\n          <h2>{helloMessage}</h2>\n          <h2>{createFirstMessage}</h2>\n          {children}\n        </div>\n      </ShowForPermissions>\n    </div>\n  );\n};\n\nexport default EmptyContentCard;\n","import React from 'react';\nimport CreateAnalysisLinkButton from '../CreateAnalysisLinkButton';\nimport EmptyContentCard from '../../../common/components/EmptyContentCard/EmptyContentCard';\n\nconst EmptyAnalysesCard = ({ projectId }) => {\n  return (\n    <EmptyContentCard\n      projectId={projectId}\n      pluralName=\"Analyses\"\n      singularName=\"analysis\"\n    >\n      <CreateAnalysisLinkButton projectId={projectId} />\n    </EmptyContentCard>\n  );\n};\n\nexport default EmptyAnalysesCard;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport './ClearableDisplayPill.scss';\n\nconst ConditionalClearButton = ({\n  onClearClick,\n  index,\n  isBrokenLink = false\n}) =>\n  onClearClick ? (\n    <button\n      type=\"button\"\n      onClick={onClearClick}\n      data-testid={`clearable-display-pill-x-${index}`}\n    >\n      <Icon\n        name=\"close\"\n        className={`fill ${isBrokenLink ? 'icon-white' : 'icon-black'}`}\n        width={12}\n        data-testid=\"close-icon\"\n      />\n    </button>\n  ) : null;\n\nconst ClearableDisplayPill = ({ tag, onClearClick, index, iconName }) => {\n  return (\n    <div\n      className={`clearable-display-pill display-${iconName}`}\n      data-testid={`clearable-display-pill-${index}`}\n    >\n      {iconName && (\n        <Icon\n          name={iconName}\n          className=\"fill clearable-link-icon\"\n          width={12}\n          data-testid=\"clearable-link-icon\"\n        />\n      )}\n      <span>{tag}</span>\n      <ConditionalClearButton\n        onClearClick={onClearClick}\n        index={index}\n        isBrokenLink={iconName === 'link-remove'}\n      />\n    </div>\n  );\n};\n\nClearableDisplayPill.propTypes = {\n  tag: PropTypes.string.isRequired,\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  onClearClick: PropTypes.func,\n  iconName: PropTypes.string\n};\n\nClearableDisplayPill.defaultProps = {\n  onClearClick: undefined,\n  iconName: ''\n};\n\nexport default ClearableDisplayPill;\n","import React from 'react';\n\nconst HiddenInput = ({ field }) => {\n  const value = field.value || '';\n\n  return (\n    <input\n      {...field}\n      value={value}\n      data-testid={`hidden-input-${field.name}`}\n      type=\"hidden\"\n      id={field.name}\n      disabled\n    />\n  );\n};\n\nexport default HiddenInput;\n","const ValidateTag = value => {\n  if (value.trim().length === 0) {\n    return 'Tag cannot be empty.';\n  }\n  if (value.trim().length > 30) {\n    return 'Tag cannot be more than 30 characters long.';\n  }\n  const onlyLettersAndNumbers = !value.match(/[^A-Za-z0-9 ]+/g);\n  if (!onlyLettersAndNumbers) {\n    return 'Tag cannot contain special characters.';\n  }\n  return null;\n};\n\nexport default ValidateTag;\n","import { TagsServiceClient } from '../../common/services/httpClient';\n\nexport const getAllTags = async projectId => {\n  const response = await TagsServiceClient.get(`/projects/${projectId}`);\n\n  return response.data;\n};\n","import React, { useState, useEffect } from 'react';\nimport {\n  keys,\n  omit,\n  zipObject,\n  stubTrue,\n  xor,\n  cond,\n  constant,\n  get\n} from 'lodash';\n\nimport { Button, Checkbox, MiniLoader } from '@pwc/pwc-deals-ui';\n\nimport './MultiSelectSearch.scss';\n\nconst applyButtonId = 'apply-tag-button';\nconst createButtonId = 'create-tag-button';\nconst optId = (_strings, opt) => `opt-${opt.id}`;\n\nconst useBlurHandler = (ids, onFocusOutside) => ev => {\n  const { relatedTarget } = ev;\n  const focusedId = get(relatedTarget, 'id', '');\n  const focusIsWithin = ids.some(id => focusedId === id);\n\n  if (relatedTarget && !focusIsWithin && onFocusOutside) {\n    onFocusOutside();\n  }\n};\n\nconst shouldShowApplyButton = ({\n  searchCriteria,\n  exactMatch,\n  tagsChanged,\n  allowCreateTags\n}) => {\n  if (!allowCreateTags) {\n    return tagsChanged;\n  }\n\n  return tagsChanged || (searchCriteria && exactMatch);\n};\n\nconst getApplyButton = (\n  onSubmit,\n  currentlySelectedTags,\n  allowCreateTags,\n  blurHandler = () => {},\n  handleEscapeKey = () => {}\n) => ({ tagsChanged }) => (\n  <div className=\"multi-select-action-button-container\">\n    <Button\n      id={applyButtonId}\n      data-testid={applyButtonId}\n      onClick={() => onSubmit(keys(currentlySelectedTags))}\n      onBlur={blurHandler}\n      type=\"button\"\n      disabled={!tagsChanged}\n      onKeyDown={handleEscapeKey}\n    >\n      {allowCreateTags ? 'Apply' : 'Filter Content'}\n    </Button>\n  </div>\n);\n\nconst shouldShowCreateButton = ({\n  searchCriteria,\n  exactMatch,\n  tagsChanged,\n  allowCreateTags\n}) => {\n  if (!allowCreateTags) {\n    return false;\n  }\n\n  return searchCriteria && !exactMatch && !tagsChanged;\n};\n\nconst getCreateButton = (\n  onSubmit,\n  currentlySelectedTags,\n  blurHandler = () => {},\n  handleEscapeKey = () => {}\n) => ({ searchCriteria }) => (\n  <div className=\"multi-select-action-button-container\">\n    <Button\n      id={createButtonId}\n      data-testid={createButtonId}\n      onClick={() => onSubmit([...keys(currentlySelectedTags), searchCriteria])}\n      onBlur={blurHandler}\n      type=\"button\"\n      onKeyDown={handleEscapeKey}\n    >\n      Create\n    </Button>\n  </div>\n);\n\nconst insensitive = str => {\n  return str.trim().toLowerCase();\n};\n\nconst MultiSelectSearch = ({\n  searchCriteria,\n  options,\n  onSubmit,\n  selectedTags,\n  allowCreateTags,\n  closeDropdown,\n  innerIdWhitelist = [],\n  isLoading\n}) => {\n  const [originalSelectedTags, setOrignalSelectedTags] = useState([]);\n  const [currentlySelectedTags, setCurrentlySelectedTags] = useState({});\n  const [viewableOptions, setViewableOptions] = useState([]);\n  const [tagsChanged, setTagsChanged] = useState(false);\n  const [exactMatch, setExactMatchChanged] = useState(false);\n\n  useEffect(() => {\n    const optionsMap = options.reduce(\n      (acc, option) => ({ ...acc, [option.text]: option }),\n      {}\n    );\n\n    setOrignalSelectedTags(selectedTags.filter(tag => optionsMap[tag]));\n  }, [selectedTags, options]);\n\n  useEffect(() => {\n    setCurrentlySelectedTags(\n      zipObject(originalSelectedTags, originalSelectedTags.map(stubTrue))\n    );\n  }, [originalSelectedTags]);\n\n  useEffect(() => {\n    setTagsChanged(\n      xor(keys(currentlySelectedTags), originalSelectedTags).length\n    );\n  }, [currentlySelectedTags, originalSelectedTags]);\n\n  useEffect(() => {\n    const searchCriteriaInsensitive = insensitive(searchCriteria);\n    const insensitiveOptionsText = options.map(option =>\n      insensitive(option.text)\n    );\n    const insensitiveSelectedTags = selectedTags.map(insensitive);\n\n    setViewableOptions(\n      options.filter(option => {\n        const optionText = insensitive(option.text);\n        return optionText.startsWith(searchCriteriaInsensitive);\n      })\n    );\n\n    setExactMatchChanged(\n      !![...insensitiveOptionsText, ...insensitiveSelectedTags].find(\n        str => str === searchCriteriaInsensitive\n      )\n    );\n  }, [searchCriteria, options, selectedTags]);\n\n  const updateCheckedTags = selectedTag => {\n    const alreadyChecked = currentlySelectedTags[selectedTag];\n    if (alreadyChecked) {\n      const updatedTags = omit(currentlySelectedTags, [selectedTag]);\n\n      setCurrentlySelectedTags(updatedTags);\n    } else {\n      setCurrentlySelectedTags({\n        ...currentlySelectedTags,\n        [selectedTag]: true\n      });\n    }\n  };\n  const blurHandler = useBlurHandler(\n    [\n      ...options.map(opt => optId`${opt}`),\n      ...innerIdWhitelist,\n      applyButtonId,\n      createButtonId\n    ],\n    closeDropdown\n  );\n\n  const handleEscapeKey = ev => {\n    if (ev.keyCode === 27) {\n      closeDropdown();\n    }\n  };\n\n  const actions = cond([\n    [\n      shouldShowApplyButton,\n      getApplyButton(\n        onSubmit,\n        currentlySelectedTags,\n        allowCreateTags,\n        blurHandler,\n        handleEscapeKey\n      )\n    ],\n    [\n      shouldShowCreateButton,\n      getCreateButton(\n        onSubmit,\n        currentlySelectedTags,\n        blurHandler,\n        handleEscapeKey\n      )\n    ],\n    [stubTrue, constant(null)]\n  ])({ tagsChanged, searchCriteria, exactMatch, allowCreateTags });\n\n  if (isLoading === true) {\n    return (\n      <div\n        className=\"multi-select-container loading\"\n        data-testid=\"multi-select-container\"\n      >\n        <MiniLoader />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"multi-select-container\"\n      data-testid=\"multi-select-container\"\n    >\n      {viewableOptions.length > 0 && (\n        <div className=\"scrollable\">\n          {viewableOptions.map(option => (\n            <Checkbox\n              key={option.text}\n              label={option.text}\n              id={optId`${option}`}\n              dataTestId={option.text}\n              checked={currentlySelectedTags[option.text] === true}\n              onChange={() => {\n                updateCheckedTags(option.text);\n              }}\n              onBlur={blurHandler}\n              onKeyDown={handleEscapeKey}\n            />\n          ))}\n        </div>\n      )}\n      {actions}\n    </div>\n  );\n};\n\nexport default MultiSelectSearch;\n","import { useRef, useEffect } from 'react';\n\nexport const useClickedOutsideOfRef = onClickedOutsideOf => {\n  const ref = useRef();\n  useEffect(() => {\n    function handleClickOutside(event) {\n      onClickedOutsideOf(\n        !!(\n          ref.current &&\n          !ref.current.contains(event.target) &&\n          event.target !== document.querySelectorAll('.ui-checkbox') &&\n          onClickedOutsideOf\n        )\n      );\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [ref, onClickedOutsideOf]);\n\n  return ref;\n};\n","import React, { useState, Fragment, useEffect, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { xor } from 'lodash';\nimport { FieldArray, Field, useFormikContext } from 'formik';\n\nimport { Icon } from '@pwc/pwc-deals-ui';\n\nimport ClearableDisplayPill from '../../../../common/components/Pills/ClearableDisplayPill';\nimport HiddenInput from '../../../../common/components/HiddenInput/HiddenInput';\nimport ValidateTag from '../../ValidateTag';\nimport { getAllTags } from '../../tagService';\nimport MultiSelectSearch from '../../../../common/components/MultiSelectSearch/MultiSelectSearch';\nimport './TagEditor.scss';\nimport { useClickedOutsideOfRef } from '../../../../common/hooks/useClickedOutsideOfRef';\nimport { fetchAllTags } from '../../../analyses/analysisSlice';\n\nconst TAGS_FIELD_NAME = 'tags';\n\nconst TagEditor = ({\n  projectId,\n  onSelect,\n  tagsRight,\n  title,\n  subtitle,\n  allowCreateTags,\n  placeholderText\n}) => {\n  const [fetchedTagOptions, setFetchedTagOptions] = useState([]);\n  const [tagOptions, setTagOptions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedTagsText, setSelectedTagsText] = useState([]);\n  const [search, setSearch] = useState('');\n  const [error, setError] = useState();\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n\n  const { getFieldMeta, setFieldValue } = useFormikContext();\n\n  const dispatch = useDispatch();\n\n  const setTagFormValues = useCallback(\n    tags => {\n      setFieldValue(TAGS_FIELD_NAME, tags);\n    },\n    [setFieldValue]\n  );\n\n  const getTagFormValue = useCallback(\n    () => getFieldMeta(TAGS_FIELD_NAME).value,\n    [getFieldMeta]\n  );\n\n  useEffect(() => {\n    const tagsFieldValue = getTagFormValue();\n    setSelectedTagsText([...(tagsFieldValue || [])]);\n  }, [getTagFormValue]);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    if (dropdownOpen && loading === true) {\n      const fetch = async () => {\n        const response = await getAllTags(projectId);\n\n        if (isMounted) {\n          setFetchedTagOptions(response);\n          dispatch(fetchAllTags({ tags: response }));\n          setLoading(false);\n        }\n      };\n      fetch();\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [projectId, dropdownOpen, loading, dispatch]);\n\n  useEffect(() => {\n    const fetchedTagOptionsByText = fetchedTagOptions.reduce(\n      (opts, opt) => ({ ...opts, [opt.text]: opt }),\n      {}\n    );\n\n    const newTagOptions = selectedTagsText\n      .filter(text => !fetchedTagOptionsByText[text])\n      .map(text => ({ text }));\n\n    setTagOptions([...fetchedTagOptions, ...newTagOptions]);\n  }, [fetchedTagOptions, selectedTagsText]);\n\n  const updateSelectedTags = updatedSelectedTagTexts => {\n    const errors = updatedSelectedTagTexts.map(ValidateTag);\n    const hasError = errors.some(e => !!e);\n\n    if (hasError) {\n      return setError(errors);\n    }\n    const validatedUpdatedSelectedTagTexts = errors\n      .map((err, i) => (err ? null : updatedSelectedTagTexts[i]))\n      .flat();\n    setSelectedTagsText(validatedUpdatedSelectedTagTexts);\n    setTagFormValues(validatedUpdatedSelectedTagTexts);\n    setError('');\n    setSearch('');\n    return validatedUpdatedSelectedTagTexts;\n  };\n\n  const removeTag = tagIndex => {\n    const updatedSelectedTagTexts = [\n      ...selectedTagsText.slice(0, tagIndex),\n      ...selectedTagsText.slice(tagIndex + 1)\n    ];\n    setSelectedTagsText(updatedSelectedTagTexts);\n    setTagFormValues(updatedSelectedTagTexts);\n\n    if (onSelect) {\n      onSelect(\n        updatedSelectedTagTexts,\n        !!xor(getTagFormValue(), updatedSelectedTagTexts)\n      );\n    }\n  };\n\n  const handleEscapeKey = ev => {\n    if (ev.keyCode === 27) {\n      setDropdownOpen(false);\n    }\n  };\n\n  const onSubmit = updatedSelectedTagTexts => {\n    setDropdownOpen(false);\n    const validatedUpdatedSelectedTagTexts = updateSelectedTags(\n      updatedSelectedTagTexts\n    );\n\n    if (onSelect) {\n      onSelect(\n        validatedUpdatedSelectedTagTexts,\n        !!xor(getTagFormValue(), validatedUpdatedSelectedTagTexts)\n      );\n    }\n  };\n\n  const ref = useClickedOutsideOfRef(\n    wasClickedOutside =>\n      wasClickedOutside && setDropdownOpen(!wasClickedOutside)\n  );\n\n  return (\n    <div className=\"tageditor\">\n      {title && (\n        <div className=\"title\">\n          <Icon\n            name=\"tag\"\n            className=\"fill\"\n            width={21}\n            data-testid=\"draft-icon\"\n          />\n          Tags (optional)\n        </div>\n      )}\n\n      {subtitle && (\n        <div className=\"description\">\n          <Icon\n            name=\"information\"\n            className=\"fill icon-yellow\"\n            width={21}\n            data-testid=\"draft-icon\"\n          />\n          Tag content by report section, category and team, to make it easy to\n          find and use.\n          <div className=\"instructions\">\n            Tags cannot include any special characters. Maximum 30 characters.\n          </div>\n        </div>\n      )}\n\n      <FieldArray\n        name=\"tags\"\n        render={arrayHelpers => (\n          <>\n            <div className=\"a-form-error\">{error}</div>\n            <div\n              className=\"input-field-container\"\n              data-tags-right={`${tagsRight}`}\n              ref={ref}\n            >\n              <span className=\"filter-search-icon\">\n                <Icon name=\"search\" width={18} className=\"outline icon-grey\" />\n              </span>\n              <Field\n                id=\"tag-filter-search\"\n                name=\"tag\"\n                className={`input-field ${dropdownOpen ? 'active' : ''}`}\n                placeholder={placeholderText}\n                error={error}\n                autoComplete=\"off\"\n                value={search}\n                onChange={e => {\n                  setSearch(e.target.value);\n                }}\n                data-testid=\"text-input-tag-search\"\n                onFocus={() => {\n                  setDropdownOpen(true);\n                }}\n                onKeyDown={e => handleEscapeKey(e)}\n              />\n\n              {dropdownOpen && (\n                <MultiSelectSearch\n                  isLoading={loading}\n                  searchCriteria={search}\n                  options={tagOptions}\n                  onSubmit={updatedSelectedTagTexts =>\n                    onSubmit(updatedSelectedTagTexts, arrayHelpers)\n                  }\n                  selectedTags={selectedTagsText}\n                  allowCreateTags={allowCreateTags}\n                  innerIdWhitelist={['tag-filter-search']}\n                  closeDropdown={() => setDropdownOpen(false)}\n                />\n              )}\n            </div>\n            {selectedTagsText && (\n              <div className=\"pills\" data-tags-right={`${tagsRight}`}>\n                {selectedTagsText.map((t, index) => (\n                  <Fragment key={t}>\n                    <Field name={`tag[${index}]`} component={HiddenInput} />\n                    <ClearableDisplayPill\n                      onClearClick={() => removeTag(index, arrayHelpers)}\n                      tag={t}\n                      index={index}\n                    />\n                  </Fragment>\n                ))}\n              </div>\n            )}\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nTagEditor.propTypes = {\n  projectId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    .isRequired,\n  onSelect: PropTypes.func,\n  tagsRight: PropTypes.bool,\n  title: PropTypes.bool,\n  subtitle: PropTypes.bool,\n  allowCreateTags: PropTypes.bool,\n  placeholderText: PropTypes.string\n};\n\nTagEditor.defaultProps = {\n  onSelect: undefined,\n  tagsRight: false,\n  title: true,\n  subtitle: true,\n  allowCreateTags: true,\n  placeholderText: 'Search or create a new tag'\n};\n\nexport default TagEditor;\n","import React from 'react';\nimport './NoContentForTagsCard.scss';\n\nconst NoContentForTagsCard = () => {\n  const noContentMessage = `We couldn't find any content connected with this tag. Please select a different one.`;\n\n  return (\n    <div\n      className=\"no-content-for-tags-card content-container\"\n      data-testid=\"no-content-for-tags-card\"\n    >\n      <h2>{noContentMessage}</h2>\n    </div>\n  );\n};\n\nexport default NoContentForTagsCard;\n","import PropTypes from 'prop-types';\n\nexport const optionValue = PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.number\n]);\n\nexport const labelValueTuple = {\n  label: PropTypes.string,\n  value: optionValue\n};\n\nexport const radioOption = PropTypes.shape(labelValueTuple);\n\nexport const radioOptions = PropTypes.arrayOf(radioOption);\n\nconst linkEdge = PropTypes.shape({\n  documentCode: PropTypes.string,\n  adjustmentType: PropTypes.string,\n  adjustmentDisplayName: PropTypes.string\n});\n\nexport const linkedAdjustmentsShape = PropTypes.shape({\n  id: PropTypes.number,\n  source: linkEdge,\n  target: linkEdge,\n  isBroken: PropTypes.bool\n});\n\nexport const structuredAnalysisShape = PropTypes.shape({\n  dateModified: PropTypes.string,\n  modifiedBy: PropTypes.string,\n  versionNumber: PropTypes.number,\n  userViewStatus: PropTypes.number,\n  versionStatus: PropTypes.number\n});\n\nexport const tagShape = PropTypes.shape({\n  id: PropTypes.number,\n  text: PropTypes.string\n});\n\nexport const contentShape = PropTypes.shape({\n  contentThreadId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  sortOrder: PropTypes.number,\n  title: PropTypes.string,\n  impact: PropTypes.string,\n  status: PropTypes.string,\n  dateModified: PropTypes.string,\n  shareWithAll: PropTypes.bool,\n  tags: PropTypes.arrayOf(tagShape)\n});\n\nexport const sortAscending = 'asc';\nexport const sortDescending = 'desc';\nexport const sortDirShape = PropTypes.oneOf([sortAscending, sortDescending]);\n\nexport const contentTypeHypotheses = 'hypotheses';\nexport const contentTypeInsights = 'insights';\nexport const contentTypeAnalyses = 'analyses';\nexport const contentTypeShape = PropTypes.oneOf([\n  contentTypeHypotheses,\n  contentTypeInsights,\n  contentTypeAnalyses\n]);\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { Link } from 'react-router-dom';\nimport { createHypothesisPath } from '../../common/services/urlService';\nimport EnableForProjectState from '../security/EnableForProjectState';\n\nconst CreateHypothesisLinkButton = ({ projectId }) => {\n  const addHypothesisHref = createHypothesisPath(projectId);\n\n  return (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <Link to={addHypothesisHref}>\n          <Button className=\"mt-3\" disabled={isProjectDisabled}>\n            Create Key Focus Area\n          </Button>\n        </Link>\n      )}\n    </EnableForProjectState>\n  );\n};\n\nexport default CreateHypothesisLinkButton;\n","import React from 'react';\nimport CreateHypothesisLinkButton from '../CreateHypothesisLinkButton';\nimport EmptyContentCard from '../../../common/components/EmptyContentCard/EmptyContentCard';\n\nconst EmptyHypothesesCard = ({ projectId }) => {\n  return (\n    <EmptyContentCard\n      projectId={projectId}\n      pluralName=\"Key Focus Areas\"\n      singularName=\"key focus area\"\n    >\n      <CreateHypothesisLinkButton\n        projectId={projectId}\n        data-testid=\"empty-hypotheses-card-create-button\"\n      />\n    </EmptyContentCard>\n  );\n};\n\nexport default EmptyHypothesesCard;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { Link } from 'react-router-dom';\nimport { createInsightPath } from '../../common/services/urlService';\nimport EnableForProjectState from '../security/EnableForProjectState';\n\nconst CreateInsightLinkButton = ({ projectId }) => {\n  const addInsightHref = createInsightPath(projectId);\n\n  return (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <Link to={!isProjectDisabled && addInsightHref}>\n          <Button disabled={isProjectDisabled} className=\"mt-3\">\n            Create Insight\n          </Button>\n        </Link>\n      )}\n    </EnableForProjectState>\n  );\n};\n\nexport default CreateInsightLinkButton;\n","import React from 'react';\nimport CreateInsightLinkButton from '../CreateInsightLinkButton';\nimport EmptyContentCard from '../../../common/components/EmptyContentCard/EmptyContentCard';\n\nconst EmptyInsightsCard = ({ projectId }) => {\n  return (\n    <EmptyContentCard\n      projectId={projectId}\n      pluralName=\"Insights\"\n      singularName=\"insight\"\n    >\n      <CreateInsightLinkButton projectId={projectId} />\n    </EmptyContentCard>\n  );\n};\n\nexport default EmptyInsightsCard;\n","export const sortKeys = {\n  sortOrder: 'sortOrder',\n  dateModified: 'dateModified',\n  shared: 'shareWithAll'\n};\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport classnames from 'classnames';\nimport {\n  sortAscending,\n  sortDirShape\n} from '../../common/components/proptypes/commonProptypes';\nimport './SortChevron.scss';\n\nconst SortChevron = ({ currentSortDir }) => {\n  const chevronClassNames = classnames('sort-chevron-desc', {\n    asc: currentSortDir === sortAscending\n  });\n  return (\n    <span className={chevronClassNames}>\n      <Icon name=\"desc\" width=\"10\" className=\"fill icon-orange\" />\n    </span>\n  );\n};\n\nSortChevron.propTypes = {\n  currentSortDir: sortDirShape.isRequired\n};\n\nexport default SortChevron;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport {\n  sortAscending,\n  sortDescending\n} from '../../common/components/proptypes/commonProptypes';\nimport SortChevron from './SortChevron';\n\nconst ListHeaderCell = ({\n  text,\n  testId,\n  sortKey,\n  currentSortKey,\n  setCurrentSortKey,\n  setCurrentSortDir,\n  className,\n  children,\n  disabled\n}) => {\n  const [sortDir, setSortDir] = useState(sortAscending);\n  const isCurrentSort = sortKey === currentSortKey;\n  const handleClick = () => {\n    let newSortDirection = sortDir;\n    if (isCurrentSort) {\n      newSortDirection =\n        sortDir === sortAscending ? sortDescending : sortAscending;\n    }\n    setSortDir(newSortDirection);\n    setCurrentSortKey(sortKey);\n    setCurrentSortDir(newSortDirection);\n  };\n\n  const cellClassNames = classNames('button-no-underline', 'header-cell', {\n    [className]: !!className\n  });\n\n  return (\n    <Button\n      className={cellClassNames}\n      data-testid={testId}\n      onClick={handleClick}\n      disabled={disabled}\n    >\n      {text}\n      {children}\n      {isCurrentSort ? <SortChevron currentSortDir={sortDir} /> : null}\n    </Button>\n  );\n};\n\nListHeaderCell.propTypes = {\n  text: PropTypes.string,\n  testId: PropTypes.string,\n  sortKey: PropTypes.string.isRequired,\n  currentSortKey: PropTypes.string.isRequired,\n  setCurrentSortKey: PropTypes.func.isRequired,\n  setCurrentSortDir: PropTypes.func.isRequired,\n  className: PropTypes.string,\n  disabled: PropTypes.bool\n};\n\nListHeaderCell.defaultProps = {\n  text: '',\n  testId: '',\n  className: '',\n  disabled: false\n};\n\nexport default ListHeaderCell;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Checkbox, Icon, Tooltip } from '@pwc/pwc-deals-ui';\nimport EnableForProjectState from '../security/EnableForProjectState';\nimport ShowForRole from '../security/ShowForRole';\nimport { sortKeys } from './contentListSortKeys';\nimport ListHeaderCell from './ListHeaderCell';\nimport './ContentListHeader.scss';\n\nconst ContentListHeader = ({\n  projectId,\n  currentSortKey,\n  setCurrentSortKey,\n  setCurrentSortDir,\n  isDragAllowed,\n  isDragEnabled,\n  areSomeSelected,\n  areAllSelected,\n  onSelectAll\n}) => {\n  const handleSelectAllOnChange = () => {\n    onSelectAll(!areAllSelected);\n  };\n\n  const tipStrings = [\n    'The presentation order for the client view can only be changed by the engagement lead, manager or admin',\n    ' when the list is sorted by order',\n    '.'\n  ];\n  if (!isDragAllowed) {\n    tipStrings.splice(1, 1);\n  }\n  const tip = tipStrings.join('');\n\n  const sortOrderCellClasses = classNames('sort-order-cell', {\n    'tooltip-short': !isDragAllowed\n  });\n\n  return (\n    <div data-testid=\"content-list-header\" className=\"content-list-header\">\n      <EnableForProjectState projectId={projectId}>\n        {({ isProjectDisabled }) => (\n          <ShowForRole\n            roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n            projectId={projectId}\n          >\n            {isDragEnabled && (\n              <div className=\"sort-order-checkbox-cell\">\n                <Checkbox\n                  dataTestId=\"select-all-for-drag-checkbox\"\n                  id=\"select-all-for-drag-checkbox\"\n                  disabled={!isDragAllowed}\n                  onChange={handleSelectAllOnChange}\n                  checked={areAllSelected}\n                  indeterminate={!areAllSelected && areSomeSelected}\n                />\n              </div>\n            )}\n            <div className={sortOrderCellClasses}>\n              <ListHeaderCell\n                text=\"Order\"\n                testId=\"order-header-cell\"\n                sortKey={sortKeys.sortOrder}\n                currentSortKey={currentSortKey}\n                setCurrentSortKey={setCurrentSortKey}\n                setCurrentSortDir={setCurrentSortDir}\n                disabled={isProjectDisabled}\n              >\n                <Tooltip direction=\"right\" tip={tip} dataTestId=\"order-tooltip\">\n                  <Icon\n                    name=\"information\"\n                    className=\"fill icon-yellow\"\n                    data-testid=\"information-icon\"\n                    width=\"16\"\n                  />\n                </Tooltip>\n              </ListHeaderCell>\n            </div>\n\n            <ListHeaderCell\n              text=\"Last updated\"\n              testId=\"last-updated-header-cell\"\n              sortKey={sortKeys.dateModified}\n              currentSortKey={currentSortKey}\n              setCurrentSortKey={setCurrentSortKey}\n              setCurrentSortDir={setCurrentSortDir}\n              disabled={isProjectDisabled}\n            />\n            <ListHeaderCell\n              text=\"Status\"\n              testId=\"shared-header-cell\"\n              sortKey={sortKeys.shared}\n              currentSortKey={currentSortKey}\n              setCurrentSortKey={setCurrentSortKey}\n              setCurrentSortDir={setCurrentSortDir}\n              disabled={isProjectDisabled}\n            />\n            <div />\n          </ShowForRole>\n        )}\n      </EnableForProjectState>\n    </div>\n  );\n};\n\nContentListHeader.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  currentSortKey: PropTypes.string.isRequired,\n  setCurrentSortKey: PropTypes.func.isRequired,\n  setCurrentSortDir: PropTypes.func.isRequired,\n  isDragAllowed: PropTypes.bool.isRequired,\n  isDragEnabled: PropTypes.bool.isRequired,\n  areSomeSelected: PropTypes.bool.isRequired,\n  areAllSelected: PropTypes.bool.isRequired,\n  onSelectAll: PropTypes.func.isRequired\n};\n\nexport default ContentListHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst DisplayContentStatus = ({ shareWithAll }) => {\n  return (\n    <div\n      data-testid=\"display-content-status\"\n      className=\"display-content-status\"\n    >\n      {shareWithAll ? 'Shared' : 'Not Shared'}\n    </div>\n  );\n};\n\nDisplayContentStatus.propTypes = {\n  shareWithAll: PropTypes.bool.isRequired\n};\n\nexport default DisplayContentStatus;\n","import { DateTime } from 'luxon';\nimport numeral from 'numeral';\nimport _isFinite from 'lodash/isFinite';\nimport {\n  defaultFinancialsDecimalCount,\n  defaultCurrency,\n  defaultFinancialsMagnitude\n} from '../../features/project/projectSlice';\nimport {\n  EBITDA,\n  EMPTY_DATA_MARKER,\n  NQ_EBITDA_CONTRIBUTION,\n  WORKING_CAPITAL\n} from '../engine/utilities/constants';\n\nexport const isEmptyText = (text = '') => text.trim().length === 0;\n\nexport const itemsCountText = (items = [], itemsName = 'Items') => {\n  const countText = items.length\n    ? ` (${items.length.toString().padStart(2, '0')})`\n    : '';\n\n  return `${itemsName}${countText}`;\n};\n\nexport const displayDate = (dateToFormat = new Date()) => {\n  const dt = DateTime.fromJSDate(dateToFormat);\n  return dt.toFormat('dd LLL yyyy');\n};\n\nconst financialsFormatDefaultOptions = {\n  decimalCount: defaultFinancialsDecimalCount,\n  formatForScreenReader: false,\n  emptyDataMarker: EMPTY_DATA_MARKER\n};\n\nexport const financialsFormat = (options = financialsFormatDefaultOptions) => {\n  const decimalFormatSection =\n    options.decimalCount === 0 ? '' : `.${'0'.repeat(options.decimalCount)}`;\n\n  const negativeValuePrefix = options.formatForScreenReader ? '' : '(';\n  const negativeValueSuffix = options.formatForScreenReader ? '' : ')';\n\n  return `${negativeValuePrefix}0,0${decimalFormatSection}${negativeValueSuffix}`;\n};\n\nconst hasScientificNotationRegEx = /e/g;\n\nexport const financialValue = (value = 0, options = {}) => {\n  let cleanValue = value;\n  if (Number.isNaN(value)) {\n    cleanValue = '';\n  }\n\n  if (typeof value === 'symbol') {\n    cleanValue = 0;\n  }\n\n  const effectiveOptions = { ...financialsFormatDefaultOptions, ...options };\n  let floatValue = parseFloat(cleanValue);\n\n  const isNumericValue = _isFinite(floatValue);\n\n  if (isNumericValue && hasScientificNotationRegEx.test(floatValue)) {\n    floatValue = parseFloat(floatValue.toFixed(8));\n  }\n\n  if (isNumericValue && floatValue === 0) {\n    return effectiveOptions.emptyDataMarker;\n  }\n\n  return isNumericValue\n    ? numeral(floatValue).format(financialsFormat(effectiveOptions))\n    : cleanValue;\n};\n\nexport const valueAsPercent = (value = 0) => {\n  const floatValue = parseFloat(value);\n  return _isFinite(floatValue) ? numeral(floatValue).format('(0.0%)') : value;\n};\n\nconst defaultCurrencySymbol = '$';\nconst currencyDictionary = {\n  dollar: defaultCurrencySymbol,\n  pound: '£',\n  euro: '€'\n};\n\nexport const getCurrencySymbol = (currency = 'dollar') => {\n  const symbol = currencyDictionary[currency.toLowerCase()];\n\n  return symbol || defaultCurrencySymbol;\n};\n\nexport const getFinancialScale = settings => {\n  if (!settings)\n    return `${getCurrencySymbol(\n      defaultCurrency\n    )} in ${defaultFinancialsMagnitude.toLowerCase()}`;\n\n  const currencySymbol = getCurrencySymbol(\n    settings.currency || defaultCurrency\n  );\n  const effectiveMagnitude =\n    settings.financialsMagnitude || defaultFinancialsMagnitude;\n  const effectiveMagnitudeLower = effectiveMagnitude.toLowerCase();\n\n  return `${currencySymbol} in ${effectiveMagnitudeLower}`;\n};\n\n// Matches strings that end with any of the following - case insensitive\n// adjustments (+/-NQ)\n// adj. (+/-NQ)\n// adjustments\n// adjustment\n// adj.\nconst endsWithAdjustmentsRegEx = /(adjustments \\(\\+\\/-NQ\\)|adj\\. \\(\\+\\/-NQ\\)|adjustments|adj\\.|adjustment)$/gi;\n\n// Matches strings that end with (+/-NQ)\nconst endsWithNqFlagRegEx = /\\(\\+\\/-NQ\\)$/i;\n\nconst adjustmentTypeContributionName = (text, contributionType) => {\n  const hasNqSuffix = endsWithNqFlagRegEx.test(text);\n\n  const derived = text.replace(endsWithAdjustmentsRegEx, 'Adjusted');\n\n  return `${derived} ${contributionType}${\n    hasNqSuffix ? ` ${NQ_EBITDA_CONTRIBUTION}` : ''\n  }`;\n};\n\nexport const adjustmentTypeEbitdaContributionName = text => {\n  return adjustmentTypeContributionName(text, EBITDA);\n};\n\nexport const adjustmentTypeWorkingCapitalContributionName = text => {\n  return adjustmentTypeContributionName(text, WORKING_CAPITAL);\n};\n\n// Matches strings that start with:\n// L\n// any number of contiguous non-space characters\n// Q or M\n// without regard to capitalization\nconst startsWithLastNPeriodsRegEx = /^[L][\\S]*[QM]/i;\n\nexport const isLastNPeriodLabel = text =>\n  startsWithLastNPeriodsRegEx.test(text);\n\nconst isReportedDebtRegEx = /^bank debt$|^reported debt$/i;\nexport const isReportedDebt = text => isReportedDebtRegEx.test(text);\n\nconst isReportedCashRegEx = /^less cash$|^reported cash$/i;\nexport const isReportedCash = text => isReportedCashRegEx.test(text);\n\nconst isDebtLikeItemsRegEx = /^debt-like item$|^debt-like items$/i;\nexport const isDebtLikeItems = text => isDebtLikeItemsRegEx.test(text);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { displayDate } from '../../common/services/textService';\n\nconst DisplayDate = ({ dateText }) => (\n  <div data-testid=\"display-date\" className=\"display-date\">\n    {displayDate(new Date(dateText))}\n  </div>\n);\n\nDisplayDate.propTypes = {\n  dateText: PropTypes.string.isRequired\n};\n\nexport default DisplayDate;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { contentShape } from '../../common/components/proptypes/commonProptypes';\n\nconst ContentLink = ({\n  contentItem,\n  projectId,\n  viewPathCreator,\n  ariaLabel\n}) => (\n  <div className=\"content-link\">\n    <Link\n      to={viewPathCreator(projectId, contentItem.contentThreadId, contentItem)}\n      data-testid={`content-detail-link${contentItem.contentThreadId}`}\n      aria-label={ariaLabel}\n    >\n      {contentItem.title}\n    </Link>\n  </div>\n);\n\nContentLink.propTypes = {\n  contentItem: contentShape.isRequired,\n  projectId: PropTypes.string.isRequired,\n  viewPathCreator: PropTypes.func.isRequired,\n  ariaLabel: PropTypes.string.isRequired\n};\n\nexport default ContentLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon, Checkbox } from '@pwc/pwc-deals-ui';\n\nimport classNames from 'classnames';\n\nconst SortOrderCell = ({\n  sortOrder,\n  contentThreadId,\n  isSelected,\n  isDragAllowed,\n  isDragEnabled,\n  onSelect\n}) => {\n  const iconClassNames = classNames('fill', {\n    enabled: isDragAllowed\n  });\n\n  const handleChange = () => {\n    onSelect(contentThreadId, !isSelected);\n  };\n\n  return (\n    <>\n      {isDragEnabled && (\n        <div className=\"sort-order-cell-icon\">\n          <Icon\n            name=\"arrow-up-down\"\n            width=\"20\"\n            className={iconClassNames}\n            data-testid=\"arrow-up-down-icon\"\n          />\n          <Checkbox\n            disabled={!isDragAllowed}\n            dataTestId=\"select-for-drag-checkbox\"\n            id={`select-for-drag-checkbox-${contentThreadId}`}\n            checked={isSelected}\n            onChange={handleChange}\n          />\n        </div>\n      )}\n      <div data-testid=\"sort-order-cell\" className=\"sort-order-cell\">\n        <div className=\"sort-order-cell-wrapper\">{sortOrder}</div>\n      </div>\n    </>\n  );\n};\n\nSortOrderCell.propTypes = {\n  sortOrder: PropTypes.number.isRequired,\n  contentThreadId: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n    .isRequired,\n  isSelected: PropTypes.bool,\n  isDragAllowed: PropTypes.bool,\n  isDragEnabled: PropTypes.bool,\n  onSelect: PropTypes.func.isRequired\n};\n\nSortOrderCell.defaultProps = {\n  isSelected: false,\n  isDragAllowed: false,\n  isDragEnabled: false\n};\n\nexport default SortOrderCell;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { Draggable } from 'react-beautiful-dnd';\nimport classnames from 'classnames';\nimport ContentActionsRowMenu from '../../common/components/ContentActions/ContentActionsRowMenu';\nimport {\n  contentShape,\n  contentTypeShape\n} from '../../common/components/proptypes/commonProptypes';\nimport DisplayContentStatus from './DisplayContentStatus';\nimport DisplayDate from './DisplayDate';\nimport TagList from '../analyses/common/TagList/TagList';\nimport ContentLink from './ContentLink';\nimport SortOrderCell from './SortOrderCell';\nimport './ContentListCard.scss';\n\nconst ContentListCard = ({\n  contentItem,\n  index,\n  projectId,\n  onDeleteMenuClick,\n  onSelect,\n  selectedCount,\n  areAllSelected,\n  isSelected,\n  isDragTarget,\n  isDragAllowed,\n  isDragEnabled,\n  isInternalUser,\n  viewPathCreator,\n  editPathCreator,\n  linkAriaLabel\n}) => {\n  const history = useHistory();\n  const frontendIdentifier =\n    contentItem.frontendIdentifier || contentItem.contentThreadId;\n\n  const handleEditContent = () => {\n    history.push(editPathCreator(projectId, frontendIdentifier));\n  };\n\n  const isDraggingMultiple = isDragTarget && selectedCount > 0;\n\n  return (\n    <Draggable\n      draggableId={contentItem.contentThreadId.toString()}\n      index={index}\n      isDragDisabled={!isDragAllowed || areAllSelected}\n    >\n      {provided => {\n        const cardClassnames = classnames('content-list-card', {\n          draggable: isDragAllowed && !areAllSelected,\n          'is-selected': isSelected,\n          'is-dragging': isDragTarget,\n          'is-dragging-multiple': isDraggingMultiple\n        });\n\n        const sortOrderDisplay = isDraggingMultiple\n          ? selectedCount\n          : contentItem.sortOrder + 1;\n\n        return (\n          <div\n            className={cardClassnames}\n            data-testid=\"content-list-card\"\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n          >\n            {isInternalUser && (\n              <SortOrderCell\n                sortOrder={sortOrderDisplay}\n                isSelected={isSelected}\n                isDragAllowed={isDragAllowed}\n                isDragEnabled={isDragEnabled}\n                contentThreadId={contentItem.contentThreadId}\n                onSelect={onSelect}\n              />\n            )}\n            <ContentLink\n              projectId={projectId}\n              contentItem={contentItem}\n              viewPathCreator={viewPathCreator}\n              ariaLabel={linkAriaLabel}\n            />\n            {isInternalUser && (\n              <>\n                <DisplayDate dateText={contentItem.dateModified} />\n                <DisplayContentStatus shareWithAll={contentItem.shareWithAll} />\n              </>\n            )}\n            <ContentActionsRowMenu\n              projectId={projectId}\n              itemId={frontendIdentifier}\n              onEditMenuClick={handleEditContent}\n              onDeleteMenuClick={() => onDeleteMenuClick(contentItem)}\n              direction=\"left\"\n            />\n            {isInternalUser && (\n              <TagList tags={contentItem.tags} testId=\"content-tag-list\" />\n            )}\n          </div>\n        );\n      }}\n    </Draggable>\n  );\n};\n\nContentListCard.propTypes = {\n  contentType: contentTypeShape.isRequired,\n  contentItem: contentShape.isRequired,\n  index: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  onDeleteMenuClick: PropTypes.func,\n  onSelect: PropTypes.func.isRequired,\n  selectedCount: PropTypes.number,\n  areAllSelected: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  isDragTarget: PropTypes.bool,\n  isDragAllowed: PropTypes.bool,\n  isDragEnabled: PropTypes.bool,\n  isInternalUser: PropTypes.bool,\n  viewPathCreator: PropTypes.func.isRequired,\n  editPathCreator: PropTypes.func.isRequired,\n  linkAriaLabel: PropTypes.string.isRequired\n};\n\nContentListCard.defaultProps = {\n  onDeleteMenuClick: () => {},\n  selectedCount: 0,\n  areAllSelected: false,\n  isSelected: false,\n  isDragTarget: false,\n  isDragAllowed: false,\n  isDragEnabled: false,\n  isInternalUser: true\n};\n\nexport default ContentListCard;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport { createSlice } from '@reduxjs/toolkit';\n\nexport const initialState = {\n  modal: {\n    show: false,\n    modalErrorType: Constants.ModalErrorType.NONE\n  },\n  moreMenu: {\n    itemId: null,\n    show: false,\n    moreMenuErrorType: Constants.MoreMenuErrorType.NONE\n  }\n};\n\nconst errorsSlice = createSlice({\n  name: 'errors',\n  initialState,\n  reducers: {\n    showModalError: (state, action) => ({\n      ...state,\n      modal: {\n        show: true,\n        modalErrorType: action.payload\n      }\n    }),\n    hideModalError: state => ({ ...state, modal: initialState.modal }),\n    showMoreMenuError: (state, action) => ({\n      ...state,\n      moreMenu: {\n        show: true,\n        itemId: action.payload.itemId,\n        moreMenuErrorType: action.payload.moreMenuErrorType\n      }\n    }),\n    hideMoreMenuError: state => ({ ...state, moreMenu: initialState.moreMenu })\n  }\n});\n\n// Actions\nexport const {\n  showModalError,\n  hideModalError,\n  showMoreMenuError,\n  hideMoreMenuError\n} = errorsSlice.actions;\n\n// Selectors\nexport const getErrorModalState = state => state.errors.modal;\nexport const getErrorMoreMenuState = state => state.errors.moreMenu;\n\nexport default errorsSlice.reducer;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport _orderBy from 'lodash/orderBy';\nimport _differenceBy from 'lodash/differenceBy';\nimport _get from 'lodash/get';\nimport _union from 'lodash/union';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport classNames from 'classnames';\nimport {\n  contentTypeShape,\n  contentShape,\n  sortAscending,\n  sortDescending,\n  contentTypeHypotheses,\n  contentTypeInsights,\n  contentTypeAnalyses\n} from '../../common/components/proptypes/commonProptypes';\nimport userTokenService from '../../common/services/security/userTokenService';\nimport {\n  editAnalysisPath,\n  editHypothesisPath,\n  editInsightPath,\n  viewAnalysisPath,\n  viewHypothesisPath,\n  viewInsightPath\n} from '../../common/services/urlService';\nimport { structuredAnalysisLinkToDisplay } from '../../common/engine/utilities/structured-data-utilities';\nimport EmptyHypothesesCard from '../hypotheses/EmptyHypotheses/EmptyHypothesesCard';\nimport EmptyInsightsCard from '../insights/EmptyInsights/EmptyInsightsCard';\nimport EmptyAnalysesCard from '../analyses/EmptyAnalyses/EmptyAnalysesCard';\nimport ContentListHeader from './ContentListHeader';\nimport ContentListCard from './ContentListCard';\nimport ModalConfirmation from '../../common/components/ModalConfirmation';\nimport { sortKeys } from './contentListSortKeys';\nimport NoContentForTagsCard from '../../common/components/ContentActions/NoContentForTagsCard/NoContentForTagsCard';\nimport './ContentList.scss';\nimport { showModalError } from '../../common/redux/errors/errorsSlice';\n\nconst ContentList = ({\n  contentType,\n  projectId,\n  contentItems,\n  projectHasContent,\n  onDelete,\n  onReorder,\n  updateSortOrderApiCall,\n  isFiltered\n}) => {\n  const dispatch = useDispatch();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [deleteTarget, setDeleteTarget] = useState(null);\n  const [currentSortKey, setCurrentSortKey] = useState(sortKeys.sortOrder);\n  const [currentSortDir, setCurrentSortDir] = useState(sortAscending);\n  const [isDragAllowed, setIsDragAllowed] = useState(false);\n  const [isDragEnabled, setIsDragEnabled] = useState(false);\n  const [dragTarget, setDragTarget] = useState(null);\n  const [isInternalUser, setIsInternalUser] = useState(false);\n  const [sortedContentItems, setSortedContentItems] = useState(\n    _orderBy(contentItems, currentSortKey, currentSortDir)\n  );\n  const [selectedContentItems, setSelectedContentItems] = useState([]);\n\n  useEffect(() => {\n    const sorted = _orderBy(\n      contentItems,\n      [currentSortKey, sortKeys.dateModified],\n      [currentSortDir, sortDescending]\n    );\n    setSortedContentItems(sorted);\n    if (currentSortKey !== sortKeys.sortOrder) {\n      setSelectedContentItems([]);\n    }\n  }, [contentItems, currentSortKey, currentSortDir]);\n\n  useEffect(() => {\n    if (isFiltered) {\n      setSelectedContentItems([]);\n    }\n  }, [isFiltered]);\n\n  useEffect(() => {\n    const internalUserRoles = Constants.USER_ROLE_GROUPS.INTERNAL;\n\n    const projectRole = userTokenService.getProjectTokenProperty(\n      projectId,\n      'role'\n    );\n    const permissionAllowsDrag = userTokenService.hasProjectPermission(\n      projectId,\n      [Constants.USER_PERMISSIONS.MANAGE_CONTENT]\n    );\n    const sortAllowsDrag = currentSortKey === sortKeys.sortOrder;\n    const dragAllowed = permissionAllowsDrag && sortAllowsDrag && !isFiltered;\n\n    setIsDragAllowed(dragAllowed);\n    setIsDragEnabled(permissionAllowsDrag);\n    setIsInternalUser(internalUserRoles.includes(projectRole));\n  }, [currentSortKey, isFiltered, projectId]);\n\n  const handleHideModal = () => {\n    setIsModalVisible(false);\n    setDeleteTarget(null);\n  };\n\n  const handleDeleteMenuClick = contentItem => {\n    setIsModalVisible(true);\n    setDeleteTarget(contentItem);\n  };\n\n  const handleDelete = () => {\n    setIsModalVisible(false);\n    onDelete(deleteTarget);\n  };\n\n  const handleSelectAll = isSelected => {\n    if (isSelected) {\n      setSelectedContentItems(sortedContentItems.map(_ => _.contentThreadId));\n    } else {\n      setSelectedContentItems([]);\n    }\n  };\n\n  const handleSelect = (contentThreadId, isSelected) => {\n    if (isSelected) {\n      const updatedSelected = _union(selectedContentItems, [contentThreadId]);\n      setSelectedContentItems(updatedSelected);\n    } else {\n      const updatedSelected = selectedContentItems.filter(\n        id => id !== contentThreadId\n      );\n      setSelectedContentItems(updatedSelected);\n    }\n  };\n\n  const isAscendingSort = () => currentSortDir === sortAscending;\n\n  const handleBeforeCapture = ({ draggableId }) => {\n    const dragTargetContentThreadId = parseInt(draggableId, 10);\n    setDragTarget(dragTargetContentThreadId);\n    if (\n      selectedContentItems.length > 0 &&\n      !selectedContentItems.includes(dragTargetContentThreadId)\n    ) {\n      setSelectedContentItems([]);\n    }\n  };\n\n  const handleDragEnd = dragEnd => {\n    setDragTarget(null);\n\n    const hasValidDropTarget = !!dragEnd.destination;\n    if (!hasValidDropTarget) {\n      return;\n    }\n\n    const originalSortedHypotheses = [...sortedContentItems];\n\n    const draggedItemSourceIndex = dragEnd.source.index;\n    const draggedItemTargetIndex = dragEnd.destination.index;\n\n    let draggedList;\n\n    if (selectedContentItems.length > 0) {\n      const itemsToMove = sortedContentItems.filter(_ =>\n        selectedContentItems.includes(_.contentThreadId)\n      );\n      draggedList = _differenceBy(sortedContentItems, itemsToMove);\n\n      let insertIndex;\n      // Drag target is being moved down in the list\n      if (draggedItemSourceIndex < draggedItemTargetIndex) {\n        const targetContentThreadId =\n          sortedContentItems[draggedItemTargetIndex].contentThreadId;\n        const targetContentIndexInKeepList = draggedList.findIndex(\n          h => h.contentThreadId === targetContentThreadId\n        );\n        insertIndex =\n          draggedItemTargetIndex === 0 ? 0 : targetContentIndexInKeepList + 1;\n      }\n      // Drag target is being moved up in the list\n      else {\n        insertIndex = draggedItemTargetIndex;\n      }\n\n      draggedList.splice(insertIndex, 0, ...itemsToMove);\n    } else {\n      draggedList = [...sortedContentItems];\n      const [movedItem] = draggedList.splice(draggedItemSourceIndex, 1);\n      draggedList.splice(draggedItemTargetIndex, 0, movedItem);\n    }\n\n    const indexedList = draggedList.map((item, i) => {\n      const order = isAscendingSort() ? i : draggedList.length - 1 - i;\n      return {\n        ...item,\n        sortOrder: order\n      };\n    });\n\n    setSortedContentItems(indexedList);\n\n    const contentThreadIds = indexedList.map(_ => _.contentThreadId);\n    const sortedContentThreadIds = isAscendingSort()\n      ? contentThreadIds\n      : contentThreadIds.reverse();\n    updateSortOrderApiCall(projectId, sortedContentThreadIds)\n      .then(() => {\n        onReorder(indexedList);\n      })\n      .catch(e => {\n        setSortedContentItems(originalSortedHypotheses);\n\n        const errorCode = _get(e, 'response.data.errors[0].apiErrorCode', null);\n        const errorType =\n          errorCode === Constants.API_ERROR_CODES.VALIDATION_ERROR\n            ? Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER_STALE_DATA\n            : Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER;\n        dispatch(showModalError(errorType));\n      });\n\n    setSelectedContentItems([]);\n  };\n\n  let emptyCard;\n  let viewPathCreator;\n  let editPathCreator;\n  let linkAriaLabel;\n  let deleteModalMessage;\n  switch (contentType) {\n    case contentTypeHypotheses:\n      emptyCard = <EmptyHypothesesCard projectId={projectId} />;\n      linkAriaLabel = 'View Key Focus Area';\n      viewPathCreator = viewHypothesisPath;\n      editPathCreator = editHypothesisPath;\n      deleteModalMessage =\n        'This Key Focus Area will be permanently deleted and any connections to other content will be removed.';\n      break;\n\n    case contentTypeInsights:\n      emptyCard = <EmptyInsightsCard projectId={projectId} />;\n      linkAriaLabel = 'View Insight';\n      viewPathCreator = viewInsightPath;\n      editPathCreator = editInsightPath;\n      deleteModalMessage =\n        'This Insight will be permanently deleted and any connection to other content will be removed.';\n      break;\n\n    case contentTypeAnalyses:\n      emptyCard = <EmptyAnalysesCard projectId={projectId} />;\n      linkAriaLabel = 'View Analysis';\n      viewPathCreator = (_, contentThreadId, contentItem) => {\n        if (contentItem.isUnStructured) {\n          return viewAnalysisPath(projectId, contentThreadId);\n        }\n        return structuredAnalysisLinkToDisplay(projectId, contentItem.title);\n      };\n      editPathCreator = editAnalysisPath;\n      deleteModalMessage =\n        'This Analysis will be permanently deleted and any connections to other content will be removed.';\n      break;\n\n    default:\n      emptyCard = null;\n      linkAriaLabel = '';\n      viewPathCreator = () => {};\n      editPathCreator = () => {};\n      deleteModalMessage = '';\n  }\n\n  if (sortedContentItems.length === 0 && projectHasContent) {\n    return <NoContentForTagsCard />;\n  }\n\n  if (sortedContentItems.length === 0) {\n    return emptyCard;\n  }\n\n  const areSomeSelected = selectedContentItems.length > 0;\n  const areAllSelected =\n    sortedContentItems.length === selectedContentItems.length;\n\n  const listClassNames = classNames('content-list', {\n    'drag-enabled': isDragEnabled,\n    'in-drag-mode': dragTarget !== null\n  });\n\n  return (\n    <>\n      <ModalConfirmation\n        show={isModalVisible}\n        onCancel={handleHideModal}\n        onConfirm={handleDelete}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage={deleteModalMessage}\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <div className={listClassNames} data-testid=\"content-list\">\n        <ContentListHeader\n          projectId={projectId}\n          currentSortKey={currentSortKey}\n          setCurrentSortKey={setCurrentSortKey}\n          setCurrentSortDir={setCurrentSortDir}\n          isDragAllowed={isDragAllowed}\n          isDragEnabled={isDragEnabled}\n          areSomeSelected={areSomeSelected}\n          areAllSelected={areAllSelected}\n          onSelectAll={handleSelectAll}\n        />\n\n        <DragDropContext\n          onDragEnd={handleDragEnd}\n          onBeforeCapture={handleBeforeCapture}\n        >\n          <Droppable droppableId=\"content-list\">\n            {provided => {\n              return (\n                <div ref={provided.innerRef} {...provided.droppableProps}>\n                  {sortedContentItems.map((item, index) => (\n                    <ContentListCard\n                      contentType={contentType}\n                      contentItem={item}\n                      index={index}\n                      projectId={projectId}\n                      onDeleteMenuClick={handleDeleteMenuClick}\n                      onSelect={handleSelect}\n                      selectedCount={selectedContentItems.length}\n                      areAllSelected={areAllSelected}\n                      isSelected={selectedContentItems.includes(\n                        item.contentThreadId\n                      )}\n                      isDragTarget={dragTarget === item.contentThreadId}\n                      isDragAllowed={isDragAllowed}\n                      isDragEnabled={isDragEnabled}\n                      isInternalUser={isInternalUser}\n                      viewPathCreator={viewPathCreator}\n                      editPathCreator={editPathCreator}\n                      linkAriaLabel={linkAriaLabel}\n                      key={item.contentThreadId}\n                    />\n                  ))}\n                  {provided.placeholder}\n                </div>\n              );\n            }}\n          </Droppable>\n        </DragDropContext>\n      </div>\n    </>\n  );\n};\n\nContentList.propTypes = {\n  contentType: contentTypeShape.isRequired,\n  projectId: PropTypes.string.isRequired,\n  contentItems: PropTypes.arrayOf(contentShape),\n  projectHasContent: PropTypes.bool.isRequired,\n  onDelete: PropTypes.func,\n  onReorder: PropTypes.func.isRequired,\n  updateSortOrderApiCall: PropTypes.func.isRequired,\n  isFiltered: PropTypes.bool\n};\n\nContentList.defaultProps = {\n  contentItems: [],\n  onDelete: () => {},\n  isFiltered: false\n};\n\nexport default ContentList;\n","import React, { useMemo, useEffect, useState } from 'react';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Formik } from 'formik';\nimport { useSelector } from 'react-redux';\nimport ModalConfirmation from '../../../common/components/ModalConfirmation';\nimport ToggleGridList from '../../../common/components/ToggleGridList/ToggleGridList';\nimport AnalysesGrid from '../AnalysesGrid/AnalysesGrid';\nimport EmptyAnalysesCard from '../EmptyAnalyses/EmptyAnalysesCard';\nimport './AnalysesView.scss';\nimport TagEditor from '../../tagging/common/TagEditor/TagEditor';\nimport NoContentForTagsCard from '../../../common/components/ContentActions/NoContentForTagsCard/NoContentForTagsCard';\nimport ShowForRole from '../../security/ShowForRole';\nimport ViewAnalysisSourceLinks from '../common/ViewAnalysisSourceLinks/ViewAnalysisSourceLinks';\nimport ContentList from '../../contentList/ContentList';\nimport { contentTypeAnalyses } from '../../../common/components/proptypes/commonProptypes';\nimport { updateAnalysesOrder } from '../analysesService';\nimport { selectAllTags } from '../analysisSlice';\n\nconst AnalysesView = ({\n  projectId,\n  dataLength,\n  currentPage,\n  pageSize,\n  next,\n  hasMore,\n  analyses,\n  isFetching,\n  toggleView,\n  onFilter,\n  viewGrid,\n  onDelete,\n  onReorder\n}) => {\n  const [isLoading, setIsLoading] = useState(true);\n  // TODO: After 5 Analyses, this should be refactored to use one get endpoint to grab all analyses\n  // LINK: https://wwtas-pwcdealsos.atlassian.net/wiki/spaces/WWT/pages/284590088/Future+Us+Problems\n  const [isDeleteConfirmationVisible, setDeleteConfirmationVisible] = useState(\n    false\n  );\n  const [selectedAnalysis, setSelectedAnalysis] = useState(null);\n  const [tagFilters, setTagFilters] = useState([]);\n  const [data, setData] = useState(null);\n\n  const allTags = useSelector(selectAllTags);\n\n  useEffect(() => {\n    if (analyses && analyses.length > 0) {\n      analyses.sort(\n        (analysisA, analysisB) => analysisA.sortOrder - analysisB.sortOrder\n      );\n      setData(analyses);\n      setIsLoading(false);\n    } else if (analyses && analyses.length === 0 && tagFilters.length > 0) {\n      setData(analyses);\n      setIsLoading(false);\n    } else {\n      setData(null);\n      if (!isFetching) {\n        setIsLoading(false);\n      } else {\n        setIsLoading(true);\n      }\n    }\n  }, [analyses, isFetching, tagFilters.length]);\n\n  const showDeleteConfirmation = analysis => {\n    setSelectedAnalysis(analysis);\n    setDeleteConfirmationVisible(true);\n  };\n\n  const updateTags = async values => {\n    setTagFilters(values);\n    if (viewGrid) {\n      const selectedTags = allTags.filter(tag => values.includes(tag.text));\n      if (selectedTags && selectedTags.length > 0) {\n        const tagIds = selectedTags.map(val => val.id);\n        onFilter(tagIds);\n      } else {\n        next();\n      }\n    }\n  };\n\n  const filteredAnalysesNew = () => {\n    return (\n      data &&\n      data.length > 0 &&\n      data.filter(item => {\n        const analysisTags = new Set((item.tags || []).map(tag => tag.text));\n        return tagFilters.length\n          ? tagFilters.some(tag => analysisTags.has(tag))\n          : true;\n      })\n    );\n  };\n\n  const memoizedFilteredAnalyses = useMemo(filteredAnalysesNew, [\n    data,\n    tagFilters\n  ]);\n\n  return (\n    <>\n      <ModalConfirmation\n        show={isDeleteConfirmationVisible}\n        onCancel={() => setDeleteConfirmationVisible(false)}\n        onConfirm={() => {\n          setDeleteConfirmationVisible(false);\n          onDelete(selectedAnalysis);\n        }}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Analysis will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <div\n        data-testid=\"analysis-list-container\"\n        className=\"analysis-list-container\"\n      >\n        <div className=\"list-container-header\">\n          <h2 className=\"analyses-view-h2\">Analyses</h2>\n\n          <div className=\"list-container-header-source-links\">\n            <ShowForRole\n              roles={Constants.USER_ROLE_GROUPS.INTERNAL_READWRITE}\n              projectId={projectId}\n              restrictedForRoleElement={\n                <div data-testid=\"analysis-source-links-placeholder\" />\n              }\n            >\n              <ViewAnalysisSourceLinks toolTipDirection=\"left\" />\n            </ShowForRole>\n            <ToggleGridList viewGrid={viewGrid} onClick={toggleView} />\n          </div>\n        </div>\n\n        <Formik initialValues={{ tags: [] }}>\n          {() => (\n            <TagEditor\n              projectId={projectId}\n              onSelect={updateTags}\n              tagsRight\n              title={false}\n              subtitle={false}\n              allowCreateTags={false}\n              placeholderText=\"Filter by tag\"\n            />\n          )}\n        </Formik>\n\n        {isLoading && !data && <Loader dataTestId=\"loader\" />}\n        {!isLoading && data && (\n          <div className=\"content\">\n            {memoizedFilteredAnalyses &&\n              memoizedFilteredAnalyses.length > 0 &&\n              viewGrid && (\n                <div data-testid=\"analysis-grid-view\">\n                  <AnalysesGrid\n                    data={memoizedFilteredAnalyses}\n                    hasContent={!!data.length}\n                    projectId={projectId}\n                    onDelete={showDeleteConfirmation}\n                    dataLength={dataLength}\n                    currentPage={currentPage}\n                    pageSize={pageSize}\n                    hasMore={hasMore}\n                    next={next}\n                  />\n                </div>\n              )}\n\n            {memoizedFilteredAnalyses &&\n              memoizedFilteredAnalyses.length > 0 &&\n              !viewGrid && (\n                <div data-testid=\"analysis-list-view\">\n                  <ContentList\n                    contentType={contentTypeAnalyses}\n                    projectId={projectId}\n                    contentItems={memoizedFilteredAnalyses}\n                    projectHasContent={!!data.length}\n                    onDelete={onDelete}\n                    onReorder={onReorder}\n                    updateSortOrderApiCall={updateAnalysesOrder}\n                    isFiltered={!!tagFilters.length}\n                  />\n                </div>\n              )}\n\n            {(!memoizedFilteredAnalyses ||\n              memoizedFilteredAnalyses.length === 0) && (\n              <NoContentForTagsCard />\n            )}\n          </div>\n        )}\n        {!isLoading && !data && <EmptyAnalysesCard projectId={projectId} />}\n      </div>\n    </>\n  );\n};\n\nexport default AnalysesView;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport cloneDeep from 'lodash/cloneDeep';\nimport uniqBy from 'lodash/uniqBy';\nimport { structuredRoutes } from '../../../common/services/urlService';\nimport {\n  deleteAnalysis,\n  getAllAnalyses,\n  getPagedAnalyses\n} from '../analysesService';\nimport { deleteStructuredDocument } from '../../../common/engine/services/structuredAnalysisService';\nimport AnalysesView from './AnalysesView';\nimport {\n  getUserSettingsSelector,\n  setUserSettings\n} from '../../../common/redux/userSettings/userSettingsSlice';\nimport useWindowSize from '../../../common/hooks/useWindowSize';\n\n// AnalysesGrid expects each object in the data passed to it\n// to have an id for use as a key and a documentCode for\n// the delete endpoint\nconst addFrontendProperties = analysis => {\n  switch (analysis.contentSubType) {\n    case Constants.structuredDocumentSubtypeCodes[\n      Constants.QUALITY_OF_EARNINGS\n    ]:\n      return {\n        ...analysis,\n        frontendIdentifier: structuredRoutes[Constants.QUALITY_OF_EARNINGS],\n        code: Constants.QUALITY_OF_EARNINGS\n      };\n    case Constants.structuredDocumentSubtypeCodes[\n      Constants.NET_WORKING_CAPITAL\n    ]:\n      return {\n        ...analysis,\n        frontendIdentifier: structuredRoutes[Constants.NET_WORKING_CAPITAL],\n        code: Constants.NET_WORKING_CAPITAL\n      };\n    case Constants.structuredDocumentSubtypeCodes[Constants.DEBT_AND_DEBT_LIKE]:\n      return {\n        ...analysis,\n        frontendIdentifier: structuredRoutes[Constants.DEBT_AND_DEBT_LIKE],\n        code: Constants.DEBT_AND_DEBT_LIKE\n      };\n    default:\n      return { ...analysis, frontendIdentifier: analysis.contentThreadId };\n  }\n};\n\nconst pageSize = 10;\n\nconst AnalysesContainer = () => {\n  const routeParams = useParams();\n  const { projectId } = routeParams;\n  const [combinedAnalyses, setCombinedAnalyses] = useState(null);\n  const [itemPage, setItemPage] = useState(0);\n  const [itemCount, setItemCount] = useState(null);\n  const [isFetching, setIsFetching] = useState(null);\n  const userSettings = useSelector(getUserSettingsSelector);\n  const dispatch = useDispatch();\n  const { height } = useWindowSize();\n\n  const canBeScrolled = useCallback(\n    () => height && document.body.scrollHeight > height,\n    [height]\n  );\n  const hasMoreItems = useCallback(\n    () => combinedAnalyses && itemCount && combinedAnalyses.length < itemCount,\n    [combinedAnalyses, itemCount]\n  );\n\n  const compileAnalyses = useCallback(\n    (items, rowCount, currentPage) => {\n      setItemCount(rowCount);\n      setItemPage(currentPage);\n      if (currentPage !== 0) {\n        const currentItems = combinedAnalyses\n          ? cloneDeep(combinedAnalyses)\n          : [];\n        const newItems = uniqBy(currentItems.concat(items), 'contentThreadId');\n        setCombinedAnalyses(newItems.map(addFrontendProperties));\n      } else {\n        const newItems = uniqBy(items, 'contentThreadId');\n        setCombinedAnalyses(newItems.map(addFrontendProperties));\n      }\n      setIsFetching(false);\n    },\n    [combinedAnalyses]\n  );\n\n  const fetchPagedAnalyses = useCallback(\n    async (page = 0) => {\n      setIsFetching(true);\n      const analysesResponse = await getPagedAnalyses(\n        projectId,\n        page,\n        pageSize\n      );\n      const { items, rowCount, currentPage } = analysesResponse;\n      compileAnalyses(items, rowCount, currentPage);\n    },\n    [projectId, compileAnalyses]\n  );\n\n  const fetchAllAnalyses = useCallback(\n    async tagIds => {\n      setIsFetching(true);\n      const analysesResponse = await getAllAnalyses(projectId, tagIds);\n      const { items, currentPage, rowCount } = analysesResponse;\n      compileAnalyses(items, rowCount, currentPage);\n    },\n    [compileAnalyses, projectId]\n  );\n\n  useEffect(() => {\n    if (userSettings && !userSettings.settings.viewGrid) {\n      fetchAllAnalyses();\n    } else {\n      fetchPagedAnalyses();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (combinedAnalyses && combinedAnalyses.length > 0 && itemCount) {\n      const isScrollable = canBeScrolled();\n      const hasMore = hasMoreItems();\n      if (isScrollable === false && hasMore === true && !isFetching) {\n        fetchPagedAnalyses(itemPage + 1);\n      }\n    }\n  }, [\n    combinedAnalyses,\n    height,\n    itemCount,\n    itemPage,\n    fetchPagedAnalyses,\n    canBeScrolled,\n    hasMoreItems,\n    isFetching\n  ]);\n\n  const handleReorder = orderedAnalyses => {\n    setCombinedAnalyses(orderedAnalyses);\n  };\n\n  const toggleView = () => {\n    setCombinedAnalyses(null);\n    const {\n      settings: { viewGrid }\n    } = userSettings;\n    const isGridView = !viewGrid;\n    dispatch(\n      setUserSettings({\n        viewGrid: !viewGrid\n      })\n    );\n    if (!isGridView) {\n      fetchAllAnalyses();\n    } else {\n      fetchPagedAnalyses(itemPage);\n    }\n  };\n\n  const onFilter = tagIds => {\n    setCombinedAnalyses(null);\n    fetchAllAnalyses(tagIds);\n  };\n\n  const handleDeleteAnalysis = async analysis => {\n    const { contentThreadId, code, isUnStructured } = analysis;\n\n    const request = isUnStructured\n      ? deleteAnalysis(projectId, contentThreadId)\n      : deleteStructuredDocument(projectId, code);\n    const response = await request;\n\n    if (response.data === true) {\n      const itemIndex = combinedAnalyses.findIndex(\n        item => item.contentThreadId === contentThreadId\n      );\n      if (itemIndex > -1) {\n        const allItems = cloneDeep(combinedAnalyses);\n        allItems.splice(itemIndex, 1);\n        setCombinedAnalyses([...allItems]);\n      }\n    }\n  };\n\n  return (\n    <div data-testid=\"analyses-container\" className=\"analyses-container\">\n      <AnalysesView\n        toggleView={toggleView}\n        onFilter={onFilter}\n        viewGrid={userSettings.settings.viewGrid}\n        projectId={projectId}\n        dataLength={combinedAnalyses && combinedAnalyses.length}\n        currentPage={itemPage}\n        pageSize={pageSize}\n        hasMore={hasMoreItems()}\n        isFetching={isFetching}\n        next={fetchPagedAnalyses}\n        fetchAllAnalyses={fetchAllAnalyses}\n        analyses={combinedAnalyses}\n        onDelete={handleDeleteAnalysis}\n        onReorder={handleReorder}\n      />\n    </div>\n  );\n};\n\nexport default AnalysesContainer;\n","import React from 'react';\nimport './FormLayout.scss';\n\nconst FormLayout = ({ headerComponent, children, className }) => {\n  return (\n    <div className={className}>\n      <div className=\"form-layout\">\n        {headerComponent && headerComponent}\n\n        <div className=\"form-content-container-background\">\n          <div className=\"form-content-container\">\n            <div className=\"form-content\">{children}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FormLayout;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useState } from 'react';\nimport { Popover } from 'react-bootstrap';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getErrorMoreMenuState,\n  hideMoreMenuError\n} from '../../redux/errors/errorsSlice';\n\nconst MoreMenuPopup = React.forwardRef(({ itemId, actions, ...props }, ref) => {\n  const [actionToConfirm, setActionToConfirm] = useState();\n  const moreMenuError = useSelector(getErrorMoreMenuState);\n  const dispatch = useDispatch();\n\n  const onActionClick = action => {\n    if (action.confirmation) {\n      return () => {\n        setActionToConfirm(action);\n      };\n    }\n    return action.update;\n  };\n\n  const cancelActionToConfirm = () => {\n    setActionToConfirm(undefined);\n  };\n\n  const confirmActionToConfirm = () => {\n    actionToConfirm.update();\n    setActionToConfirm(undefined);\n  };\n\n  const closeErrorState = () => {\n    dispatch(hideMoreMenuError());\n    cancelActionToConfirm();\n  };\n\n  const renderContent = () => {\n    if (moreMenuError && moreMenuError.itemId === itemId) {\n      let title = 'Unable to save change.';\n      let message =\n        'Due to a system error we are currently unable to save the change you made.';\n      if (\n        moreMenuError.moreMenuErrorType ===\n        Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED\n      ) {\n        title = \"Can't share this analysis.\";\n        message =\n          'Some content is missing. Please review and update it before trying again.';\n      }\n\n      return (\n        <Popover\n          id=\"popover-moremenu\"\n          ref={ref}\n          data-testid={`content-actions-popup-menu-${itemId}`}\n          {...props}\n          className=\"popover-confirm-error\"\n        >\n          <>\n            <Popover.Content className=\"popup-menu\">\n              <Popover.Title>{title}</Popover.Title>\n              <p\n                data-testid=\"popover-confirmation-error-message\"\n                className=\"popup-description\"\n              >\n                {message}\n              </p>\n              <div className=\"confirm-button-error-state\">\n                <Button\n                  data-testid=\"popover-confirmation-error-cancel\"\n                  onClick={closeErrorState}\n                  className=\"button-link mr-3\"\n                >\n                  Cancel\n                </Button>\n              </div>\n            </Popover.Content>\n          </>\n        </Popover>\n      );\n    }\n\n    return (\n      <Popover\n        id=\"popover-moremenu\"\n        ref={ref}\n        data-testid={`content-actions-popup-menu-${itemId}`}\n        {...props}\n        className={actionToConfirm ? 'popover-confirm' : ''}\n      >\n        {!actionToConfirm ? (\n          <Popover.Content className=\"popup-menu\">\n            {actions.map(action => (\n              <Button\n                key={action.action}\n                className=\"button-menu\"\n                onClick={onActionClick(action)}\n                data-testid={`menu-button-${action.name}`}\n                disabled={action.disabled}\n              >\n                {action.icon ? action.icon : null}\n                {action.text}\n              </Button>\n            ))}\n          </Popover.Content>\n        ) : (\n          <>\n            <Popover.Content className=\"popup-menu popup-confirmation\">\n              <Popover.Title>\n                {actionToConfirm.confirmation.title}\n              </Popover.Title>\n              <p data-testid=\"popover-confirmation-message\">\n                {actionToConfirm.confirmation.message}\n              </p>\n              <div className=\"confirm-buttons\">\n                <Button\n                  data-testid=\"popover-confirmation-cancel\"\n                  onClick={cancelActionToConfirm}\n                  className=\"button-link mr-3\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  data-testid=\"popover-confirmation-confirm\"\n                  onClick={confirmActionToConfirm}\n                  className=\"button-small\"\n                >\n                  {actionToConfirm.confirmation.confirmButtonText}\n                </Button>\n              </div>\n            </Popover.Content>\n          </>\n        )}\n      </Popover>\n    );\n  };\n\n  return renderContent();\n});\n\nexport default MoreMenuPopup;\n","import { forEach as _forEach } from 'lodash';\nimport React, { useState, useRef } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { Overlay } from 'react-bootstrap';\nimport EnableForProjectState from '../../../features/security/EnableForProjectState';\nimport RowActionsButton from './RowActionsButton';\nimport MoreMenuPopup from './MoreMenuPopup';\n\nconst hideOverlay = (callback, setShow) => () => {\n  setShow(false);\n  if (callback) {\n    callback();\n  }\n};\n\nconst createDeleteAction = (onDelete, disabled, setShow) => ({\n  name: 'delete',\n  action: 'delete',\n  text: 'Delete',\n  update: hideOverlay(onDelete, setShow),\n  icon: <Icon name=\"bin\" width=\"21\" className=\"sr2 outline icon-orange\" />,\n  disabled\n});\n\nconst createEditAction = (onEdit, setShow) => ({\n  name: 'edit',\n  action: 'edit',\n  text: 'Edit',\n  update: hideOverlay(onEdit, setShow),\n  icon: <Icon name=\"pencil\" width=\"21\" className=\"sr2 outline icon-orange\" />\n});\n\nconst createViewClientAction = viewClient => ({\n  action: 'View Content Version',\n  name: viewClient.isOnClientVersion ? 'in-progress-version' : 'client-version',\n  text: viewClient.isOnClientVersion\n    ? 'Switch to In Progress Version'\n    : 'Switch to client version',\n  update: viewClient.isOnClientVersion\n    ? viewClient.onShowDraftVersion\n    : viewClient.onShowClientVersion,\n  icon: (\n    <Icon name=\"partnership\" width=\"21\" className=\"sr2 outline icon-orange\" />\n  ),\n  disabled: viewClient.isOnClientVersion ? false : !viewClient.hasClientVersion\n});\n\nconst createRefreshAction = (onRefresh, disabled, setShow) => ({\n  name: 'refresh',\n  action: 'refresh',\n  text: 'Refresh data',\n  update: hideOverlay(onRefresh, setShow),\n  confirmation: undefined,\n  icon: <Icon name=\"refresh\" width=\"21\" className=\"sr2 outline icon-orange\" />,\n  disabled\n});\n\nconst createPreviewReportAction = (url, history) => ({\n  action: 'Preview Report',\n  name: 'preview-report',\n  text: 'Preview report',\n  update: () => {\n    history.push(url);\n  },\n  icon: <Icon name=\"report\" width=\"21\" className=\"sr2 outline icon-orange\" />\n});\n\nconst MoreMenu = ({\n  itemId,\n  onDelete,\n  onRefresh,\n  onEdit,\n  viewClient,\n  workflowActions,\n  reportPreviewUrl,\n  isDisabled\n}) => {\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n  const history = useHistory();\n  const { projectId } = useParams();\n\n  const isOnClientVersion = viewClient && viewClient.isOnClientVersion;\n\n  const workflowActionsWithIcons = (workflowActions || []).map(action => ({\n    ...action,\n    disabled: isDisabled || isOnClientVersion,\n    icon: (\n      <Icon name={action.icon} width=\"21\" className=\"sr2 outline icon-orange\" />\n    )\n  }));\n\n  let actions = [];\n  if (onRefresh) {\n    actions.push(createRefreshAction(onRefresh, isOnClientVersion, setShow));\n  }\n\n  actions = actions.concat(workflowActionsWithIcons);\n\n  if (viewClient) {\n    actions.push(createViewClientAction(viewClient));\n  }\n\n  if (onEdit) {\n    actions.push(createEditAction(onEdit, setShow));\n  }\n\n  actions.push(createDeleteAction(onDelete, isOnClientVersion, setShow));\n\n  if (reportPreviewUrl) {\n    actions.push(createPreviewReportAction(reportPreviewUrl, history));\n  }\n\n  if (isDisabled) {\n    _forEach(actions, action => {\n      action.disabled = action.name === 'share' ? action.disabled : true;\n    });\n  }\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n    if (show === true) {\n      setTimeout(() => {\n        document.body.click();\n      }, 200);\n    }\n  };\n\n  return (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <div ref={ref}>\n          <RowActionsButton\n            isDisabled={isProjectDisabled}\n            onClick={handleClick}\n          />\n          <Overlay\n            show={show}\n            target={target}\n            placement=\"bottom-end\"\n            rootClose\n            onHide={() => {\n              setShow(!show);\n            }}\n            container={ref.current}\n          >\n            <MoreMenuPopup itemId={itemId} actions={actions || []} />\n          </Overlay>\n        </div>\n      )}\n    </EnableForProjectState>\n  );\n};\n\nMoreMenu.defaultProps = {\n  isDisabled: false\n};\n\nexport default MoreMenu;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport EnableForProjectState from '../../security/EnableForProjectState';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport MoreMenu from '../../../common/components/ContentActions/MoreMenu';\nimport { entitySharedStatusUpdateSuccess } from '../../comments/commentsSlice';\nimport { viewAnalysisReportPreviewPath } from '../../../common/services/urlService';\n\nconst AnalysisControlsHeader = ({\n  onEdit,\n  onDelete,\n  onRefresh,\n  deleteConfirmation,\n  analysis,\n  viewClient,\n  workflowActions = [],\n  libraryItemCorruptedError,\n  onCloseErrorState,\n  children,\n  isShared\n}) => {\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(entitySharedStatusUpdateSuccess(isShared));\n  }, [dispatch, isShared]);\n\n  const reportPreviewUrl = viewAnalysisReportPreviewPath(\n    projectId,\n    analysis.contentThreadId,\n    viewClient.isOnClientVersion ? 'shared' : 'latest',\n    analysis.isUnStructured\n  );\n\n  return (\n    <div className=\"analysis-top-bar-container\">\n      <div className=\"analysis-top-bar\">\n        {children}\n        <div />\n        <div>\n          <ShowForPermissions\n            projectId={projectId}\n            permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n          >\n            <EnableForProjectState projectId={projectId}>\n              {({ isProjectDisabled }) => (\n                <Button\n                  data-testid=\"edit-button\"\n                  type=\"button\"\n                  onClick={onEdit}\n                  className=\"button-block button-small mr-3\"\n                  disabled={isProjectDisabled || viewClient.isOnClientVersion}\n                >\n                  Edit\n                </Button>\n              )}\n            </EnableForProjectState>\n            <MoreMenu\n              itemId={analysis.contentThreadId}\n              onDelete={onDelete}\n              onRefresh={onRefresh}\n              deleteConfirmation={deleteConfirmation}\n              workflowActions={workflowActions}\n              viewClient={viewClient}\n              libraryItemCorruptedError={libraryItemCorruptedError}\n              onCloseErrorState={onCloseErrorState}\n              reportPreviewUrl={reportPreviewUrl}\n            />\n          </ShowForPermissions>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nAnalysisControlsHeader.propTypes = {\n  onEdit: PropTypes.func.isRequired,\n  onRefresh: PropTypes.func\n};\n\nAnalysisControlsHeader.defaultProps = {\n  onRefresh: undefined\n};\n\nexport default AnalysisControlsHeader;\n","import React, { useState, useEffect } from 'react';\nimport NarrativeSection from '../NarrativeSection/NarrativeSection';\nimport { getConnectedContent } from '../ConnectedContentService';\nimport {\n  viewHypothesisPath,\n  viewInsightPath\n} from '../../../common/services/urlService';\nimport './ConnectedContent.scss';\nimport { analysisLinkBuilder } from '../../analyses/common/analysisUrlHelper';\n\nconst AnalysisDetailConnectedContent = ({\n  projectId,\n  contentId,\n  classModifier\n}) => {\n  const [connectedContent, setConnectedContent] = useState(null);\n\n  useEffect(() => {\n    const fetchConnectedContent = async () => {\n      const fetchedConnectedContent = await getConnectedContent(\n        projectId,\n        contentId\n      );\n      setConnectedContent(fetchedConnectedContent);\n    };\n    if (projectId && contentId) {\n      fetchConnectedContent();\n    }\n    return () => setConnectedContent(null);\n  }, [projectId, contentId]);\n\n  const hasConnectedContent =\n    connectedContent && Object.values(connectedContent).some(_ => _.length);\n\n  return hasConnectedContent ? (\n    <div\n      className={`connected-content ${classModifier}`}\n      data-testid=\"connected-content\"\n    >\n      <div className=\"connected-content-title\">Connected content</div>\n      <div className=\"linked-narratives\" data-testid=\"linked-narratives\">\n        <NarrativeSection\n          title=\"Key Focus Areas\"\n          narratives={connectedContent.hypotheses}\n          getViewPath={hypothesisId =>\n            viewHypothesisPath(projectId, hypothesisId)\n          }\n          setNarratives={setConnectedContent}\n          projectId={projectId}\n        />\n        <NarrativeSection\n          title=\"Insights\"\n          narratives={connectedContent.insights}\n          getViewPath={insightId => viewInsightPath(projectId, insightId)}\n          setNarratives={setConnectedContent}\n          projectId={projectId}\n        />\n        <NarrativeSection\n          title=\"Analyses\"\n          narratives={connectedContent.analyses}\n          getViewPath={analysisLinkBuilder(\n            connectedContent.analyses,\n            projectId\n          )}\n          setNarratives={setConnectedContent}\n          projectId={projectId}\n        />\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default AnalysisDetailConnectedContent;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport {\n  LibraryItemsExcelHttpClient,\n  LibraryItemsPptHttpClient,\n  LibraryItemsRichTextHttpClient,\n  ProjectHttpClient\n} from '../../common/services/httpClient';\n\nconst baseServicePath = projectId => `projects/${projectId}/libraryItems`;\n\nexport const getLibraryItems = async projectId => {\n  const response = await ProjectHttpClient.get(baseServicePath(projectId));\n\n  const { data } = response;\n  return data;\n};\n\nexport const getExcelLibraryItemsByGroup = async (projectId, requestData) => {\n  const response = await LibraryItemsExcelHttpClient.post(\n    `/projects/${projectId}`,\n    requestData\n  );\n\n  return response.data;\n};\n\nexport const getPptLibraryItemsByGroup = async (projectId, requestData) => {\n  const response = await LibraryItemsPptHttpClient.post(\n    `/projects/${projectId}`,\n    requestData\n  );\n\n  return response.data;\n};\n\nexport const getRichTextLibraryItemsByGroup = async (\n  projectId,\n  requestData\n) => {\n  const response = await LibraryItemsRichTextHttpClient.post(\n    `/projects/${projectId}`,\n    requestData\n  );\n\n  return response.data;\n};\n\nexport const getLibraryItemForStructuredContent = async (\n  projectId,\n  libraryItemId,\n  contentThreadId,\n  contentVersionNumber\n) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(\n      projectId\n    )}/forStructuredContent/${libraryItemId}?contentThreadId=${contentThreadId}&contentVersionNumber=${contentVersionNumber}`\n  );\n  return response.data;\n};\n\nexport const getLibraryItemWithHtml = async (\n  projectId,\n  libraryItemId,\n  contentThreadId\n) => {\n  const response = await ProjectHttpClient.getHtml(\n    `${baseServicePath(\n      projectId\n    )}/${libraryItemId}?contentThreadId=${contentThreadId}`,\n    {},\n    true\n  );\n  return response.data;\n};\n\nexport const postPowerpointGroup = async (\n  projectId,\n  sharePointItemUrl,\n  driveItemId,\n  fileName,\n  groupName,\n  slideNumber,\n  driveId\n) => {\n  const response = await ProjectHttpClient.postDeprecated(\n    `${baseServicePath(projectId)}/pptGroup`,\n    {\n      title: `${fileName} - ${slideNumber} - ${groupName}`,\n      sharePointItemUrl,\n      driveItemId,\n      groupName,\n      slideNumber: parseInt(slideNumber, 10),\n      driveId\n    }\n  );\n\n  if (response.errors && response.errors.length > 0) {\n    throw new Error(response.errors[0].apiErrorMessage);\n  }\n\n  return response.data;\n};\n\nexport const postPowerBiReport = async (projectId, reportId, reportName) => {\n  const response = await ProjectHttpClient.postDeprecated(\n    `${baseServicePath(projectId)}/pbiReport`,\n    {\n      name: reportName,\n      reportId\n    }\n  );\n  if (response.status !== 201) {\n    throw new Error(`Bad response status. Status: ${response.status}`);\n  }\n  return response.data;\n};\n\nexport const postPowerBiPage = async (\n  projectId,\n  reportId,\n  pageName,\n  pageDisplayName\n) => {\n  const response = await ProjectHttpClient.postDeprecated(\n    `${baseServicePath(projectId)}/pbiPage`,\n    {\n      reportId,\n      pageName,\n      pageDisplayName\n    }\n  );\n  if (response.status !== 201) {\n    throw new Error(`Bad response status. Status: ${response.status}`);\n  }\n  return response.data;\n};\n\nexport const getExcelCharts = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId)}?itemType=${\n      Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value\n    }`\n  );\n  return response.data;\n};\n\nexport const getLibraryItemsByType = async (projectId, libraryItemType) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId)}?itemType=${libraryItemType}`\n  );\n  return response.data;\n};\n\nexport const postRichText = async (projectId, name, richTextData) => {\n  const response = await ProjectHttpClient.postDeprecated(\n    `${baseServicePath(projectId)}/richText`,\n    {\n      name,\n      richTextData\n    }\n  );\n  return response.data;\n};\n\nexport const isDeletable = async (projectId, libraryItemId) =>\n  ProjectHttpClient.get(\n    `${baseServicePath(projectId)}/${libraryItemId}/deletable`\n  ).then(res => res.data.isDeletable);\n\nexport const deleteLibraryItem = async (projectId, libraryItemId) =>\n  ProjectHttpClient.delete(`${baseServicePath(projectId)}/${libraryItemId}`);\n","import { cloneDeep, omit } from 'lodash';\nimport {\n  getExcelLibraryItemsByGroup,\n  getPptLibraryItemsByGroup,\n  getRichTextLibraryItemsByGroup\n} from '../contentLibrary/libraryItemService';\nimport {\n  getAnalysis,\n  getAnalysisVersions,\n  getAnalysisDetailsStatus,\n  getAnalysisDetailsShared,\n  getAnalysisDetailsDraft,\n  getAnalysisDetailsVersions\n} from './analysesService';\nimport { getPowerBiReportData } from './powerBiService';\nimport {\n  fetchAnalysisBegan,\n  fetchAnalysisSucceeded,\n  fetchAnalysisFailed,\n  fetchAnalysisDetailBegin,\n  fetchAnalysisContent,\n  fetchAnalysisLibraryItemGroups,\n  fetchAnalysisDetailFailed,\n  fetchAnalysisVersionsSuccess,\n  fetchLibraryItemsNew,\n  updateSectionItems,\n  updateSections,\n  updateSharedStatus,\n  updateVersions\n} from './analysisSlice';\nimport { getStructuredAnalysis } from '../../common/engine/services/structuredAnalysisService';\nimport { STRUCTURED_DISPLAY_NAME_BY_SUBTYPE } from '../../common/engine/utilities/constants';\n\nconst formatTypeMap = {\n  300: 'SVG',\n  301: 'HTML',\n  500: 'HTML'\n};\n\nconst libraryItemTypeApiMethodMap = {\n  300: getExcelLibraryItemsByGroup,\n  301: getExcelLibraryItemsByGroup,\n  500: getPptLibraryItemsByGroup,\n  400: getPowerBiReportData,\n  401: getPowerBiReportData\n};\n\nconst requestArrayType = {\n  500: 'pptLibraryItems',\n  301: 'excelLibraryItems',\n  300: 'excelLibraryItems'\n};\n\nconst updateLibraryItemsThunk = itemsToAdd => async (dispatch, getState) => {\n  const {\n    analysis: {\n      libraryItemsNew: { items }\n    }\n  } = getState();\n  const newItems = cloneDeep(items).concat(itemsToAdd);\n  dispatch(fetchLibraryItemsNew({ libraryItems: newItems }));\n  dispatch(updateSectionItems());\n};\n\nconst transformPowerBiResponse = (response, data) => {\n  const { libraryItemId, libraryItemType } = response;\n  const clonedResponse = cloneDeep(\n    omit(response, ['libraryItemId', 'libraryItemType'])\n  );\n  const transformedResponse = {\n    ...clonedResponse,\n    id: libraryItemId,\n    type: libraryItemType,\n    data\n  };\n  return transformedResponse;\n};\n\nconst fetchPowerBiSingleItemThunk = (\n  projectId,\n  reqData,\n  libItem\n) => async dispatch => {\n  try {\n    const { data } = reqData;\n    const response = await libraryItemTypeApiMethodMap[libItem.type](\n      projectId,\n      reqData\n    );\n    const transformedResponse = transformPowerBiResponse(response, data);\n    dispatch(updateLibraryItemsThunk(transformedResponse));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n    // TODO: dispatch action to update group status message to failure\n  }\n};\n\nexport const loadPowerBiLibraryItemsThunk = projectId => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemGroups: { powerBiLibraryItemList }\n    }\n  } = getState();\n  if (powerBiLibraryItemList && powerBiLibraryItemList.length === 0) {\n    return;\n  }\n  powerBiLibraryItemList.forEach(group => {\n    const reqBody = {\n      reportId: group.reportId,\n      embedUrl: group.embedUrl\n    };\n    group.powerBiLibraryItems.forEach(libItem => {\n      const reqData = {\n        ...reqBody,\n        libraryItemId: libItem.id,\n        libraryItemType: libItem.type,\n        workspaceId: libItem.workspaceId,\n        name: libItem.name,\n        data: libItem.data\n      };\n\n      dispatch(fetchPowerBiSingleItemThunk(projectId, reqData, libItem));\n    });\n  });\n};\n\nconst transformExcelPptGroupResponse = response => {\n  const { fileName, fileContents } = response;\n  return fileContents.map(item => {\n    const cloned = cloneDeep(item);\n    return {\n      ...cloned,\n      fileName\n    };\n  });\n};\n\nconst fetchExcelPptSingleGroupThunk = (\n  projectId,\n  reqBody,\n  groupType\n) => async dispatch => {\n  try {\n    const response = await libraryItemTypeApiMethodMap[groupType](\n      projectId,\n      reqBody\n    );\n    const transformedItems = transformExcelPptGroupResponse(response);\n    dispatch(updateLibraryItemsThunk(transformedItems));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n    // TODO: dispatch action to update status for group to failure\n  }\n};\n\nexport const loadExcelPptLibraryItemsItemsThunk = projectId => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemGroups: { excelPptLibraryItemList }\n    }\n  } = getState();\n  if (excelPptLibraryItemList && excelPptLibraryItemList.length === 0) {\n    return;\n  }\n\n  excelPptLibraryItemList.forEach(group => {\n    const reqBody = {\n      groupedByKey: group.groupedByKey,\n      sharePointItemUrl: group.sharePointItemUrl,\n      driveId: group.driveId,\n      driveItemId: group.driveItemId,\n      siteId: group.siteId\n    };\n    const groupType = group.excelPptLibraryItems[0].type;\n    reqBody[requestArrayType[groupType]] = group.excelPptLibraryItems.map(\n      libItem => {\n        const cloned = cloneDeep(libItem);\n        const { data } = cloned;\n        data.formatType = formatTypeMap[libItem.type];\n        return { ...cloned, data };\n      }\n    );\n    dispatch(fetchExcelPptSingleGroupThunk(projectId, reqBody, groupType));\n  });\n};\n\nexport const fetchRichTextGroupedItemsThunk = projectId => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemGroups: { richTextLibraryItemList }\n    }\n  } = getState();\n  if (richTextLibraryItemList && richTextLibraryItemList.length === 0) {\n    return;\n  }\n  try {\n    const richTextLibItems = richTextLibraryItemList\n      .reduce((accum, item) => {\n        const { libraryItemId: itemId } = item;\n        const parsedId = Number.isInteger(parseInt(itemId, 10))\n          ? parseInt(itemId, 10)\n          : null;\n        return accum.concat([parsedId]);\n      }, [])\n      .filter(item => item !== null);\n    const reqBody = {\n      libraryItemIds: richTextLibItems\n    };\n    const response = await getRichTextLibraryItemsByGroup(projectId, reqBody);\n    const { richTextLibraryItems } = response;\n    dispatch(updateLibraryItemsThunk(richTextLibraryItems));\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    // TODO: dispatch action to update group status to failure message\n  }\n};\n\nconst transformSharedItem = (existingSectionItem, sharedItem) => {\n  const { type } = sharedItem;\n  let newSectionItem;\n  if (type === 100) {\n    const { data } = sharedItem;\n    newSectionItem = {\n      ...existingSectionItem,\n      ...omit(sharedItem, ['data']),\n      richTextContent: { richTextData: data }\n    };\n  } else if (type === 400 || type === 401) {\n    newSectionItem = { ...existingSectionItem, ...sharedItem };\n  } else if (type === 300 || type === 301 || type === 500) {\n    const { data } = sharedItem;\n    newSectionItem = {\n      ...existingSectionItem,\n      ...omit(sharedItem, ['data']),\n      value: data\n    };\n  }\n  return newSectionItem;\n};\n\nconst updateSharedLibraryItemsThunk = itemsToAdd => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemsShared: { items: sharedItems },\n      sections\n    }\n  } = getState();\n  const newItems = cloneDeep(sharedItems).concat(itemsToAdd);\n  const newSections = sections.map(section => {\n    const { items } = section;\n    const transformedItems = items.map(item => {\n      const clonedItem = cloneDeep(item);\n      const updatedItem = newItems.find(\n        _ => _.id === (item.id || item.libraryItemId)\n      );\n      let transformedSharedItem;\n      if (updatedItem) {\n        transformedSharedItem = transformSharedItem(clonedItem, updatedItem);\n        return {\n          ...transformedSharedItem\n        };\n      }\n      return {\n        ...clonedItem\n      };\n    });\n    return {\n      ...section,\n      items: transformedItems\n    };\n  });\n  dispatch(updateSections({ newSections }));\n};\n\nexport const loadAnalysisVersionsThunk = (\n  projectId,\n  analysisId\n) => async dispatch => {\n  try {\n    const versions = await getAnalysisVersions(projectId, analysisId);\n    dispatch(fetchAnalysisVersionsSuccess({ versions }));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n  }\n};\n\nexport const loadAnalysisWithDraftContent = (\n  projectId,\n  analysisId\n) => async dispatch => {\n  try {\n    dispatch(fetchAnalysisDetailBegin());\n    const response = await getAnalysisDetailsDraft(projectId, analysisId);\n    const { content = {}, libraryItemGroups = {} } = response;\n    dispatch(fetchAnalysisContent({ content }));\n    dispatch(fetchAnalysisLibraryItemGroups({ libraryItemGroups }));\n\n    dispatch(loadExcelPptLibraryItemsItemsThunk(projectId));\n    dispatch(loadPowerBiLibraryItemsThunk(projectId));\n    dispatch(fetchRichTextGroupedItemsThunk(projectId));\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    dispatch(\n      fetchAnalysisDetailFailed({\n        isLoading: false,\n        hasError: true,\n        errorMessage: e.toString()\n      })\n    );\n  }\n};\n\nexport const loadAnalysisWithSharedContent = (\n  projectId,\n  analysisId\n) => async dispatch => {\n  try {\n    const response = await getAnalysisDetailsShared(projectId, analysisId);\n    const { content, items } = response;\n    dispatch(fetchAnalysisContent({ content }));\n    dispatch(updateSharedLibraryItemsThunk(items));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n    // TODO: better error handling\n  }\n};\n\nexport const loadAnalysisStatus = (projectId, analysisId) => async dispatch => {\n  try {\n    const statusResponse = await getAnalysisDetailsStatus(\n      projectId,\n      analysisId\n    );\n    dispatch(updateSharedStatus(statusResponse));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n  }\n};\n\nexport const loadAnalysisVersions = (\n  projectId,\n  analysisId\n  // eslint-disable-next-line no-unused-vars\n) => async dispatch => {\n  try {\n    const versionsResponse = await getAnalysisDetailsVersions(\n      projectId,\n      analysisId\n    );\n    dispatch(updateVersions(versionsResponse));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n  }\n};\n\n// Thunks\nconst loadThunk = async (dispatch, state, loadFunction) => {\n  try {\n    if (!state.isLoading) {\n      dispatch(fetchAnalysisBegan());\n\n      const response = await loadFunction();\n\n      dispatch(fetchAnalysisSucceeded(response));\n    }\n  } catch (error) {\n    dispatch(fetchAnalysisFailed(error.response ? error.response.status : 500));\n  }\n};\n\nexport const loadAnalysisThunk = (\n  projectId,\n  analysisId,\n  versionStatus\n) => async (dispatch, state) => {\n  await loadThunk(dispatch, state, () =>\n    getAnalysis(projectId, analysisId, versionStatus)\n  );\n};\n\nexport const loadStructuredAnalysisThunk = (\n  projectId,\n  analysisId,\n  versionStatus\n) => async (dispatch, state) => {\n  await loadThunk(dispatch, state, async () => {\n    const analysis = await getStructuredAnalysis(\n      projectId,\n      analysisId,\n      versionStatus\n    );\n    analysis.title =\n      STRUCTURED_DISPLAY_NAME_BY_SUBTYPE[analysis.contentSubType];\n    return analysis;\n  });\n};\n","import { ProjectHttpClient } from '../../common/services/httpClient';\n\nconst baseServicePath = (projectId, contentThreadId) =>\n  `projects/${projectId}/workflow/${contentThreadId || ''}`;\n\nexport const getWorkflowStatus = async (projectId, contentThreadId) => {\n  const response = await ProjectHttpClient.get(\n    baseServicePath(projectId, contentThreadId)\n  );\n  return response.data;\n};\n","import { useState, useEffect } from 'react';\nimport { isNil } from 'lodash';\n\nexport const WORKFLOW_ACTIONS = Object.freeze({\n  UNDEFINED: 0,\n  REQUEST_APPROVAL: 1,\n  STOP_APPROVAL_REQUEST: 2,\n  APPROVE: 3,\n  REJECT: 4,\n  SHARE: 5\n});\n\nconst latestVersionFromVersions = versions => {\n  let value = '';\n  if (isNil(versions)) {\n    value = '';\n  } else if (versions.length === 0) {\n    value = 'v1';\n  } else {\n    const clonedVersions = [...versions];\n    const sorted = clonedVersions.sort(\n      (a, b) => a.versionNumber > b.versionNumber\n    );\n    const latest = sorted[sorted.length - 1];\n    value = `v${latest.versionNumber}`;\n  }\n  return value;\n};\n\nconst WorkflowActionsDictionary = {\n  [WORKFLOW_ACTIONS.UNDEFINED]: {\n    actionName: undefined,\n    buttonText: () => undefined,\n    popOverText: undefined,\n    icon: ''\n  },\n  [WORKFLOW_ACTIONS.REQUEST_APPROVAL]: {\n    actionName: 'request-approval',\n    buttonText: () => 'Request approval',\n    popOverText: '',\n    icon: 'confirmed'\n  },\n  [WORKFLOW_ACTIONS.STOP_APPROVAL_REQUEST]: {\n    actionName: 'stop-approval-request',\n    buttonText: () => 'Stop approval request',\n    popOverText: undefined,\n    icon: 'end-process'\n  },\n  [WORKFLOW_ACTIONS.APPROVE]: {\n    actionName: 'approve',\n    buttonText: () => 'Approve',\n    popOverText: undefined,\n    icon: 'thumbs-up'\n  },\n  [WORKFLOW_ACTIONS.REJECT]: {\n    actionName: 'reject',\n    buttonText: () => 'Decline Approval',\n    popOverText: undefined,\n    icon: ''\n  },\n  [WORKFLOW_ACTIONS.SHARE]: {\n    actionName: 'share',\n    buttonText: version => `Share ${version} with client`,\n    popOverText: {\n      title: `Share with client team?`,\n      message:\n        'This will allow the client team to view the latest version of the content.',\n      confirmButtonText: 'Yes, share now'\n    },\n    icon: 'view'\n  }\n};\n\nconst workflowButtonText = (action, versions) => {\n  const version = latestVersionFromVersions(versions);\n  return WorkflowActionsDictionary[action].buttonText(version);\n};\n\nconst workflowActionFactory = (\n  content,\n  versions,\n  getWorkflowState,\n  setWorkflowState\n) => nextSteps => (action, statusUpdater) =>\n  nextSteps.has(action)\n    ? {\n        action,\n        name: WorkflowActionsDictionary[action].actionName,\n        text: workflowButtonText(action, versions),\n        confirmation: WorkflowActionsDictionary[action].popOverText,\n        update: () =>\n          statusUpdater().then(() => {\n            getWorkflowState().then(setWorkflowState);\n          }),\n        icon: WorkflowActionsDictionary[action].icon\n      }\n    : undefined;\n\nexport const useApprovalWorkflow = (\n  getWorkflow,\n  handleClick,\n  projectId,\n  contentId,\n  content,\n  versions\n) => {\n  const [nextSteps, setNextSteps] = useState(new Set([]));\n\n  const setWorkflowState = workflow => {\n    setNextSteps(new Set((workflow && workflow.nextSteps) || []));\n  };\n\n  useEffect(() => {\n    if (content && !content.hasError && contentId) {\n      getWorkflow(projectId, contentId).then(workflow => {\n        setWorkflowState(workflow);\n      });\n    }\n  }, [content, contentId, projectId, getWorkflow]);\n\n  const createWorkflowAction = workflowActionFactory(\n    content,\n    versions,\n    () => getWorkflow(projectId, content && contentId),\n    setWorkflowState\n  )(nextSteps);\n  return Array.from(nextSteps).map(step =>\n    createWorkflowAction(step, () =>\n      handleClick(projectId, content && contentId, step)\n    )\n  );\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nexport const getViewClientInfo = (\n  onShowClientVersion,\n  onShowDraftVersion,\n  versions,\n  contentVersionNumber,\n  contentVersionStatus\n) => {\n  return {\n    onShowClientVersion,\n    onShowDraftVersion,\n    hasClientVersion:\n      versions &&\n      !!versions.find(\n        _ => _.versionStatus === Constants.VERSION_STATUS.SHARED.value\n      ) &&\n      versions.length !== 1,\n    isOnClientVersion:\n      versions &&\n      contentVersionNumber &&\n      contentVersionStatus &&\n      !!versions.find(_ => _.versionNumber > contentVersionNumber) &&\n      contentVersionStatus === Constants.VERSION_STATUS.SHARED.value\n  };\n};\n","import React from 'react';\nimport './PageContentLabel.scss';\n\nconst PageContentLabel = ({ cssLabel, label }) => (\n  <div className={`content-label ${cssLabel}`}>{label}</div>\n);\n\nexport default PageContentLabel;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport './PageSection.scss';\nimport { useParams } from 'react-router-dom';\nimport ShowForRole from '../../../features/security/ShowForRole';\nimport { sanitize } from '../../services/sanitizeService';\n\nconst PageDescription = ({ label, value, sectionId }) => {\n  const { projectId } = useParams();\n\n  return value ? (\n    <>\n      <ShowForRole\n        roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n        projectId={projectId}\n      >\n        <div className=\"section-name\">{label}</div>\n      </ShowForRole>\n      <p\n        className=\"section-text\"\n        data-testid={`page-${sectionId || label.toLowerCase()}`}\n        dangerouslySetInnerHTML={{ __html: sanitize(value) }}\n      />\n    </>\n  ) : null;\n};\n\nexport default PageDescription;\n","import React, { useEffect, useState } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport './ContentItem.scss';\nimport { sanitize } from '../../../services/sanitizeService';\n\nconst ContentItemNew = ({\n  projectId,\n  libraryItemId,\n  contentId,\n  content,\n  children = <h5>Failed To Load Content</h5>\n}) => {\n  const [htmlData, setHtmlData] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  // eslint-disable-next-line no-unused-vars\n  const [svgWidth, setSvgWidth] = useState(null);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const getWidthFromSvg = data => {\n      if (data.includes('svg')) {\n        const xmlDoc = new DOMParser().parseFromString(data, 'application/xml');\n        const svg = xmlDoc.getElementsByTagName('svg')[0];\n        if (svg) {\n          const viewBox = svg.getAttribute('viewbox');\n          if (viewBox) {\n            return viewBox.split(' ')[2];\n          }\n        }\n      }\n      return null;\n    };\n\n    if (content) {\n      setHtmlData(content);\n      setSvgWidth(getWidthFromSvg(content));\n      setIsLoading(false);\n    } else {\n      setHasError(true);\n      setIsLoading(false);\n    }\n  }, [projectId, libraryItemId, contentId, content]);\n\n  return (\n    <>\n      {isLoading && <Loader dataTestId=\"excel-content-loader\" />}\n      {!isLoading && (\n        <div\n          data-testid=\"excel-content-item\"\n          className=\"content-item-container\"\n          dangerouslySetInnerHTML={{\n            __html: sanitize(\n              hasError ? renderToStaticMarkup(children) : htmlData\n            )\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nexport default ContentItemNew;\n","import React from 'react';\n\nconst PowerBiReportDisplayConfig = ({\n  embedToken,\n  embedUrl,\n  reportId,\n  reportTitle,\n  pageName = ''\n}) => (\n  <div data-testid=\"chart-config-wrapper\">\n    <p data-testid=\"powerbi-report-title\">{`Power BI Report Title: ${reportTitle}`}</p>\n    <p data-testid=\"embed-token\">{`Embed Token: ${embedToken}`}</p>\n    <p data-testid=\"embed-url\">{`Embed Url: ${embedUrl}`}</p>\n    <p data-testid=\"report-id\">{`report Id: ${reportId}`}</p>\n    <p data-testid=\"powerbi-report-page-name\">{`Power BI Report Page Name: ${pageName}`}</p>\n  </div>\n);\n\nexport default PowerBiReportDisplayConfig;\n","import powerBiDarkTheme from './powerBiDarkTheme.json';\nimport powerBiLightTheme from './powerBiLightTheme.json';\n\nexport const getPowerBiTheme = isDarkMode => ({\n  themeJson: isDarkMode ? powerBiDarkTheme : powerBiLightTheme\n});\n","import { models } from 'powerbi-client';\nimport { getPowerBiTheme } from '../../contentLibrary/IngestLibraryItemModal/getPowerBiTheme';\n\nexport const computeContainerDimensions = (height, width, isSinglePage) => {\n  const BOTTOM_TOOLBAR_HEIGHT = 36;\n  const BOTTOM_SCROLLBAR_HEIGHT = 8;\n  const RIGHT_TOOLBAR_WIDTH = 37;\n\n  const computedHeight = isSinglePage\n    ? height + BOTTOM_SCROLLBAR_HEIGHT\n    : height + BOTTOM_SCROLLBAR_HEIGHT + BOTTOM_TOOLBAR_HEIGHT;\n\n  const computedWidth = isSinglePage ? width : width + RIGHT_TOOLBAR_WIDTH;\n\n  return [computedHeight, computedWidth];\n};\n\nexport const buildPowerBiReportConfig = ({\n  embedToken,\n  embedUrl,\n  pageName,\n  reportId,\n  isDarkMode\n}) => {\n  const config = {\n    type: 'report',\n    tokenType: models.TokenType.Embed,\n    accessToken: embedToken,\n    embedUrl,\n    id: reportId,\n    permissions: models.Permissions.All,\n    settings: {\n      panes: {\n        pageNavigation: {\n          visible: !pageName\n        },\n        filters: {\n          expanded: false,\n          visible: !pageName\n        }\n      },\n      layoutType: models.LayoutType.Custom,\n      customLayout: {\n        displayOption: models.DisplayOption.ActualSize\n      }\n    },\n    pageName,\n    theme: getPowerBiTheme(isDarkMode)\n  };\n\n  return config;\n};\n","import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { get, isEmpty } from 'lodash';\nimport { useSelector } from 'react-redux';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport PowerBiReportDisplayConfig from './PowerBiReportDisplayConfig';\nimport { getReportEmbedData } from '../powerBiService';\nimport { getIsDarkModeSelector } from '../../../common/redux/userSettings/userSettingsSlice';\nimport {\n  buildPowerBiReportConfig,\n  computeContainerDimensions\n} from './powerBiReportHelpers';\n\nimport './PowerBiReport.scss';\n\nconst PowerBiReport = ({ item, projectId }) => {\n  const [isE2eEnvironment] = useState(Boolean(window.Cypress));\n  const [reportData, setReportData] = useState(null);\n  const powerBiContainerRef = useRef(null);\n  const isDarkMode = useSelector(getIsDarkModeSelector);\n  const [powerBiContainerDimensions, setPowerBiContainerDimensions] = useState({\n    height: '650px',\n    width: '100%'\n  });\n\n  const toFetchEmbeddedData = useMemo(() => {\n    if (!isEmpty(item.data) && !item.data.pageName) {\n      const data = JSON.parse(item.data);\n      if (!isEmpty(data.ReportId)) {\n        return true;\n      }\n      return false;\n    }\n    return false;\n  }, [item]);\n\n  useEffect(() => {\n    const fetchReportData = async () => {\n      window.powerbi.reset(powerBiContainerRef.current);\n      window.powerbi.bootstrap(powerBiContainerRef.current, {\n        type: 'report'\n      });\n      const powerBiData = await getReportEmbedData(\n        projectId,\n        item.id,\n        item.isShared\n      );\n      const pageName = get(JSON.parse(item.data), 'PageName', '');\n\n      setReportData({ ...powerBiData, pageName });\n    };\n    if (item && item.type && !toFetchEmbeddedData) {\n      if (!isEmpty(item.data)) {\n        const { pageName } = item.data;\n        setReportData({ ...item, pageName });\n      } else {\n        setReportData(item);\n      }\n    } else if (toFetchEmbeddedData) {\n      fetchReportData();\n    }\n  }, [item, projectId, toFetchEmbeddedData]);\n\n  useEffect(() => {\n    async function embedPowerBi() {\n      const embeddedReport = window.powerbi.embed(\n        powerBiContainerRef.current,\n        buildPowerBiReportConfig({\n          embedToken: reportData.embedToken,\n          embedUrl: reportData.embedUrl,\n          pageName: reportData.pageName,\n          reportId: reportData.reportId,\n          isDarkMode\n        })\n      );\n      embeddedReport.on('loaded', () => {\n        embeddedReport.getPages().then(pages => {\n          const foundPageIndex = pages.findIndex(\n            page => page.name === reportData.pageName\n          );\n          const pageIndex = foundPageIndex < 0 ? 0 : foundPageIndex;\n          const { height, width } = pages[pageIndex].defaultSize;\n          const [computedHeight, computedWidth] = computeContainerDimensions(\n            height,\n            width,\n            !!reportData.pageName\n          );\n          setPowerBiContainerDimensions({\n            height: computedHeight,\n            width: computedWidth\n          });\n        });\n      });\n    }\n    if (reportData) {\n      embedPowerBi();\n    }\n  }, [reportData, isDarkMode]);\n\n  const showPowerBi = reportData;\n  const powerBiDisplay = !showPowerBi ? 'none' : null;\n\n  return (\n    <>\n      {!reportData && <Loader dataTestId=\"library-item-loading-indicator\" />}\n      <div data-testid=\"powerbi-wrapper\" className=\"powerbi-wrapper\">\n        {isE2eEnvironment && reportData && (\n          <PowerBiReportDisplayConfig\n            embedToken={reportData.embedToken}\n            reportId={reportData.reportId}\n            embedUrl={reportData.embedUrl}\n            reportTitle={reportData.reportTitle}\n            pageName={reportData.pageName}\n          />\n        )}\n        <div\n          ref={powerBiContainerRef}\n          data-testid=\"powerbi-container\"\n          style={{\n            height: powerBiContainerDimensions.height,\n            maxWidth: powerBiContainerDimensions.width,\n            display: powerBiDisplay\n          }}\n        >\n          Loading Power BI Report...\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PowerBiReport;\n","import React from 'react';\nimport './ContentItem.scss';\nimport { sanitize } from '../../../services/sanitizeService';\n\nconst RichTextLibraryItem = ({ item }) => {\n  const {\n    richTextContent: { richTextData }\n  } = item;\n  return (\n    <div\n      className=\"rich-text-content-item-container\"\n      dangerouslySetInnerHTML={{ __html: sanitize(richTextData) }}\n    />\n  );\n};\n\nexport default RichTextLibraryItem;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport ContentItemNew from '../../../common/charts/types/ContentItem/ContentItemNew';\nimport PowerBiReport from '../PowerBiReport/PowerBiReport';\nimport RichTextLibraryItem from '../../../common/charts/types/ContentItem/RichTextLibraryItem';\n\nconst AnalysisLibraryItem = React.memo(\n  ({ item, projectId, analysisId }) => {\n    const renderableContentItemTypes = [\n      Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value,\n      Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value,\n      Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value\n    ];\n\n    const isPowerBiReport =\n      item.type === Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value ||\n      item.type === Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value;\n\n    return (\n      <div\n        data-testid=\"analysis-library-item\"\n        data-library-item-name={item.name}\n        className=\"analysis-library-item-container\"\n      >\n        <div className=\"analysis-library-item-content\">\n          {item.type && (\n            <>\n              {renderableContentItemTypes.includes(item.type) && (\n                <ContentItemNew\n                  projectId={projectId}\n                  libraryItemId={item.id}\n                  contentId={analysisId}\n                  content={item.value || null}\n                />\n              )}\n              {item.type === Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value && (\n                <RichTextLibraryItem item={item} />\n              )}\n\n              {isPowerBiReport && (\n                <PowerBiReport item={item} projectId={projectId} />\n              )}\n            </>\n          )}\n          {!item.type && <Loader dataTestId=\"excel-content-loader\" />}\n        </div>\n      </div>\n    );\n  },\n  (prevProps, nextProps) =>\n    nextProps.item.id === prevProps.item.id &&\n    nextProps.item.isShared === prevProps.item.isShared\n);\nexport default AnalysisLibraryItem;\n","import React from 'react';\nimport _orderBy from 'lodash/orderBy';\nimport AnalysisLibraryItem from './AnalysisLibraryItem';\n\nconst OneColumnLayout = ({ items, projectId, analysisId }) => {\n  return _orderBy(items, [item => item.order]).map(item => (\n    <AnalysisLibraryItem\n      item={item}\n      key={`${item.id}-${item.name}`}\n      projectId={projectId}\n      analysisId={analysisId}\n    />\n  ));\n};\n\nexport default OneColumnLayout;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport OneColumnLayout from '../OneColumnLayout';\nimport './MultipleColumnLayout.scss';\n\nconst MultipleColumnLayout = ({\n  columnPositionClassMap,\n  items,\n  analysisId,\n  projectId,\n  containerClass\n}) => {\n  return (\n    <div data-testid=\"section-areas-container\" className={containerClass}>\n      {Object.keys(columnPositionClassMap).map(key => {\n        return (\n          <div\n            className={`panel-area panel-area-${columnPositionClassMap[key]}`}\n            key={`panel-area-${columnPositionClassMap[key]}`}\n            data-testid={`panel-area-${columnPositionClassMap[key]}`}\n          >\n            <OneColumnLayout\n              analysisId={analysisId}\n              projectId={projectId}\n              items={items.filter(\n                i => i.analysisColumn === columnPositionClassMap[key]\n              )}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nMultipleColumnLayout.propTypes = {\n  /* eslint-disable react/forbid-prop-types */\n  columnPositionClassMap: PropTypes.object.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  analysisId: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  containerClass: PropTypes.string.isRequired\n};\n\nexport default MultipleColumnLayout;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport classNames from 'classnames';\n\nimport OneColumnLayout from './OneColumnLayout';\nimport MultipleColumnLayout from './MultipleColumnLayout/MultipleColumnLayout';\nimport './Section.scss';\n\nexport default ({ projectId, analysisId, section }) => {\n  const placeHolderDiv = () => {\n    return <div>Failed to load Analysis section. </div>;\n  };\n\n  const layoutConfigs = {\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: {\n      containerClass: 'two-column-layout',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    // layoutType : 3\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]: {\n      containerClass: 'section-grid one-row-three-column',\n      columnPositionClassMap: {\n        LEFT: 1,\n        MIDDLE: 2,\n        RIGHT: 3\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: {},\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: {\n      containerClass: 'section-onecolumn--eighty-percent'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: {\n      containerClass: 'section-onecolumn--sixty-percent'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: {\n      containerClass: 'section-onecolumn--forty-percent'\n    },\n\n    // layoutType: 7\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]: {\n      containerClass: 'section-onecolumn--one-column-overflow'\n    },\n\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]: {\n      containerClass: 'section-grid two-row-t80-1a-b20-1a',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]: {\n      containerClass: 'section-grid two-row-t60-1a-b40-1a',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]: {\n      containerClass: 'section-grid two-row-t20-1a-b80-1a',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]: {\n      containerClass: 'section-grid two_column_left_50_2a_r_50_1a',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        RIGHT: 2,\n        BOTTOM_LEFT: 3\n      }\n    },\n    // layoutType: 9\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]: {\n      containerClass: 'section-grid two-column-four-area-3left50-right50',\n      columnPositionClassMap: {\n        LEFT_FIRST: 1,\n        RIGHT: 2,\n        LEFT_SECOND: 3,\n        LEFT_THIRD: 4\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]: {\n      containerClass: 'section-grid two-column-l40-1a-r60-1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]: {\n      containerClass: 'section-grid two-column-l67-1a-r33-1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]: {\n      containerClass: 'section-grid two-column-left-67-2a-right-33-1a',\n      columnPositionClassMap: {\n        LEFT_FIRST: 1,\n        RIGHT: 2,\n        LEFT_SECOND: 3,\n        LEFT_THIRD: 4\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]: {\n      containerClass: 'section-grid two-column-l80-1a-r20-1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]: {\n      containerClass: 'section-grid two_column_t_50_2a_b_50_1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2,\n        BOTTOM: 3\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]: {\n      containerClass: 'stack-two-block-bottom',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM_LEFT: 2,\n        BOTTOM_RIGHT: 3\n      }\n    },\n    // layoutType: 19\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]: {\n      containerClass: 'section-grid two-row-two-column-50-50',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        TOP_RIGHT: 2,\n        BOTTOM_LEFT: 3,\n        BOTTOM_RIGHT: 4\n      }\n    },\n    // layoutType: 20\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]: {\n      containerClass: 'section-grid four-block-narrow-right',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        TOP_RIGHT: 2,\n        BOTTOM_LEFT: 3,\n        BOTTOM_RIGHT: 4\n      }\n    },\n    // layoutType: 21\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]: {\n      containerClass: 'section-grid two-row-three-column',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        TOP_MIDDLE: 2,\n        TOP_RIGHT: 3,\n        BOTTOM_LEFT: 4,\n        BOTTOM_MIDDLE: 5,\n        BOTTOM_RIGHT: 6\n      }\n    }\n  };\n\n  const layoutConfig = layoutConfigs[section.layoutType];\n  const { columnPositionClassMap, containerClass } = layoutConfig;\n\n  if (\n    [\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA\n    ].includes(section.layoutType)\n  ) {\n    return (\n      <div\n        className={classNames('section-onecolumn', containerClass)}\n        data-testid=\"section-one-column\"\n      >\n        <OneColumnLayout\n          projectId={projectId}\n          analysisId={analysisId}\n          items={section.items}\n        />\n      </div>\n    );\n  }\n\n  if (containerClass && columnPositionClassMap) {\n    return (\n      <MultipleColumnLayout\n        columnPositionClassMap={columnPositionClassMap}\n        containerClass={containerClass}\n        projectId={projectId}\n        analysisId={analysisId}\n        items={section.items}\n      />\n    );\n  }\n\n  return placeHolderDiv();\n};\n","import React from 'react';\nimport { DateTime } from 'luxon';\nimport './PageLastUpdated.scss';\n\nexport const PageLastUpdated = ({ dateModified, modifiedBy, version }) => (\n  <p className=\"page-last-updated\" data-testid=\"page-last-updated\">\n    <span className=\"text-lastupdated bold\">\n      {version && `v${version} `}Last updated{' '}\n    </span>\n    <span>\n      <span className=\"text-timestamp\">\n        {DateTime.fromISO(dateModified, {\n          zone: 'utc'\n        })\n          .toLocal()\n          .toFormat('H:mm ZZZZ - d LLL yyyy')}\n      </span>\n      {modifiedBy && ` by ${modifiedBy}`}\n    </span>\n  </p>\n);\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { PageLastUpdated } from '../PageLastUpdated/PageLastUpdated';\nimport ShowForRole from '../../../features/security/ShowForRole';\nimport PillContainer from '../Pills/PillContainer';\n\nconst StatusContainer = ({ projectId, content, allowDraftPill, className }) => {\n  return (\n    <>\n      <ShowForRole\n        projectId={projectId}\n        roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n      >\n        <PageLastUpdated\n          dateModified={content.dateModified}\n          modifiedBy={content.modifiedBy}\n          version={content.versionNumber}\n        />\n      </ShowForRole>\n      <PillContainer\n        projectId={projectId}\n        content={content}\n        allowDraftPill={allowDraftPill}\n        className={className}\n      />\n    </>\n  );\n};\n\nexport default StatusContainer;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport '../../common/analysis-detail-screen.scss';\nimport PageContentLabel from '../../../../common/components/PageContentLabel/PageContentLabel';\nimport PageTitle from '../../../../common/components/PageTitle/PageTitle';\nimport PageSection from '../../../../common/components/PageSection';\nimport './AnalysisDetailScreen.scss';\nimport Section from '../Section';\nimport StatusContainer from '../../../../common/components/StatusContainer/StatusContainer';\nimport { selectAnalysisSections } from '../../analysisSlice';\n\nconst AnalysisDetailScreen = ({ projectId, analysis, viewClient }) => {\n  const sections = useSelector(selectAnalysisSections);\n  const sortedSectionByOrder = [...sections].sort((a, b) => a.order - b.order);\n\n  return (\n    <>\n      <PageContentLabel cssLabel=\"analysis\" label=\"Analysis\" />\n      <div className=\"section-name\">Title</div>\n      <PageTitle title={analysis.title} />\n      <StatusContainer\n        className=\"analysis-pill-container\"\n        projectId={projectId}\n        content={analysis}\n        allowDraftPill={!viewClient.isOnClientVersion}\n      />\n      <PageSection label=\"Description\" value={analysis.body} />\n      {sortedSectionByOrder.map(section => (\n        <Section\n          key={section.order}\n          projectId={projectId}\n          analysisId={analysis.contentThreadId}\n          section={section}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default AnalysisDetailScreen;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useHistory } from 'react-router-dom';\nimport isEmpty from 'lodash/isEmpty';\nimport { Constants, ErrorUtilities } from '@pwc/pwc-deals-web-common';\n\nimport updateEntityVersion from '../../../../common/actions/updateEntityVersion';\nimport {\n  editAnalysisPath,\n  analysesListPath\n} from '../../../../common/services/urlService';\nimport '../../common/analysis-detail-screen.scss';\nimport '../../common/analysis-top-bar-container.scss';\nimport FormLayout from '../../../../common/components/layouts/FormLayout';\nimport AnalysisControlsHeader from '../../common/AnalysisControlsHeader';\nimport AnalysisDetailConnectedContent from '../../../narratives/ConnectedContent/AnalysisDetailConnectedContent';\nimport {\n  getAnalysisStatus,\n  resetAnalysis,\n  selectAnalysisContent,\n  getAnalysisIsShared,\n  selectAnalysisVersions,\n  selectDraftVersion,\n  selectSharedVersion\n} from '../../analysisSlice';\nimport {\n  loadAnalysisVersions,\n  loadAnalysisWithDraftContent,\n  loadAnalysisWithSharedContent\n} from '../../analysisSliceThunk';\nimport { deleteAnalysis, updateAnalysisStatus } from '../../analysesService';\nimport ModalConfirmation from '../../../../common/components/ModalConfirmation';\nimport { getWorkflowStatus } from '../../../workflow/workflowService';\nimport TagList from '../../common/TagList/TagList';\nimport { useApprovalWorkflow } from '../../../../common/hooks/useApprovalWorkflow';\nimport { getViewClientInfo } from '../../../../common/helpers/viewClientVersion';\nimport AnalysisDetailScreen from './AnalysisDetailScreen';\nimport { showMoreMenuError } from '../../../../common/redux/errors/errorsSlice';\nimport './AnalysisDetailScreenContainer.scss';\n\nconst AnalysisDetailScreenContainer = () => {\n  const { projectId, analysisId } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const analysisContent = useSelector(selectAnalysisContent);\n  const isAnalysisShared = useSelector(getAnalysisIsShared);\n  const { isLoading } = useSelector(getAnalysisStatus);\n  const [\n    isDeleteConfirmationVisible,\n    setIsDeleteConfirmationVisible\n  ] = useState(false);\n  const selectedVersions = useSelector(selectAnalysisVersions);\n  const draftVersion = useSelector(selectDraftVersion);\n  const sharedVersion = useSelector(selectSharedVersion);\n\n  const handleEdit = () => {\n    history.push(editAnalysisPath(projectId, analysisId));\n  };\n\n  const getDraftContent = useCallback(() => {\n    const { contentId } = draftVersion;\n    dispatch(loadAnalysisWithDraftContent(projectId, contentId));\n  }, [dispatch, draftVersion, projectId]);\n\n  const getSharedContent = useCallback(() => {\n    const { contentId } = sharedVersion;\n    dispatch(loadAnalysisWithSharedContent(projectId, contentId));\n  }, [dispatch, sharedVersion, projectId]);\n\n  useEffect(() => {\n    function loadStatus() {\n      dispatch(loadAnalysisVersions(projectId, analysisId));\n    }\n    loadStatus();\n    return () => dispatch(resetAnalysis());\n  }, [dispatch, projectId, analysisId]);\n\n  useEffect(() => {\n    if (selectedVersions) {\n      if (draftVersion && !isEmpty(draftVersion)) {\n        getDraftContent();\n\n        dispatch(updateEntityVersion(draftVersion.versionNumber));\n      } else if (sharedVersion && !isEmpty(sharedVersion)) {\n        getSharedContent();\n\n        dispatch(updateEntityVersion(sharedVersion.versionNumber));\n      }\n    }\n  }, [\n    analysisId,\n    draftVersion,\n    projectId,\n    selectedVersions,\n    sharedVersion,\n    getDraftContent,\n    getSharedContent,\n    dispatch\n  ]);\n\n  const handleDelete = async () => {\n    await deleteAnalysis(projectId, analysisContent.contentThreadId);\n\n    history.push(analysesListPath(projectId));\n  };\n\n  const workflowActions = useApprovalWorkflow(\n    getWorkflowStatus,\n    async (_projectId, contentId, step) => {\n      try {\n        await updateAnalysisStatus(_projectId, contentId, step);\n      } catch (e) {\n        if (ErrorUtilities.hasLibraryItemCorruptedError(e)) {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED\n            })\n          );\n        } else {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE\n            })\n          );\n        }\n        return;\n      }\n\n      dispatch(loadAnalysisVersions(projectId, analysisId));\n    },\n    projectId,\n    analysisContent && analysisContent.contentThreadId,\n    analysisContent,\n    selectedVersions\n  );\n\n  const showClientVersion = async () => {\n    if (!isLoading && sharedVersion) {\n      getSharedContent();\n\n      dispatch(updateEntityVersion(sharedVersion.versionNumber));\n    }\n  };\n  const showDraftVersion = async () => {\n    if (!isLoading && draftVersion) {\n      getDraftContent();\n\n      dispatch(updateEntityVersion(draftVersion.versionNumber));\n    }\n  };\n\n  const viewClient = getViewClientInfo(\n    showClientVersion,\n    showDraftVersion,\n    selectedVersions,\n    analysisContent && analysisContent.versionNumber,\n    analysisContent && analysisContent.versionStatus\n  );\n\n  const headerComponent = analysisContent && (\n    <>\n      <ModalConfirmation\n        show={isDeleteConfirmationVisible}\n        onCancel={() => setIsDeleteConfirmationVisible(false)}\n        onConfirm={handleDelete}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Analysis will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <AnalysisControlsHeader\n        isShared={isAnalysisShared}\n        workflowActions={workflowActions}\n        onEdit={handleEdit}\n        onDelete={() => setIsDeleteConfirmationVisible(true)}\n        versions={selectedVersions}\n        analysis={analysisContent}\n        viewClient={viewClient}\n      />\n    </>\n  );\n\n  return (\n    analysisContent &&\n    analysisContent.contentThreadId && (\n      <div className=\"analysis-details-screen\">\n        <FormLayout headerComponent={headerComponent}>\n          <div\n            className=\"analysis-main-content\"\n            data-testid=\"analysis-detail-page\"\n          >\n            <AnalysisDetailScreen\n              projectId={projectId}\n              analysis={analysisContent}\n              versions={selectedVersions}\n              viewClient={viewClient}\n            />\n          </div>\n\n          {analysisContent.tags && analysisContent.tags.length > 0 && (\n            <TagList tags={analysisContent.tags} testId=\"analysis-tag-list\" />\n          )}\n          <AnalysisDetailConnectedContent\n            projectId={projectId}\n            contentId={analysisContent.contentId}\n          />\n        </FormLayout>\n      </div>\n    )\n  );\n};\n\nexport default AnalysisDetailScreenContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ActiveContentHeader = ({ icon, pageLabel, children }) => {\n  return (\n    <div className=\"active-content-header-container\">\n      <div className=\"active-content-header\">\n        <div className=\"active-content-header-title\">\n          {icon}\n          <span className=\"icon-label ml-md-3\">{pageLabel}</span>\n        </div>\n        <div className=\"active-content-header-actions\">{children}</div>\n      </div>\n    </div>\n  );\n};\n\nActiveContentHeader.propTypes = {\n  icon: PropTypes.node\n};\n\nActiveContentHeader.defaultProps = {\n  icon: null\n};\n\nexport default ActiveContentHeader;\n","import React from 'react';\nimport './ProjectListLayout.scss';\n\nconst ProjectListLayout = ({ children }) => {\n  return (\n    <div className=\"project-list-layout\">\n      <div className=\"project-list\">{children}</div>\n    </div>\n  );\n};\n\nexport default ProjectListLayout;\n","import React from 'react';\nimport './BlankLayout.scss';\n\nconst BlankLayout = ({ children }) => {\n  return <div className=\"blank-layout\">{children}</div>;\n};\n\nexport default BlankLayout;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\n\nconst PublishButton = ({\n  isSaving,\n  isValid,\n  buttonPosition,\n  buttonSize,\n  onSaveText = 'Publishing...',\n  standbyText = 'Publish',\n  dirty = true,\n  dataTestId = undefined\n}) => {\n  const isPublishable = !isSaving && isValid && dirty !== false;\n\n  return (\n    <Button\n      className={`button-block ${buttonSize}`}\n      type=\"submit\"\n      disabled={!isPublishable}\n      data-testid={dataTestId || `publish-button-${buttonPosition}`}\n    >\n      {isSaving ? onSaveText : standbyText}\n    </Button>\n  );\n};\n\nexport default PublishButton;\n","import PublishButton from './PublishButton';\n\nexport default PublishButton;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\nimport './EditNarrativeCard.scss';\nimport { sanitize } from '../../../common/services/sanitizeService';\n\nconst EditNarrativeCard = ({\n  narrative,\n  testId,\n  getViewPath,\n  parentContentId,\n  linkNarrative\n}) => {\n  const currentNarrative = narrative;\n  const contentIsLinked = (narrativeLinks, linkedId) => {\n    if (narrativeLinks && narrativeLinks.length) {\n      return narrativeLinks.some(\n        link =>\n          link.id.toString() === linkedId.toString() && link.linked !== false\n      );\n    }\n    return false;\n  };\n\n  const link = () => {\n    const id = parseInt(parentContentId, 10);\n    const contentLink = narrative.links.find(l => l.id === id) || { id };\n    const filteredLinks = narrative.links.filter(_ => _.id !== id);\n    currentNarrative.links = [\n      ...filteredLinks,\n      { ...contentLink, linked: true }\n    ];\n    linkNarrative(currentNarrative);\n  };\n\n  const unlink = () => {\n    currentNarrative.links.find(\n      l => l.id === parseInt(parentContentId, 10)\n    ).linked = false;\n    linkNarrative(currentNarrative);\n  };\n\n  return (\n    <div\n      data-testid=\"narrative-card\"\n      className={`narrative-card ${\n        contentIsLinked(narrative.links, parentContentId)\n          ? 'narrative-card-connected'\n          : 'narrative-card-disconnected'\n      }`}\n    >\n      <Link\n        to={getViewPath(narrative.contentThreadId)}\n        className=\"narrative-card-title\"\n        data-testid={`narrative-card-title-${testId}`}\n      >\n        {narrative.title}\n      </Link>\n      {narrative.body && (\n        <div\n          className=\"narrative-card-body truncate\"\n          data-testid={`narrative-card-body-${testId}`}\n          dangerouslySetInnerHTML={{ __html: sanitize(narrative.body) }}\n        />\n      )}\n      <div\n        className=\"link-content-buttons\"\n        data-testid={`narrative-card-link-buttons-${testId}`}\n      >\n        {contentIsLinked(narrative.links, parentContentId) ? (\n          <Button\n            type=\"button\"\n            className=\"button-outline button-small mr-4\"\n            onClick={unlink}\n            data-testid=\"btn-disconnect-content\"\n          >\n            <Icon\n              name=\"hyperlink-remove\"\n              width={16}\n              className=\"fill icon-orange\"\n            />\n            &nbsp; Disconnect\n          </Button>\n        ) : (\n          <Button\n            type=\"button\"\n            className=\"button-block button-small mr-4\"\n            onClick={link}\n            data-testid=\"btn-connect-content\"\n          >\n            <Icon name=\"hyperlink\" width={16} className=\"fill\" />\n            &nbsp; Connect\n          </Button>\n        )}\n        {narrative.shareWithAll && (\n          <div className=\"shared-pill\" data-testid=\"shared-with-client-icon\">\n            <Icon name=\"view\" width={20} className=\"fill icon-black\" />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EditNarrativeCard;\n","/* eslint-disable react/jsx-one-expression-per-line */\nimport React from 'react';\nimport EditNarrativeCard from '../EditNarrativeCard/EditNarrativeCard';\nimport '../NarrativeSection/NarrativeSection.scss';\n\nconst NarrativeSection = ({\n  title,\n  narratives,\n  allNarratives,\n  getViewPath,\n  index = null,\n  setNarratives,\n  parentContentId,\n  search\n}) => {\n  const titleIdentifier = title.replace(/\\s/g, '-').toLowerCase();\n  const titleIdentifierWithIndex =\n    titleIdentifier + (index !== null ? `-${index}` : '');\n  const hasNarratives = narratives.length;\n\n  const sectionClasses = [\n    'narrative-section',\n    `narrative-section-${titleIdentifier}`\n  ];\n  if (!hasNarratives) {\n    sectionClasses.push('narrative-section-empty');\n  }\n\n  const linkNarrative = newNarrative => {\n    const newNarratives = narratives;\n    const replaceAtIndex = newNarratives.findIndex(\n      n => n.contentThreadId === newNarrative.contentThreadId\n    );\n    newNarratives[replaceAtIndex] = newNarrative;\n    setNarratives(newNarratives);\n  };\n\n  const getEmptyMessage = () => {\n    if (allNarratives.length) {\n      if (search === undefined) {\n        return `No connected ${title}`;\n      }\n      return `0 ${title} found for '${search}'`;\n    }\n    return `No ${title.toLowerCase()} available to connect`;\n  };\n\n  return (\n    <div\n      className={sectionClasses.join(' ')}\n      data-testid={`narrative-section-${titleIdentifierWithIndex}`}\n    >\n      <div\n        className=\"narrative-section-title\"\n        data-testid={`narrative-section-title-${titleIdentifierWithIndex}`}\n      >\n        {title}\n      </div>\n      {narratives.length ? (\n        narratives.map((narrative, narrativeIndex) => (\n          <EditNarrativeCard\n            key={`narrative-card-${narrative.title}`}\n            narrative={narrative}\n            testId={`${titleIdentifierWithIndex}-${narrativeIndex}`}\n            getViewPath={getViewPath}\n            parentContentId={parentContentId}\n            linkNarrative={linkNarrative}\n          />\n        ))\n      ) : (\n        <div\n          className=\"narrative-card narrative-card-empty\"\n          data-testid={`narrative-section-empty-${titleIdentifierWithIndex}`}\n        >\n          {getEmptyMessage()}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NarrativeSection;\n","import React from 'react';\nimport EditNarrativeSection from '../EditNarrativeSection/EditNarrativeSection';\nimport {\n  viewHypothesisPath,\n  viewInsightPath\n} from '../../../common/services/urlService';\nimport { analysisLinkBuilder } from '../../analyses/common/analysisUrlHelper';\n\nconst EditConnectedContentSection = ({\n  projectId,\n  parentContentId,\n  narratives,\n  allNarratives,\n  setNarratives,\n  testId = 'connected-content',\n  title = undefined,\n  search\n}) => {\n  const setHypotheses = newHypotheses => {\n    setNarratives({ ...narratives, hypotheses: newHypotheses });\n  };\n\n  const setInsights = newInsights => {\n    setNarratives({ ...narratives, insights: newInsights });\n  };\n\n  const setAnalyses = newAnalyses => {\n    setNarratives({ ...narratives, analyses: newAnalyses });\n  };\n\n  const hasNarratives = narratives && Object.keys(narratives).length > 0;\n\n  return (\n    hasNarratives && (\n      <>\n        <div\n          className=\"connected-content edit-connected-content\"\n          data-testid={testId}\n        >\n          {title && title.length > 0 && <p>{title}</p>}\n          <div className=\"linked-narratives\" data-testid=\"linked-narratives\">\n            <EditNarrativeSection\n              title=\"Key Focus Areas\"\n              narratives={narratives.hypotheses}\n              allNarratives={allNarratives.hypotheses}\n              getViewPath={hypothesisId =>\n                viewHypothesisPath(projectId, hypothesisId)\n              }\n              setNarratives={setHypotheses}\n              parentContentId={parentContentId}\n              projectId={projectId}\n              edit\n              search={search}\n            />\n            <EditNarrativeSection\n              title=\"Insights\"\n              narratives={narratives.insights}\n              allNarratives={allNarratives.insights}\n              getViewPath={insightId => viewInsightPath(projectId, insightId)}\n              setNarratives={setInsights}\n              parentContentId={parentContentId}\n              projectId={projectId}\n              edit\n              search={search}\n            />\n            <EditNarrativeSection\n              title=\"Analyses\"\n              narratives={narratives.analyses}\n              allNarratives={allNarratives.analyses}\n              getViewPath={analysisLinkBuilder(narratives.analyses, projectId)}\n              setNarratives={setAnalyses}\n              parentContentId={parentContentId}\n              projectId={projectId}\n              edit\n              search={search}\n            />\n          </div>\n        </div>\n      </>\n    )\n  );\n};\n\nexport default EditConnectedContentSection;\n","import { useState, useEffect } from 'react';\n\nconst emptyNarratives = {\n  hypotheses: [],\n  insights: [],\n  analyses: []\n};\n\nconst useConnectedNarratives = (parentContentId, narratives, search) => {\n  const [\n    availableToConnectNarratives,\n    setAvailableToConnectNarratives\n  ] = useState(emptyNarratives);\n  const [\n    filteredAvailableToConnectNarratives,\n    setFilteredAvailableToConnectNarratives\n  ] = useState(emptyNarratives);\n  const [\n    previouslyConnectedNarratives,\n    setPreviouslyConnectedNarratives\n  ] = useState(emptyNarratives);\n  useEffect(() => {\n    const testString = (testSearch, string) =>\n      (string || '').toLowerCase().includes(testSearch.toLowerCase());\n\n    if (!narratives || !Object.keys(narratives).length) {\n      setAvailableToConnectNarratives(emptyNarratives);\n      setPreviouslyConnectedNarratives(emptyNarratives);\n      return;\n    }\n\n    const filterByIsConnectedToParent = narrative => {\n      return narrative.links.some(\n        link => link.id === parseInt(parentContentId, 10) && link.linkId\n      );\n    };\n\n    const filterByIsNotConnectedToParent = narrative =>\n      !filterByIsConnectedToParent(narrative);\n\n    const filterBySearch = narrative => {\n      return (\n        (testString(search, narrative.title) ||\n          testString(search, narrative.body) ||\n          testString(search, narrative.conclusion)) &&\n        filterByIsNotConnectedToParent(narrative)\n      );\n    };\n\n    setPreviouslyConnectedNarratives({\n      hypotheses: narratives.hypotheses.filter(filterByIsConnectedToParent),\n      insights: narratives.insights.filter(filterByIsConnectedToParent),\n      analyses: narratives.analyses.filter(filterByIsConnectedToParent)\n    });\n\n    const available = {\n      hypotheses: narratives.hypotheses.filter(filterByIsNotConnectedToParent),\n      insights: narratives.insights.filter(filterByIsNotConnectedToParent),\n      analyses: narratives.analyses.filter(filterByIsNotConnectedToParent)\n    };\n    setAvailableToConnectNarratives(available);\n\n    if (search) {\n      setFilteredAvailableToConnectNarratives({\n        hypotheses: narratives.hypotheses.filter(filterBySearch),\n        insights: narratives.insights.filter(filterBySearch),\n        analyses: narratives.analyses.filter(filterBySearch)\n      });\n    } else {\n      setFilteredAvailableToConnectNarratives(available);\n    }\n  }, [narratives, search, parentContentId]);\n\n  return {\n    availableToConnectNarratives,\n    filteredAvailableToConnectNarratives,\n    previouslyConnectedNarratives\n  };\n};\n\nexport default useConnectedNarratives;\n","import React, { useState } from 'react';\nimport { Button, Icon, TextInput } from '@pwc/pwc-deals-ui';\nimport EditConnectedContentSection from '../EditConnectedContentSection/EditConnectedContentSection';\nimport useConnectedNarratives from './useConnectedNarratives';\nimport './EditConnectedContent.scss';\n\nconst mergeContent = (narratives, updatedNarratives, key) => {\n  return narratives[key].map(original => ({\n    ...original,\n    ...(updatedNarratives[key].filter(\n      updated => updated.contentId === original.contentId\n    )[0] || {})\n  }));\n};\n\nconst EditConnectedContent = ({\n  projectId,\n  parentContentId,\n  narratives,\n  setNarratives\n}) => {\n  const [isViewingAll, setIsViewingAll] = useState(false);\n  const [search, setSearch] = useState('');\n\n  const {\n    availableToConnectNarratives,\n    filteredAvailableToConnectNarratives,\n    previouslyConnectedNarratives\n  } = useConnectedNarratives(parentContentId, narratives, search);\n\n  const handleSetNarratives = updatedSectionNarratives => {\n    const updatedNarratives = {\n      hypotheses: mergeContent(\n        narratives,\n        updatedSectionNarratives,\n        'hypotheses'\n      ),\n      insights: mergeContent(narratives, updatedSectionNarratives, 'insights'),\n      analyses: mergeContent(narratives, updatedSectionNarratives, 'analyses')\n    };\n    setNarratives(updatedNarratives);\n  };\n\n  const hasNarratives = narratives && Object.keys(narratives).length > 0;\n  const hasPreviouslyConnectedNarratives =\n    previouslyConnectedNarratives &&\n    Object.values(previouslyConnectedNarratives).filter(_ => _.length).length;\n\n  const flattenedNarratives =\n    narratives &&\n    Object.keys(narratives)\n      .map(key => narratives[key])\n      .reduce((x, y) => x.concat(y), []);\n\n  const searchField = {\n    name: 'connected-content-search',\n    value: search,\n    onChange: e => setSearch(e.target.value)\n  };\n\n  return (\n    hasNarratives && (\n      <>\n        <br />\n        <div className=\"connected-content-controls\">\n          <div>\n            <Icon\n              name=\"hyperlink\"\n              width={16}\n              className=\"icon fill connect-content-icon\"\n            />\n            Connect a Key Focus Area, Insight or Analysis (optional)\n          </div>\n          <div className=\"halfwidth\">\n            <TextInput\n              field={searchField}\n              placeholder=\"Search and select\"\n              iconLeft=\"search\"\n              basic\n            />\n            {!isViewingAll &&\n              flattenedNarratives.filter(_ => _.contentId !== parentContentId)\n                .length > 0 && (\n                <Button\n                  className=\"button-link\"\n                  onClick={e => {\n                    e.preventDefault();\n                    setIsViewingAll(!isViewingAll);\n                  }}\n                  data-testid=\"btn-view-all-content\"\n                >\n                  View All\n                </Button>\n              )}\n          </div>\n        </div>\n\n        {(isViewingAll || !!search) && (\n          <EditConnectedContentSection\n            projectId={projectId}\n            narratives={filteredAvailableToConnectNarratives}\n            allNarratives={availableToConnectNarratives}\n            parentContentId={parentContentId}\n            setNarratives={handleSetNarratives}\n            testId=\"unconnected-content\"\n            search={search}\n          />\n        )}\n\n        {hasPreviouslyConnectedNarratives ? (\n          <EditConnectedContentSection\n            projectId={projectId}\n            narratives={previouslyConnectedNarratives}\n            allNarratives={narratives}\n            parentContentId={parentContentId}\n            setNarratives={handleSetNarratives}\n            testId=\"connected-content\"\n            title=\"Connected content\"\n          />\n        ) : null}\n      </>\n    )\n  );\n};\n\nexport default EditConnectedContent;\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst getLibraryItemIconName = (libraryItemNumericalValue, hoverClass) => {\n  switch (libraryItemNumericalValue) {\n    case Constants.LIBRARY_ITEM_TYPES.EXCEL_CELL_RANGE.value:\n    case Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value:\n      return 'charts';\n    case Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value:\n      return 'bar-chart';\n    case Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value:\n      return 'powerbi-new';\n    case Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value:\n      return hoverClass ? 'powerbi-report' : 'powerbi-new';\n    case Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value:\n      return 'textbox';\n    case Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value:\n      return 'powerpoint';\n    default:\n      return 'view';\n  }\n};\n\nexport default getLibraryItemIconName;\n","import React from 'react';\n// eslint-disable-next-line import/no-unresolved\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport getLibraryItemIconName from './getLibraryItemIconName';\n\nconst renderLibraryItemIcon = (type, iconClass, hoverClass, size = 24) => {\n  return (\n    <Icon\n      name={getLibraryItemIconName(type, hoverClass)}\n      width={size}\n      className={iconClass}\n    />\n  );\n};\n\nexport default renderLibraryItemIcon;\n","import React from 'react';\nimport renderLibraryItemIcon from '../../CreateAnalysis/renderLibraryItemIcon';\nimport './LibraryItemCard.scss';\n\nconst DefaultCardInner = ({ libraryItemName }) => {\n  return (\n    <div\n      className=\"library-item-card-title\"\n      data-testid=\"library-item-card-title\"\n    >\n      {libraryItemName}\n    </div>\n  );\n};\n\nconst LibraryItemCard = ({\n  libraryItem,\n  isDragging,\n  hoverClass,\n  innerRef,\n  children,\n  ...props\n}) => {\n  const outlineTypes = [100, 400, 401, 500];\n  const getLibraryItemIconClass = () => {\n    let iconClass = '';\n    if (isDragging && !hoverClass) {\n      iconClass = 'fill icon-grey';\n    } else if (!isDragging && hoverClass) {\n      const iconBaseColor = 'icon-grey-theme';\n      const iconVariant = outlineTypes.includes(libraryItem.type)\n        ? 'outline'\n        : 'fill';\n      iconClass = `${iconVariant} ${iconBaseColor} ${hoverClass}`;\n    } else {\n      iconClass = 'outline icon-grey';\n    }\n    return iconClass;\n  };\n  const computedIconClass = getLibraryItemIconClass();\n\n  return (\n    <div\n      className=\"library-item-card\"\n      data-testid=\"library-item-card\"\n      {...props}\n      ref={innerRef}\n    >\n      <div\n        className=\"library-item-card-icon\"\n        data-testid=\"library-item-card-icon\"\n      >\n        {renderLibraryItemIcon(libraryItem.type, computedIconClass, hoverClass)}\n      </div>\n      {children || <DefaultCardInner libraryItemName={libraryItem.name} />}\n    </div>\n  );\n};\nexport default LibraryItemCard;\n","import React from 'react';\n\nconst stripHtml = text => {\n  const div = document.createElement('div');\n  div.innerHTML = text;\n  return div.textContent || div.innerText || '';\n};\n\nexport const RichTextPlainView = ({ richText }) => {\n  return (\n    <div\n      className=\"library-item-card-placeholder\"\n      data-testid=\"rich-text-container\"\n    >\n      {stripHtml(richText)}\n    </div>\n  );\n};\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './RichTextCardInner.scss';\nimport { RichTextPlainView } from './RichTextPlainView';\n\nconst RichTextCardInner = ({\n  handleDeleteClick,\n  richText,\n  isInSourceTray,\n  handleEditClick,\n  isReadOnly\n}) => {\n  return (\n    <div className=\"rich-text-card-inner\">\n      <RichTextPlainView richText={richText} />\n      {!isReadOnly &&\n        (isInSourceTray ? (\n          <Button\n            className=\"rich-text-card-inner__delete-button\"\n            onClick={handleDeleteClick}\n            data-testid=\"delete-text-box-button\"\n          >\n            <Icon className=\"rich-text-card-inner__delete-icon\" name=\"delete\" />\n          </Button>\n        ) : (\n          <Button\n            className=\"rich-text-card-inner__edit-button\"\n            onClick={handleEditClick}\n            data-testid=\"edit-text-box-button\"\n          >\n            <Icon className=\"rich-text-card-inner__edit-icon\" name=\"pencil\" />\n          </Button>\n        ))}\n    </div>\n  );\n};\n\nexport default RichTextCardInner;\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport './AddLibraryItemsBox.scss';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { Constants, TextUtilities } from '@pwc/pwc-deals-web-common';\nimport LibraryItemCard from './LibraryItemCard/LibraryItemCard';\nimport RichTextCardInner from './RichTextCardInner';\n\nconst AddLibraryItemsBox = ({\n  selectedLibraryItems = [],\n  isValid,\n  layoutSaved\n}) => {\n  const { url } = useRouteMatch();\n\n  const libraryItemsBrowseLink = () => {\n    const isEmpty = selectedLibraryItems.length > 0;\n    const content = isEmpty ? (\n      <>\n        <Icon\n          data-testid=\"icon-edit-data\"\n          name=\"pencil\"\n          className=\"fill icon-orange edit-data-icon\"\n          width=\"18\"\n        />\n        Edit data\n      </>\n    ) : (\n      <span className=\"as-button\" data-testid=\"add-data-button-text\">\n        Add data\n      </span>\n    );\n    const floatStyle = isEmpty ? { float: 'right' } : { float: 'left' };\n    return (\n      <Link\n        className={!isValid ? 'button-disabled' : ''}\n        data-testid=\"browse-library-items\"\n        to={`${url}/library-items`}\n        style={floatStyle}\n      >\n        {content}\n      </Link>\n    );\n  };\n\n  return (\n    <div\n      className=\"add-library-items-box-container\"\n      data-testid=\"add-library-items-box\"\n    >\n      Data\n      <div className=\"card\">\n        {selectedLibraryItems.length === 0 && (\n          <div data-testid=\"add-library-items-box-description\">\n            <p className=\"card-content\">\n              To add data you can browse the library of items already added to\n              the platform or add your own to the library.\n            </p>\n          </div>\n        )}\n        <div className=\"library-item-card-container\">\n          {selectedLibraryItems.map(libraryItem => (\n            <LibraryItemCard\n              libraryItem={libraryItem}\n              key={libraryItem.id ? libraryItem.id : libraryItem.reportId}\n              hoverClass=\"hover-orange\"\n            >\n              {libraryItem.type ===\n                Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value && (\n                <RichTextCardInner\n                  isReadOnly\n                  richText={TextUtilities.parseRichText(\n                    libraryItem.isShared,\n                    libraryItem.data\n                  )}\n                />\n              )}\n            </LibraryItemCard>\n          ))}\n        </div>\n        <div className=\"editdatalink\">\n          {layoutSaved ? (\n            <span data-testid=\"layout-saved-container\">\n              <Icon\n                name=\"check\"\n                data-testid=\"icon-layout-saved\"\n                className=\"fill icon-green layout-saved-icon\"\n                width=\"18\"\n              />\n              Data and layout changes saved\n            </span>\n          ) : null}\n          {libraryItemsBrowseLink()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddLibraryItemsBox;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextArea } from '@pwc/pwc-deals-ui';\nimport './TitleFieldset.scss';\n\nconst TitleFieldset = ({\n  field,\n  label,\n  error,\n  className,\n  basic,\n  placeholder,\n  disabled,\n  onBlur\n}) => {\n  return (\n    <>\n      <TextArea\n        error={error}\n        label={label}\n        field={field}\n        basic={basic}\n        className={className}\n        placeholder={placeholder}\n        disabled={disabled}\n        onBlur={onBlur}\n        textareaLineHeight={44}\n      />\n    </>\n  );\n};\n\nTitleFieldset.propTypes = {\n  label: PropTypes.string,\n  error: PropTypes.string\n};\n\nTitleFieldset.defaultProps = {\n  error: '',\n  label: ''\n};\n\nexport default TitleFieldset;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport TitleFieldset from '../../../common/components/TitleFieldset/TitleFieldset';\n\nconst AnalysisTextInput = ({\n  label,\n  name,\n  value,\n  validate,\n  handleValidationChange,\n  handleValueChange,\n  error\n}) => {\n  const [formValidationErrorMessage, setFormValidationErrorMessage] = useState(\n    validate(value)\n  );\n  const [touched, setTouched] = useState(false);\n\n  useEffect(() => {\n    handleValidationChange(formValidationErrorMessage);\n  }, [formValidationErrorMessage, handleValidationChange]);\n\n  useEffect(() => {\n    setFormValidationErrorMessage(validate(value));\n  }, [value, validate]);\n\n  const onChange = event => {\n    setTouched(true);\n    setFormValidationErrorMessage(validate(event.target.value));\n    handleValueChange(event.target.value);\n  };\n\n  const field = {\n    name,\n    value,\n    onChange\n  };\n\n  const validationErrorMessageForDisplay = touched\n    ? formValidationErrorMessage\n    : '';\n  const errorMessageForDisplay = error || validationErrorMessageForDisplay;\n\n  return (\n    <TitleFieldset\n      label={label}\n      placeholder={label}\n      className=\"title-fieldset analysis-title\"\n      field={field}\n      error={errorMessageForDisplay}\n      onBlur={() => setTouched(true)}\n    />\n  );\n};\n\nAnalysisTextInput.propTypes = {\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  validate: PropTypes.func,\n  handleValidationChange: PropTypes.func.isRequired,\n  handleValueChange: PropTypes.func.isRequired,\n  error: PropTypes.string\n};\n\nAnalysisTextInput.defaultProps = {\n  validate: () => '',\n  error: ''\n};\n\nexport default AnalysisTextInput;\n","export const DRAG_AND_DROP_STATE_ACTION = {\n  ITEM_MOVED_UP_TO_NEW_SECTION: 'ITEM_MOVED_UP_TO_NEW_SECTION',\n  ITEM_MOVED_DOWN_TO_NEW_SECTION: 'ITEM_MOVED_DOWN_TO_NEW_SECTION',\n  ITEM_MOVED_WITHIN_SECTION: 'ITEM_MOVED_WITHIN_SECTION',\n  ITEM_MOVED_TO_ADJACENT_AREA: 'ITEM_MOVED_TO_ADJACENT_AREA',\n  ITEM_ID_UPDATED: 'ITEM_ID_UPDATED',\n  CURRENT_DROPPABLE_SECTION_CHANGED: 'CURRENT_DROPPABLE_SECTION_CHANGED',\n  ITEM_DROPPED: 'ITEM_DROPPED'\n};\n\nconst dragAndDropReducer = (state, { type, payload }) => {\n  switch (type) {\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_WITHIN_SECTION: {\n      return {\n        ...state,\n        currentPosition: payload.currentPosition,\n        draggableWithinSectionsItemId: payload.draggableWithinSectionsItemId\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_ID_UPDATED: {\n      return {\n        ...state,\n        draggableBetweenSectionsItemId: payload.draggableBetweenSectionsItemId\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.CURRENT_DROPPABLE_SECTION_CHANGED: {\n      return {\n        ...state,\n        currentDroppableSectionId: payload\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_UP_TO_NEW_SECTION: {\n      return {\n        ...state,\n        currentDroppableSectionId: payload.currentSectionOrder - 1\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_DOWN_TO_NEW_SECTION: {\n      return {\n        ...state,\n        currentDroppableSectionId: payload.currentSectionOrder + 1\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_DROPPED: {\n      return {\n        ...state,\n        draggableWithinSectionsItemId: null,\n        currentDroppableSectionId: null,\n        currentPosition: null\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default dragAndDropReducer;\n","import { max } from 'lodash';\nimport { DRAG_AND_DROP_STATE_ACTION } from './dragAndDropReducer';\n\nexport const SECTION_STATE_ACTION = {\n  UPDATE_SECTIONS: 'UPDATE_SECTIONS',\n  UPDATE_RICH_TEXT: 'UPDATE_RICH_TEXT',\n  UPDATE_NON_LAID_OUT_LIBRARY_ITEMS: 'UPDATE_NON_LAID_OUT_LIBRARY_ITEMS',\n  ITEM_DELETED: 'ITEM_DELETED',\n  SECTION_TO_SCROLL: 'SECTION_TO_SCROLL'\n};\n\nconst updateRichTextItem = (richTextId, richTextData, sections) =>\n  sections.map(s => {\n    return {\n      ...s,\n      items: s.items.map(item => {\n        if (item.id === richTextId) {\n          return {\n            ...item,\n            isShared: false,\n            data: JSON.stringify({ RichTextData: richTextData })\n          };\n        }\n        return item;\n      })\n    };\n  });\n\nconst updateNonLaidOutLibraryItems = (state, libraryItemId, moveDown) => {\n  const currentSection = state.currentSections.find(s =>\n    s.items.map(i => i.id).includes(libraryItemId)\n  );\n\n  if (currentSection) {\n    if (!moveDown && currentSection.order === 1) {\n      const itemToMove = currentSection.items.find(i => i.id === libraryItemId);\n      return [itemToMove].concat(state.nonLaidOutLibraryItems);\n    }\n  }\n  return state.nonLaidOutLibraryItems;\n};\n\nconst updateCurrentSections = (state, libraryItemId, moveDown) => {\n  const currentSection = state.currentSections.find(s =>\n    s.items.map(i => i.id).includes(libraryItemId)\n  );\n\n  if (!currentSection) return state.currentSections;\n\n  const itemToMove = currentSection.items.find(i => i.id === libraryItemId);\n  itemToMove.analysisColumn = 1;\n\n  if (!moveDown && currentSection.order === 1) {\n    return state.currentSections.map(s => {\n      return {\n        ...s,\n        items: s.items.filter(item => item.id !== itemToMove.id)\n      };\n    });\n  }\n\n  const newSectionIsValid = moveDown\n    ? currentSection.order < max(state.currentSections.map(s => s.order))\n    : currentSection.order > 1;\n  if (newSectionIsValid) {\n    const newSectionNumber = moveDown\n      ? currentSection.order + 1\n      : currentSection.order - 1;\n    const newSections = state.currentSections.map(s => {\n      let newItems = s.items;\n\n      if (s.order === newSectionNumber) {\n        if (moveDown) {\n          newItems = newItems.concat([itemToMove]).map(item => {\n            const newOrder = item.id === itemToMove.id ? 1 : item.order + 1;\n            return {\n              ...item,\n              order: newOrder\n            };\n          });\n        } else {\n          const newOrder = 1 + max(s.items.map(i => i.order));\n          const itemWithNewOrder = { ...itemToMove, order: newOrder };\n          newItems = s.items.concat([itemWithNewOrder]);\n        }\n      } else if (s.order === currentSection.order) {\n        newItems = s.items.filter(i => i.id !== libraryItemId);\n      }\n      return {\n        ...s,\n        items: newItems\n      };\n    });\n    return newSections;\n  }\n\n  return state.currentSections;\n};\n\nconst removeNonLaidOutItemsFromSections = (sections, nonLaidOutItems) => {\n  const itemIdsToRemove = nonLaidOutItems.map(item => item.id);\n  return sections.map(s => {\n    return {\n      ...s,\n      items: s.items.filter(item => !itemIdsToRemove.includes(item.id))\n    };\n  });\n};\n\nconst sectionsReducer = (state, { type, payload }) => {\n  switch (type) {\n    case SECTION_STATE_ACTION.UPDATE_SECTIONS:\n      return {\n        ...state,\n        currentSections: payload\n      };\n    case SECTION_STATE_ACTION.UPDATE_RICH_TEXT:\n      return {\n        ...state,\n        currentSections: updateRichTextItem(\n          payload.libraryItemId,\n          payload.richText,\n          state.currentSections\n        )\n      };\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_TO_ADJACENT_AREA: {\n      const { newAnalysisColumn, libraryItemId } = payload;\n      const newCurrentSections = state.currentSections.map(s => {\n        const newItems = s.items.map(i => {\n          if (i.id === libraryItemId) {\n            const newAnalysisColumnInt = parseInt(newAnalysisColumn, 10);\n            i.analysisColumn = Number.isInteger(newAnalysisColumnInt)\n              ? newAnalysisColumnInt\n              : 1;\n          }\n          return i;\n        });\n        return {\n          ...s,\n          items: newItems\n        };\n      });\n      return {\n        ...state,\n        currentSections: newCurrentSections\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_UP_TO_NEW_SECTION: {\n      const nonLaidOutLibraryItems = updateNonLaidOutLibraryItems(\n        state,\n        payload.libraryItemId,\n        false\n      );\n      const currentSections = updateCurrentSections(\n        state,\n        payload.libraryItemId,\n        false\n      );\n      return {\n        ...state,\n        nonLaidOutLibraryItems,\n        currentSections\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_DOWN_TO_NEW_SECTION: {\n      const nonLaidOutLibraryItems = updateNonLaidOutLibraryItems(\n        state,\n        payload.libraryItemId,\n        true\n      );\n      const currentSections = updateCurrentSections(\n        state,\n        payload.libraryItemId,\n        true\n      );\n      return {\n        ...state,\n        nonLaidOutLibraryItems,\n        currentSections\n      };\n    }\n    case SECTION_STATE_ACTION.UPDATE_NON_LAID_OUT_LIBRARY_ITEMS: {\n      return {\n        ...state,\n        nonLaidOutLibraryItems: payload.items,\n        currentSections: removeNonLaidOutItemsFromSections(\n          state.currentSections,\n          payload.items\n        )\n      };\n    }\n    case SECTION_STATE_ACTION.ITEM_DELETED: {\n      return {\n        ...state,\n        nonLaidOutLibraryItems: state.nonLaidOutLibraryItems.filter(\n          item => item.id !== payload\n        )\n      };\n    }\n    case SECTION_STATE_ACTION.SECTION_TO_SCROLL: {\n      return {\n        ...state,\n        sectionIdToScroll: payload\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default sectionsReducer;\n","import React, { createContext, useContext, useReducer } from 'react';\nimport dragAndDropReducer from './FreeformAnalysisFormUtil/dragAndDropReducer';\nimport sectionsReducer from './FreeformAnalysisFormUtil/sectionsReducer';\n\nconst initSections = value => {\n  const currentSections = (value && value.initialSections) || [];\n  const nonLaidOutLibraryItems = (value && value.nonLaidOutLibraryItems) || [];\n\n  return {\n    currentSections,\n    nonLaidOutLibraryItems\n  };\n};\n\nconst initDragAndDropState = () => {\n  return {\n    draggableBetweenSectionsItemId: null,\n    currentDroppableSectionId: null,\n    currentPosition: null,\n    draggableWithinSectionsItemId: null\n  };\n};\n\nconst SectionsStateContext = createContext(null);\nconst SectionsDispatchContext = createContext(null);\n\nfunction useSectionsState() {\n  const context = useContext(SectionsStateContext);\n  if (context === undefined) {\n    throw new Error('useSectionsState must be used within a SectionsProvider');\n  }\n  return context;\n}\n\nfunction useSectionsDispatch() {\n  const context = useContext(SectionsDispatchContext);\n  if (context === undefined) {\n    throw new Error(\n      'useSectionsDispatch must be used within a SectionsProvider'\n    );\n  }\n  return context;\n}\nfunction useSections() {\n  return [useSectionsState(), useSectionsDispatch()];\n}\n\nconst combineDispatch = (...dispatches) => action =>\n  dispatches.forEach(dispatch => dispatch(action));\n\nconst SectionsProvider = ({ value, children }) => {\n  const [sectionsState, sectionsDispatch] = useReducer(\n    sectionsReducer,\n    value,\n    initSections\n  );\n\n  const [dragAndDropState, dragAndDropDispatch] = useReducer(\n    dragAndDropReducer,\n    value,\n    initDragAndDropState\n  );\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const combinedDispatch = React.useCallback(\n    combineDispatch(sectionsDispatch, dragAndDropDispatch),\n    [sectionsDispatch, dragAndDropDispatch]\n  );\n  const combinedState = React.useMemo(\n    () => ({ ...dragAndDropState, ...sectionsState }),\n    [dragAndDropState, sectionsState]\n  );\n\n  return (\n    <SectionsStateContext.Provider value={combinedState}>\n      <SectionsDispatchContext.Provider value={combinedDispatch}>\n        {children}\n      </SectionsDispatchContext.Provider>\n    </SectionsStateContext.Provider>\n  );\n};\nexport { SectionsProvider, useSectionsState, useSectionsDispatch, useSections };\n","import { SECTION_STATE_ACTION } from './FreeformAnalysisFormUtil/sectionsReducer';\n\nexport const setNonLaidOutLibraryItems = (items, dispatch) => {\n  dispatch({\n    type: SECTION_STATE_ACTION.UPDATE_NON_LAID_OUT_LIBRARY_ITEMS,\n    payload: {\n      items\n    }\n  });\n};\n\nexport const setCurrentSections = (sections, dispatch) => {\n  dispatch({\n    type: SECTION_STATE_ACTION.UPDATE_SECTIONS,\n    payload: sections\n  });\n};\n\nexport const setSectionToScroll = (sectionId, dispatch) => {\n  dispatch({\n    type: SECTION_STATE_ACTION.SECTION_TO_SCROLL,\n    payload: sectionId\n  });\n};\n","import { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { LOCATION_CHANGE } from 'connected-react-router';\nimport { cloneDeep } from 'lodash';\nimport CONSTANTS from '../../../features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/Constants';\n\nexport const initialState = {\n  layout: {\n    showRightPanel: true,\n    showRightPanel2: false,\n    activeSectionIndex: 0,\n    floatingTabsHeight: 0,\n    floatingTabsWidth: 0,\n    floatingTabsTop: 0\n  },\n  libraryItem: {\n    draggableId: null\n  },\n  libraryItemPosition: {\n    start: null,\n    finish: null\n  },\n  reportPreview: {\n    loading: null,\n    error: null,\n    errorMessage: null,\n    data: null\n  }\n};\n\nconst reportFormatSlice = createSlice({\n  name: 'reportFormat',\n  initialState,\n  reducers: {\n    toggleRightPanel: state => ({\n      ...state,\n      layout: {\n        ...state.layout,\n        showRightPanel: !state.layout.showRightPanel\n      }\n    }),\n    toggleRightPanel2: state => ({\n      ...state,\n      layout: {\n        ...state.layout,\n        showRightPanel2: !state.layout.showRightPanel2\n      }\n    }),\n    setActiveSectionId: (state, { payload: { index } }) => ({\n      ...state,\n      layout: {\n        ...state.layout,\n        activeSectionIndex: index\n      }\n    }),\n    setFloatingTabsHeight: (state, { payload: { height } }) => ({\n      ...state,\n      layout: {\n        ...state.layout,\n        floatingTabsHeight: height\n      }\n    }),\n    setFloatingTabsWidth: (state, { payload: { width } }) => ({\n      ...state,\n      layout: {\n        ...state.layout,\n        floatingTabsWidth: width\n      }\n    }),\n    setFloatingTabsTop: (state, { payload: { top } }) => ({\n      ...state,\n      layout: {\n        ...state.layout,\n        floatingTabsTop: top\n      }\n    }),\n    setLibraryItemStartPosition: (state, action) => {\n      const { start, draggableId } = action.payload;\n      state.libraryItemPosition.start = start;\n      state.libraryItem.draggableId = draggableId;\n    },\n    setLibraryItemFinishPosition: (state, action) => {\n      const { finish } = action.payload;\n      state.libraryItemPosition.finish = finish;\n    },\n    setReportPreviewData: (state, action) => {\n      const { data } = action.payload;\n      state.reportPreview.data = cloneDeep(data);\n    },\n    setReportPreviewLoading: (state, action) => {\n      const { loading } = action.payload;\n      state.reportPreview.loading = loading;\n    },\n    setReportPreviewError: (state, action) => {\n      const { error, errorMessage } = action.payload;\n      const { errorMessage: existingMessage } = state.reportPreview;\n      state.reportPreview.error = error;\n      state.reportPreview.errorMessage = errorMessage || existingMessage;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(LOCATION_CHANGE, (state, action) => {\n      const {\n        location: { pathname }\n      } = action.payload;\n      if (\n        (pathname.includes(`/${CONSTANTS.PARTIAL_ROUTE.EDIT_LAYOUT_PREVIEW}`) ||\n          pathname.includes(\n            `/${CONSTANTS.PARTIAL_ROUTE.CREATE_LAYOUT_PREVIEW}`\n          )) &&\n        pathname.includes('analyses')\n      ) {\n        if (state.reportPreview.data) {\n          state.reportPreview.data = null;\n        }\n      }\n    });\n  }\n});\n\n// Actions\nexport const {\n  toggleRightPanel,\n  toggleRightPanel2,\n  setActiveSectionId,\n  setFloatingTabsHeight,\n  setFloatingTabsWidth,\n  setFloatingTabsTop,\n  setLibraryItemStartPosition,\n  setLibraryItemFinishPosition,\n  setReportPreviewData,\n  setReportPreviewLoading,\n  setReportPreviewError\n} = reportFormatSlice.actions;\n\n// Selectors\nconst reportFormatState = state => state.reportFormat;\n\nexport const getReportFormatLayoutState = createSelector(\n  reportFormatState,\n  slice => slice.layout\n);\n\nexport const getLibraryItemPosition = createSelector(\n  reportFormatState,\n  slice => slice.libraryItemPosition\n);\n\nexport const getLibraryItem = createSelector(\n  reportFormatState,\n  slice => slice.libraryItem\n);\n\nexport const getReportPreviewState = createSelector(\n  reportFormatState,\n  slice => slice.reportPreview\n);\n\nexport default reportFormatSlice.reducer;\n","const toolbar = [\n  'heading',\n  '|',\n  'bold',\n  '|',\n  'italic',\n  '|',\n  'bulletedList',\n  '|',\n  'numberedList',\n  '|',\n  'indent',\n  '|',\n  'outdent',\n  '|',\n  'link'\n];\n\nconst introConversion = {\n  model: 'intro',\n  view: {\n    name: 'p',\n    classes: 'rich-text-editor-intro'\n  }\n};\n\nconst paragraphConversion = {\n  model: 'paragraph',\n  view: {\n    name: 'p',\n    classes: 'rich-text-editor-paragraph'\n  }\n};\n\nconst footnotesConversion = {\n  model: 'footnotes',\n  view: {\n    name: 'p',\n    classes: 'rich-text-editor-footnotes'\n  }\n};\n\nexport const customHeadingPlugin = editor => {\n  editor.conversion.elementToElement(introConversion);\n  editor.conversion.elementToElement(paragraphConversion);\n  editor.conversion.elementToElement(footnotesConversion);\n};\n\nexport const customIntroHeadingOnlyPlugin = editor => {\n  const addIntroClass = (_, data, conversionApi) => {\n    conversionApi.writer.addClass(\n      'rich-text-editor-intro',\n      conversionApi.mapper.toViewElement(data.item)\n    );\n  };\n  editor.conversion.for('downcast').add(dispatcher => {\n    dispatcher.on('insert:listItem', addIntroClass, { priority: 'low' });\n    dispatcher.on('insert:paragraph', addIntroClass, { priority: 'low' });\n  });\n};\n\nconst editorConfig = {\n  language: 'en',\n  licenseKey: process.env.REACT_APP_CK_EDITOR_LICENSE,\n  toolbar,\n  placeholder: 'Start writing here...',\n  extraPlugins: [customHeadingPlugin],\n  heading: {\n    options: [\n      {\n        model: 'heading1',\n        view: 'h3',\n        title: 'Heading 1',\n        class: 'ck-heading-option-heading3'\n      },\n      {\n        model: 'heading2',\n        view: 'h4',\n        title: 'Heading 2',\n        class: 'ck-heading-option-heading4'\n      },\n      {\n        ...introConversion,\n        title: 'Intro',\n        class: 'ck-heading-option-intro'\n      },\n      {\n        ...paragraphConversion,\n        title: 'Paragraph',\n        class: 'ck-heading-option-paragraph'\n      },\n      {\n        ...footnotesConversion,\n        title: 'Footnotes',\n        class: 'ck-heading-option-footnotes'\n      }\n    ]\n  }\n};\n\nexport const noHeadingEditorConfig = {\n  ...editorConfig,\n  toolbar: toolbar.slice(2)\n};\n\nexport const introHeadingOnlyEditorConfig = {\n  ...noHeadingEditorConfig,\n  extraPlugins: [customIntroHeadingOnlyPlugin]\n};\n\nexport const shortEditorConfig = {\n  ...editorConfig,\n  toolbar: ['bold', '|', 'italic', '|', 'link']\n};\n\nexport const shortIntroHeadingOnlyEditorConfig = {\n  ...editorConfig,\n  extraPlugins: [customIntroHeadingOnlyPlugin],\n  toolbar: ['bold', '|', 'italic', '|', 'link']\n};\n\nexport default editorConfig;\n","import CKEditor from '@ckeditor/ckeditor5-react';\nimport { ClassicEditor } from '@pwc/pwc-deals-rich-text-editor';\nimport { CharacterCount } from '@pwc/pwc-deals-ui';\nimport React, { useState } from 'react';\nimport editorConfig from './CKEditorConfig';\nimport './RichTextEditor.scss';\n\nconst RichTextEditor = ({\n  richTextData,\n  onChange,\n  onBlur,\n  onFocus,\n  isFocused,\n  label,\n  labelRef,\n  config = editorConfig,\n  showCharactersCounter = false\n}) => {\n  const focusClass = isFocused ? ' focused' : '';\n  const [characters, setCharacters] = useState(0);\n\n  return (\n    <div className={`text-input-fieldset fieldset d3-rich-text${focusClass}`}>\n      <div\n        data-testid=\"ckEditor\"\n        className=\"text-input-container basic allow-overflow\"\n      >\n        {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n        {label && (\n          <label\n            className=\"text-input-control-label\"\n            htmlFor=\"ck-editor-component\"\n            ref={labelRef}\n          >\n            {label}\n          </label>\n        )}\n        <CKEditor\n          id=\"ck-editor-component\"\n          editor={ClassicEditor}\n          config={config}\n          data={richTextData}\n          maxCharacters={650}\n          onInit={ckeditor => {\n            setCharacters(ckeditor.plugins.get('WordCount').characters);\n          }}\n          onChange={(_, editor) => {\n            onChange(editor.getData());\n            setCharacters(editor.plugins.get('WordCount').characters);\n          }}\n          onBlur={onBlur}\n          onFocus={onFocus}\n        />\n        {showCharactersCounter && (\n          <CharacterCount value={Array(characters).join('*')} maxLength={650} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RichTextEditor;\n","import React, { useState } from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport RichTextEditor from '../RichTextEditor/RichTextEditor';\nimport './RichTextForm.scss';\nimport { noHeadingEditorConfig } from '../RichTextEditor/CKEditorConfig';\n\nconst RichTextForm = ({\n  richText,\n  setCurrentRichText,\n  handleCancel,\n  handleSave,\n  lightModeVariant\n}) => {\n  const [focused, setFocused] = useState(false);\n\n  return (\n    <div\n      className={`rich-text-form${\n        lightModeVariant ? ' light-mode-variant' : ''\n      }`}\n    >\n      <RichTextEditor\n        richTextData={richText}\n        onChange={setCurrentRichText}\n        config={noHeadingEditorConfig}\n        onBlur={(_, editor) => {\n          setFocused(false);\n          editor.ui.view.toolbar.element.style.display = 'none';\n        }}\n        onFocus={(_, editor) => {\n          setFocused(true);\n          editor.ui.view.toolbar.element.style.display = 'block';\n        }}\n        isFocused={focused}\n        showCharactersCounter\n      />\n      <div className=\"edit-button-container\">\n        <Button\n          data-testid=\"cancel-button\"\n          className=\"button-link mx-2 mr-4\"\n          onClick={handleCancel}\n        >\n          Cancel\n        </Button>\n        <Button\n          data-testid=\"save-button\"\n          className=\"button-block button-small\"\n          onClick={handleSave}\n          disabled={!richText}\n        >\n          Update\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default RichTextForm;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport React, { useState } from 'react';\nimport { Constants, TextUtilities } from '@pwc/pwc-deals-web-common';\nimport RichTextForm from '../../../../common/components/RichTextForm/RichTextForm';\nimport { useSections } from '../../Freeform/FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { SECTION_STATE_ACTION } from '../../Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/sectionsReducer';\nimport RichTextCardInner from '../RichTextCardInner';\nimport LibraryItemCard from './LibraryItemCard';\nimport './RichTextLibraryItemCard.scss';\n\nconst RichTextLibraryItemCard = ({\n  libraryItem,\n  isInSourceTray,\n  setIsDragDisabled,\n  isDragging,\n  innerRef,\n  ...props\n}) => {\n  const [, dispatch] = useSections();\n  const [editState, setEditState] = useState(false);\n  const [richText, setRichText] = useState(\n    TextUtilities.parseRichText(libraryItem.isShared, libraryItem.data)\n  );\n  const [currentRichText, setCurrentRichText] = useState('');\n\n  const getRenderableRichText = text =>\n    text === Constants.EMPTY_RICH_TEXT_PLACEHOLDER ? '' : text;\n\n  const handleEditClick = () => {\n    setEditState(true);\n    setIsDragDisabled(true);\n    setCurrentRichText(getRenderableRichText(richText));\n  };\n\n  const handleCancel = () => {\n    setEditState(false);\n    setIsDragDisabled(false);\n    setCurrentRichText('');\n  };\n  const handleSave = () => {\n    setRichText(currentRichText);\n    setEditState(false);\n    setIsDragDisabled(false);\n\n    dispatch({\n      type: SECTION_STATE_ACTION.UPDATE_RICH_TEXT,\n      payload: {\n        libraryItemId: libraryItem.id,\n        richText: currentRichText\n      }\n    });\n  };\n\n  const getHandleDeleteClick = () => {\n    dispatch({\n      type: SECTION_STATE_ACTION.ITEM_DELETED,\n      payload: libraryItem.id\n    });\n  };\n\n  return editState ? (\n    <div ref={innerRef} {...props} className=\"rich-text-library-item-edit\">\n      <RichTextForm\n        richText={currentRichText}\n        setCurrentRichText={setCurrentRichText}\n        handleCancel={handleCancel}\n        handleSave={handleSave}\n      />\n    </div>\n  ) : (\n    <LibraryItemCard\n      {...props}\n      isDragging={isDragging}\n      innerRef={innerRef}\n      libraryItem={libraryItem}\n    >\n      <RichTextCardInner\n        richText={richText}\n        isInSourceTray={isInSourceTray}\n        handleDeleteClick={getHandleDeleteClick}\n        handleEditClick={handleEditClick}\n      />\n    </LibraryItemCard>\n  );\n};\n\nexport default RichTextLibraryItemCard;\n","const genDroppableStrings = (length, baseString) => {\n  const baseStringLC = baseString.toLowerCase();\n  const arr = Array(length)\n    .fill(baseStringLC)\n    .map((item, index) => {\n      return `${item}-layout-area-${index + 1}`;\n    });\n  return arr;\n};\n\nconst DROPPABLE_LOCATION_IDS = {\n  SOURCE_TRAY_ID: 'source-tray',\n  SINGLE_COLUMN_AREA_ID: 'single-column-layout-area',\n  DOUBLE_COLUMN_FIRST_AREA_ID: 'double-column-layout-area-1',\n  DOUBLE_COLUMN_SECOND_AREA_ID: 'double-column-layout-area-2',\n  DOUBLE_ROW_FIRST_AREA_ID: 'double-row-layout-area-1',\n  DOUBLE_ROW_SECOND_AREA_ID: 'double-row-layout-area-2',\n  SINGLE_COLUMN_AREA_80: 'single-column-layout-area-80',\n  SINGLE_COLUMN_AREA_60: 'single-column-layout-area-60',\n  SINGLE_COLUMN_AREA_40: 'single-column-layout-area-40',\n  SINGLE_COLUMN_TEXT_OVERFLOW_AREA: 'single-column-layout-text-overflow-area',\n  TWO_ROW_THREE_AREA_100_50_50: [\n    'two-row-three-area-layout-top-area-1',\n    'two-row-three-area-layout-bottom-area-1',\n    'two-row-three-area-layout-bottom-area-2'\n  ],\n  TWO_ROW_TWO_COLUMN_AREA_67_33: [\n    'two-row-two-column-layout-area-67-1',\n    'two-row-two-column-layout-area-33-1',\n    'two-row-two-column-layout-area-67-2',\n    'two-row-two-column-layout-area-33-2'\n  ],\n  TWO_COLUMN_L_40_1A_R_60_1A: genDroppableStrings(\n    2,\n    'TWO_COLUMN_L_40_1A_R_60_1A'\n  ),\n  TWO_COLUMN_L_67_1A_R_33_1A: genDroppableStrings(\n    2,\n    'TWO_COLUMN_L_67_1A_R_33_1A'\n  ),\n  TWO_COLUMN_L_80_1A_R_20_1A: genDroppableStrings(\n    2,\n    'TWO_COLUMN_L_80_1A_R_20_1A'\n  ),\n  TWO_ROW_T_80_1A_B_20_1A: genDroppableStrings(2, 'TWO_ROW_T_80_1A_B_20_1A'),\n  TWO_ROW_T_60_1A_B_40_1A: genDroppableStrings(2, 'TWO_ROW_T_60_1A_B_40_1A'),\n  TWO_ROW_T_20_1A_B_80_1A: genDroppableStrings(2, 'TWO_ROW_T_20_1A_B_80_1A'),\n  THREE_COLUMN: genDroppableStrings(3, 'THREE_COLUMN'),\n  TWO_COLUMN_L_50_2A_R_50_1A: genDroppableStrings(\n    3,\n    'TWO_COLUMN_L_50_2A_R_50_1A'\n  ),\n  TWO_ROW_T_50_2A_B_50_1A: genDroppableStrings(3, 'TWO_ROW_T_50_2A_B_50_1A'),\n  TWO_COLUMN_L_67_2A_R_33_1A: genDroppableStrings(\n    3,\n    'TWO_COLUMN_L_67_2A_R_33_1A'\n  ),\n  TWO_ROW_T_50_1A_B_50_2A: genDroppableStrings(3, 'TWO_ROW_T_50_1A_B_50_2A'),\n  TWO_COLUMN_L_50_3A_R_50_1A: genDroppableStrings(\n    4,\n    'TWO_COLUMN_L_50_3A_R_50_1A'\n  ),\n  TWO_COLUMN_TWO_ROW_50_2A_50_2A: genDroppableStrings(\n    4,\n    'TWO_COLUMN_TWO_ROW_50_2A_50_2A'\n  ),\n  TWO_COLUMN_TWO_ROW_67_2A_33_2A: genDroppableStrings(\n    4,\n    'TWO_COLUMN_TWO_ROW_67_2A_33_2A'\n  ),\n  THREE_COLUMN_TWO_ROW: genDroppableStrings(6, 'THREE_COLUMN_TWO_ROW')\n};\n\nexport default DROPPABLE_LOCATION_IDS;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport LibraryItemCard from '../../common/LibraryItemCard/LibraryItemCard';\nimport RichTextLibraryItemCard from '../../common/LibraryItemCard/RichTextLibraryItemCard';\nimport { useSections } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport {\n  setLibraryItemFinishPosition,\n  setLibraryItemStartPosition\n} from '../../../../common/redux/reportFormat/reportFormatSlice';\nimport './DraggableLibraryItemCard.scss';\n\n// disable all react-beautiful-dnd development warnings\nwindow['__react-beautiful-dnd-disable-dev-warnings'] = true;\n\nconst DraggableLibraryItemCard = ({\n  libraryItem,\n  index,\n  droppableLocationId,\n  droppableLocations\n}) => {\n  const [\n    {\n      draggableBetweenSectionsItemId,\n      currentDroppableSectionId,\n      currentPosition,\n      currentSections\n    },\n    dispatch\n  ] = useSections();\n  const reduxDispatch = useDispatch();\n  const [isDragDisabled, setIsDragDisabled] = useState(false);\n  const [isInSourceTray, setIsInSourceTray] = useState(false);\n  const [wrapperElement, setWrapperElement] = useState(null);\n  const [hoverState, setHoverState] = useState(null);\n\n  const isAtTheBottomOfCurrentColumn = () => {\n    const { libraryItemIds } = droppableLocations[currentPosition.droppableId];\n\n    const indexOfLastItem = libraryItemIds.includes(libraryItem.id)\n      ? libraryItemIds.length - 1\n      : libraryItemIds.length;\n\n    return currentPosition.index === indexOfLastItem;\n  };\n\n  const canMoveUpToPrevSection = (initialIndex, dndPosition) => {\n    if (dndPosition) {\n      return !isInSourceTray && dndPosition.index === 0;\n    }\n    return initialIndex === 0;\n  };\n\n  const canMoveDownToNextSection = dndPosition => {\n    if (dndPosition && isAtTheBottomOfCurrentColumn()) {\n      const isLastSection =\n        Number(dndPosition.droppableId.slice(-1)) === currentSections.length;\n\n      return !isLastSection;\n    }\n    return false;\n  };\n\n  const setDraggableBetweenSectionsItemId = useCallback(\n    libraryItemId => {\n      dispatch({\n        type: DRAG_AND_DROP_STATE_ACTION.ITEM_ID_UPDATED,\n        payload: { draggableBetweenSectionsItemId: libraryItemId }\n      });\n    },\n    [dispatch]\n  );\n  const moveItemToAdjacentSection = type => {\n    setDraggableBetweenSectionsItemId(libraryItem.id);\n    wrapperElement.dispatchEvent(\n      new KeyboardEvent('keydown', { keyCode: Constants.space, bubbles: false })\n    );\n\n    const currentSection = currentSections.find(s =>\n      s.items.map(i => i.id).includes(libraryItem.id)\n    );\n\n    dispatch({\n      type,\n      payload: {\n        libraryItemId: libraryItem.id,\n        currentSectionOrder: currentSection ? currentSection.order : 1\n      }\n    });\n  };\n\n  const canMoveToAdjacentArea = (position, keyCode) => {\n    // check whether draggable can move to area above or below (within same section)\n    const currentDroppableLocation = droppableLocations[position.droppableId];\n    if (keyCode === Constants.arrowUp && currentDroppableLocation.areaAbove) {\n      // return area above\n      return currentDroppableLocation.areaAbove;\n    }\n    if (keyCode === Constants.arrowDown && currentDroppableLocation.areaBelow) {\n      // return area below\n      return currentDroppableLocation.areaBelow;\n    }\n    return false;\n  };\n\n  const updateCurrentPosition = (position, itemId) => {\n    dispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_WITHIN_SECTION,\n      payload: {\n        currentPosition: position,\n        draggableWithinSectionsItemId: itemId\n      }\n    });\n    wrapperElement.dispatchEvent(\n      new KeyboardEvent('keydown', { keyCode: Constants.space, bubbles: false })\n    );\n  };\n\n  const handleOnKeyDown = keyCode => {\n    if (currentPosition) {\n      // TODO: Revisit to improve\n      // check if arrowUp or arrowDown\n      if (keyCode === Constants.arrowUp || keyCode === Constants.arrowDown) {\n        reduxDispatch(\n          setLibraryItemStartPosition({\n            start: currentPosition,\n            draggableId: libraryItem.id\n          })\n        );\n        // check if droppableArea above or droppableArea below\n        const adjacentArea = canMoveToAdjacentArea(currentPosition, keyCode);\n        if (adjacentArea) {\n          // execute code to update position with new currentPosition\n          const newPosition = {\n            droppableId: adjacentArea,\n            index: 0\n          };\n          reduxDispatch(setLibraryItemFinishPosition({ finish: newPosition }));\n          updateCurrentPosition(newPosition, libraryItem.id);\n        } else if (\n          // if no adjacent droppableArea above or below, then check for adjacent section above or below\n          keyCode === Constants.arrowUp &&\n          canMoveUpToPrevSection(index, currentPosition)\n        ) {\n          moveItemToAdjacentSection(\n            DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_UP_TO_NEW_SECTION\n          );\n        } else if (\n          keyCode === Constants.arrowDown &&\n          !isInSourceTray &&\n          canMoveDownToNextSection(currentPosition)\n        ) {\n          moveItemToAdjacentSection(\n            DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_DOWN_TO_NEW_SECTION\n          );\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    const getSectionOrder = () => {\n      if (droppableLocationId === DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID)\n        return 0;\n      return Number(droppableLocationId.slice(-1));\n    };\n\n    if (\n      wrapperElement &&\n      draggableBetweenSectionsItemId === libraryItem.id &&\n      currentDroppableSectionId === getSectionOrder()\n    ) {\n      wrapperElement.focus();\n      wrapperElement.dispatchEvent(\n        new KeyboardEvent('keydown', {\n          keyCode: Constants.space,\n          bubbles: false\n        })\n      );\n      setDraggableBetweenSectionsItemId(null);\n    }\n  }, [\n    currentDroppableSectionId,\n    draggableBetweenSectionsItemId,\n    droppableLocationId,\n    libraryItem.id,\n    setDraggableBetweenSectionsItemId,\n    wrapperElement\n  ]);\n\n  useEffect(() => {\n    const currentLocationId = currentPosition\n      ? currentPosition.droppableId\n      : droppableLocationId;\n\n    setIsInSourceTray(\n      currentLocationId === DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID\n    );\n  }, [currentPosition, droppableLocationId]);\n\n  const handleOnMouseEnter = () => {\n    setHoverState(true);\n  };\n\n  const handleOnMouseLeave = () => {\n    setHoverState(false);\n  };\n\n  return (\n    <Draggable\n      draggableId={libraryItem.id.toString()}\n      index={index}\n      isDragDisabled={isDragDisabled}\n    >\n      {(draggableProvided, draggableSnapshot) => {\n        return (\n          // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n          <div\n            className=\"draggable-library-item-card\"\n            data-testid=\"draggable-library-item-card\"\n            {...draggableProvided.draggableProps}\n            {...draggableProvided.dragHandleProps}\n            ref={myRef => {\n              draggableProvided.innerRef(myRef);\n              setWrapperElement(myRef);\n            }}\n            onKeyDown={e =>\n              handleOnKeyDown(e.keyCode, draggableProvided.innerRef)\n            }\n            onMouseEnter={handleOnMouseEnter}\n            onMouseLeave={handleOnMouseLeave}\n            data-draggable-mode={!!currentPosition}\n          >\n            {libraryItem.type ===\n            Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value ? (\n              <RichTextLibraryItemCard\n                libraryItem={libraryItem}\n                isInSourceTray={isInSourceTray}\n                setIsDragDisabled={setIsDragDisabled}\n                isDragging={draggableSnapshot.isDragging || hoverState}\n              />\n            ) : (\n              <LibraryItemCard\n                libraryItem={libraryItem}\n                isDragging={draggableSnapshot.isDragging || hoverState}\n              />\n            )}\n          </div>\n        );\n      }}\n    </Draggable>\n  );\n};\n\nexport default DraggableLibraryItemCard;\n","import React from 'react';\nimport PropType from 'prop-types';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport classNames from 'classnames';\n\nimport DraggableLibraryItemCard from '../../../../../DraggableLibraryItemCard';\n\nimport './SectionArea.scss';\n\nfunction SectionArea({\n  areaClass,\n  droppableLocation,\n  libraryItems,\n  libraryItemMap,\n  droppableLocations\n}) {\n  const canLibraryItemBePlacedInSection = libraryItemId => {\n    const parsedLibraryItemId = Number.isInteger(parseInt(libraryItemId, 10))\n      ? parseInt(libraryItemId, 10)\n      : null;\n    if (\n      parsedLibraryItemId &&\n      libraryItemMap[parsedLibraryItemId].type !==\n        Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value &&\n      droppableLocation.id.includes('text-overflow')\n    ) {\n      return false;\n    }\n    return true;\n  };\n\n  const baseStyles = {\n    border: '1px dashed var(--color-grey)',\n    borderRadius: '2px',\n    backgroundColor: 'var(--dragdrop-container-background-hover)'\n  };\n  const filledBorder = '1px solid var(--color-grey-medium)';\n  const draggingOverBorder = '1px dashed #979797';\n  const draggingOverBorderError = '2px solid var(--color-red-error-dark-mode)';\n  const draggingOverBackgroundColor = 'var(--background-primary)';\n  const isAreaFilled = () => {\n    return libraryItems.length > 0;\n  };\n\n  const getStyle = droppableSnapshot => {\n    const {\n      isDraggingOver,\n      draggingOverWith,\n      draggingFromThisWith\n    } = droppableSnapshot;\n    const returnedStyle = { ...baseStyles };\n    if (\n      isAreaFilled() &&\n      draggingOverWith &&\n      draggingOverWith === draggingFromThisWith\n    ) {\n      Object.assign(returnedStyle, {\n        border: draggingOverBorder,\n        backgroundColor: draggingOverBackgroundColor\n      });\n    } else if (\n      isAreaFilled() &&\n      draggingOverWith &&\n      !canLibraryItemBePlacedInSection(draggingOverWith)\n    ) {\n      Object.assign(returnedStyle, { border: draggingOverBorderError });\n    } else if (isAreaFilled()) {\n      Object.assign(returnedStyle, { border: filledBorder });\n    } else if (\n      !isAreaFilled() &&\n      isDraggingOver &&\n      draggingOverWith &&\n      canLibraryItemBePlacedInSection(draggingOverWith)\n    ) {\n      Object.assign(returnedStyle, {\n        border: draggingOverBorder,\n        backgroundColor: draggingOverBackgroundColor\n      });\n    } else if (\n      !isAreaFilled() &&\n      isDraggingOver &&\n      draggingOverWith &&\n      !canLibraryItemBePlacedInSection(draggingOverWith)\n    ) {\n      Object.assign(returnedStyle, { border: draggingOverBorderError });\n    }\n    // return base styles if area is not filled and not being dragged over\n    return returnedStyle;\n  };\n\n  const getHint = droppableSnapshot => {\n    let hint;\n    if (droppableLocation.id.includes('text-overflow')) {\n      if (\n        !canLibraryItemBePlacedInSection(droppableSnapshot.draggingOverWith)\n      ) {\n        hint = 'Only text items allowed';\n      } else {\n        hint = 'Drop one text box item from the data list';\n      }\n    } else {\n      hint = `Drop one item from the data list`;\n    }\n    return hint;\n  };\n\n  return (\n    <Droppable\n      droppableId={droppableLocation.id}\n      direction={droppableLocation.direction}\n      key={droppableLocation.id}\n      ignoreContainerClipping\n    >\n      {(provided, snapshot) => {\n        const computedStyle = getStyle(snapshot);\n        const computedHint = getHint(snapshot);\n        return (\n          <div\n            className={`${areaClass} section-area__droppable-container`}\n            data-testid={areaClass}\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n            style={computedStyle}\n          >\n            <div\n              className={classNames('section-area__item-container', {\n                'background-left': droppableLocation.id.includes(\n                  'text-overflow'\n                )\n              })}\n            >\n              {libraryItems.map((libraryItem, index) => {\n                return (\n                  <DraggableLibraryItemCard\n                    key={libraryItem.id}\n                    libraryItem={libraryItem}\n                    index={index}\n                    droppableLocationId={droppableLocation.id}\n                    droppableLocations={droppableLocations}\n                  />\n                );\n              })}\n              {provided.placeholder}\n            </div>\n            {libraryItems.length < 1 && (\n              <div\n                className={classNames('section-area__background', {\n                  'background-left': droppableLocation.id.includes(\n                    'text-overflow'\n                  )\n                })}\n              >\n                <div className=\"section-area__background__content\">\n                  <Icon\n                    name={\n                      // eslint-disable-next-line no-nested-ternary\n                      droppableLocation.id.includes('text-overflow')\n                        ? !canLibraryItemBePlacedInSection(\n                            snapshot.draggingOverWith\n                          )\n                          ? 'end-process'\n                          : 'textbox'\n                        : 'placeholder-dnd'\n                    }\n                    height=\"36px\"\n                    width=\"36px\"\n                    className={classNames({\n                      'outline icon-red-error': !canLibraryItemBePlacedInSection(\n                        snapshot.draggingOverWith\n                      ),\n                      'fill icon-grey-medium': canLibraryItemBePlacedInSection(\n                        snapshot.draggingOverWith\n                      )\n                    })}\n                    title={computedHint}\n                  />\n\n                  <span\n                    className={classNames('section-area__background__hint', {\n                      'hint-error': !canLibraryItemBePlacedInSection(\n                        snapshot.draggingOverWith\n                      )\n                    })}\n                  >\n                    {computedHint}\n                  </span>\n                </div>\n              </div>\n            )}\n            {droppableLocation.id.includes('text-overflow') && (\n              <div className=\"section-area__background background-right\" />\n            )}\n          </div>\n        );\n      }}\n    </Droppable>\n  );\n}\n\nSectionArea.propTypes = {\n  areaClass: PropType.string\n};\n\nSectionArea.defaultProps = {\n  areaClass: ''\n};\n\nexport default SectionArea;\n","import React from 'react';\nimport { string } from 'prop-types';\n\nconst getPath = name => {\n  switch (name) {\n    case 'one-column-full-width':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'one-column-large':\n      return (\n        <g fillRule=\"evenodd\">\n          <g id=\"Group-2\">\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"34.0002 4.97379915e-14 34.0002 1.001 36.0002 1.001 36.0002 2.284 37.0002 2.284 37.0002 4.97379915e-14\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"29.0002 1.001 32.0012 1.001 32.0012 9.9475983e-14 29.0002 9.9475983e-14\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 7.285 37.0002 7.285 37.0002 4.285 36.0002 4.285\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 12.285 37.0002 12.285 37.0002 9.284 36.0002 9.284\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 17.285 37.0002 17.285 37.0002 14.285 36.0002 14.285\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 22.285 37.0002 22.285 37.0002 19.284 36.0002 19.284\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"34.7152 25 36.9992 25 36.9992 24 34.7152 24\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"29.7162 25 32.7162 25 32.7162 24 29.7162 24\"\n            />\n            <path\n              d=\"M28,0.0004 L2,0.0004 C0.896,0.0004 0,0.8964 0,2.0004 L0,23.0004 C0,24.1044 0.896,25.0004 2,25.0004 L28,25.0004 L28,0.0004 Z M2,23.0004 L26,23.0004 L26,2.0004 L2,2.0004 L2,23.0004 Z\"\n              fill=\"#FFFFFF\"\n            />\n          </g>\n        </g>\n      );\n    case 'one-column-medium':\n      return (\n        <g fillRule=\"evenodd\">\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.0002 0.0003 34.0002 1.0003 36.0002 1.0003 36.0002 2.2843 37.0002 2.2843 37.0002 0.0003\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.0002 1.0003 32.0012 1.0003 32.0012 0.0003 29.0002 0.0003\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.0002 1.0003 27.0002 1.0003 27.0002 0.0003 24.0002 0.0003\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 7.2843 37.0002 7.2843 37.0002 4.2843 36.0002 4.2843\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 12.2843 37.0002 12.2843 37.0002 9.2833 36.0002 9.2833\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 17.2843 37.0002 17.2843 37.0002 14.2843 36.0002 14.2843\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 22.2843 37.0002 22.2843 37.0002 19.2843 36.0002 19.2843\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.7152 24.9993 36.9992 24.9993 36.9992 23.9993 34.7152 23.9993\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.7162 24.9993 32.7162 24.9993 32.7162 23.9993 29.7162 23.9993\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.7162 24.9993 27.7162 24.9993 27.7162 23.9993 24.7162 23.9993\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'one-column-small':\n      return (\n        <g fillRule=\"evenodd\">\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.0002 0.0001 34.0002 1.0001 36.0002 1.0001 36.0002 2.2841 37.0002 2.2841 37.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.0002 1.0001 32.0012 1.0001 32.0012 0.0001 29.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.0002 1.0001 27.0002 1.0001 27.0002 0.0001 24.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"19.0002 1.0001 22.0002 1.0001 22.0002 0.0001 19.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 7.2841 37.0002 7.2841 37.0002 4.2841 36.0002 4.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 12.2841 37.0002 12.2841 37.0002 9.2841 36.0002 9.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 17.2851 37.0002 17.2851 37.0002 14.2841 36.0002 14.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 22.2841 37.0002 22.2841 37.0002 19.2841 36.0002 19.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.7152 25.0001 36.9992 25.0001 36.9992 24.0001 34.7152 24.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.7162 25.0001 32.7162 25.0001 32.7162 24.0001 29.7162 24.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.7162 25.0001 27.7162 25.0001 27.7162 24.0001 24.7162 24.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"19.7152 25.0001 22.7162 25.0001 22.7162 24.0001 19.7152 24.0001\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-text-only':\n      return (\n        <g fillRule=\"evenodd\">\n          <polygon fill=\"#7D7D7D\" points=\"18 6 19 6 19 3 18 3\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 11 19 11 19 8 18 8\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 16 19 16 19 13 18 13\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 21 19 21 19 17.999 18 17.999\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 23 18 24 18 25 19 25 19 23\" />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-left-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L13,24 L13,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-left-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M14,23 L35,23 L35,2 L14,2 L14,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-right-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-right-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-medium-top-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-medium-top-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-top-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-top-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-bottom-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M36,6 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,6 L36,6 L36,6 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,4 L35,4 L35,2 L2,2 L2,4 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-bottom-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,5 L1,5 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M2,23 L35,23 L35,7 L2,7 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-extra-narrow-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L28,24 L28,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M2,23 L26,23 L26,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-extra-narrow-right-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L28,24 L28,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M2,23 L26,23 L26,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-extra-narrow-right-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M27,1 L27,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L27,1 L27,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M29,23 L35,23 L35,2 L29,2 L29,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-column-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-column-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-right-column-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-right-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-right-column-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-narrow-right-column-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-narrow-right-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-narrow-right-column-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-top-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-top-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-top-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M2,23 L35,23 L35,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-bottom-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-bottom-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-bottom-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-left-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M2,7 L17,7 L17,2 L2,2 L2,7 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-left-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M2,15 L17,15 L17,10 L2,10 L2,15 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-left-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M2,23 L17,23 L17,18 L2,18 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M2,11 L11,11 L11,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-top-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M14,11 L23,11 L23,2 L14,2 L14,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M2,23 L11,23 L11,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-bottom-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M14,23 L23,23 L23,14 L14,14 L14,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    default:\n      return <path />;\n  }\n};\n\nconst LayoutIcon = ({\n  name = '',\n  viewBox = '0 0 37 25',\n  width = '37',\n  height = '25',\n  className = 'section-area__layout-icon',\n  ...props\n}) => {\n  return (\n    <svg\n      aria-label={`${name}`}\n      height={height}\n      viewBox={viewBox}\n      width={width}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      className={`${className} ${name}`}\n      {...props}\n    >\n      {getPath(name)}\n    </svg>\n  );\n};\n\nLayoutIcon.propTypes = {\n  name: string.isRequired\n};\n\nexport default LayoutIcon;\n","import React from 'react';\nimport { Button, Icon, Tooltip } from '@pwc/pwc-deals-ui';\n\nconst DeleteButton = ({\n  iconType,\n  handleClick,\n  handleMouseEnter,\n  handleMouseLeave,\n  tooltipPlacement,\n  tooltip\n}) => {\n  return (\n    <Tooltip direction={tooltipPlacement} tip={tooltip}>\n      <Button\n        className=\"button-no-underline\"\n        onClick={handleClick}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        data-testid=\"remove-section\"\n      >\n        <Icon\n          name=\"bin\"\n          className={`${iconType} icon-orange-theme`}\n          width={24}\n          height={24}\n        />\n      </Button>\n    </Tooltip>\n  );\n};\n\nexport default DeleteButton;\n","import React, { useRef, useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropType from 'prop-types';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\nimport classNames from 'classnames';\nimport {\n  setActiveSectionId,\n  setFloatingTabsTop,\n  setFloatingTabsHeight,\n  getReportFormatLayoutState\n} from '../../../../../../../../common/redux/reportFormat/reportFormatSlice';\nimport { useSections } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { setSectionToScroll } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport SectionArea from './SectionArea/SectionArea';\nimport CONSTANTS from '../../../Constants';\nimport LayoutIcon from '../../../LayoutIcon';\nimport DeleteButton from './DeleteButton/DeleteButton';\nimport useTabletOrMobile from '../../../../../../../../common/hooks/useTabletOrMobile';\n\nimport './Section.scss';\n\nfunction Section({\n  sectionData,\n  libraryItemMap,\n  droppableLocations,\n  onAddSection,\n  onRemoveSection,\n  lastSection,\n  showDeleteButton,\n  targetDroppableLocationIds,\n  // activeSection = false, // TODO: will use for styling\n  scrollIntoView = true\n}) {\n  const ref = useRef();\n  const [iconType, setIconType] = useState('outline');\n  const [isActive, setIsActive] = useState(false);\n  const [{ sectionIdToScroll }, useSectionsDispatch] = useSections();\n  const isTabletOrMobile = useTabletOrMobile();\n\n  const dispatch = useDispatch();\n  const sectionId = sectionData.order - 1;\n\n  const { activeSectionIndex, floatingTabsHeight } = useSelector(\n    getReportFormatLayoutState\n  );\n\n  const currentHeight = ref.current ? ref.current.offsetHeight : 0;\n  const currentTop = ref.current ? ref.current.offsetTop : 0;\n\n  useEffect(() => {\n    if (sectionIdToScroll === sectionId && currentHeight) {\n      if (scrollIntoView) {\n        ref.current.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n      setSectionToScroll(null, useSectionsDispatch);\n    }\n  }, [\n    currentHeight,\n    useSectionsDispatch,\n    scrollIntoView,\n    sectionId,\n    sectionIdToScroll\n  ]);\n\n  const handleOnSectionClick = () => {\n    /*\n     * Bug: PWC-5795\n     * If section clicked, floatingTabs needs to be positioned to that section\n     */\n    if (!isTabletOrMobile && activeSectionIndex !== sectionId) {\n      dispatch(setActiveSectionId({ index: sectionId }));\n      dispatch(\n        setFloatingTabsTop({\n          top: currentTop\n        })\n      );\n      if (currentHeight !== floatingTabsHeight) {\n        dispatch(\n          setFloatingTabsHeight({\n            height: currentHeight\n          })\n        );\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (activeSectionIndex === sectionId) {\n      if (!isActive) {\n        dispatch(\n          setFloatingTabsTop({\n            top: currentTop\n          })\n        );\n        dispatch(\n          setFloatingTabsHeight({\n            height: currentHeight\n          })\n        );\n      }\n\n      setIsActive(true);\n    } else if (isActive) {\n      setIsActive(false);\n    }\n  }, [\n    isActive,\n    activeSectionIndex,\n    sectionId,\n    dispatch,\n    currentTop,\n    currentHeight\n  ]);\n\n  const handleRemoveSection = () => {\n    const newSectionIndex = Math.max(0, sectionData.order - 1 - 1);\n    dispatch(setActiveSectionId({ index: newSectionIndex }));\n\n    onRemoveSection(sectionData.order);\n    setIconType('outline');\n  };\n  const handleMouseEnter = () => {\n    setIconType('fill');\n  };\n  const handleMouseLeave = () => {\n    setIconType('outline');\n  };\n\n  const {\n    title: layoutTitle,\n    description: layoutDescription\n  } = CONSTANTS.LAYOUT_TYPE_TO_LAYOUT_TITLE_DESCRIPTION_MAP[\n    sectionData.layoutType\n  ];\n\n  return (\n    // eslint-disable-next-line\n    <div\n      ref={ref}\n      data-section-id={sectionId}\n      key={`Section - ${sectionData.order}`}\n      className=\"section\"\n      data-testid=\"section\"\n      onClick={handleOnSectionClick}\n    >\n      <div className=\"section__top-row\" data-testid=\"section-top-row\">\n        <div className=\"section__top-row__row-1\">\n          <div className=\"section__title\">{`Section ${sectionData.order}`}</div>\n          {isTabletOrMobile && showDeleteButton && (\n            <DeleteButton\n              handleClick={handleRemoveSection}\n              handleMouseEnter={handleMouseEnter}\n              handleMouseLeave={handleMouseLeave}\n              tooltipPlacement=\"top\"\n              tooltip=\"Remove section\"\n              iconType={iconType}\n            />\n          )}\n        </div>\n        <div className=\"section__top-row__row-2\">\n          <div className=\"section__layout\">\n            <span className=\"section__layout__title\">{layoutTitle}</span>\n            <span className=\"section__layout__hyphen\">-</span>\n            <span className=\"section__layout__description\">\n              {layoutDescription}\n            </span>\n          </div>\n\n          <div className=\"section__delete-button\">\n            {!isTabletOrMobile && showDeleteButton && (\n              <DeleteButton\n                handleClick={handleRemoveSection}\n                handleMouseEnter={handleMouseEnter}\n                handleMouseLeave={handleMouseLeave}\n                tooltipPlacement=\"top\"\n                tooltip=\"Remove section\"\n                iconType={iconType}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      <div\n        className={classNames('section__middle-row', {\n          [CONSTANTS.LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP[\n            sectionData.layoutType\n          ]]: sectionData.layoutType\n        })}\n        data-testid=\"section-middle-row\"\n      >\n        {targetDroppableLocationIds &&\n          targetDroppableLocationIds.map(droppableLocationId => {\n            const droppableLocation = droppableLocations[droppableLocationId];\n            const libraryItems =\n              droppableLocation &&\n              droppableLocation.libraryItemIds\n                .map(id => libraryItemMap[id])\n                .filter(libraryItem => !!libraryItem);\n            return (\n              <React.Fragment key={droppableLocationId}>\n                {droppableLocation && (\n                  <>\n                    {isTabletOrMobile && (\n                      <LayoutIcon\n                        name={\n                          CONSTANTS.LAYOUT_TYPE_TO_ICON_MAP[\n                            `${sectionData.layoutType}-${droppableLocation.position}`\n                          ]\n                        }\n                      />\n                    )}\n                    <SectionArea\n                      key={droppableLocationId}\n                      areaClass={droppableLocationId}\n                      droppableLocation={\n                        droppableLocations[droppableLocationId]\n                      }\n                      libraryItems={libraryItems}\n                      libraryItemMap={libraryItemMap}\n                      droppableLocations={droppableLocations}\n                    />\n                  </>\n                )}\n              </React.Fragment>\n            );\n          })}\n      </div>\n      {lastSection && (\n        <div className=\"section__bottom-row\" data-testid=\"section-bottom-row\">\n          <hr className=\"section-line\" />\n          <Button className=\"button-no-underline\" onClick={onAddSection}>\n            <Icon\n              name=\"add\"\n              width={24}\n              height={24}\n              className=\"fill icon-orange-theme\"\n            />\n            <span className=\"section__bottom-row__button-text\">\n              Add new section\n            </span>\n          </Button>\n          <hr className=\"section-line\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nSectionArea.propTypes = {\n  sectionData: PropType.shape({\n    order: PropType.number,\n    layoutType: PropType.number,\n    items: PropType.arrayOf(PropType.any)\n  }),\n  onAddSection: PropType.func,\n  onRemoveSection: PropType.func,\n  targetDroppableLocationIds: PropType.arrayOf(PropType.string),\n  lastSection: PropType.bool,\n  activeSection: PropType.bool\n};\n\nexport default Section;\n","export const generateDroppableLocationIdWithSection = (\n  sectionLayoutType,\n  sectionNumber\n) => `${sectionLayoutType}-${sectionNumber}`;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\n\nimport { generateDroppableLocationIdWithSection } from './generateDroppableLocationIdWithSection';\n\nconst numericSortCallback = (a, b) => (a.order > b.order ? 1 : -1);\n\nexport const layoutTypeToDroppableLocationIdMap = {\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_ID\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: [\n    DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_FIRST_AREA_ID,\n    DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_SECOND_AREA_ID\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_80\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_60\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_40\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_TEXT_OVERFLOW_AREA\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_TWO_COLUMN_AREA_67_33,\n\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_60\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_40\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_40_1A_R_60_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_67_1A_R_33_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_80_1A_R_20_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_80_1A_B_20_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_60_1A_B_40_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_20_1A_B_80_1A,\n\n  [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]:\n    DROPPABLE_LOCATION_IDS.THREE_COLUMN,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_50_2A_R_50_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_50_2A_B_50_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_67_2A_R_33_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_50_1A_B_50_2A,\n\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_50_3A_R_50_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_TWO_ROW_50_2A_50_2A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_TWO_ROW_67_2A_33_2A,\n\n  [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]:\n    DROPPABLE_LOCATION_IDS.THREE_COLUMN_TWO_ROW\n};\n\nconst findAreaNeighbors = (allItems, area, sectionOrder) => {\n  const neighbors = {\n    areaAbove: null,\n    areaBelow: null\n  };\n  const areaOrder = area.slice(-1);\n  const areaWithoutOrder = area.slice(0, -1);\n  if (areaWithoutOrder.includes('bottom')) {\n    // find area above\n    const areaAbove = allItems.find(item => item.includes('top'));\n    neighbors.areaAbove = `${areaAbove}-${sectionOrder}`;\n    return neighbors;\n  }\n  if (areaWithoutOrder.includes('top')) {\n    // find area below\n    const areaBelow = allItems.find(item => item.includes('bottom'));\n    neighbors.areaBelow = `${areaBelow}-${sectionOrder}`;\n    return neighbors;\n  }\n  const topBottomNeighbors = allItems.filter(\n    item => item.includes(areaWithoutOrder) && item !== area\n  );\n  if (topBottomNeighbors.length >= 1) {\n    topBottomNeighbors.forEach(neighbor => {\n      const neighborAreaOrder = neighbor.slice(-1);\n      if (neighborAreaOrder > areaOrder) {\n        neighbors.areaBelow = `${neighbor}-${sectionOrder}`;\n      } else if (neighborAreaOrder < areaOrder) {\n        neighbors.areaAbove = `${neighbor}-${sectionOrder}`;\n      }\n    });\n  }\n  return neighbors;\n};\n\nconst generateDroppableLocationSetForSection = section => {\n  const baseColumn = { direction: 'vertical' };\n  const { layoutType } = section;\n  const droppableLocations = {};\n  const droppableLocationIds = layoutTypeToDroppableLocationIdMap[layoutType];\n  droppableLocationIds.forEach((dropLocId, index, allLocIds) => {\n    const position = index + 1;\n    const dropLocIdWithOrder = generateDroppableLocationIdWithSection(\n      dropLocId,\n      section.order\n    );\n    const { areaAbove, areaBelow } = findAreaNeighbors(\n      allLocIds,\n      dropLocId,\n      section.order\n    );\n    droppableLocations[dropLocIdWithOrder] = {\n      ...baseColumn,\n      position,\n      id: dropLocIdWithOrder,\n      areaAbove,\n      areaBelow,\n      libraryItemIds: section.items\n        .filter(item => item.analysisColumn === position)\n        .sort(numericSortCallback)\n        .map(item => item.id)\n    };\n  });\n  return droppableLocations;\n};\n\nexport default generateDroppableLocationSetForSection;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Section from './Section/Section';\n\nimport { useSections } from '../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setCurrentSections,\n  setNonLaidOutLibraryItems\n} from '../../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\n\nimport { getReportFormatLayoutState } from '../../../../../../../common/redux/reportFormat/reportFormatSlice';\n\nimport {\n  /* generateTargetDroppableLocationIds, */ generateTargetDroppableLocationIdsNew\n} from '../../../generateTargetDroppableLocationIds';\n\nimport './LeftPanel.scss';\n\nconst LeftPanel = ({ libraryItemMap, droppableLocations, onAddNewSection }) => {\n  const [\n    { currentSections = [], nonLaidOutLibraryItems = [] },\n    contextDispatch\n  ] = useSections();\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n\n  const handleAddNewSection = () => {\n    onAddNewSection();\n  };\n\n  const handleRemoveSection = sectionOrder => {\n    if (currentSections.length === 1) {\n      return;\n    }\n    const sectionToRemove = currentSections.find(s => s.order === sectionOrder);\n\n    const newNonLaidOutLibraryItems = nonLaidOutLibraryItems.concat(\n      sectionToRemove.items.map(item => libraryItemMap[item.id])\n    );\n    setNonLaidOutLibraryItems(newNonLaidOutLibraryItems, contextDispatch);\n\n    const newSections = currentSections\n      .filter(s => s.order !== sectionOrder)\n      .map((s, i) => {\n        return {\n          ...s,\n          order: i + 1\n        };\n      });\n\n    setCurrentSections(newSections, contextDispatch);\n  };\n\n  return (\n    <div className=\"left-panel\" data-testid=\"left-panel\">\n      {currentSections.map((section, i, allSections) => {\n        const targetDroppableLocationIds = generateTargetDroppableLocationIdsNew(\n          section\n        );\n\n        return (\n          <Section\n            key={section.order}\n            sectionData={section}\n            libraryItemMap={libraryItemMap}\n            droppableLocations={droppableLocations}\n            onAddSection={handleAddNewSection}\n            onRemoveSection={handleRemoveSection}\n            lastSection={i === currentSections.length - 1}\n            showDeleteButton={allSections.length > 1}\n            targetDroppableLocationIds={targetDroppableLocationIds}\n            activeSection={activeSectionIndex === i}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default LeftPanel;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport { generateDroppableLocationIdWithSection } from './generateDroppableLocationIdWithSection';\nimport { layoutTypeToDroppableLocationIdMap } from './generateDroppableLocationSetForSection';\n\nexport const generateTargetDroppableLocationIdsNew = section => {\n  const droppableLocationIds =\n    layoutTypeToDroppableLocationIdMap[section.layoutType];\n  const targetDroppableLocationIds = [];\n  droppableLocationIds.forEach(dropLocId => {\n    const dropLocIdWithOrder = generateDroppableLocationIdWithSection(\n      dropLocId,\n      section.order\n    );\n    targetDroppableLocationIds.push(dropLocIdWithOrder);\n  });\n  return targetDroppableLocationIds;\n};\n\nexport const generateTargetDroppableLocationIds = section =>\n  section.layoutType === Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN\n    ? [\n        generateDroppableLocationIdWithSection(\n          DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_FIRST_AREA_ID,\n          section.order || 1\n        ),\n        generateDroppableLocationIdWithSection(\n          DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_SECOND_AREA_ID,\n          section.order || 1\n        )\n      ]\n    : [\n        generateDroppableLocationIdWithSection(\n          DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_ID,\n          section.order || 1\n        )\n      ];\n","export default __webpack_public_path__ + \"static/media/four-block-narrow-right.c286421d.svg\";","export default __webpack_public_path__ + \"static/media/four-block.96773d17.svg\";","export default __webpack_public_path__ + \"static/media/one-column-full-width.267bb05f.svg\";","export default __webpack_public_path__ + \"static/media/one-column-large.3ef2f53d.svg\";","export default __webpack_public_path__ + \"static/media/one-column-medium.3ab2e9f1.svg\";","export default __webpack_public_path__ + \"static/media/one-column-small.1f3e5eca.svg\";","export default __webpack_public_path__ + \"static/media/six-block.eb4e953d.svg\";","export default __webpack_public_path__ + \"static/media/stacked-large-bottom.fc62a78b.svg\";","export default __webpack_public_path__ + \"static/media/stacked-large-top.5ae118c7.svg\";","export default __webpack_public_path__ + \"static/media/stacked-medium-top.5564b117.svg\";","export default __webpack_public_path__ + \"static/media/stacked-two-block-bottom.c9acd65c.svg\";","export default __webpack_public_path__ + \"static/media/stacked-two-block-top.f12cc733.svg\";","export default __webpack_public_path__ + \"static/media/stacked-with-narrow-right-column.04765665.svg\";","export default __webpack_public_path__ + \"static/media/stacked-with-right-column.1613d899.svg\";","export default __webpack_public_path__ + \"static/media/three-column.cfaf117b.svg\";","export default __webpack_public_path__ + \"static/media/three-stacked-with-right-column.18af8f03.svg\";","export default __webpack_public_path__ + \"static/media/two-column.7d6b8301.svg\";","export default __webpack_public_path__ + \"static/media/two-column-extra-narrow-right.1b3b0707.svg\";","export default __webpack_public_path__ + \"static/media/two-column-narrow-left.71f71618.svg\";","export default __webpack_public_path__ + \"static/media/two-column-narrow-right.f87cb324.svg\";","export default __webpack_public_path__ + \"static/media/two-column-text-only.37327032.svg\";","import { Constants } from '@pwc/pwc-deals-web-common';\nimport FourBlockNarrowRigth from '../../../../../../../../common/assets/report-format-layouts/four-block-narrow-right.svg';\nimport FourBlock from '../../../../../../../../common/assets/report-format-layouts/four-block.svg';\nimport OneColumnFullWith from '../../../../../../../../common/assets/report-format-layouts/one-column-full-width.svg';\nimport OneColumnLarge from '../../../../../../../../common/assets/report-format-layouts/one-column-large.svg';\nimport OneColumnMedium from '../../../../../../../../common/assets/report-format-layouts/one-column-medium.svg';\nimport OneColumnSmall from '../../../../../../../../common/assets/report-format-layouts/one-column-small.svg';\nimport SixBlock from '../../../../../../../../common/assets/report-format-layouts/six-block.svg';\nimport StackedLargeBottom from '../../../../../../../../common/assets/report-format-layouts/stacked-large-bottom.svg';\nimport StackedLargeTop from '../../../../../../../../common/assets/report-format-layouts/stacked-large-top.svg';\nimport StackedMediumTop from '../../../../../../../../common/assets/report-format-layouts/stacked-medium-top.svg';\nimport StackedTwoBlockBottom from '../../../../../../../../common/assets/report-format-layouts/stacked-two-block-bottom.svg';\nimport StackedTwoBlockTop from '../../../../../../../../common/assets/report-format-layouts/stacked-two-block-top.svg';\nimport StackedWithNarrowRightColumn from '../../../../../../../../common/assets/report-format-layouts/stacked-with-narrow-right-column.svg';\nimport StachedWithRightColumn from '../../../../../../../../common/assets/report-format-layouts/stacked-with-right-column.svg';\nimport ThreeColumn from '../../../../../../../../common/assets/report-format-layouts/three-column.svg';\nimport ThreeStackedWithRightColumn from '../../../../../../../../common/assets/report-format-layouts/three-stacked-with-right-column.svg';\nimport TwoColumn from '../../../../../../../../common/assets/report-format-layouts/two-column.svg';\nimport TwoColumnExtraNarrowRight from '../../../../../../../../common/assets/report-format-layouts/two-column-extra-narrow-right.svg';\nimport TwoColumnNarrowLeft from '../../../../../../../../common/assets/report-format-layouts/two-column-narrow-left.svg';\nimport TwoColumnNarrowRight from '../../../../../../../../common/assets/report-format-layouts/two-column-narrow-right.svg';\nimport TwoColumnTextOnly from '../../../../../../../../common/assets/report-format-layouts/two-column-text-only.svg';\n\nimport CONSTANTS from '../../../Constants';\n\nexport const LAYOUTS = [\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnFullWith,\n    label: '',\n    description: ''\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnSmall\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnMedium\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnLarge\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: TwoColumnTextOnly\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumnNarrowLeft\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumnNarrowRight\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumn\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: StackedMediumTop\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: StackedLargeTop\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: StackedLargeBottom\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumnExtraNarrowRight\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: ThreeColumn\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StachedWithRightColumn\n  },\n\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StackedWithNarrowRightColumn\n  },\n\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StackedTwoBlockTop\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StackedTwoBlockBottom\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: FourBlock\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: FourBlockNarrowRigth\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: ThreeStackedWithRightColumn\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: SixBlock\n  }\n];\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\n\nimport CONSTANTS from '../../../Constants';\n\nimport './LayoutFilter.scss';\n\nexport const SECTION_AREA_TEXT = {\n  ONE: '1',\n  TWO: '2',\n  THREE: '3',\n  FOUR: '4+'\n};\n\nexport const SECTION_AREAS = [\n  {\n    text: SECTION_AREA_TEXT.ONE,\n    conlumnType: CONSTANTS.COLUMN_TYPE.ONE,\n    isSelected: false\n  },\n  {\n    text: SECTION_AREA_TEXT.TWO,\n    conlumnType: CONSTANTS.COLUMN_TYPE.TWO,\n    isSelected: false\n  },\n  {\n    text: SECTION_AREA_TEXT.THREE,\n    conlumnType: CONSTANTS.COLUMN_TYPE.THREE,\n    isSelected: false\n  },\n  {\n    text: SECTION_AREA_TEXT.FOUR,\n    conlumnType: CONSTANTS.COLUMN_TYPE.FOUR,\n    isSelected: false\n  },\n  {\n    text: 'All',\n    isSelected: true\n  }\n];\n\nconst LayoutFilter = ({ filterLayouts }) => {\n  const [sectionAreaFilters, setSectionAreaFilter] = useState(SECTION_AREAS);\n\n  const resetFilter = () =>\n    setSectionAreaFilter(\n      sectionAreaFilters.map(filter => ({ ...filter, isSelected: false }))\n    );\n\n  const setlectFilter = text => {\n    setSectionAreaFilter(\n      sectionAreaFilters.map(filter => ({\n        ...filter,\n        isSelected: text === filter.text\n      }))\n    );\n  };\n\n  const handleFilter = ({ text, conlumnType }) => {\n    if (conlumnType) {\n      setlectFilter(text);\n      filterLayouts(conlumnType);\n    } else {\n      resetFilter();\n      filterLayouts();\n      setlectFilter(text);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"filter-header_div\">\n        <span>Filter by number of areas</span>\n      </div>\n\n      <div id=\"rs-panel-layout-buttons\" className=\"filter-container_div\">\n        {sectionAreaFilters.map(area => {\n          return (\n            <div\n              data-testid=\"rs-panel-layout-filter\"\n              key={`${area.text}-${area.isSelected}`}\n              role=\"button\"\n              className={classNames('filter-type', {\n                'filter-type--selected-div': area.isSelected\n              })}\n              onClick={() => handleFilter(area)}\n              onKeyDown={() => handleFilter(area)}\n              tabIndex={0}\n            >\n              {area.text}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default LayoutFilter;\n","import React, { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { LAYOUTS } from './Layouts';\nimport LayoutFilter from './LayoutFilter';\nimport './LayoutTab.scss';\n\nimport { useSections } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { getReportFormatLayoutState } from '../../../../../../../../common/redux/reportFormat/reportFormatSlice';\n\nexport const testId = 'rs-panel-layout-tab';\n\nconst useActiveSectionLayoutId = () => {\n  const [{ currentSections = [] }] = useSections();\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n\n  return useMemo(\n    () =>\n      currentSections[activeSectionIndex] &&\n      currentSections[activeSectionIndex].layoutType,\n    [currentSections, activeSectionIndex]\n  );\n};\n\nconst LayoutTab = ({ handleLayoutTypeChange }) => {\n  const [layouts, setLayout] = useState(LAYOUTS);\n  const activeSectionLayoutId = useActiveSectionLayoutId();\n\n  const filterLayouts = type => {\n    if (type) {\n      const filteredLayouts = LAYOUTS.filter(layout => layout.type === type);\n      setLayout(filteredLayouts);\n    } else {\n      setLayout(LAYOUTS);\n    }\n  };\n\n  const changeLayout = layoutId => {\n    handleLayoutTypeChange(layoutId);\n  };\n  return (\n    <div data-testid={testId} className=\"rs-panel-layout-tab\">\n      <LayoutFilter filterLayouts={filterLayouts} />\n      <div className=\"rs-panel-available-layouts\">\n        <ul className=\"rs-panel-available-layouts__list\">\n          {layouts.map(layout => {\n            return (\n              <div\n                className=\"small-container\"\n                key={`${layout.id}-${layout.type}`}\n                data-testid=\"layout-container\"\n              >\n                <img\n                  onClick={() => {\n                    changeLayout(layout.id);\n                  }}\n                  onKeyDown={() => {\n                    changeLayout(layout.id);\n                  }}\n                  src={layout.image}\n                  id={layout.id}\n                  alt=\"One column\"\n                  // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n                  role=\"button\"\n                  data-testid={`layout-image:${layout.id}`}\n                />\n                {layout.id === activeSectionLayoutId && (\n                  <div className=\"layout-image-overlay\" />\n                )}\n              </div>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default LayoutTab;\n","import React, { useState } from 'react';\nimport { Button, Tooltip, Icon } from '@pwc/pwc-deals-ui';\nimport { useDispatch } from 'react-redux';\n\nimport { toggleRightPanel } from '../../../../../../../../common/redux/reportFormat/reportFormatSlice';\nimport useTabletOrMobile from '../../../../../../../../common/hooks/useTabletOrMobile';\n\nimport './ToggleRightPanelButton.scss';\n\nconst ToggleRightPanelButton = ({ expanded }) => {\n  const dispatch = useDispatch();\n  const [iconType, setIconType] = useState('outline');\n\n  const handleCollapse = () => {\n    dispatch(toggleRightPanel());\n  };\n  const handleMouseEnter = () => {\n    setIconType('fill');\n  };\n  const handleMouseLeave = () => {\n    setIconType('outline');\n  };\n  const isTabletOrMobile = useTabletOrMobile();\n\n  return (\n    <Tooltip\n      direction=\"top\"\n      tip=\"Collapse sidebar\"\n      dataTestId=\"collapse-tooltip\"\n    >\n      <Button\n        className=\"button-no-underline report-panel-toggle-button\"\n        onClick={handleCollapse}\n        data-testid=\"toggle-right-panel-button\"\n        title=\"Collapse sidebar\"\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n      >\n        <Icon\n          name={\n            // eslint-disable-next-line no-nested-ternary\n            isTabletOrMobile\n              ? expanded\n                ? 'down-chevron'\n                : 'up-chevron'\n              : 'right-chevron'\n          }\n          width=\"20px\"\n          height=\"20px\"\n          className={`${\n            isTabletOrMobile ? 'fill' : `${iconType}`\n          } icon-orange-theme`}\n        />\n      </Button>\n    </Tooltip>\n  );\n};\n\nexport default ToggleRightPanelButton;\n","import React, { useMemo, useState } from 'react';\nimport classNames from 'classnames';\n\nimport ToggleRightPanelButton from './ToggleRightPanelButton';\n\nimport './RightPanelTabs.scss';\n\nconst RightPanelTab = ({ label, onClick, isActive }) => (\n  <li\n    onClick={onClick}\n    onKeyDown={e => {\n      if (['Enter', ' '].includes(e.key)) {\n        e.preventDefault();\n        onClick();\n      }\n    }}\n    className={classNames('report-panel-tabs__list-item', {\n      'report-panel-tabs__list-item--active': isActive\n    })}\n    tabIndex=\"0\"\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n    role=\"button\"\n  >\n    {label}\n  </li>\n);\n\nconst RightPanelTabs = ({\n  tabs = [],\n  initialActiveTab = 0,\n  sectionHeight,\n  panelExpanded = true\n}) => {\n  const [activeTab, setActiveTab] = useState(initialActiveTab);\n\n  const activeTabContent = useMemo(\n    () => tabs[activeTab] && tabs[activeTab].content,\n    [activeTab, tabs]\n  );\n\n  const contentStyle = useMemo(() => {\n    return {\n      height: sectionHeight\n    };\n  }, [sectionHeight]);\n\n  return (\n    <div className=\"report-panel-tabs\">\n      <ul className=\"report-panel-tabs__list\">\n        {tabs.map(({ label }, index) => (\n          <RightPanelTab\n            // eslint-disable-next-line react/no-array-index-key\n            key={`${index}-${label}`}\n            label={label}\n            onClick={() => setActiveTab(index)}\n            isActive={activeTab === index}\n          />\n        ))}\n        <li className=\"report-panel-tabs__list-toggle\">\n          <ToggleRightPanelButton expanded={panelExpanded} />\n        </li>\n      </ul>\n      {panelExpanded && (\n        <div\n          data-testid=\"report-tabs-content\"\n          className=\"report-tabs-content\"\n          style={contentStyle}\n        >\n          {activeTabContent}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RightPanelTabs;\n","import React from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useParams } from 'react-router-dom';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\n\nimport DraggableLibraryItemCard from '../../../../DraggableLibraryItemCard';\nimport { postRichText } from '../../../../../../../contentLibrary/libraryItemService';\nimport { setNonLaidOutLibraryItems } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\n\nimport './LibraryItemsListData.scss';\nimport useTabletOrMobile from '../../../../../../../../common/hooks/useTabletOrMobile';\n\nconst LibraryItemsListData = ({\n  libraryItems = [],\n  dispatch,\n  droppableLocations\n}) => {\n  const { projectId } = useParams();\n  const droppableLocationId = 'source-tray';\n  const isTabletOrMobile = useTabletOrMobile();\n\n  const handleAddTextBox = async () => {\n    const name = uuidv4();\n    const richTextData = JSON.stringify({\n      RichTextData: Constants.EMPTY_RICH_TEXT_PLACEHOLDER\n    });\n    const id = await postRichText(projectId, name, richTextData);\n    setNonLaidOutLibraryItems(\n      [\n        {\n          id,\n          name,\n          type: Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value,\n          isShared: false,\n          data: richTextData\n        },\n        ...libraryItems\n      ],\n      dispatch\n    );\n  };\n\n  return (\n    <div\n      className=\"library-items-list-data\"\n      data-testid=\"library-items-list-data\"\n    >\n      <Button\n        className=\"button-no-underline library-items-list-data__button\"\n        onClick={handleAddTextBox}\n      >\n        <Icon\n          name=\"add\"\n          width={24}\n          height={24}\n          className=\"fill icon-orange-theme\"\n        />\n        <span className=\"library-items-list-data__button__text\">\n          Add text-box\n        </span>\n      </Button>\n      <Droppable\n        droppableId={droppableLocationId}\n        direction={!isTabletOrMobile ? 'vertical' : 'horizontal'}\n      >\n        {provided => {\n          return (\n            <div\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n              className=\"library-items-list-data__droppable-container\"\n              data-testid=\"source-tray\"\n            >\n              <ul className=\"library-items-list-data__droppable-container__list\">\n                {libraryItems &&\n                  libraryItems.map((libraryItem, index) => {\n                    return (\n                      <DraggableLibraryItemCard\n                        key={libraryItem.id}\n                        libraryItem={libraryItem}\n                        index={index}\n                        droppableLocationId={droppableLocationId}\n                        droppableLocations={droppableLocations}\n                      />\n                    );\n                  })}\n                {provided.placeholder}\n              </ul>\n            </div>\n          );\n        }}\n      </Droppable>\n    </div>\n  );\n};\n\nexport default LibraryItemsListData;\n","import React, { useMemo } from 'react';\n\nimport LibraryItemsListData from '../LibraryItemsListData/LibraryItemsListData';\nimport { useSections } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\n\nexport const DataLibraryLabel = () => {\n  const [{ nonLaidOutLibraryItems = [] }] = useSections();\n\n  const dataLabel = useMemo(() => `Data (${nonLaidOutLibraryItems.length})`, [\n    nonLaidOutLibraryItems\n  ]);\n\n  return dataLabel;\n};\n\nconst DataLibraryTab = ({ droppableLocations }) => {\n  const [{ nonLaidOutLibraryItems = [] }, dispatch] = useSections();\n\n  return (\n    <LibraryItemsListData\n      libraryItems={nonLaidOutLibraryItems}\n      dispatch={dispatch}\n      droppableLocations={droppableLocations}\n    />\n  );\n};\n\nexport default DataLibraryTab;\n","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getReportFormatLayoutState } from '../../../../../../../common/redux/reportFormat/reportFormatSlice';\nimport LayoutTab from './LayoutTab/LayoutTab';\nimport ReportTabs from './RightPanelTabs/RightPanelTabs';\nimport DataLibraryTab, {\n  DataLibraryLabel\n} from './DataLibraryTab/DataLibraryTab';\nimport './RightPanel.scss';\n\nexport const testId = 'right-panel';\n\nconst RightPanel = ({\n  panelRef,\n  handleLayoutTypeChange,\n  droppableLocations,\n  panelExpanded\n}) => {\n  const rightPanelTabs = useMemo(\n    () => [\n      {\n        label: <DataLibraryLabel />,\n        content: <DataLibraryTab droppableLocations={droppableLocations} />\n      },\n      {\n        label: 'Layout',\n        content: <LayoutTab handleLayoutTypeChange={handleLayoutTypeChange} />\n      }\n    ],\n    [handleLayoutTypeChange, droppableLocations]\n  );\n  const {\n    floatingTabsHeight,\n    floatingTabsWidth,\n    floatingTabsTop\n  } = useSelector(getReportFormatLayoutState);\n\n  const componentStyle = useMemo(\n    () => ({\n      transition: 'all 0.3s ease 0s',\n      translateY: 0,\n      position: 'absolute',\n      top: floatingTabsTop,\n      width: floatingTabsWidth\n    }),\n    [floatingTabsTop, floatingTabsWidth]\n  );\n\n  /*\n   * Static margin, introduced in PWC-5339\n   */\n  const margin = 54;\n  const sectionHeight = floatingTabsHeight - margin;\n\n  return (\n    <div className={testId} id={testId} ref={panelRef} data-testid={testId}>\n      <div className=\"right-panel__children-container\" style={componentStyle}>\n        <ReportTabs\n          tabs={rightPanelTabs}\n          sectionHeight={sectionHeight}\n          panelExpanded={panelExpanded}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RightPanel;\n","import React, { useState } from 'react';\nimport { Button, Tooltip, Icon } from '@pwc/pwc-deals-ui';\nimport { useDispatch } from 'react-redux';\nimport classNames from 'classnames';\nimport { toggleRightPanel } from '../../../../../../../../common/redux/reportFormat/reportFormatSlice';\n\nimport './RightPanelExpand.scss';\n\nexport const testId = 'right-panel-expand';\nexport const buttonClassName = 'right-panel-expand__button';\n\nconst RightPanelExpand = () => {\n  const dispatch = useDispatch();\n  const [iconType, setIconType] = useState('outline');\n\n  const handleCollapse = () => {\n    dispatch(toggleRightPanel());\n  };\n  const handleMouseEnter = () => {\n    setIconType('fill');\n  };\n  const handleMouseLeave = () => {\n    setIconType('outline');\n  };\n\n  return (\n    <div data-testid={testId} className=\"right-panel-expand\">\n      <div className=\"right-panel-expand__tooltip-container\">\n        <Tooltip\n          direction=\"top\"\n          tip=\"Expand sidebar\"\n          dataTestId=\"expand-tooltip\"\n        >\n          <Button\n            data-testid={buttonClassName}\n            className={classNames('button-no-underline', buttonClassName)}\n            title=\"Expand sidebar\"\n            onClick={handleCollapse}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n          >\n            <Icon\n              name=\"left-chevron\"\n              width=\"20px\"\n              height=\"20px\"\n              className={`${iconType} icon-orange-theme`}\n            />\n          </Button>\n        </Tooltip>\n      </div>\n    </div>\n  );\n};\n\nexport default RightPanelExpand;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport { cloneDeep } from 'lodash';\nimport { layoutTypeToDroppableLocationIdMap } from './generateDroppableLocationSetForSection';\n\nconst isTextBox = libraryItem =>\n  libraryItem.type === Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value;\n\nconst isTextOverflowSection = type =>\n  type === Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA;\n\nconst canLibraryItemBePlacedInSection = (libraryItem, sectionLayoutType) => {\n  if (!isTextBox(libraryItem) && isTextOverflowSection(sectionLayoutType)) {\n    return false;\n  }\n  return true;\n};\n\nconst generateLayoutTypeChangeHandler = (\n  index,\n  currentSections,\n  setDroppableLocations,\n  setCurrentSections,\n  nonLaidOutLibraryItems,\n  editNonLaidOutLibraryItems\n) => {\n  const section = currentSections[index];\n  let newSection;\n  return type => {\n    newSection = {\n      ...section,\n      layoutType: type,\n      items: []\n    };\n    const droppableLocations = layoutTypeToDroppableLocationIdMap[type];\n    const clonedSectionItems = section.items.map(item => {\n      const cloned = cloneDeep(item);\n      const newAnalysisColumn =\n        item.analysisColumn <= droppableLocations.length &&\n        canLibraryItemBePlacedInSection(item, type)\n          ? item.analysisColumn\n          : null;\n      if (newAnalysisColumn) {\n        cloned.analysisColumn = newAnalysisColumn;\n      } else {\n        delete cloned.analysisColumn;\n      }\n      return cloned;\n    });\n    const removedSectionItems = clonedSectionItems.filter(\n      item => !item.analysisColumn\n    );\n    const currentSectionItems = clonedSectionItems.filter(\n      item => item.analysisColumn\n    );\n    newSection.items = [...currentSectionItems];\n\n    editNonLaidOutLibraryItems([\n      ...nonLaidOutLibraryItems,\n      ...removedSectionItems\n    ]);\n\n    const newSections = cloneDeep(currentSections);\n    newSections[index] = newSection;\n    setCurrentSections(newSections);\n  };\n};\n\nexport default generateLayoutTypeChangeHandler;\n","import React, { useMemo } from 'react';\nimport ReportTabs from '../RightPanel/RightPanelTabs/RightPanelTabs';\nimport DataLibraryTab, {\n  DataLibraryLabel\n} from '../RightPanel/DataLibraryTab/DataLibraryTab';\nimport LayoutTab from '../RightPanel/LayoutTab/LayoutTab';\nimport './BottomPanel.scss';\n\nfunction BottomPanel({\n  handleLayoutTypeChange,\n  droppableLocations,\n  panelRef,\n  panelExpanded\n}) {\n  const bottomPanelTabs = useMemo(\n    () => [\n      {\n        label: <DataLibraryLabel />,\n        content: <DataLibraryTab droppableLocations={droppableLocations} />\n      },\n      {\n        label: 'Layout',\n        content: <LayoutTab handleLayoutTypeChange={handleLayoutTypeChange} />\n      }\n    ],\n    [handleLayoutTypeChange, droppableLocations]\n  );\n\n  return (\n    <div className=\"bottom-panel\" data-testid=\"bottom-panel\" ref={panelRef}>\n      <ReportTabs tabs={bottomPanelTabs} panelExpanded={panelExpanded} />\n    </div>\n  );\n}\n\nexport default BottomPanel;\n","import { isEmpty as _isEmpty } from 'lodash';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useTabletOrMobile from '../../../../../common/hooks/useTabletOrMobile';\nimport {\n  getReportFormatLayoutState,\n  setActiveSectionId,\n  setFloatingTabsHeight,\n  setFloatingTabsWidth,\n  setFloatingTabsTop\n} from '../../../../../common/redux/reportFormat/reportFormatSlice';\nimport {\n  findActiveSectionOnMobile,\n  findActiveSectionOnDesktop\n} from './useActiveSectionsAlgos';\nimport CONSTANTS from './Constants';\n\nconst eventTypes = CONSTANTS.USER_EVENTS;\n\nfunction useActiveSection(sectionElements, bottomPanelRef, rightPanelRef) {\n  const dispatch = useDispatch();\n  const isTabletOrMobile = useTabletOrMobile();\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n  const [isPanelMounted, setIsPanelMounted] = useState(false);\n\n  /*\n   * ON RESIZE EVENT\n   */\n  const handleOnResizeEvent = useCallback(() => {\n    if (rightPanelRef.current) {\n      dispatch(\n        setFloatingTabsWidth({\n          width: rightPanelRef.current.offsetWidth\n        })\n      );\n    }\n  }, [dispatch, rightPanelRef]);\n\n  /*\n   * ON SCROLL EVENT\n   */\n  const handleOnScrollEvent = useCallback(() => {\n    if (!_isEmpty(sectionElements)) {\n      let newSectionIndex;\n\n      if (isTabletOrMobile) {\n        newSectionIndex = findActiveSectionOnMobile(\n          bottomPanelRef,\n          sectionElements\n        );\n      } else {\n        newSectionIndex = findActiveSectionOnDesktop(sectionElements);\n      }\n\n      if (\n        activeSectionIndex !== newSectionIndex &&\n        Boolean(sectionElements[newSectionIndex])\n      ) {\n        dispatch(setActiveSectionId({ index: newSectionIndex }));\n      }\n    }\n  }, [\n    activeSectionIndex,\n    bottomPanelRef,\n    dispatch,\n    isTabletOrMobile,\n    sectionElements\n  ]);\n\n  /*\n   * ON MOUNT\n   */\n  useEffect(() => {\n    if (\n      !isPanelMounted &&\n      rightPanelRef.current &&\n      !_isEmpty(sectionElements)\n    ) {\n      dispatch(\n        setFloatingTabsTop({\n          top: sectionElements[0].offsetTop\n        })\n      );\n      dispatch(\n        setFloatingTabsHeight({\n          height: sectionElements[0].offsetHeight\n        })\n      );\n      dispatch(\n        setFloatingTabsWidth({\n          width: rightPanelRef.current.offsetWidth\n        })\n      );\n\n      setIsPanelMounted(true);\n    }\n  }, [dispatch, isPanelMounted, rightPanelRef, sectionElements]);\n\n  useEffect(() => {\n    window.addEventListener(eventTypes.SCROLL, handleOnScrollEvent);\n    return () => {\n      window.removeEventListener(eventTypes.SCROLL, handleOnScrollEvent);\n    };\n  }, [handleOnScrollEvent]);\n\n  useEffect(() => {\n    window.addEventListener(eventTypes.RESIZE, handleOnResizeEvent);\n    return () => {\n      window.removeEventListener(eventTypes.RESIZE, handleOnResizeEvent);\n    };\n  }, [handleOnResizeEvent]);\n}\n\nexport default useActiveSection;\n","import { push } from 'connected-react-router';\nimport { getReportPreview } from '../../../features/analyses/common/AnalysisReportPreview/AnalysisReportService';\nimport {\n  setReportPreviewData,\n  setReportPreviewError,\n  setReportPreviewLoading\n} from './reportFormatSlice';\nimport {\n  postAnalysis,\n  putAnalysis\n} from '../../../features/analyses/analysesService';\nimport CONSTANTS from '../../../features/analyses/Freeform/FreeformAnalysisLayout/AddReportDataLayoutContainer/Constants';\n\nlet cancelPreviewRequestToken;\n\nexport const getReportPreviewThunk = (\n  projectId,\n  analysisId,\n  version\n) => async dispatch => {\n  dispatch(setReportPreviewLoading({ loading: true }));\n  dispatch(setReportPreviewError({ error: false }));\n  try {\n    const reportPreview = await getReportPreview(\n      projectId,\n      analysisId,\n      version,\n      cancelToken => {\n        cancelPreviewRequestToken = cancelToken;\n      }\n    );\n    dispatch(setReportPreviewLoading({ loading: false }));\n    dispatch(setReportPreviewData({ data: reportPreview }));\n  } catch (e) {\n    let errorMessage = e.message;\n    if (\n      cancelPreviewRequestToken.token.reason.message ===\n      'preview-request-canceled'\n    ) {\n      errorMessage = 'Failed to retrieve updated analysis layout preview';\n    }\n    dispatch(setReportPreviewLoading({ loading: false }));\n    dispatch(setReportPreviewError({ error: true, errorMessage }));\n  }\n};\n\nexport const submitAnalysisThunk = (\n  projectId,\n  analysisId,\n  analysisDto,\n  baseUrl\n) => async dispatch => {\n  try {\n    dispatch(setReportPreviewError({ error: false }));\n    let response;\n    if (analysisId) {\n      response = await putAnalysis(projectId, analysisId, analysisDto);\n    } else {\n      response = await postAnalysis(projectId, analysisDto);\n    }\n    if (response && Number.isInteger(response) && baseUrl) {\n      const constructedUrl = `${baseUrl}/${response}/${CONSTANTS.PARTIAL_ROUTE.EDIT_LAYOUT_PREVIEW}`;\n      dispatch(push(constructedUrl));\n    } else if (!response) {\n      dispatch(\n        setReportPreviewError({\n          error: true,\n          errorMessage: `Failed to ${\n            analysisId ? 'update' : 'create'\n          } analysis layout`\n        })\n      );\n      if (typeof cancelPreviewRequestToken !== typeof undefined) {\n        cancelPreviewRequestToken.cancel('preview-request-canceled');\n      }\n    }\n  } catch (e) {\n    let errorMessage = e.message;\n    if (e.message.includes('400')) {\n      errorMessage = `Bad request on ${\n        analysisId ? 'updating' : 'creating'\n      } analysis layout`;\n    }\n    dispatch(setReportPreviewLoading({ loading: false }));\n    dispatch(setReportPreviewError({ error: true, errorMessage }));\n    if (typeof cancelPreviewRequestToken !== typeof undefined) {\n      cancelPreviewRequestToken.cancel('preview-request-canceled');\n    }\n  }\n};\n","import { ceil as _ceil, floor as _floor } from 'lodash';\n\nexport function findActiveSectionOnMobile(panelRef, sectionElements) {\n  if (panelRef.current && sectionElements && sectionElements.length > 1) {\n    const elementRect = panelRef.current.getBoundingClientRect();\n\n    const sections = Array.from(sectionElements).map((node, index) => {\n      const nodeRect = node.getBoundingClientRect();\n      return {\n        index,\n        nodeRect\n      };\n    });\n\n    sections.reverse();\n\n    const lastVisibleSectionInReversedArray = sections.findIndex(section => {\n      const { nodeRect } = section;\n      return nodeRect.bottom < elementRect.top;\n    });\n\n    if (lastVisibleSectionInReversedArray > -1) {\n      return sections[lastVisibleSectionInReversedArray].index;\n    }\n  }\n  return 0;\n}\n\nexport function findActiveSectionOnDesktop(sectionElements) {\n  const numberOfSections = sectionElements.length;\n  const scrollThreshold = _ceil(\n    (document.documentElement.scrollHeight - window.innerHeight) /\n      numberOfSections\n  );\n\n  if (!scrollThreshold) {\n    /*\n     * If no scrollbar available (scrollHeight === window.innerHeight)\n     * select first element\n     */\n    return 0;\n  }\n\n  const sectionIndex = Math.max(\n    0,\n    Math.min(\n      _floor(document.documentElement.scrollTop / scrollThreshold),\n      numberOfSections - 1\n    )\n  );\n  return sectionIndex;\n}\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport { isEqual } from 'lodash';\nimport { DragDropContext } from 'react-beautiful-dnd';\n\nimport LeftPanel from './LeftPanel/LeftPanel';\nimport RightPanel from './RightPanel/RightPanel';\nimport RightPanelExpand from './RightPanel/RightPanelExpand/RightPanelExpand';\n\nimport { useSections } from '../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\n\nimport {\n  setCurrentSections,\n  setNonLaidOutLibraryItems\n} from '../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport generateLayoutTypeChangeHandler from '../../generateLayoutTypeChangeHandler';\nimport { getReportFormatLayoutState } from '../../../../../../common/redux/reportFormat/reportFormatSlice';\n\nimport './EditLayout.scss';\nimport BottomPanel from './BottomPanel/BottomPanel';\nimport useTabletOrMobile from '../../../../../../common/hooks/useTabletOrMobile';\nimport useActiveSection from '../useActiveSection';\n\nconst EditLayout = ({\n  showRightPanel = true,\n  libraryItemMap,\n  droppableLocations,\n  onAddNewSection,\n  setDroppableLocations,\n  onDragStart,\n  onDragUpdate,\n  onDragEnd\n}) => {\n  const [\n    { currentSections = [], nonLaidOutLibraryItems = [] },\n    contextDispatch\n  ] = useSections();\n  const bottomPanelRef = useRef(null);\n  const rightPanelRef = useRef(null);\n  const [renderedSectionElements, setRenderedSectionElements] = useState(null);\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n  const isTabletOrMobile = useTabletOrMobile();\n  const sectionElements = Array.from(\n    document.querySelectorAll('.edit-layout__left .section')\n  );\n\n  useActiveSection(renderedSectionElements, bottomPanelRef, rightPanelRef);\n\n  useEffect(() => {\n    if (sectionElements && !isEqual(sectionElements, renderedSectionElements)) {\n      setRenderedSectionElements(sectionElements);\n    }\n  }, [sectionElements, renderedSectionElements]);\n\n  const updateCurrentSections = sections => {\n    setCurrentSections(sections, contextDispatch);\n  };\n  const editNonLaidOutLibraryItems = items => {\n    setNonLaidOutLibraryItems(items, contextDispatch);\n  };\n  const handleLayoutTypeChange = generateLayoutTypeChangeHandler(\n    activeSectionIndex,\n    currentSections,\n    setDroppableLocations,\n    updateCurrentSections,\n    nonLaidOutLibraryItems,\n    editNonLaidOutLibraryItems\n  );\n\n  return (\n    <div\n      className={classNames('edit-layout', {\n        'edit-layout--collapsed-column': !showRightPanel && !isTabletOrMobile,\n        'edit-layout--mobile': isTabletOrMobile\n      })}\n      data-testid=\"edit-layout\"\n    >\n      <DragDropContext\n        onDragStart={onDragStart}\n        onDragUpdate={onDragUpdate}\n        onDragEnd={onDragEnd}\n      >\n        <div className=\"edit-layout__left\" data-testid=\"edit-layout-left-panel\">\n          <LeftPanel\n            libraryItemMap={libraryItemMap}\n            droppableLocations={droppableLocations}\n            onAddNewSection={onAddNewSection}\n            setDroppableLocations={setDroppableLocations}\n          />\n        </div>\n\n        {!isTabletOrMobile && (\n          <div\n            className=\"edit-layout__right\"\n            data-testid=\"edit-layout-right-panel\"\n          >\n            {showRightPanel ? (\n              <RightPanel\n                handleLayoutTypeChange={handleLayoutTypeChange}\n                droppableLocations={droppableLocations}\n                panelRef={rightPanelRef}\n                panelExpanded={showRightPanel}\n              />\n            ) : (\n              <RightPanelExpand />\n            )}\n          </div>\n        )}\n        {isTabletOrMobile && (\n          <div\n            className=\"edit-layout__bottom\"\n            data-testid=\"edit-layout-bottom-panel\"\n          >\n            <BottomPanel\n              handleLayoutTypeChange={handleLayoutTypeChange}\n              droppableLocations={droppableLocations}\n              panelRef={bottomPanelRef}\n              panelExpanded={showRightPanel}\n            />\n          </div>\n        )}\n      </DragDropContext>\n    </div>\n  );\n};\n\nexport default EditLayout;\n","import { ReportingApiClient } from '../../../../common/services/httpClient';\n\nconst baseServicePath = (projectId, contentId, versionStatus) =>\n  ['projects', projectId, 'preview', 'content', contentId, versionStatus].join(\n    '/'\n  );\n\nexport const getReportPreview = async (\n  projectId,\n  contentId,\n  version,\n  cancelRequestFn = undefined\n) => {\n  const response = await ReportingApiClient.get(\n    baseServicePath(projectId, contentId, version),\n    undefined,\n    undefined,\n    cancelRequestFn\n  );\n\n  return response.data.previewImage;\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport { useParams, useRouteMatch } from 'react-router-dom';\nimport { getReportPreviewState } from '../../../../../../common/redux/reportFormat/reportFormatSlice';\nimport {\n  getReportPreviewThunk,\n  submitAnalysisThunk\n} from '../../../../../../common/redux/reportFormat/reportFormatThunk';\nimport './SaveAndPreview.scss';\n\nconst SaveAndPreview = ({ analysisDto }) => {\n  const { projectId, analysisId, version } = useParams();\n  const { data, loading, error, errorMessage } = useSelector(\n    getReportPreviewState\n  );\n  const dispatch = useDispatch();\n  const [reportData, setReportData] = useState(null);\n  const match = useRouteMatch();\n\n  useEffect(() => {\n    async function updateData(...args) {\n      const [projectID, analysisID, analysisDTO, baseUrl] = args;\n      await dispatch(\n        submitAnalysisThunk(projectID, analysisID, analysisDTO, baseUrl)\n      );\n    }\n    if (\n      projectId &&\n      analysisDto &&\n      !analysisId &&\n      match.url.includes('create')\n    ) {\n      const baseUrl = `/projects/${projectId}/analyses`;\n      updateData(projectId, undefined, analysisDto, baseUrl);\n    } else if (\n      projectId &&\n      analysisDto &&\n      analysisId &&\n      match.url.includes('edit')\n    ) {\n      updateData(projectId, analysisId, analysisDto, undefined);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    async function getReportData() {\n      await dispatch(\n        getReportPreviewThunk(projectId, analysisId, version || 'latest')\n      );\n    }\n    if (analysisId && !reportData) {\n      getReportData();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!reportData && data) {\n      setReportData(data);\n    }\n  }, [reportData, data]);\n\n  return (\n    <div className=\"save-and-preview\" data-testid=\"save-and-preview\">\n      {!loading && error && <div data-testid=\"error\">{errorMessage}</div>}\n      {!loading && !error && reportData && reportData.length === 0 && (\n        <div data-testid=\"save-and-preview__no-data\">\n          Failed to load content\n        </div>\n      )}\n      {loading && !error && <Loader data-testid=\"loading\" />}\n\n      {!loading && !error && reportData && reportData.length ? (\n        <div data-testid=\"save-and-preview__preview-image\">\n          {reportData.map(image => {\n            return (\n              <img\n                className=\"preview-image\"\n                key={image}\n                src={image}\n                alt=\"report preview\"\n              />\n            );\n          })}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default SaveAndPreview;\n","import isEqual from 'lodash/isEqual';\n\nexport const checkIsValid = errors => {\n  const errorValues = Object.values(errors);\n  for (let index = 0; index < errorValues.length; index += 1) {\n    if (errorValues[index] !== '') {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const validateTitle = value => {\n  let error = '';\n  if (!value || value.trim().length === 0) {\n    error = 'Title is required';\n  }\n  return error;\n};\n\nexport const mapDto = (title, body, tags, sections) => {\n  return {\n    title,\n    body,\n    tags: tags.map(tag => ({\n      text: tag\n    })),\n    sections\n  };\n};\n\nexport const formIsDirty = ({\n  title,\n  body,\n  analysisTitle,\n  analysisBody,\n  tagsDirty,\n  linkedNarrativesChanged,\n  initialSections,\n  currentSections\n}) => {\n  if (title !== analysisTitle) return true;\n  if (body !== analysisBody) return true;\n  if (linkedNarrativesChanged) return true;\n  if (tagsDirty) return true;\n\n  const initialAndCurrentSectionsAreEqual = isEqual(\n    initialSections,\n    currentSections\n  );\n  if (!initialAndCurrentSectionsAreEqual) return true;\n  return false;\n};\n","import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst EditLayoutTab = ({\n  activeTab,\n  label,\n  onClick,\n  disabled,\n  setTabByIndex,\n  tabNumber,\n  numOfTabs\n}) => {\n  let className = 'edit-layout-tab-list-item';\n  const tabRef = useRef(null);\n\n  if (activeTab === label) {\n    className += ' edit-layout-tab-list-active';\n  }\n\n  if (disabled) {\n    className += ' edit-layout-tab-list-inactive';\n  }\n\n  useEffect(() => {\n    if (activeTab && activeTab === tabRef.current.getAttribute('aria-label')) {\n      tabRef.current.focus();\n    }\n  }, [activeTab]);\n\n  const setNextTab = index => {\n    let nextTabIndex = null;\n    if (index + 1 < numOfTabs) {\n      nextTabIndex = index + 1;\n    } else if (index + 1 >= numOfTabs) {\n      nextTabIndex = 0;\n    }\n    setTabByIndex(nextTabIndex);\n  };\n\n  const setPreviousTab = index => {\n    let previousTabIndex = null;\n    if (index - 1 >= 0) {\n      previousTabIndex = index - 1;\n    } else if (index - 1 < 0) {\n      previousTabIndex = numOfTabs - 1;\n    }\n    setTabByIndex(previousTabIndex);\n  };\n\n  const handleKeyDown = e => {\n    if (e.keyCode === 39 && e.key === 'ArrowRight') {\n      setNextTab(tabNumber);\n    } else if (e.keyCode === 37 && e.key === 'ArrowLeft') {\n      setPreviousTab(tabNumber);\n    }\n  };\n\n  return (\n    <li\n      className={className}\n      role=\"tab\"\n      aria-label={label}\n      aria-selected={activeTab === label}\n      tabIndex={activeTab === label ? 0 : -1}\n      onClick={disabled ? () => {} : () => onClick(label)}\n      onKeyDown={handleKeyDown}\n      data-testid={label ? `${label.replace(' ', '')}Tab` : ''}\n      ref={tabRef}\n    >\n      {`${label}`}\n    </li>\n  );\n};\n\nEditLayoutTab.propTypes = {\n  activeTab: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  tabNumber: PropTypes.number,\n  numOfTabs: PropTypes.number,\n  onClick: PropTypes.func.isRequired,\n  setTabByIndex: PropTypes.func,\n  disabled: PropTypes.bool\n};\n\nEditLayoutTab.defaultProps = {\n  tabNumber: 1,\n  numOfTabs: 1,\n  setTabByIndex: () => {},\n  disabled: false\n};\n\nexport default EditLayoutTab;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './EditLayoutTabs.scss';\nimport EditLayoutTab from './EditLayoutTab';\n\nconst EditLayoutTabs = ({ defaultTab, children, onChange, setTabByIndex }) => {\n  const validChildren = children.filter(c => c);\n\n  return (\n    <>\n      {defaultTab && (\n        <div className=\"edit-layout-tabs\">\n          <ul\n            className=\"edit-layout-tab-list\"\n            role=\"tablist\"\n            aria-label=\"Tab panel of layout\"\n            tabIndex={0}\n          >\n            {validChildren.map((child, index) => {\n              const { label, disabled } = child.props;\n\n              return (\n                <EditLayoutTab\n                  activeTab={defaultTab}\n                  key={label}\n                  label={label}\n                  tabNumber={index}\n                  numOfTabs={validChildren.length}\n                  onClick={onChange}\n                  setTabByIndex={setTabByIndex}\n                  disabled={disabled}\n                />\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n};\n\nEditLayoutTabs.propTypes = {\n  defaultTab: PropTypes.string.isRequired,\n  children: PropTypes.instanceOf(Array).isRequired,\n  onChange: PropTypes.func.isRequired,\n  setTabByIndex: PropTypes.func\n};\n\nEditLayoutTabs.defaultProps = {\n  setTabByIndex: () => {}\n};\nexport default EditLayoutTabs;\n","import DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport { generateDroppableLocationIdWithSection } from './generateDroppableLocationIdWithSection';\n\nexport function freeformLayoutIsValidNew(droppableLocations) {\n  const sourceTray = droppableLocations[DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID];\n  const sourceTrayIsEmpty =\n    sourceTray &&\n    sourceTray.libraryItemIds &&\n    sourceTray.libraryItemIds.length === 0;\n\n  if (!sourceTrayIsEmpty) return false;\n  const filteredDroppableLocationIds = Object.keys(droppableLocations).filter(\n    key => key !== DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID\n  );\n  const allDroppableContainersFilled = filteredDroppableLocationIds.every(\n    droppableLocationId =>\n      droppableLocations[droppableLocationId].libraryItemIds.length > 0\n  );\n  return allDroppableContainersFilled;\n}\n\nexport default function freeformLayoutIsValid(\n  droppableLocations,\n  numberOfSections\n) {\n  const hasLibraryItems = (index, droppableLocationIdBase) => {\n    const droppableLocationIdWithSection = generateDroppableLocationIdWithSection(\n      droppableLocationIdBase,\n      index + 1\n    );\n    if (\n      droppableLocations[droppableLocationIdWithSection] &&\n      droppableLocations[droppableLocationIdWithSection].libraryItemIds.length >\n        0\n    ) {\n      return true;\n    }\n    return false;\n  };\n  const sourceTray = droppableLocations[DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID];\n  const sourceTrayIsEmpty =\n    sourceTray &&\n    sourceTray.libraryItemIds &&\n    sourceTray.libraryItemIds.length === 0;\n\n  if (!sourceTrayIsEmpty) return false;\n  for (let i = 0; i < numberOfSections; i += 1) {\n    const nonSourceTrayDroppableLocationIds = Object.values(\n      DROPPABLE_LOCATION_IDS\n    ).filter(id => id !== DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID);\n\n    let sectionHasAtLeastOneItem = false;\n    for (let j = 0; j < nonSourceTrayDroppableLocationIds.length; j += 1) {\n      const droppableLocationIdBase = nonSourceTrayDroppableLocationIds[j];\n      if (Array.isArray(droppableLocationIdBase)) {\n        for (let k = 0; k < droppableLocationIdBase.length; k += 1) {\n          const hasLibraryItem = hasLibraryItems(i, droppableLocationIdBase[k]);\n\n          if (hasLibraryItem) {\n            sectionHasAtLeastOneItem = hasLibraryItem;\n            break;\n          }\n        }\n      } else {\n        const hasLibraryItem = hasLibraryItems(i, droppableLocationIdBase);\n\n        if (hasLibraryItem) {\n          sectionHasAtLeastOneItem = hasLibraryItem;\n          break;\n        }\n      }\n    }\n    if (!sectionHasAtLeastOneItem) {\n      return false;\n    }\n  }\n  return true;\n}\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { useHistory, useLocation, useParams } from 'react-router-dom';\nimport EditLayoutTabs from '../EditLayoutTabs/EditLayoutTabs';\nimport { freeformLayoutIsValidNew } from '../../freeformLayoutIsValid';\nimport CONSTANTS from '../Constants';\nimport './AddReportDataTabs.scss';\n\nconst AddReportDataTabs = ({ droppableLocations }) => {\n  const history = useHistory();\n  const location = useLocation();\n  const { projectId, analysisId } = useParams();\n  const { pathname } = location;\n\n  const pathMap = {\n    [CONSTANTS.TABS.EDIT_LAYOUT]: CONSTANTS.TABS_ROUTE.LAYOUT,\n    [CONSTANTS.TABS.SAVE_PREVIEW_REPORT]: CONSTANTS.TABS_ROUTE.PREVIEW\n  };\n\n  const getDefaultTab = useCallback(() => {\n    if (pathname.includes(CONSTANTS.TABS_ROUTE.PREVIEW)) {\n      return CONSTANTS.TABS.SAVE_PREVIEW_REPORT;\n    }\n    return CONSTANTS.TABS.EDIT_LAYOUT;\n  }, [pathname]);\n  const [defaultTab, setDefaultTab] = useState(() => getDefaultTab());\n\n  const redirect = route => {\n    const baseRoute = `/projects/${projectId}/analyses/`;\n    let newRoute;\n\n    if (route === CONSTANTS.TABS_ROUTE.PREVIEW && pathname.includes('create')) {\n      newRoute = `${baseRoute}${CONSTANTS.PARTIAL_ROUTE.CREATE_LAYOUT_PREVIEW}`;\n    } else if (\n      route === CONSTANTS.TABS_ROUTE.PREVIEW &&\n      pathname.includes('edit')\n    ) {\n      newRoute = `${baseRoute}${analysisId}/${CONSTANTS.PARTIAL_ROUTE.EDIT_LAYOUT_PREVIEW}`;\n    } else if (\n      route === CONSTANTS.TABS_ROUTE.LAYOUT &&\n      pathname.includes('create')\n    ) {\n      newRoute = `${baseRoute}${CONSTANTS.PARTIAL_ROUTE.CREATE_LAYOUT}`;\n    } else if (\n      route === CONSTANTS.TABS_ROUTE.LAYOUT &&\n      pathname.includes('edit')\n    ) {\n      newRoute = `${baseRoute}${analysisId}/${CONSTANTS.PARTIAL_ROUTE.EDIT_LAYOUT}`;\n    }\n\n    history.push(newRoute);\n  };\n\n  const setTab = tab => {\n    const notificationPath = pathMap[tab];\n    if (notificationPath) {\n      redirect(notificationPath);\n    }\n  };\n\n  const setTabByIndex = index => {\n    const tabList = Object.keys(pathMap);\n    const tab = tabList[index];\n    setTab(tab);\n  };\n\n  useEffect(() => {\n    setDefaultTab(() => getDefaultTab());\n  }, [getDefaultTab, location]);\n\n  return (\n    <div\n      className=\"add-report-data-layout-main-tabs\"\n      data-testid=\"add-report-data-tabs\"\n    >\n      <EditLayoutTabs\n        defaultTab={defaultTab}\n        onChange={setTab}\n        setTabByIndex={setTabByIndex}\n      >\n        <div label={CONSTANTS.TABS.EDIT_LAYOUT} />\n\n        <div\n          label={CONSTANTS.TABS.SAVE_PREVIEW_REPORT}\n          disabled={!freeformLayoutIsValidNew(droppableLocations)}\n        />\n      </EditLayoutTabs>\n    </div>\n  );\n};\n\nexport default React.memo(AddReportDataTabs);\n","import React, { useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\n\nimport EditLayout from './EditLayout/EditLayout';\nimport SaveAndPreview from './SaveAndPreview/SaveAndPreview';\nimport {\n  getLibraryItemPosition,\n  getReportFormatLayoutState,\n  getLibraryItem,\n  setLibraryItemStartPosition,\n  setLibraryItemFinishPosition\n} from '../../../../../common/redux/reportFormat/reportFormatSlice';\nimport { useSections } from '../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\nimport { mapDto } from '../../FreeformAnalysisForm/FreeformAnalysisFormUtil/FreeformAnalysisFormUtil';\nimport AddReportDataTabs from './AddReportDataTabs/AddReportDataTabs';\nimport CONSTANTS from './Constants';\n\nconst AddReportDataLayoutContainer = ({\n  onDragStart,\n  onDragUpdate,\n  onDragEnd,\n  libraryItemMap,\n  droppableLocations,\n  onAddNewSection,\n  setDroppableLocations,\n  analysisTitle,\n  analysisDescription,\n  tags\n}) => {\n  // local states\n  // const [analysisData, setAnalysisData] = useState();\n\n  const dispatch = useDispatch();\n  const { showRightPanel } = useSelector(getReportFormatLayoutState);\n\n  // contexts\n  // const { projectId, analysisId } = useParams();\n  const [{ currentSections = [] }, contextDispatch] = useSections();\n  const { start: source, finish: destination } = useSelector(\n    getLibraryItemPosition\n  );\n  const { draggableId } = useSelector(getLibraryItem);\n\n  const analysisDto = mapDto(\n    analysisTitle,\n    analysisDescription,\n    tags,\n    currentSections\n  );\n\n  const removeItemFromColumn = (column, index) => {\n    const startItemIds = Array.from(column.libraryItemIds);\n    startItemIds.splice(index, 1);\n    return {\n      ...column,\n      libraryItemIds: startItemIds\n    };\n  };\n\n  const insertItemIntoColumn = (column, index, itemId) => {\n    const newItemIds = Array.from(column.libraryItemIds);\n    newItemIds.splice(index, 0, itemId);\n    return {\n      ...column,\n      libraryItemIds: newItemIds\n    };\n  };\n\n  const handleKeyDownEnd = useCallback(() => {\n    const start = droppableLocations[source.droppableId];\n    const finish = droppableLocations[destination.droppableId];\n\n    if (finish.libraryItemIds.includes(draggableId)) {\n      return;\n    }\n\n    const updatedStart = removeItemFromColumn(start, source.index);\n    const updatedFinish = insertItemIntoColumn(\n      finish,\n      destination.index,\n      draggableId\n    );\n\n    const newDroppableLocations = {\n      ...droppableLocations,\n      [updatedStart.id]: updatedStart,\n      [updatedFinish.id]: updatedFinish\n    };\n\n    setDroppableLocations(newDroppableLocations);\n    dispatch(setLibraryItemStartPosition({ start: null, draggableId: null }));\n    dispatch(setLibraryItemFinishPosition({ finish: null }));\n\n    const newAnalysisColumn = finish.position;\n    contextDispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_TO_ADJACENT_AREA,\n      payload: {\n        newAnalysisColumn,\n        libraryItemId: draggableId\n      }\n    });\n  }, [\n    source,\n    destination,\n    draggableId,\n    droppableLocations,\n    setDroppableLocations,\n    dispatch,\n    contextDispatch\n  ]);\n\n  useEffect(() => {\n    if (source && destination && draggableId) {\n      handleKeyDownEnd();\n    }\n  }, [source, destination, draggableId, handleKeyDownEnd]);\n\n  return (\n    <div data-testid=\"add-report-data-layout-container\">\n      <AddReportDataTabs droppableLocations={droppableLocations} />\n      <Switch>\n        <Route path={CONSTANTS.SUB_ROUTES.CREATE_PREVIEW} exact>\n          <SaveAndPreview analysisDto={analysisDto} />\n        </Route>\n        <Route path={CONSTANTS.SUB_ROUTES.EDIT_PREVIEW} exact>\n          <SaveAndPreview analysisDto={analysisDto} />\n        </Route>\n        <Route path={CONSTANTS.SUB_ROUTES.CREATE_LAYOUT} exact>\n          <EditLayout\n            showRightPanel={showRightPanel}\n            libraryItemMap={libraryItemMap}\n            droppableLocations={droppableLocations}\n            onAddNewSection={onAddNewSection}\n            setDroppableLocations={setDroppableLocations}\n            onDragStart={onDragStart}\n            onDragUpdate={onDragUpdate}\n            onDragEnd={onDragEnd}\n          />\n        </Route>\n        <Route path={CONSTANTS.SUB_ROUTES.EDIT_LAYOUT} exact>\n          <EditLayout\n            showRightPanel={showRightPanel}\n            libraryItemMap={libraryItemMap}\n            droppableLocations={droppableLocations}\n            onAddNewSection={onAddNewSection}\n            setDroppableLocations={setDroppableLocations}\n            onDragStart={onDragStart}\n            onDragUpdate={onDragUpdate}\n            onDragEnd={onDragEnd}\n          />\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\nexport default AddReportDataLayoutContainer;\n","import { ProgressSteps } from '@pwc/pwc-deals-ui';\nimport { max } from 'lodash';\nimport React from 'react';\n\nimport { useSections } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setCurrentSections,\n  setSectionToScroll\n} from '../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\nimport './FreeformAnalysisLayout.scss';\nimport './FreeformAnalysisLayoutContainer.scss';\n\nimport AddReportDataLayoutContainer from './AddReportDataLayoutContainer/AddReportDataLayoutContainer';\n\nconst steps = [\n  { title: 'first', description: 'Select data' },\n  { title: 'second', description: 'Edit layout' }\n];\n\nconst FreeformAnalysisLayout = ({\n  droppableLocations,\n  libraryItemMap,\n  handleDragEnd,\n  setDroppableLocations,\n  analysisTitle,\n  analysisDescription,\n  tags\n}) => {\n  const [{ currentSections }, dispatch] = useSections();\n  const handleAddSection = () => {\n    const maxSectionOrder = max(currentSections.map(section => section.order));\n    const previousSection = currentSections.find(\n      s => s.order === maxSectionOrder\n    );\n    const newSection = {\n      order: maxSectionOrder + 1,\n      layoutType: previousSection.layoutType,\n      items: []\n    };\n\n    setCurrentSections([...currentSections, newSection], dispatch);\n    setSectionToScroll(maxSectionOrder, dispatch);\n  };\n\n  const updateCurrentPosition = (position, itemId) => {\n    dispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_WITHIN_SECTION,\n      payload: {\n        currentPosition: position,\n        draggableWithinSectionsItemId: itemId\n      }\n    });\n  };\n  const handleOnDragStart = ({ source, draggableId }) => {\n    updateCurrentPosition(source, draggableId);\n  };\n  const handleOnDragUpdate = ({ destination, draggableId }) => {\n    updateCurrentPosition(destination, draggableId);\n  };\n\n  return (\n    <>\n      <h1>Edit Layout</h1>\n      <div className=\"step-indicator-container\">\n        <ProgressSteps current={2} steps={steps} />\n      </div>\n      <div className=\"drag-and-drop-layout\">\n        <AddReportDataLayoutContainer\n          onDragStart={handleOnDragStart}\n          onDragUpdate={handleOnDragUpdate}\n          onDragEnd={handleDragEnd}\n          libraryItemMap={libraryItemMap}\n          droppableLocations={droppableLocations}\n          onAddNewSection={handleAddSection}\n          setDroppableLocations={setDroppableLocations}\n          analysisTitle={analysisTitle}\n          analysisDescription={analysisDescription}\n          tags={tags}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default FreeformAnalysisLayout;\n","import DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport generateDroppableLocationSetForSection from './generateDroppableLocationSetForSection';\n\nconst getDroppableLocations = (nonLaidOutLibraryItems, currentSections) => {\n  return currentSections.map(generateDroppableLocationSetForSection).reduce(\n    (x, y) => {\n      return { ...x, ...y };\n    },\n    {\n      [DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID]: {\n        id: DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID,\n        libraryItemIds: nonLaidOutLibraryItems.map(item => item.id),\n        className: 'library-item-source-tray',\n        direction: 'vertical'\n      }\n    }\n  );\n};\n\nexport default getDroppableLocations;\n","import cloneDeep from 'lodash/cloneDeep';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport { generateDroppableLocationIdWithSection } from './generateDroppableLocationIdWithSection';\nimport { layoutTypeToDroppableLocationIdMap } from './generateDroppableLocationSetForSection';\n\nfunction retrieveLayoutType(locationId) {\n  const droppableLocationKeys = Object.keys(layoutTypeToDroppableLocationIdMap);\n  let layoutType;\n  let analysisCol;\n  droppableLocationKeys.forEach(key => {\n    const locIdsOfKey = layoutTypeToDroppableLocationIdMap[key];\n    const exists = locIdsOfKey.findIndex(locId => locId === locationId);\n    if (exists > -1) {\n      layoutType = key;\n      analysisCol = exists;\n    }\n  });\n  return Number.isInteger(parseInt(layoutType, 10))\n    ? { layoutType: parseInt(layoutType, 10), analysisCol }\n    : { layoutType: 1, analysisCol: 0 };\n}\n\nexport default function getSectionsFromDroppableLocations(\n  droppableLocations,\n  libraryItemMap\n) {\n  const sourceTray = droppableLocations[DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID];\n\n  const nonLaidOutLibraryItems = sourceTray.libraryItemIds.map((id, index) => {\n    const cloned = cloneDeep(libraryItemMap[id]);\n    if (cloned.analysisColumn) delete cloned.analysisColumn;\n    cloned.order = index + 1;\n    return cloned;\n  });\n\n  const droppableLocationIds = Object.values(DROPPABLE_LOCATION_IDS).filter(\n    value => value !== DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID\n  );\n  const numberOfAreaIds = droppableLocationIds.length;\n\n  const sections = [];\n  let sectionNumber = 1;\n  let sectionsRemain = true;\n\n  while (sectionsRemain) {\n    const section = {\n      order: sectionNumber\n    };\n    let itemsInSection = [];\n    const droppableLocationIdsExist = droppableLocationIds.map(() => false);\n    for (\n      let locationIdIndex = 0;\n      locationIdIndex < numberOfAreaIds;\n      locationIdIndex += 1\n    ) {\n      const locationId = droppableLocationIds[locationIdIndex];\n      if (!Array.isArray(locationId) && typeof locationId === 'string') {\n        const locationIdWithSection = generateDroppableLocationIdWithSection(\n          locationId,\n          sectionNumber\n        );\n        const currentDroppableLocation =\n          droppableLocations[locationIdWithSection];\n        if (currentDroppableLocation) {\n          droppableLocationIdsExist[locationIdIndex] = true;\n          const { layoutType, analysisCol } = retrieveLayoutType(locationId);\n          section.layoutType = layoutType;\n\n          const libraryItemIdsInDroppableLocation =\n            currentDroppableLocation.libraryItemIds;\n          const libraryItemsInDroppableLocation = libraryItemIdsInDroppableLocation.map(\n            id => libraryItemMap[id]\n          );\n          const itemsWithColumnAndOrder = libraryItemsInDroppableLocation.map(\n            (item, index) => {\n              item.analysisColumn = analysisCol + 1;\n              item.order = index + 1;\n              return item;\n            }\n          );\n          itemsInSection = [...itemsInSection, ...itemsWithColumnAndOrder];\n        }\n      } else {\n        // eslint-disable-next-line no-loop-func\n        locationId.forEach((locId, locIndex) => {\n          const locIdWithSection = generateDroppableLocationIdWithSection(\n            locId,\n            sectionNumber\n          );\n          const currentDroppableLocation = droppableLocations[locIdWithSection];\n          if (currentDroppableLocation) {\n            droppableLocationIdsExist[locationIdIndex] = true;\n            const { layoutType } = retrieveLayoutType(locId);\n            section.layoutType = layoutType;\n            const libraryItemIdsInDroppableLocation =\n              currentDroppableLocation.libraryItemIds;\n            const libraryItemsInDroppableLocation = libraryItemIdsInDroppableLocation.map(\n              id => libraryItemMap[id]\n            );\n            const itemsWithColumnAndOrder = libraryItemsInDroppableLocation.map(\n              (item, index) => {\n                item.analysisColumn = locIndex + 1;\n                item.order = index + 1;\n                return item;\n              }\n            );\n            itemsInSection = [...itemsInSection, ...itemsWithColumnAndOrder];\n          }\n        });\n      }\n    }\n\n    if (!droppableLocationIdsExist.includes(true)) {\n      sectionsRemain = false;\n    }\n\n    if (sectionsRemain) {\n      section.items = itemsInSection;\n      sections.push(section);\n      sectionNumber += 1;\n    }\n  }\n\n  return {\n    nonLaidOutLibraryItems,\n    sections\n  };\n}\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport cloneDeep from 'lodash/cloneDeep';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport useTabletOrMobile from '../../../../common/hooks/useTabletOrMobile';\nimport ActiveContentHeader from '../../../../common/components/ContentHeaders/ActiveContentHeader';\nimport { FormLayout } from '../../../../common/components/layouts';\nimport Separator from '../../../../common/components/Separator';\nimport { useSections } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setCurrentSections,\n  setNonLaidOutLibraryItems\n} from '../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\nimport FreeformAnalysisLayout from './FreeformAnalysisLayout';\nimport './FreeformAnalysisLayoutContainer.scss';\nimport { freeformLayoutIsValidNew } from './freeformLayoutIsValid';\nimport getDroppableLocations from './getDroppableLocations';\nimport getSectionsFromDroppableLocations from './getSectionsFromDroppableLocations';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\n\nconst FreeformAnalysisLayoutContainer = ({\n  goBackUrl,\n  basePageUrl,\n  operationType,\n  setLayoutSaved,\n  initialSections,\n  analysisTitle,\n  analysisDescription,\n  tags\n}) => {\n  const isTabletOrMobile = useTabletOrMobile();\n  const [{ currentSections, nonLaidOutLibraryItems }, dispatch] = useSections();\n  const { projectId } = useParams();\n  const laidOutLibraryItems = currentSections.flatMap(section => section.items);\n  const allLibraryItemsToLayOut = [\n    ...nonLaidOutLibraryItems,\n    ...laidOutLibraryItems\n  ];\n  const libraryItemMap = allLibraryItemsToLayOut.reduce(\n    (libraryItemMapByIdObject, libraryItem) => {\n      libraryItemMapByIdObject[libraryItem.id] = cloneDeep(libraryItem);\n      return libraryItemMapByIdObject;\n    },\n    {}\n  );\n\n  const [droppableLocations, setDroppableLocations] = useState(\n    getDroppableLocations(nonLaidOutLibraryItems, currentSections)\n  );\n\n  useEffect(() => {\n    const newDroppableLocations = getDroppableLocations(\n      nonLaidOutLibraryItems,\n      currentSections\n    );\n    setDroppableLocations(newDroppableLocations);\n  }, [currentSections, nonLaidOutLibraryItems]);\n\n  const history = useHistory();\n\n  const handleCancel = () => {\n    setCurrentSections(initialSections, dispatch);\n    history.replace(basePageUrl);\n  };\n\n  const setSectionsAndNavigate = url => {\n    const {\n      nonLaidOutLibraryItems: newNonLaidOutLibraryItems,\n      sections: newCurrentSections\n    } = getSectionsFromDroppableLocations(droppableLocations, libraryItemMap);\n    setCurrentSections(newCurrentSections, dispatch);\n    setNonLaidOutLibraryItems(newNonLaidOutLibraryItems, dispatch);\n    history.replace(url);\n  };\n\n  const handleSaveLayout = () => {\n    setLayoutSaved(true);\n    setSectionsAndNavigate(basePageUrl);\n  };\n\n  const moveItemWithinColumn = (\n    column,\n    itemId,\n    sourceIndex,\n    destinationIndex\n  ) => {\n    const newItemIds = Array.from(column.libraryItemIds);\n    newItemIds.splice(sourceIndex, 1);\n    const parsedItemId = parseInt(itemId, 10);\n    newItemIds.splice(destinationIndex, 0, parsedItemId);\n\n    return {\n      ...column,\n      libraryItemIds: newItemIds\n    };\n  };\n\n  const removeItemFromColumn = (column, index) => {\n    const startItemIds = Array.from(column.libraryItemIds);\n    startItemIds.splice(index, 1);\n    return {\n      ...column,\n      libraryItemIds: startItemIds\n    };\n  };\n\n  const insertItemIntoColumn = (column, index, itemId) => {\n    const newItemIds = Array.from(column.libraryItemIds);\n    const parsedItemId = parseInt(itemId, 10);\n    newItemIds.splice(index, 0, parsedItemId);\n    return {\n      ...column,\n      libraryItemIds: newItemIds\n    };\n  };\n\n  const isSourceTray = droppableContainer =>\n    droppableContainer.id === DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID;\n\n  const swapLibraryItems = (start, finish, draggableId) => {\n    const parsedDraggableId = parseInt(draggableId, 10);\n    const oldDestItemId = finish.libraryItemIds[0];\n    const draggableIndexInFinish = finish.libraryItemIds.indexOf(oldDestItemId);\n    const updatedFinishLibItemIds = [...finish.libraryItemIds];\n    updatedFinishLibItemIds.splice(\n      draggableIndexInFinish,\n      1,\n      parsedDraggableId\n    );\n    const updatedFinish = {\n      ...finish,\n      libraryItemIds: updatedFinishLibItemIds\n    };\n    const draggableIndexInStart = start.libraryItemIds.indexOf(\n      parsedDraggableId\n    );\n    const updatedStartLibItemIds = [...start.libraryItemIds];\n    updatedStartLibItemIds.splice(draggableIndexInStart, 1);\n    const updatedStartLibItemIdsLength = updatedStartLibItemIds.length;\n    updatedStartLibItemIds.splice(\n      updatedStartLibItemIdsLength,\n      0,\n      oldDestItemId\n    );\n    const updatedStart = { ...start, libraryItemIds: updatedStartLibItemIds };\n    return {\n      updatedStart,\n      updatedFinish\n    };\n  };\n\n  const handleDragEnd = ({ destination, source, draggableId }) => {\n    dispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_DROPPED\n    });\n\n    if (!destination) {\n      return;\n    }\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    const start = droppableLocations[source.droppableId];\n    const finish = droppableLocations[destination.droppableId];\n\n    if (\n      finish.id.includes('text-overflow') &&\n      libraryItemMap[draggableId].type !==\n        Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value\n    ) {\n      return;\n    }\n\n    let newDroppableLocations;\n\n    if (start === finish) {\n      const updatedColumn = moveItemWithinColumn(\n        start,\n        draggableId,\n        source.index,\n        destination.index\n      );\n\n      newDroppableLocations = {\n        ...droppableLocations,\n        [updatedColumn.id]: updatedColumn\n      };\n    } else if (finish.libraryItemIds.length > 0 && !isSourceTray(finish)) {\n      const { updatedStart, updatedFinish } = swapLibraryItems(\n        start,\n        finish,\n        draggableId\n      );\n\n      newDroppableLocations = {\n        ...droppableLocations,\n        [updatedStart.id]: updatedStart,\n        [updatedFinish.id]: updatedFinish\n      };\n    } else {\n      const updatedStart = removeItemFromColumn(start, source.index);\n      const updatedFinish = insertItemIntoColumn(\n        finish,\n        destination.index,\n        draggableId\n      );\n\n      newDroppableLocations = {\n        ...droppableLocations,\n        [updatedStart.id]: updatedStart,\n        [updatedFinish.id]: updatedFinish\n      };\n    }\n\n    const {\n      sections: newSections,\n      nonLaidOutLibraryItems: newNonLaidOutLibraryItems\n    } = getSectionsFromDroppableLocations(\n      newDroppableLocations,\n      libraryItemMap\n    );\n\n    setDroppableLocations(newDroppableLocations);\n    setNonLaidOutLibraryItems(newNonLaidOutLibraryItems, dispatch);\n    setCurrentSections(newSections, dispatch);\n  };\n\n  const backButton = () => (\n    <Button\n      className=\"button-menu back-button\"\n      type=\"button\"\n      onClick={() => setSectionsAndNavigate(goBackUrl)}\n      data-testid=\"back-button\"\n    >\n      <Icon name=\"left-chevron\" width={14} className=\"fill icon-orange\" />\n      Back\n    </Button>\n  );\n\n  return (\n    <FormLayout\n      className=\"freeform-analysis-layout\"\n      headerComponent={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <div className=\"freeform-analysis-form-header\">\n          <ActiveContentHeader pageLabel={isTabletOrMobile && backButton()}>\n            {!isTabletOrMobile && (\n              <Button\n                className=\"button-link button-theme mx-2 mr-4\"\n                onClick={handleCancel}\n                type=\"button\"\n                data-testid=\"cancel-button-top\"\n              >\n                {`Back to ${operationType} analysis`}\n              </Button>\n            )}\n            <Button\n              className=\"button-small\"\n              data-testid=\"save-button-top\"\n              onClick={handleSaveLayout}\n              type=\"button\"\n              disabled={!freeformLayoutIsValidNew(droppableLocations)}\n            >\n              Save layout\n            </Button>\n          </ActiveContentHeader>\n        </div>\n      }\n    >\n      {!isTabletOrMobile && (\n        <div className=\"analysis-layout-contained\">{backButton()}</div>\n      )}\n      <FreeformAnalysisLayout\n        droppableLocations={droppableLocations}\n        libraryItemMap={libraryItemMap}\n        handleDragEnd={handleDragEnd}\n        setDroppableLocations={setDroppableLocations}\n        projectId={projectId}\n        analysisTitle={analysisTitle}\n        analysisDescription={analysisDescription}\n        tags={tags}\n      />\n      <div className=\"layout-bottom-buttons analysis-layout-contained\">\n        <Separator />\n        <div className=\"form-bottom-actions\">\n          <Button\n            className=\"button-link form-cancel-button\"\n            onClick={handleCancel}\n            type=\"button\"\n          >\n            {`Back to ${operationType} analysis`}\n          </Button>\n          <Button\n            className=\"\"\n            onClick={handleSaveLayout}\n            type=\"button\"\n            disabled={!freeformLayoutIsValidNew(droppableLocations)}\n          >\n            Save layout\n          </Button>\n        </div>\n      </div>\n    </FormLayout>\n  );\n};\n\nexport default FreeformAnalysisLayoutContainer;\n","import React, { Fragment } from 'react';\nimport { useTable, useSortBy } from 'react-table';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './list-table.scss';\n\nconst ContentTable = ({\n  data,\n  columns,\n  initialSortColumn,\n  initialSortDirection = 'desc',\n  type,\n  rowClassFunction,\n  renderSubRowComponent\n}) => {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow\n  } = useTable(\n    {\n      columns,\n      data,\n      disableMultiSort: true,\n      disableSortRemove: true,\n      initialState: {\n        sortBy: [\n          { id: initialSortColumn, desc: initialSortDirection === 'desc' }\n        ]\n      }\n    },\n    useSortBy\n  );\n\n  const columnSortIconClassname = column => {\n    if (!column.isSorted) {\n      return '';\n    }\n    return `icon-table-sort-desc ${column.isSortedDesc ? 'desc' : 'asc'}`;\n  };\n\n  return (\n    <div\n      className=\"list-table content-container\"\n      data-testid=\"list-table\"\n      {...getTableProps()}\n    >\n      {headerGroups.map(headerGroup => (\n        <div className=\"header-row\" {...headerGroup.getHeaderGroupProps()}>\n          {headerGroup.headers.map(column => (\n            <div\n              {...column.getHeaderProps(column.getSortByToggleProps())}\n              className=\"header-cell\"\n              data-testid={`sort-column-${column.id}`}\n            >\n              {column.render('Header')}\n              <span className={columnSortIconClassname(column)}>\n                <Icon name=\"desc\" width=\"10\" className=\"fill icon-orange\" />\n              </span>\n            </div>\n          ))}\n        </div>\n      ))}\n      <div className=\"rowgroup\" {...getTableBodyProps()}>\n        {rows.map((row, rowIndex) => {\n          prepareRow(row);\n          const { original: rowData } = row;\n          return (\n            <Fragment key={row.index}>\n              <div\n                className={`list-table-row content-list-table-row ${rowClassFunction &&\n                  rowClassFunction(rowData)}`.trim()}\n                data-testid={`${type}-row-${rowIndex}`}\n                {...row.getRowProps()}\n              >\n                <div className=\"list-table-subrow\">\n                  {row.cells.map((cell, cellIndex) => {\n                    return (\n                      <div\n                        className=\"cell\"\n                        data-testid={`${type}-row-${rowIndex}-cell-${cellIndex}`}\n                        {...cell.getCellProps({\n                          className: cell.column.className\n                        })}\n                      >\n                        {cell.render('Cell')}\n                      </div>\n                    );\n                  })}\n                </div>\n                {renderSubRowComponent && (\n                  <div className=\"list-table-subrow list-table-row-sub-component\">\n                    {renderSubRowComponent(rowData)}\n                  </div>\n                )}\n              </div>\n            </Fragment>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default ContentTable;\n","import { models } from 'powerbi-client';\n\nexport default ({\n  type = 'report',\n  tokenType = models.TokenType.Embed,\n  accessToken,\n  embedUrl,\n  id,\n  pageName,\n  theme\n} = {}) => {\n  const config = {\n    type,\n    tokenType,\n    accessToken,\n    embedUrl,\n    id,\n    settings: {\n      panes: {\n        pageNavigation: {\n          visible: false\n        },\n        filters: {\n          visible: false\n        }\n      },\n      layoutType: models.LayoutType.Custom,\n      customLayout: {\n        displayOption: models.DisplayOption.FitToPage\n      }\n    },\n    theme\n  };\n  if (pageName) config.pageName = pageName;\n  return config;\n};\n","import { Select, Icon, Loader } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useSelector } from 'react-redux';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { getReportEmbedDataByReportId } from '../../analyses/powerBiService';\nimport './PowerBiPageIngestion.scss';\nimport getPowerBiEmbedConfigurationBase from './getPowerBiEmbedConfigurationBase';\nimport { getLibraryItemsByType } from '../libraryItemService';\nimport { getIsDarkModeSelector } from '../../../common/redux/userSettings/userSettingsSlice';\nimport { getPowerBiTheme } from './getPowerBiTheme';\n\nconst retrievePages = async (\n  projectId,\n  report,\n  selectedReportId,\n  setPagesHandler,\n  setIsLoading\n) => {\n  const allReportPages = await report.getPages();\n  const allIngestedPageLibraryItems = await getLibraryItemsByType(\n    projectId,\n    Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value\n  );\n  const ingestedPageNamesWithReportId = allIngestedPageLibraryItems.map(\n    page => {\n      const { ReportId, PageName } = JSON.parse(page.data);\n      return `${ReportId} - ${PageName}`;\n    }\n  );\n  const pagesNotIngested = allReportPages.filter(\n    page =>\n      !ingestedPageNamesWithReportId.includes(\n        `${selectedReportId} - ${page.name}`\n      )\n  );\n\n  setPagesHandler(pagesNotIngested);\n  setIsLoading(false);\n};\n\nconst PowerBiPageIngestion = ({\n  projectId,\n  selectedReportId,\n  reportOptions,\n  setSelectedReportId,\n  selectedPage,\n  setSelectedPage\n}) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [embeddedData, setEmbeddedData] = useState('');\n  const powerBiContainerRef = useRef(null);\n  const [pages, setPages] = useState([]);\n  const [selectedPageName, setSelectedPageName] = useState('');\n  const isDarkMode = useSelector(getIsDarkModeSelector);\n\n  const mapPageOptions = pagesToMap => {\n    return pagesToMap.map(page => {\n      return {\n        label: `${page.displayName}`,\n        value: page.name\n      };\n    });\n  };\n\n  useEffect(() => {\n    setSelectedPage({});\n    async function fetchReportData() {\n      if (selectedReportId) {\n        setIsLoading(true);\n        const data = await getReportEmbedDataByReportId(\n          projectId,\n          selectedReportId\n        );\n        setEmbeddedData(data);\n        if (data && selectedReportId) {\n          const config = getPowerBiEmbedConfigurationBase({\n            accessToken: data.embedToken,\n            embedUrl: data.embedUrl,\n            id: selectedReportId,\n            theme: getPowerBiTheme(isDarkMode)\n          });\n          if (powerBiContainerRef.current) {\n            const report = window.powerbi.load(\n              powerBiContainerRef.current,\n              config\n            );\n            report.on('loaded', () =>\n              retrievePages(\n                projectId,\n                report,\n                selectedReportId,\n                setPages,\n                setIsLoading\n              )\n            );\n          }\n        }\n      }\n    }\n\n    fetchReportData();\n  }, [projectId, selectedReportId, setSelectedPage, isDarkMode]);\n\n  const handlePageOnChange = pageName => {\n    setSelectedPageName(pageName);\n    if (pageName === '') {\n      setSelectedPage({});\n    } else {\n      const { name, displayName } = pages.find(p => p.name === pageName);\n\n      const config = getPowerBiEmbedConfigurationBase({\n        accessToken: embeddedData.embedToken,\n        embedUrl: embeddedData.embedUrl,\n        id: selectedReportId,\n        pageName: name,\n        theme: getPowerBiTheme(isDarkMode)\n      });\n\n      if (powerBiContainerRef.current) {\n        window.powerbi.embed(powerBiContainerRef.current, config);\n      }\n\n      setSelectedPage({\n        name,\n        displayName\n      });\n    }\n  };\n\n  const selectReport = value => {\n    if (value === '') {\n      setIsLoading(false);\n    }\n    setSelectedPageName('');\n    setPages([]);\n    setSelectedReportId(value);\n  };\n\n  const isPageSelectDisabled = !selectedReportId || pages.length === 0;\n\n  return (\n    <div className=\"power-bi-report-select\">\n      <div className=\"report-select\">\n        <Select\n          id=\"power-bi-report-select\"\n          data-testid=\"power-bi-report-select\"\n          field={{ name: 'power-bi-report-select' }}\n          basic\n          label=\"Report name\"\n          placeholder=\"Select report\"\n          options={reportOptions}\n          value={selectedReportId}\n          onChange={event => selectReport(event.target.value)}\n          characterLimit={49}\n        />\n      </div>\n      {isLoading && <Loader dataTestId=\"power-bi-reports-loader\" />}\n      {!isLoading &&\n        (pages.length === 0 && selectedReportId ? (\n          <span className=\"no-reports-span\">\n            No more pages for the selected Power BI Report to ingest\n          </span>\n        ) : (\n          <div className=\"page-select\">\n            <Select\n              id=\"power-bi-page-select\"\n              data-testid=\"power-bi-page-select\"\n              label=\"Tab\"\n              basic\n              disabled={isPageSelectDisabled}\n              placeholder=\"Select tab\"\n              field={{ name: 'power-bi-page-select' }}\n              options={mapPageOptions(pages)}\n              value={selectedPage.name}\n              onChange={({ target: { value } }) => handlePageOnChange(value)}\n              characterLimit={40}\n            />\n          </div>\n        ))}\n      <div\n        className={`${\n          selectedPageName === ''\n            ? 'hidden-power-bi-hint'\n            : 'visible-power-bi-hint'\n        }`}\n      >\n        <div className=\"import-hint\">\n          <Icon\n            name=\"information\"\n            className=\"fill icon-yellow\"\n            width={16}\n            data-testid=\"hint-icon\"\n          />\n          <p>To resize the tab, use the options available in Power BI.</p>\n        </div>\n      </div>\n      <div\n        className={`${\n          selectedPageName === ''\n            ? 'hidden-power-bi-container'\n            : 'visible-power-bi-container'\n        }`}\n        data-testid=\"power-bi-embed-container\"\n        ref={powerBiContainerRef}\n      />\n    </div>\n  );\n};\n\nexport default PowerBiPageIngestion;\n","import { Select, Icon, Loader } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getReportEmbedDataByReportId } from '../../analyses/powerBiService';\nimport PowerBiPageIngestion from './PowerBiPageIngestion';\nimport './PowerBiSelectionContainer.scss';\nimport getPowerBiEmbedConfigurationBase from './getPowerBiEmbedConfigurationBase';\nimport { getIsDarkModeSelector } from '../../../common/redux/userSettings/userSettingsSlice';\nimport { getPowerBiTheme } from './getPowerBiTheme';\n\nconst PowerBiSelectionContainer = ({\n  ingestionType,\n  reportOptions,\n  filteredReportOptions,\n  setSelectedReportId,\n  selectedReportId,\n  selectedPage,\n  setSelectedPage,\n  projectId\n}) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const powerBiReportContainerRef = useRef(null);\n  const [currentReportId, setCurrentReportId] = useState('');\n  const isDarkMode = useSelector(getIsDarkModeSelector);\n\n  const handleReportSelectionChange = async reportId => {\n    setCurrentReportId(reportId);\n    if (reportId) {\n      setIsLoading(true);\n      const embeddedData = await getReportEmbedDataByReportId(\n        projectId,\n        reportId\n      );\n      const config = getPowerBiEmbedConfigurationBase({\n        accessToken: embeddedData.embedToken,\n        embedUrl: embeddedData.embedUrl,\n        id: reportId,\n        theme: getPowerBiTheme(isDarkMode)\n      });\n      if (powerBiReportContainerRef.current) {\n        window.powerbi.embed(powerBiReportContainerRef.current, config);\n      }\n      setIsLoading(false);\n    }\n    setSelectedReportId(reportId);\n  };\n\n  switch (ingestionType) {\n    case Constants.POWERBI_INGESTION_TYPES.report:\n      return filteredReportOptions.length > 0 ? (\n        <div className=\"power-bi-report-select\">\n          <Select\n            data-testid=\"power-bi-select\"\n            basic\n            options={filteredReportOptions}\n            label=\"Report name\"\n            onChange={event => {\n              handleReportSelectionChange(event.target.value);\n            }}\n            value={selectedReportId}\n            placeholder=\"Select report\"\n            characterLimit={49}\n          />\n          {isLoading && <Loader dataTestId=\"power-bi-reports-loader\" />}\n          <div\n            className={`${\n              isLoading || !currentReportId\n                ? 'hidden-power-bi-hint'\n                : 'visible-power-bi-hint'\n            }`}\n          >\n            <div className=\"import-hint\">\n              <Icon\n                name=\"information\"\n                className=\"fill icon-yellow\"\n                width={16}\n                data-testid=\"hint-icon\"\n              />\n              <p>\n                To resize the report, use the options available in Power BI.\n              </p>\n            </div>\n          </div>\n          <div\n            className={`${\n              isLoading || !currentReportId\n                ? 'hidden-power-bi-container'\n                : 'visible-power-bi-container'\n            }`}\n            data-testid=\"power-bi-report-container\"\n            ref={powerBiReportContainerRef}\n          />\n        </div>\n      ) : (\n        <span className=\"no-reports-span\">\n          No more Power BI Reports to ingest\n        </span>\n      );\n    case Constants.POWERBI_INGESTION_TYPES.page:\n      return (\n        <PowerBiPageIngestion\n          projectId={projectId}\n          reportOptions={reportOptions}\n          selectedPage={selectedPage}\n          setSelectedPage={setSelectedPage}\n          selectedReportId={selectedReportId}\n          setSelectedReportId={setSelectedReportId}\n        />\n      );\n    default:\n      return null;\n  }\n};\n\nexport default PowerBiSelectionContainer;\n","import { Button, Loader, RadioGroup, Icon } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Modal } from 'react-bootstrap';\nimport { getEngagementUrl } from '../../project/projectSlice';\nimport { postPowerBiReport, postPowerBiPage } from '../libraryItemService';\nimport { getReports } from '../../analyses/powerBiService';\nimport './PowerBiIngestionModalBody.scss';\nimport PowerBiSelectionContainer from './PowerBiSelectionContainer';\n\nexport const PowerBiIngestionModalBody = ({\n  pbiItems,\n  handleSuccessfulIngestion,\n  projectId\n}) => {\n  const [reportList, setReportList] = useState([]);\n  const [filteredReportList, setFilteredReportList] = useState([]);\n  const [selectedReportId, setSelectedReportId] = useState('');\n  const [selectedPage, setSelectedPage] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [ingestionType, setIngestionType] = useState('');\n  const [ingestionError, setIngestionError] = useState('');\n  const engagementUrl = useSelector(getEngagementUrl);\n\n  const refreshReports = useCallback(() => {\n    setIsLoading(true);\n    getReports(projectId).then(reports => {\n      const formattedReports = reports\n        .map(report => ({\n          label: report.name,\n          value: report.reportId\n        }))\n        .sort((a, b) => (a.label > b.label ? 1 : -1));\n\n      setReportList(formattedReports);\n\n      const pbiReportIds = pbiItems.map(p => JSON.parse(p.data).ReportId);\n      const filteredReports = formattedReports.filter(\n        r => pbiReportIds.indexOf(r.value) === -1\n      );\n      setFilteredReportList(filteredReports);\n      setIsLoading(false);\n    });\n  }, [pbiItems, projectId]);\n\n  useEffect(() => {\n    refreshReports([pbiItems, projectId]);\n  }, [pbiItems, projectId, refreshReports]);\n\n  const handleIngest = async () => {\n    const reportName = reportList.filter(o => o.value === selectedReportId)[0]\n      .label;\n    if (ingestionType === Constants.POWERBI_INGESTION_TYPES.report) {\n      try {\n        await postPowerBiReport(projectId, selectedReportId, reportName);\n        handleSuccessfulIngestion();\n      } catch (error) {\n        setIngestionError('Error ingesting Power Bi Report');\n      }\n    } else {\n      const { name, displayName } = selectedPage;\n      const pageDisplayNameWithReportName = `${reportName} - ${displayName}`;\n      try {\n        await postPowerBiPage(\n          projectId,\n          selectedReportId,\n          name,\n          pageDisplayNameWithReportName\n        );\n        handleSuccessfulIngestion();\n      } catch (error) {\n        setIngestionError('Error ingesting Power Bi Report Tab');\n      }\n    }\n  };\n\n  const handleIngestionTypeChange = value => {\n    if (value === Constants.POWERBI_INGESTION_TYPES.report) {\n      setSelectedReportId('');\n    }\n    setIngestionType(value);\n  };\n\n  const ingestionTypeField = {\n    name: 'ingestion-type',\n    onChange: event => handleIngestionTypeChange(event.target.value),\n    value: ingestionType\n  };\n\n  const ingestionTypeOptions = [\n    {\n      key: Constants.POWERBI_INGESTION_TYPES.report,\n      label: 'Report',\n      value: Constants.POWERBI_INGESTION_TYPES.report\n    },\n    {\n      key: Constants.POWERBI_INGESTION_TYPES.page,\n      label: 'Tab',\n      value: Constants.POWERBI_INGESTION_TYPES.page\n    }\n  ];\n\n  return (\n    <>\n      <Modal.Body>\n        {isLoading && <Loader dataTestId=\"power-bi-reports-loader\" />}\n        {!isLoading &&\n          (filteredReportList.length > 0 ? (\n            <>\n              <div className=\"radio-group-label\">Select type</div>\n              <div className=\"import-hint\">\n                <Icon\n                  name=\"information\"\n                  className=\"fill icon-yellow\"\n                  width={16}\n                  data-testid=\"hint-icon\"\n                />\n                <p>\n                  The Power BI report must be published to Workbench to appear\n                  as an option here.\n                </p>\n              </div>\n              <RadioGroup\n                field={ingestionTypeField}\n                options={ingestionTypeOptions}\n                direction=\"column\"\n                className=\"layout-radio-group\"\n              />\n\n              <PowerBiSelectionContainer\n                ingestionType={ingestionType}\n                reportOptions={reportList}\n                filteredReportOptions={filteredReportList}\n                setSelectedReportId={setSelectedReportId}\n                selectedReportId={selectedReportId}\n                selectedPage={selectedPage}\n                setSelectedPage={setSelectedPage}\n                projectId={projectId}\n              />\n            </>\n          ) : (\n            <>\n              <div className=\"no-results-header\">\n                <Icon name=\"alert\" width={24} className=\"fill icon-yellow\" />\n                <p className=\"no-results-title\">No Results Found</p>\n              </div>\n              <div className=\"no-results-body\">\n                <p>\n                  All Power BI reports in the workspace have been imported to\n                  Junction.\n                </p>\n                <p data-testid=\"workbench-link-copy\">\n                  Please make sure your report is published to{' '}\n                  <a\n                    data-testid=\"workbench-link\"\n                    href={`${engagementUrl}/reports`}\n                  >\n                    Workbench\n                  </a>\n                  , or check the library if the data has already been imported.\n                </p>\n                <div>\n                  <button\n                    className=\"ui-button button-link refresh-button\"\n                    data-testid=\"refresh-button\"\n                    onClick={() => refreshReports()}\n                    type=\"button\"\n                  >\n                    <Icon\n                      name=\"refresh\"\n                      width={24}\n                      className=\"fill icon-orange-theme\"\n                    />\n                    Refresh data\n                  </button>\n                </div>\n              </div>\n            </>\n          ))}\n      </Modal.Body>\n      <Modal.Footer>\n        {filteredReportList.length > 0 && (\n          <div className=\"modal-actions\">\n            <span>{ingestionError}</span>\n            <Button\n              className=\"button\"\n              onClick={handleIngest}\n              type=\"button\"\n              data-testid=\"ingest-powerbi-submit\"\n              disabled={\n                !selectedReportId ||\n                (ingestionType === Constants.POWERBI_INGESTION_TYPES.page &&\n                  !selectedPage.name)\n              }\n            >\n              Import\n            </Button>\n          </div>\n        )}\n      </Modal.Footer>\n    </>\n  );\n};\n","export const initialErrorState = {\n  ingestionError: '',\n  fileError: '',\n  slideNumberError: '',\n  groupNameError: '',\n  noAvailableGroupsError: ''\n};\nexport const ErrorActionType = {\n  INGESTION_ERROR: 'Ingestion Error',\n  FILE_ERROR: 'File Error',\n  SLIDE_NUMBER_ERROR: 'Slide Number Error',\n  GROUP_NAME_ERROR: 'Group Name Error',\n  NO_AVAILABLE_GROUPS_ERROR: 'No Available Groups Error',\n  CLEAR: 'Clear'\n};\nexport const ErrorAction = {\n  NoFilesInSharePointError: {\n    type: ErrorActionType.FILE_ERROR,\n    value: 'No PowerPoint files found.'\n  },\n  NoSlidesInPowerPointFileError: {\n    type: ErrorActionType.SLIDE_NUMBER_ERROR,\n    value: 'There are no slides for the selected PowerPoint file'\n  },\n  NoGroupsInPowerPointSlideError: {\n    type: ErrorActionType.GROUP_NAME_ERROR,\n    value: `No groups or items available from the selected slide. Please make sure you've selected the correct slide.`\n  },\n  NoAvailableGroupsInPowerPointSlideError: {\n    type: ErrorActionType.NO_AVAILABLE_GROUPS_ERROR,\n    value: `No new groups or items are available to import from the selected slide. Please check the library if they've already been imported.`\n  },\n  FailedRetrievingPowerPointSlides: {\n    type: ErrorActionType.SLIDE_NUMBER_ERROR,\n    value:\n      'There was a problem retrieving slide information from the selected PowerPoint file'\n  },\n  IngestionError: {\n    type: ErrorActionType.INGESTION_ERROR,\n    value:\n      'No groups or items available from the selected file. Please make sure your file has been created correctly and try re-uploading it to Sharepoint.'\n  },\n  Clear: {\n    type: ErrorActionType.CLEAR,\n    value: initialErrorState\n  }\n};\n\nexport const initErrorState = ({\n  ingestionError = '',\n  fileError = '',\n  slideNumberError = '',\n  groupNameError = '',\n  noAvailableGroupsError = ''\n}) => {\n  return {\n    ingestionError,\n    fileError,\n    slideNumberError,\n    groupNameError,\n    noAvailableGroupsError\n  };\n};\n\nexport const errorReducer = (state, action) => {\n  switch (action.type) {\n    case ErrorActionType.INGESTION_ERROR:\n      return { ...state, ingestionError: action.value };\n    case ErrorActionType.FILE_ERROR:\n      return { ...state, fileError: action.value };\n    case ErrorActionType.SLIDE_NUMBER_ERROR:\n      return { ...state, slideNumberError: action.value };\n    case ErrorActionType.GROUP_NAME_ERROR:\n      return { ...state, groupNameError: action.value };\n    case ErrorActionType.NO_AVAILABLE_GROUPS_ERROR:\n      return { ...state, noAvailableGroupsError: action.value };\n    case ErrorActionType.CLEAR:\n      return action.value;\n    default:\n      return { ...state };\n  }\n};\n","import React, { createContext, useContext, useReducer } from 'react';\nimport {\n  errorReducer,\n  initErrorState,\n  initialErrorState\n} from './PowerPointIngestionErrorHandling';\n\nconst IngestionErrorsStateContext = createContext(null);\nconst IngestionErrorsDispatchContext = createContext(null);\n\nfunction useIngestionErrorsState() {\n  const context = useContext(IngestionErrorsStateContext);\n  if (context === undefined) {\n    throw new Error(\n      'useIngestionErrorsState must be used within an IngestionErrorsProvider'\n    );\n  }\n  return context;\n}\n\nfunction useIngestionErrorsDispatch() {\n  const context = useContext(IngestionErrorsDispatchContext);\n  if (context === undefined) {\n    throw new Error(\n      'useIngestionErrorsDispatch must be used within an IngestionErrorsProvider'\n    );\n  }\n  return context;\n}\nfunction useIngestionErrors() {\n  return [useIngestionErrorsState(), useIngestionErrorsDispatch()];\n}\n\nconst IngestionErrorsProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(\n    errorReducer,\n    initialErrorState,\n    initErrorState\n  );\n\n  return (\n    <IngestionErrorsStateContext.Provider value={state}>\n      <IngestionErrorsDispatchContext.Provider value={dispatch}>\n        {children}\n      </IngestionErrorsDispatchContext.Provider>\n    </IngestionErrorsStateContext.Provider>\n  );\n};\nexport {\n  IngestionErrorsProvider,\n  useIngestionErrorsState,\n  useIngestionErrorsDispatch,\n  useIngestionErrors\n};\n","import { Button } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { postPowerpointGroup } from '../../libraryItemService';\nimport { useIngestionErrors } from './IngestionErrorProvider';\nimport {\n  ErrorAction,\n  ErrorActionType\n} from './PowerPointIngestionErrorHandling';\n\nconst formIsValid = (fileName, slideNumber, groupName) => {\n  return fileName && slideNumber.trim() && groupName.trim();\n};\n\nexport const PowerPointIngestButton = ({\n  driveItemId,\n  driveId,\n  fileName,\n  slideNumber,\n  groupName,\n  loading,\n  handleSuccessfulIngestion,\n  projectId,\n  sharePointItemUrl,\n  setIsLoading,\n  setSlideNumber,\n  setGroupName\n}) => {\n  const [, errorDispatch] = useIngestionErrors();\n\n  const clearFields = () => {\n    setSlideNumber('');\n    setGroupName('');\n  };\n\n  const handleIngest = async () => {\n    try {\n      setIsLoading(true);\n      errorDispatch({\n        type: ErrorActionType.INGESTION_ERROR,\n        value: ''\n      });\n      await postPowerpointGroup(\n        projectId,\n        sharePointItemUrl,\n        driveItemId,\n        fileName,\n        groupName,\n        slideNumber,\n        driveId\n      );\n      clearFields();\n      handleSuccessfulIngestion();\n    } catch (e) {\n      setIsLoading(false);\n      errorDispatch(ErrorAction.IngestionError);\n    }\n  };\n  return (\n    <Button\n      className=\"button\"\n      disabled={!formIsValid(fileName, slideNumber, groupName) || loading}\n      onClick={handleIngest}\n      type=\"button\"\n      data-testid=\"ingest-powerpoint-submit\"\n    >\n      Import\n    </Button>\n  );\n};\n","import { ProjectHttpClient } from '../../common/services/httpClient';\n\nconst baseServicePath = projectId => `projects/${projectId}/sharepoint/pptx`;\n\nexport const getPowerPointFileList = async projectId => {\n  const response = await ProjectHttpClient.get(baseServicePath(projectId));\n  return response.data;\n};\n\nexport const getPowerPointSlides = async (projectId, driveId, fileId) => {\n  const url = `${baseServicePath(\n    projectId\n  )}/slides?driveId=${driveId}&fileId=${fileId}`;\n  const response = await ProjectHttpClient.get(url);\n\n  return response.data;\n};\n","import { Icon, Select } from '@pwc/pwc-deals-ui';\nimport React, { useEffect } from 'react';\nimport { useIngestionErrors } from './IngestionErrorProvider';\nimport {\n  ErrorAction,\n  ErrorActionType\n} from './PowerPointIngestionErrorHandling';\nimport { getPowerPointFileList } from '../../sharePointService';\nimport { safeErrors } from '../../../../common/services/httpClient';\n\nconst generateFileOptions = pptFiles => {\n  return (pptFiles || []).map((file, index) => ({\n    value: file.fileName,\n    key: `${file.fileName}-${index}`\n  }));\n};\n\nexport const PowerPointFileName = ({\n  fileName,\n  pptFiles,\n  setFileName,\n  setSlideNumber,\n  setGroupName,\n  setSelectedFileOption,\n  projectId,\n  setPptFiles,\n  setIsLoading\n}) => {\n  const [errorState, errorDispatch] = useIngestionErrors();\n  const fileOptions = generateFileOptions(pptFiles);\n\n  const handleFileNameChange = value => {\n    const selectedFileOption = pptFiles.find(file => file.fileName === value);\n    if (pptFiles.find(file => file.fileName === value)) {\n      setSelectedFileOption(selectedFileOption);\n    }\n    errorDispatch(ErrorAction.Clear);\n    setFileName(value);\n    setSlideNumber('');\n    setGroupName('');\n  };\n\n  const fileNameField = {\n    name: 'powerpoint-file-search',\n    value: fileName,\n    onChange: e => handleFileNameChange(e.target.value)\n  };\n\n  useEffect(() => {\n    const getFiles = async () => {\n      setIsLoading(true);\n      try {\n        const files = await getPowerPointFileList(projectId);\n        if (files.length === 0) {\n          errorDispatch(ErrorAction.NoFilesInSharePointError);\n        }\n        setPptFiles(files);\n        setIsLoading(false);\n      } catch (e) {\n        const errors = safeErrors(e.response);\n        if (errors.length > 0) {\n          errorDispatch({\n            type: ErrorActionType.FILE_ERROR,\n            value: errors[0].apiErrorMessage\n          });\n        }\n        setIsLoading(false);\n      }\n    };\n\n    if (!pptFiles) {\n      getFiles();\n    }\n  }, [errorDispatch, pptFiles, projectId, setIsLoading, setPptFiles]);\n\n  return (\n    <>\n      <div className=\"text-input-control-label\">File name</div>\n      <div className=\"import-hint\">\n        <Icon\n          name=\"information\"\n          className=\"fill icon-yellow\"\n          width={16}\n          data-testid=\"hint-icon\"\n        />\n        <p>\n          The PowerPoint file must be saved to Sharepoint&apos;s &lsquo;Free\n          Form PowerPoint&rsquo; folder to appear as an option here.\n        </p>\n      </div>\n      <Select\n        field={fileNameField}\n        placeholder=\"Select file\"\n        data-testid=\"powerpoint-select\"\n        options={fileOptions}\n        value={fileName}\n        onChange={event => handleFileNameChange(event.target.value)}\n        error={errorState.fileError}\n        maxWidth=\"100%\"\n      />\n    </>\n  );\n};\n","import { Select } from '@pwc/pwc-deals-ui';\nimport React, { useEffect } from 'react';\nimport { ErrorAction } from './PowerPointIngestionErrorHandling';\nimport { useIngestionErrors } from './IngestionErrorProvider';\n\nconst PowerPointGroupName = ({\n  groupName,\n  setGroupName,\n  groupNames,\n  slideNumber,\n  isSlideListLoading\n}) => {\n  const [errorState, errorDispatch] = useIngestionErrors();\n\n  const handleGroupNameChange = value => {\n    errorDispatch(ErrorAction.Clear);\n    setGroupName(value);\n  };\n\n  const groupNameField = {\n    name: 'groupName',\n    value: groupName,\n    onChange: event => handleGroupNameChange(event.target.value)\n  };\n\n  useEffect(() => {\n    const slideGroupOptions = groupNames[slideNumber];\n\n    if (slideGroupOptions && slideGroupOptions.options.length === 0) {\n      if (slideGroupOptions.allOptionsAlreadyIngested) {\n        errorDispatch(ErrorAction.NoAvailableGroupsInPowerPointSlideError);\n      } else {\n        errorDispatch(ErrorAction.NoGroupsInPowerPointSlideError);\n      }\n    }\n  }, [errorDispatch, groupNames, slideNumber]);\n\n  if (isSlideListLoading) {\n    return null;\n  }\n\n  return (\n    <Select\n      field={groupNameField}\n      label=\"Group or item name\"\n      placeholder=\"Select group or item\"\n      data-testid=\"groupName-select\"\n      disabled={!slideNumber}\n      options={groupNames && slideNumber ? groupNames[slideNumber].options : []}\n      onChange={evt => {\n        handleGroupNameChange(evt.target.value);\n      }}\n      value={groupName}\n      error={errorState.groupNameError || errorState.noAvailableGroupsError}\n    />\n  );\n};\n\nexport default PowerPointGroupName;\n","import React, { useEffect, useState } from 'react';\nimport { Select, Loader } from '@pwc/pwc-deals-ui';\nimport { getPowerPointSlides } from '../../sharePointService';\nimport { ErrorAction } from './PowerPointIngestionErrorHandling';\nimport { useIngestionErrors } from './IngestionErrorProvider';\n\nconst generateSlideOptions = slides => {\n  return slides.map((pptSlide, index) => ({\n    value: pptSlide.slideNumber,\n    key: `${pptSlide}-${index}`\n  }));\n};\n\nconst PowerPointSlideNumber = ({\n  pptFiles,\n  fileName,\n  slideNumber,\n  setSlideNumber,\n  setSharePointItemUrl,\n  projectId,\n  setGroupName,\n  ingestedPowerPointGroups,\n  setSlides,\n  selectedFileOption,\n  setIsSlideListLoading,\n  isSlideListLoading\n}) => {\n  const [errorState, errorDispatch] = useIngestionErrors();\n  const [slideOptions, setSlideOptions] = useState([]);\n\n  useEffect(() => {\n    const getSlides = async () => {\n      if (selectedFileOption) {\n        setIsSlideListLoading(true);\n        const url = `${selectedFileOption.driveUrl}/${selectedFileOption.fileName}`;\n        setSharePointItemUrl(url);\n        try {\n          const newSlideList = await getPowerPointSlides(\n            projectId,\n            selectedFileOption.driveId,\n            selectedFileOption.driveItemId\n          );\n          setSlides(newSlideList);\n          if (newSlideList.length === 0) {\n            errorDispatch(ErrorAction.NoSlidesInPowerPointFileError);\n          } else {\n            setSlideOptions(generateSlideOptions(newSlideList));\n          }\n        } catch (exception) {\n          errorDispatch(ErrorAction.FailedRetrievingPowerPointSlides);\n        }\n        setIsSlideListLoading(false);\n      } else {\n        setSharePointItemUrl('');\n        setSlideOptions([]);\n      }\n    };\n\n    getSlides();\n  }, [\n    projectId,\n    pptFiles,\n    fileName,\n    ingestedPowerPointGroups,\n    setSlides,\n    selectedFileOption,\n    setSharePointItemUrl,\n    errorDispatch,\n    setIsSlideListLoading\n  ]);\n\n  const handleSlideNumberChange = value => {\n    errorDispatch(ErrorAction.Clear);\n    setSlideNumber(value);\n    setGroupName('');\n  };\n\n  const slideNumberField = {\n    name: 'slideNumber-select',\n    value: slideNumber,\n    onChange: event => handleSlideNumberChange(event.target.value)\n  };\n\n  return isSlideListLoading ? (\n    <Loader dataTestId=\"powerpoint-slide-list-loader\" />\n  ) : (\n    <Select\n      field={slideNumberField}\n      label=\"Slide number\"\n      placeholder=\"Select slide number\"\n      data-testid=\"slideNumber-select\"\n      options={slideOptions}\n      value={slideNumber}\n      disabled={!fileName}\n      onChange={evt => handleSlideNumberChange(evt.target.value)}\n      error={errorState.slideNumberError}\n    />\n  );\n};\n\nexport default PowerPointSlideNumber;\n","import { Icon, Loader } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { useParams } from 'react-router-dom';\nimport { PowerPointIngestButton } from './PowerPointIngestButton';\nimport {\n  IngestionErrorsProvider,\n  useIngestionErrors\n} from './IngestionErrorProvider';\nimport { PowerPointFileName } from './PowerPointFileName';\nimport PowerPointGroupName from './PowerPointGroupName';\nimport './PowerPointIngestionModalBody.scss';\nimport PowerPointSlideNumber from './PowerPointSlideNumber';\n\nconst generateGroupNameOptions = groupNames =>\n  groupNames.map(name => ({ value: name, key: name }));\n\nconst getGroupNameOptionsPerSlide = (slides, ingestedGroups, driveItemId) => {\n  const groupsForFile = ingestedGroups\n    ? ingestedGroups.filter(group => group.driveItemId === driveItemId)\n    : [];\n\n  const alreadyIngested = groupsForFile.reduce((dictionary, group) => {\n    const { slideNumber, groupName } = group;\n    const groupsForSlideNumber = dictionary[slideNumber] || [];\n    return {\n      ...dictionary,\n      [slideNumber]: [...groupsForSlideNumber, groupName]\n    };\n  }, {});\n\n  const options = slides.reduce((dictionary, slide) => {\n    const { slideNumber } = slide;\n    const availableGroupNames = alreadyIngested[slideNumber]\n      ? slide.groupNames.filter(\n          name => !alreadyIngested[slideNumber].includes(name)\n        )\n      : slide.groupNames;\n\n    const ingestedOptionsForSlideCount = alreadyIngested[slideNumber]\n      ? alreadyIngested[slideNumber].length\n      : 0;\n    const allOptionsAlreadyIngested =\n      ingestedOptionsForSlideCount === slide.groupNames.length &&\n      slide.groupNames.length !== 0;\n\n    return {\n      ...dictionary,\n      [slideNumber]: {\n        allOptionsAlreadyIngested,\n        options: generateGroupNameOptions(availableGroupNames)\n      }\n    };\n  }, {});\n\n  return options;\n};\n\nconst IngestionErrorMessage = () => {\n  const [errorState] = useIngestionErrors();\n  return (\n    <>\n      {errorState.ingestionError && (\n        <span\n          className=\"a-form-error\"\n          data-testid=\"ingest-powerpoint-error-message\"\n        >\n          <Icon\n            name=\"alert\"\n            className=\"fill icon-peach ingestion-alert\"\n            width=\"16\"\n          />\n          {errorState.ingestionError}\n        </span>\n      )}\n    </>\n  );\n};\n\nexport const PowerPointIngestionModalBody = ({\n  handleSuccessfulIngestion,\n  ingestedPowerPointGroups\n}) => {\n  const [fileName, setFileName] = useState('');\n  const [pptFiles, setPptFiles] = useState(null);\n  const [selectedFileOption, setSelectedFileOption] = useState(undefined);\n  const [sharePointItemUrl, setSharePointItemUrl] = useState('');\n  const [slideNumber, setSlideNumber] = useState('');\n  const [slides, setSlides] = useState([]);\n  const [groupName, setGroupName] = useState('');\n  const [groupNames, setGroupNames] = useState({});\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSlideListLoading, setIsSlideListLoading] = useState(false);\n  const { projectId } = useParams();\n\n  useEffect(() => {\n    if (slides && slides.length > 0) {\n      setGroupNames(\n        getGroupNameOptionsPerSlide(\n          slides,\n          ingestedPowerPointGroups,\n          selectedFileOption.driveItemId\n        )\n      );\n    }\n  }, [ingestedPowerPointGroups, selectedFileOption, slides]);\n\n  return (\n    <IngestionErrorsProvider>\n      <Modal.Body>\n        {isLoading ? (\n          <Loader dataTestId=\"powerpoint-file-list-loader\" />\n        ) : (\n          <>\n            <PowerPointFileName\n              fileName={fileName}\n              pptFiles={pptFiles}\n              setFileName={setFileName}\n              setSlideNumber={setSlideNumber}\n              setGroupName={setGroupName}\n              setSelectedFileOption={setSelectedFileOption}\n              projectId={projectId}\n              setPptFiles={setPptFiles}\n              setIsLoading={setIsLoading}\n            />\n            <PowerPointSlideNumber\n              pptFiles={pptFiles}\n              fileName={fileName}\n              slideNumber={slideNumber}\n              setSlideNumber={setSlideNumber}\n              setSharePointItemUrl={setSharePointItemUrl}\n              projectId={projectId}\n              setGroupName={setGroupName}\n              ingestedPowerPointGroups={ingestedPowerPointGroups}\n              setSlides={setSlides}\n              selectedFileOption={selectedFileOption}\n              setIsSlideListLoading={setIsSlideListLoading}\n              isSlideListLoading={isSlideListLoading}\n            />\n            <PowerPointGroupName\n              groupName={groupName}\n              setGroupName={setGroupName}\n              groupNames={groupNames}\n              slideNumber={slideNumber}\n              isSlideListLoading={isSlideListLoading}\n            />\n            <IngestionErrorMessage />\n          </>\n        )}\n      </Modal.Body>\n      <Modal.Footer>\n        <div className=\"modal-actions\">\n          <PowerPointIngestButton\n            driveItemId={\n              selectedFileOption ? selectedFileOption.driveItemId : ''\n            }\n            driveId={selectedFileOption ? selectedFileOption.driveId : ''}\n            fileName={fileName}\n            slideNumber={slideNumber}\n            groupName={groupName}\n            loading={isLoading}\n            handleSuccessfulIngestion={handleSuccessfulIngestion}\n            projectId={projectId}\n            sharePointItemUrl={sharePointItemUrl}\n            setIsLoading={setIsLoading}\n            setSlideNumber={setSlideNumber}\n            setGroupName={setGroupName}\n          />\n        </div>\n      </Modal.Footer>\n    </IngestionErrorsProvider>\n  );\n};\n","import { RadioGroup, Button, Icon } from '@pwc/pwc-deals-ui';\nimport React, { useState } from 'react';\nimport { Modal } from 'react-bootstrap';\n\nexport const StartIngestionModalBody = ({ handleStartClick }) => {\n  const [selectedType, setSelectedType] = useState('');\n\n  const radioGroupField = {\n    name: 'ingestion-type-select',\n    value: selectedType,\n    onChange: event => setSelectedType(event.target.value)\n  };\n\n  const radioGroupOptions = [\n    { label: 'PowerPoint', value: 'PowerPoint' },\n    { label: 'Power BI', value: 'PowerBI' }\n  ];\n\n  return (\n    <>\n      <Modal.Body>\n        <div data-testid=\"start-ingestion-body\">\n          <h5>Select to import from PowerPoint or Power BI</h5>\n          <div className=\"import-hint\">\n            <Icon\n              name=\"information\"\n              className=\"fill icon-yellow\"\n              width={16}\n              data-testid=\"hint-icon\"\n            />\n            <p>\n              Make sure your PowerPoint files are saved in SharePoint, and your\n              Power BI reports are published to Workbench\n            </p>\n          </div>\n          <RadioGroup field={radioGroupField} options={radioGroupOptions} />\n          <div className=\"import-callout\">\n            To ingest data from an Excel file, use the Junction Excel add-in.\n          </div>\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n        <div className=\"modal-actions\">\n          <Button\n            type=\"button\"\n            disabled={!selectedType}\n            onClick={() => handleStartClick(selectedType)}\n            data-testid=\"start-ingestion-button\"\n          >\n            Next\n          </Button>\n        </div>\n      </Modal.Footer>\n    </>\n  );\n};\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { PowerBiIngestionModalBody } from './PowerBiIngestionModalBody';\nimport { PowerPointIngestionModalBody } from './PowerPointIngestion/PowerPointIngestionModalBody';\nimport { StartIngestionModalBody } from './StartIngestionModalBody';\n\nimport './IngestLibraryItemModal.scss';\nimport PageTitle from '../../../common/components/PageTitle/PageTitle';\n\nconst Body = ({\n  modalContentType,\n  handleStartClick,\n  handleSuccessfulIngestion,\n  pbiItems,\n  projectId,\n  ingestedPowerPointGroups\n}) => {\n  switch (modalContentType) {\n    case 'start':\n      return <StartIngestionModalBody handleStartClick={handleStartClick} />;\n    case 'PowerPoint':\n      return (\n        <PowerPointIngestionModalBody\n          handleSuccessfulIngestion={handleSuccessfulIngestion}\n          ingestedPowerPointGroups={ingestedPowerPointGroups}\n        />\n      );\n    case 'PowerBI':\n      return (\n        <PowerBiIngestionModalBody\n          pbiItems={pbiItems}\n          handleSuccessfulIngestion={handleSuccessfulIngestion}\n          projectId={projectId}\n        />\n      );\n    default:\n      return null;\n  }\n};\n\nconst IngestLibraryItemModal = ({\n  show,\n  handleCancel,\n  handleSuccessfulIngestion,\n  pbiItems,\n  projectId,\n  ingestedPowerPointGroups\n}) => {\n  const [modalContentType, setModalContentType] = useState('start');\n  const [showBack, setShowBack] = useState(false);\n  const [header, setHeader] = useState('');\n  const handleStartClick = selectedType => setModalContentType(selectedType);\n\n  useEffect(() => {\n    switch (modalContentType) {\n      case 'start':\n        setShowBack(false);\n        break;\n      case 'PowerPoint':\n        setShowBack(true);\n        break;\n      case 'PowerBI':\n        setShowBack(true);\n        break;\n      default:\n        setShowBack(false);\n    }\n  }, [modalContentType]);\n\n  useEffect(() => {\n    switch (modalContentType) {\n      case 'start':\n        setHeader('Import data');\n        break;\n      case 'PowerPoint':\n        setHeader('Import from PowerPoint');\n        break;\n      case 'PowerBI':\n        setHeader('Import from Power BI');\n        break;\n      default:\n        setHeader('');\n    }\n  }, [modalContentType]);\n\n  return (\n    <Modal className=\"import-modal\" show={show} onHide={handleCancel}>\n      <Modal.Header closeButton>\n        {showBack && (\n          <div className=\"back-button\">\n            <Button\n              className=\"button-menu back-button mb-3\"\n              type=\"button\"\n              onClick={() => setModalContentType('start')}\n              data-testid=\"back-button\"\n            >\n              <Icon\n                name=\"left-chevron\"\n                width={14}\n                className=\"fill icon-orange\"\n              />\n              Back\n            </Button>\n          </div>\n        )}\n        <Modal.Title>\n          <PageTitle title={header} size=\"h2\" />\n        </Modal.Title>\n      </Modal.Header>\n      <Body\n        handleStartClick={handleStartClick}\n        handleSuccessfulIngestion={handleSuccessfulIngestion}\n        modalContentType={modalContentType}\n        pbiItems={pbiItems}\n        projectId={projectId}\n        ingestedPowerPointGroups={ingestedPowerPointGroups}\n      />\n    </Modal>\n  );\n};\n\nexport default IngestLibraryItemModal;\n","import { displayDate } from '../services/textService';\n\nconst DateCell = ({ cell }) => displayDate(new Date(cell.value));\n\nexport default DateCell;\n","import React, { useState, useRef } from 'react';\nimport { Button, Icon, Loader } from '@pwc/pwc-deals-ui';\nimport { Overlay, Popover } from 'react-bootstrap';\nimport { cond, constant, stubTrue } from 'lodash';\nimport { deleteLibraryItem, isDeletable } from '../libraryItemService';\nimport './LibraryItemDeleteButton.scss';\n\nconst DeleteButton = ({ libraryItemId, disabled, ...props }) => (\n  <Button\n    className=\"delete-library-item-button button-small\"\n    data-testid={`delete-library-item-button-${libraryItemId}`}\n    disabled={disabled}\n    {...props}\n  >\n    <Icon\n      name=\"delete\"\n      className={disabled ? 'fill icon-grey-medium' : 'fill icon-orange'}\n      width=\"24\"\n      height=\"24\"\n    />\n  </Button>\n);\n\nconst POPOVER_STATES = {\n  NOT_DELETABLE: 1,\n  CONFIRMATION: 2,\n  ERROR: 3\n};\n\nconst useLibraryItemDeletion = (projectId, libraryItemId, onDelete) => {\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const [popoverState, setPopoverState] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const ref = useRef(null);\n\n  const fetchIsDeletable = async () => {\n    if (!popoverState) {\n      setIsLoading(true);\n      try {\n        const deletable = await isDeletable(projectId, libraryItemId);\n        setIsLoading(false);\n        if (deletable) {\n          return setPopoverState(POPOVER_STATES.CONFIRMATION);\n        }\n        return setPopoverState(POPOVER_STATES.NOT_DELETABLE);\n      } catch (err) {\n        setIsLoading(false);\n        return setPopoverState(POPOVER_STATES.ERROR);\n      }\n    }\n    return null;\n  };\n\n  const handleClose = event => {\n    event.preventDefault();\n    setShow(false);\n    setPopoverState();\n  };\n\n  const handleToggle = async event => {\n    event.preventDefault();\n    if (!show) {\n      fetchIsDeletable();\n      setShow(true);\n    } else {\n      setShow(false);\n    }\n    setTarget(event.target);\n  };\n\n  const handleDelete = async event => {\n    event.preventDefault();\n    try {\n      setIsLoading(true);\n      await deleteLibraryItem(projectId, libraryItemId);\n      setIsLoading(false);\n      setShow(false);\n      return onDelete && onDelete();\n    } catch (err) {\n      setIsLoading(false);\n      return setPopoverState(POPOVER_STATES.ERROR);\n    }\n  };\n\n  const getPopoverData = cond([\n    [\n      () => popoverState === POPOVER_STATES.NOT_DELETABLE,\n      constant({\n        title: 'Item in use',\n        description: 'This library item cannot be deleted at this time.',\n        close: handleClose\n      })\n    ],\n    [\n      () => popoverState === POPOVER_STATES.CONFIRMATION,\n      constant({\n        title: 'Delete this item?',\n        description: 'This will remove the file from the platform.',\n        close: handleClose,\n        delete: handleDelete\n      })\n    ],\n    [\n      () => popoverState === POPOVER_STATES.ERROR,\n      constant({\n        title: 'An error occured',\n        description: 'This library item could not be deleted at this time.',\n        close: handleClose\n      })\n    ],\n    [stubTrue, constant(null)]\n  ]);\n\n  return {\n    ref,\n    target,\n    show,\n    handleClose,\n    handleToggle,\n    popoverData: getPopoverData(),\n    isLoading\n  };\n};\n\nexport default ({ projectId, libraryItemId, onDelete, disabled }) => {\n  const {\n    ref,\n    target,\n    show,\n    handleClose,\n    handleToggle,\n    popoverData,\n    isLoading\n  } = useLibraryItemDeletion(projectId, libraryItemId, onDelete);\n\n  return (\n    <div ref={ref}>\n      <DeleteButton\n        disabled={disabled}\n        libraryItemId={libraryItemId}\n        onClick={handleToggle}\n      />\n      <Overlay\n        show={show}\n        target={target}\n        placement=\"left\"\n        rootClose\n        onHide={handleClose}\n        container={ref.current}\n      >\n        <Popover\n          id={`popover-delete-library-item-${libraryItemId}`}\n          data-testid={`popover-delete-library-item-${libraryItemId}`}\n          className=\"popover-delete-library-item\"\n        >\n          {popoverData && (\n            <>\n              <Popover.Content>\n                {popoverData.title && (\n                  <Popover.Title data-testid={`popover-title-${libraryItemId}`}>\n                    {popoverData.title}\n                  </Popover.Title>\n                )}\n                {popoverData.title && (\n                  <span data-testid={`popover-description-${libraryItemId}`}>\n                    {popoverData.description}\n                  </span>\n                )}\n                {(popoverData.close || popoverData.delete) && (\n                  <div className=\"actions-container\">\n                    {popoverData.close && (\n                      <Button\n                        data-testid={`popover-close-${libraryItemId}`}\n                        onClick={popoverData.close}\n                        className=\"button-outline button-xs close\"\n                      >\n                        Close\n                      </Button>\n                    )}\n                    {popoverData.delete && (\n                      <Button\n                        data-testid={`popover-delete-confirmation-${libraryItemId}`}\n                        onClick={popoverData.delete}\n                        disabled={isLoading}\n                        className=\"button-xs confirm\"\n                      >\n                        Yes, delete\n                      </Button>\n                    )}\n                  </div>\n                )}\n              </Popover.Content>\n            </>\n          )}\n          {!popoverData && isLoading && (\n            <Popover.Content>\n              <Loader dataTestId={`popover-loader-${libraryItemId}`} />\n            </Popover.Content>\n          )}\n        </Popover>\n      </Overlay>\n    </div>\n  );\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst getLibraryItemTypeDisplayName = libraryItemTypeValue =>\n  Object.values(Constants.LIBRARY_ITEM_TYPES).find(\n    type => type.value === libraryItemTypeValue\n  ).displayName;\n\nexport default getLibraryItemTypeDisplayName;\n","import React from 'react';\nimport { SortUtilities } from '@pwc/pwc-deals-web-common';\nimport { Checkbox } from '@pwc/pwc-deals-ui';\nimport DateCell from '../../../../common/components/DateCell';\nimport LibraryItemDeleteButton from '../../../contentLibrary/LibraryItemDeleteButton/LibraryItemDeleteButton';\nimport getLibraryItemTypeDisplayName from './getLibraryItemTypeDisplayName';\n\nfunction getColumnConfig(\n  setAllItems,\n  setSortColumnName,\n  setSortColumnDirection,\n  setSelectedLibraryItemIds,\n  onDeleteLibraryItem\n) {\n  return [\n    {\n      Header: 'Name',\n      accessor: 'name',\n      className: 'bold-cell title-cell cell',\n      sortType: SortUtilities.caseInsensitiveAlphaSort,\n      Cell: props => {\n        const {\n          row,\n          state: { sortBy }\n        } = props;\n        const { original: libraryItem } = row;\n        const checkboxId = `library-item-checkbox-${libraryItem.id}`;\n        return (\n          <div>\n            <Checkbox\n              // className=\"library-item-checkbox\"\n              id={checkboxId}\n              selected={libraryItem.selected}\n              dataTestId=\"library-item-select-label\"\n              onChange={() => {\n                setSelectedLibraryItemIds(oldSelectedLibraryItemsIds => {\n                  const newSelectedLibraryItemIdSet = new Set(\n                    oldSelectedLibraryItemsIds\n                  );\n                  if (newSelectedLibraryItemIdSet.has(libraryItem.id)) {\n                    newSelectedLibraryItemIdSet.delete(libraryItem.id);\n                  } else {\n                    newSelectedLibraryItemIdSet.add(libraryItem.id);\n                  }\n                  const newSelectedLibraryItemArray = Array.from(\n                    newSelectedLibraryItemIdSet\n                  );\n                  return newSelectedLibraryItemArray;\n                });\n\n                const currentSort = sortBy[0];\n                setSortColumnName(currentSort.id);\n                setSortColumnDirection(currentSort.desc ? 'desc' : 'asc');\n              }}\n              label={libraryItem.name}\n            />\n          </div>\n        );\n      }\n    },\n    {\n      Header: 'Date ingested',\n      accessor: 'dateCreated',\n      Cell: ({ cell }) => {\n        return (\n          <span data-testid=\"item-date-created\">\n            {cell.value ? <DateCell cell={cell} /> : ''}\n          </span>\n        );\n      }\n    },\n    {\n      Header: 'Type',\n      id: 'type',\n      accessor: row => getLibraryItemTypeDisplayName(row.type)\n    },\n    {\n      Header: '',\n      id: 'delete',\n      disableSortBy: true,\n      className: 'right-align-cell cell',\n      Cell: cell => {\n        const { original: libraryItem } = cell.row;\n        return (\n          <LibraryItemDeleteButton\n            projectId={libraryItem.projectId}\n            libraryItemId={libraryItem.id}\n            onDelete={onDeleteLibraryItem}\n            disabled={libraryItem.selected}\n          />\n        );\n      }\n    }\n  ];\n}\n\nexport default getColumnConfig;\n","import React from 'react';\nimport './EmptyLibraryItemsListCard.scss';\n\nconst EmptyLibraryItemsListCard = ({ children }) => {\n  return (\n    <div className=\"empty-library-items-list-card content-container\">\n      <div className=\"empty-library-items-list-text\">\n        Add analysis data to the library using the Junction Excel add-in, or\n        import the content from PowerPoint and Power BI below.\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default EmptyLibraryItemsListCard;\n","import { Banner, Button, Icon, Loader, ProgressSteps } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport ActiveContentHeader from '../../../../common/components/ContentHeaders/ActiveContentHeader';\nimport ContentTable from '../../../../common/components/ContentTable/ContentTable';\nimport { FormLayout } from '../../../../common/components/layouts';\nimport PublishButton from '../../../../common/components/PublishButton';\nimport Separator from '../../../../common/components/Separator';\nimport IngestLibraryItemModal from '../../../contentLibrary/IngestLibraryItemModal/IngestLibraryItemModal';\nimport { getLibraryItems } from '../../../contentLibrary/libraryItemService';\nimport { useSections } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setCurrentSections,\n  setNonLaidOutLibraryItems\n} from '../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport getColumnConfig from './columnConfig';\nimport EmptyLibraryItemsListCard from './EmptyLibraryItemsListCard';\nimport getSectionsFromSelectedItems from './getSectionsFromSelectedItems';\nimport getSelectedItemIds from './getSelectedItemIds';\nimport './LibraryItemListContainer.scss';\n\nconst steps = [\n  { title: 'first', description: 'Select data' },\n  { title: 'second', description: 'Edit layout' }\n];\n\nconst LibraryItemListContainer = ({ title, returnUrl, operationType }) => {\n  const [{ currentSections, nonLaidOutLibraryItems }, dispatch] = useSections();\n  const [isLoading, setIsLoading] = useState(true);\n  const [allItems, setAllItems] = useState([]);\n  const [pbiItems, setPbiItems] = useState([]);\n  // const [sortColumnName, setSortColumnName] = useState('name');\n  const [sortColumnDate, setSortColumnDate] = useState('dateCreated');\n  const [sortColumnDirection, setSortColumnDirection] = useState('desc');\n  const [selectedLibraryItemIds, setSelectedLibraryItemIds] = useState(\n    getSelectedItemIds(nonLaidOutLibraryItems, currentSections)\n  );\n  const [\n    isPowerpointIngestionSuccessful,\n    setIsPowerpointIngestionSuccessful\n  ] = useState(false);\n  const { projectId } = useParams();\n  const history = useHistory();\n  const [showStartIngestionModal, setShowStartIngestionModal] = useState(false);\n\n  const refreshList = useCallback(\n    async function refreshList() {\n      const fetchedLibraryItems = await getLibraryItems(projectId);\n      const filteredLibraryItems = fetchedLibraryItems.filter(li => {\n        return (\n          li.type !== Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value &&\n          li.type !== Constants.LIBRARY_ITEM_TYPES.UNDEFINED.value\n        );\n      });\n      const ingestedPbiItems = fetchedLibraryItems.filter(\n        li => li.type === Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value\n      );\n      setPbiItems(ingestedPbiItems);\n      setAllItems(filteredLibraryItems);\n      setIsLoading(false);\n    },\n    [projectId]\n  );\n\n  useEffect(() => {\n    setIsLoading(true);\n    refreshList();\n  }, [refreshList]);\n\n  const onDeleteLibraryItem = useCallback(async () => {\n    setIsLoading(true);\n    await refreshList();\n  }, [refreshList]);\n\n  const columns = useMemo(\n    () =>\n      getColumnConfig(\n        setAllItems,\n        setSortColumnDate,\n        setSortColumnDirection,\n        setSelectedLibraryItemIds,\n        onDeleteLibraryItem\n      ),\n    [\n      setAllItems,\n      setSortColumnDate,\n      setSortColumnDirection,\n      setSelectedLibraryItemIds,\n      onDeleteLibraryItem\n    ]\n  );\n\n  const returnToOverview = () => {\n    history.replace(returnUrl);\n  };\n\n  const goToLayout = () => {\n    history.replace(`${returnUrl}/layout`);\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const {\n      nonLaidOutLibraryItems: newNonLaidOutLibraryItems,\n      sections\n    } = getSectionsFromSelectedItems(\n      allItems,\n      selectedLibraryItemIds,\n      currentSections\n    );\n    setNonLaidOutLibraryItems(newNonLaidOutLibraryItems, dispatch);\n    setCurrentSections(sections, dispatch);\n    goToLayout();\n  }\n\n  return (\n    <form\n      data-testid=\"library-item-list-container-form\"\n      className=\"library-item-list-container\"\n      onSubmit={handleSubmit}\n    >\n      <FormLayout\n        headerComponent={\n          // eslint-disable-next-line react/jsx-wrap-multilines\n          <ActiveContentHeader>\n            <Button\n              className=\"button-link button-theme mx-2 mr-4\"\n              onClick={returnToOverview}\n              data-testid=\"cancel-button-top\"\n              type=\"button\"\n            >\n              {`Back to ${operationType} analysis`}\n            </Button>\n            <PublishButton\n              type=\"submit\"\n              isSaving={false}\n              isValid\n              buttonSize=\"button-small\"\n              buttonPosition=\"top\"\n              onSaveText=\"Adding data to analysis...\"\n              standbyText=\"Add\"\n              data-testid=\"publish-button-top\"\n            />\n          </ActiveContentHeader>\n        }\n      >\n        <h1>{title}</h1>\n        <div className=\"step-indicator-container\">\n          <ProgressSteps current={1} steps={steps} />\n        </div>\n        {allItems.length > 0 && (\n          <>\n            <p className=\"library-item-description twothirds\">\n              Choose pre-ingested data or ingest your own using the Excel\n              add-in. You can also import data from Power BI and PowerPoint.\n            </p>\n            <Button\n              className=\"button button-no-underline button-theme mb-4 mt-3\"\n              data-testid=\"ingest-power-bi-button\"\n              type=\"button\"\n              onClick={() => {\n                setIsPowerpointIngestionSuccessful(false);\n                setShowStartIngestionModal(true);\n              }}\n            >\n              <Icon\n                name=\"upload\"\n                width=\"24\"\n                className=\"fill icon-orange mr-2\"\n              />\n              Import data\n            </Button>\n          </>\n        )}\n        {showStartIngestionModal && (\n          <IngestLibraryItemModal\n            show={showStartIngestionModal}\n            handleCancel={() => setShowStartIngestionModal(false)}\n            handleSuccessfulIngestion={async () => {\n              setIsPowerpointIngestionSuccessful(true);\n              setShowStartIngestionModal(false);\n              await refreshList();\n            }}\n            pbiItems={pbiItems}\n            projectId={projectId}\n            ingestedPowerPointGroups={allItems\n              .filter(\n                li =>\n                  li.type ===\n                  Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value\n              )\n              .map(fli => {\n                const libraryItemJson = JSON.parse(fli.data);\n                return {\n                  driveItemId: libraryItemJson.DriveItemId,\n                  slideNumber: libraryItemJson.SlideNumber,\n                  groupName: libraryItemJson.GroupName\n                };\n              })}\n          />\n        )}\n        {isPowerpointIngestionSuccessful && (\n          <Banner\n            notice=\"success\"\n            text=\"Data imported successfully.\"\n            icon=\"checkmark\"\n            data-testid=\"ingest-success-message\"\n          />\n        )}\n\n        {isLoading ? (\n          <Loader dataTestId=\"library-item-loading-indicator\" />\n        ) : (\n          <>\n            <div data-testid=\"library-item-list-container\">\n              {allItems.length === 0 && (\n                <EmptyLibraryItemsListCard>\n                  <Button\n                    className=\"ui-button button-block import-data\"\n                    data-testid=\"ingest-power-bi-button\"\n                    type=\"button\"\n                    onClick={() => {\n                      setIsPowerpointIngestionSuccessful(false);\n                      setShowStartIngestionModal(true);\n                    }}\n                  >\n                    <Icon\n                      name=\"upload\"\n                      width=\"24\"\n                      className=\"fill icon-white mr-2\"\n                    />\n                    Import data\n                  </Button>\n                </EmptyLibraryItemsListCard>\n              )}\n              {allItems.length > 0 && (\n                <ContentTable\n                  data={allItems.map(item => {\n                    const newItem = { ...item };\n                    newItem.selected = !!selectedLibraryItemIds.includes(\n                      item.id\n                    );\n                    return newItem;\n                  })}\n                  columns={columns}\n                  initialSortColumn={sortColumnDate}\n                  initialSortDirection={sortColumnDirection}\n                  type=\"library-item\"\n                  rowClassFunction={libraryItem => {\n                    return libraryItem.selected ? 'row-selected' : '';\n                  }}\n                />\n              )}\n            </div>\n          </>\n        )}\n\n        <Separator />\n        <div className=\"form-bottom-actions\">\n          <Button\n            className=\"button-link form-cancel-button\"\n            type=\"button\"\n            onClick={returnToOverview}\n            data-testid=\"cancel-button-bottom\"\n          >\n            {`Back to ${operationType} analysis`}\n          </Button>\n          <PublishButton\n            isSaving={false}\n            isValid\n            buttonPosition=\"bottom\"\n            onSaveText=\"Adding data to analysis...\"\n            standbyText=\"Add and continue\"\n          />\n        </div>\n      </FormLayout>\n    </form>\n  );\n};\n\nexport default LibraryItemListContainer;\n","export default function getSelectedItemIds(\n  nonLaidOutLibraryItems,\n  currentSections\n) {\n  const selectedItemIds = [\n    ...nonLaidOutLibraryItems.map(item => item.id),\n    ...currentSections.flatMap(s => s.items).map(item => item.id)\n  ];\n  return selectedItemIds;\n}\n","export default function getSectionsFromSelectedItems(\n  allItems,\n  selectedLibraryItemIds,\n  currentSections\n) {\n  const previouslyLaidOutLibraryItemIds = currentSections\n    .flatMap(s => s.items)\n    .map(item => item.id);\n  const currentlyLaidOutItemIds = selectedLibraryItemIds.filter(\n    selectedItemId => previouslyLaidOutLibraryItemIds.includes(selectedItemId)\n  );\n  const newNonLaidOutLibraryItemIds = selectedLibraryItemIds.filter(\n    selectedItemId => !currentlyLaidOutItemIds.includes(selectedItemId)\n  );\n\n  const newNonLaidOutLibraryItems = allItems.filter(item =>\n    newNonLaidOutLibraryItemIds.includes(item.id)\n  );\n\n  const newSections = currentSections.map(section => {\n    return {\n      ...section,\n      items: section.items.filter(item =>\n        currentlyLaidOutItemIds.includes(item.id)\n      )\n    };\n  });\n\n  return {\n    nonLaidOutLibraryItems: newNonLaidOutLibraryItems,\n    sections: newSections\n  };\n}\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React, { useState } from 'react';\nimport { noHeadingEditorConfig } from '../RichTextEditor/CKEditorConfig';\nimport RichTextEditor from '../RichTextEditor/RichTextEditor';\nimport './RichTextEditorFormikField.scss';\n\nconst RichTextEditorFormikField = ({\n  field: { value, name },\n  form: { setFieldValue },\n  label,\n  dataTestId = 'rte-formik-field-container',\n  config = noHeadingEditorConfig,\n  lightModeVariant\n}) => {\n  const [focused, setFocused] = useState(false);\n\n  return (\n    <div\n      className={`rte-formik-field textarea-container rte-textarea-container ${\n        value || focused ? 'label-lifted' : ''\n      } ${focused ? 'focused' : ''}${\n        lightModeVariant ? ' light-mode-variant' : ''\n      }`}\n      data-testid={dataTestId}\n    >\n      <RichTextEditor\n        richTextData={value}\n        onChange={newValue => {\n          setFieldValue(name, newValue);\n        }}\n        onBlur={(_, editor) => {\n          setFocused(false);\n          editor.ui.view.toolbar.element.style.display = 'none';\n        }}\n        onFocus={(_, editor) => {\n          setFocused(true);\n          editor.ui.view.toolbar.element.style.display = 'block';\n        }}\n        label={label}\n        config={{ ...config, placeholder: null }}\n        isFocused={focused}\n      />\n      <Icon name=\"edit\" className=\"fill icon-grey-alt-lighter\" />\n    </div>\n  );\n};\n\nexport default RichTextEditorFormikField;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Formik } from 'formik';\nimport _get from 'lodash/get';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Route, Switch, useParams, useRouteMatch } from 'react-router-dom';\nimport { ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport D3Alert from '../../../../common/components/Alert/D3Alert';\nimport ActiveContentHeader from '../../../../common/components/ContentHeaders/ActiveContentHeader';\nimport { FormLayout } from '../../../../common/components/layouts';\nimport PublishButton from '../../../../common/components/PublishButton';\nimport Separator from '../../../../common/components/Separator';\nimport EditConnectedContent from '../../../narratives/EditConnectedContent/EditConnectedContent';\nimport { getNarratives } from '../../../narratives/narrativesService';\nimport TagEditor from '../../../tagging/common/TagEditor/TagEditor';\nimport AddLibraryItemsBox from '../../common/AddLibraryItemsBox';\nimport AnalysisTextInput from '../../CreateAnalysis/AnalysisTextInput';\nimport FreeformAnalysisLayoutContainer from '../FreeformAnalysisLayout/FreeformAnalysisLayoutContainer';\nimport LibraryItemListContainer from '../LibraryItemListContainer/LibraryItemListContainer';\nimport './FreeformAnalysisForm.scss';\nimport { useSectionsState } from './FreeformAnalysisFormContext';\nimport {\n  checkIsValid,\n  mapDto,\n  validateTitle\n} from './FreeformAnalysisFormUtil/FreeformAnalysisFormUtil';\nimport RichTextEditorFormikField from '../../../../common/components/RichTextEditorFormikField/RichTextEditorFormikField';\nimport { shortIntroHeadingOnlyEditorConfig } from '../../../../common/components/RichTextEditor/CKEditorConfig';\n\nconst FreeformAnalysisForm = ({\n  analysisTitle,\n  analysisBody,\n  publishAction,\n  cancelAction,\n  formTitle,\n  appliedTags,\n  onSaveText,\n  standbyText,\n  parentContentId,\n  sections,\n  lightModeVariant\n}) => {\n  const [errorType, setErrorType] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [formErrors, setFormErrors] = useState({ title: '' });\n  const [tags, setTags] = useState(appliedTags || []);\n  const [title, setTitle] = useState(analysisTitle);\n  const [body, setBody] = useState(analysisBody);\n  const [isValid, setIsValid] = useState(false);\n  const { path, url } = useRouteMatch();\n  const { currentSections } = useSectionsState();\n  const [narratives, setNarratives] = useState(null);\n  const { projectId, analysisId } = useParams();\n  const [layoutSaved, setLayoutSaved] = useState(false);\n  const isPublishError = errorType === 'publish';\n\n  const titleFieldError =\n    !isPublishError &&\n    _get(errorType, 'fieldName', '').toLowerCase() === 'title'\n      ? errorType.apiErrorMessage\n      : undefined;\n\n  const generalError =\n    isPublishError || !titleFieldError ? errorType : undefined;\n  useEffect(() => {\n    getNarratives(projectId).then(narrs => {\n      if (!analysisId) {\n        setNarratives(narrs);\n        return;\n      }\n\n      const narrativesWithoutThisAnalysis = {\n        ...narrs,\n        analyses: narrs.analyses.filter(\n          a => a.contentThreadId !== parseInt(analysisId, 10)\n        )\n      };\n      setNarratives(narrativesWithoutThisAnalysis);\n    });\n  }, [analysisId, projectId]);\n\n  useEffect(() => {\n    setIsValid(checkIsValid(formErrors));\n  }, [formErrors]);\n\n  const handleTitleValidationChange = useCallback(errorMsg => {\n    setFormErrors(previousFormErrors => ({\n      ...previousFormErrors,\n      title: errorMsg\n    }));\n  }, []);\n\n  const bodyField = {\n    name: 'body',\n    value: body\n  };\n\n  const handlePublish = async () => {\n    setIsSaving(true);\n    try {\n      setErrorType();\n      await publishAction(\n        mapDto(title, body, tags, currentSections),\n        narratives\n      );\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  const handleTagSelect = values => {\n    setTags(values);\n  };\n\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <form\n          onSubmit={async event => {\n            event.preventDefault();\n            await handlePublish();\n          }}\n        >\n          <FormLayout\n            headerComponent={\n              // eslint-disable-next-line react/jsx-wrap-multilines\n              <ActiveContentHeader>\n                <Button\n                  className=\"button-link button-theme mx-2 mr-4\"\n                  onClick={cancelAction}\n                  data-testid=\"cancel-button-top\"\n                  type=\"button\"\n                >\n                  Cancel\n                </Button>\n                <PublishButton\n                  isSaving={isSaving}\n                  isValid={isValid}\n                  buttonSize=\"button-small\"\n                  buttonPosition=\"top\"\n                  onSaveText={onSaveText}\n                  standbyText={standbyText}\n                />\n              </ActiveContentHeader>\n            }\n          >\n            <div className=\"form-content-wrapper\">\n              <h1>{formTitle}</h1>\n\n              <div\n                className={`input-container${\n                  lightModeVariant ? ' light-mode-variant' : ''\n                }`}\n              >\n                <AnalysisTextInput\n                  label=\"Title\"\n                  name=\"title\"\n                  value={title}\n                  validate={validateTitle}\n                  handleValidationChange={handleTitleValidationChange}\n                  handleValueChange={setTitle}\n                  error={titleFieldError}\n                />\n                <RichTextEditorFormikField\n                  field={bodyField}\n                  form={{\n                    setFieldValue: (_, newValue) => {\n                      setBody(newValue);\n                    }\n                  }}\n                  label=\"Description (optional)\"\n                  dataTestId=\"text-area-body\"\n                  config={shortIntroHeadingOnlyEditorConfig}\n                />\n                <AddLibraryItemsBox\n                  selectedLibraryItems={currentSections.flatMap(s => s.items)}\n                  layoutSaved={layoutSaved}\n                  isValid={isValid}\n                />\n              </div>\n\n              <div className=\"analysis-form-extras\">\n                <Separator />\n\n                <Formik initialValues={{ tags }} enableReinitialize>\n                  {() => (\n                    <TagEditor\n                      projectId={projectId}\n                      onSelect={handleTagSelect}\n                    />\n                  )}\n                </Formik>\n                <Separator />\n                <EditConnectedContent\n                  projectId={projectId}\n                  parentContentId={parentContentId}\n                  narratives={narratives}\n                  setNarratives={setNarratives}\n                />\n              </div>\n              <Separator />\n              <div className=\"form-bottom-actions\">\n                <Button\n                  className=\"button-link form-cancel-button\"\n                  type=\"button\"\n                  onClick={cancelAction}\n                  data-testid=\"cancel-button-bottom\"\n                >\n                  Cancel\n                </Button>\n                <PublishButton\n                  isSaving={isSaving}\n                  isValid={isValid}\n                  buttonPosition=\"bottom\"\n                  onSaveText={onSaveText}\n                  standbyText={standbyText}\n                />\n              </div>\n            </div>\n\n            {generalError && <D3Alert configType={generalError} />}\n          </FormLayout>\n        </form>\n      </Route>\n      <Route path={`${path}/library-items`}>\n        <LibraryItemListContainer\n          title=\"Add data\"\n          returnUrl={url}\n          operationType={analysisId ? 'edit' : 'add'}\n        />\n      </Route>\n      <Route path={`${path}/layout`}>\n        <FreeformAnalysisLayoutContainer\n          goBackUrl={`${url}/library-items`}\n          basePageUrl={url}\n          operationType={analysisId ? 'edit' : 'add'}\n          setLayoutSaved={setLayoutSaved}\n          initialSections={sections}\n          analysisTitle={title}\n          analysisDescription={body}\n          tags={tags}\n        />\n      </Route>\n    </Switch>\n  );\n};\nexport default FreeformAnalysisForm;\n","import React from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { postAnalysis } from '../../analysesService';\nimport FreeformAnalysisForm from '../FreeformAnalysisForm/FreeformAnalysisForm';\nimport { SectionsProvider } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { viewAnalysisPath } from '../../../../common/services/urlService';\nimport { getLinksFromNarratives } from '../../../narratives/narrativesUtilities';\n\nconst parentContentId = -1;\n\nconst CreateFreeformAnalysis = () => {\n  const history = useHistory();\n  const { projectId } = useParams();\n\n  const cancelAndGoBack = () => history.goBack();\n\n  const redirectToAnalysisView = analysisId => {\n    history.replace(viewAnalysisPath(projectId, analysisId));\n  };\n\n  const publishAction = async (analysisDto, narratives) => {\n    analysisDto.links = getLinksFromNarratives(narratives, parentContentId);\n    const result = await postAnalysis(projectId, analysisDto);\n    redirectToAnalysisView(result);\n  };\n\n  const initialSections = [\n    {\n      order: 1,\n      layoutType: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,\n      items: []\n    }\n  ];\n  return (\n    <SectionsProvider value={{ initialSections }}>\n      <FreeformAnalysisForm\n        analysisTitle=\"\"\n        analysisBody=\"\"\n        publishAction={publishAction}\n        cancelAction={cancelAndGoBack}\n        formTitle=\"Add an Analysis\"\n        appliedTags={[]}\n        onSaveText=\"Adding...\"\n        standbyText=\"Add\"\n        sections={initialSections}\n        parentContentId={parentContentId}\n      />\n    </SectionsProvider>\n  );\n};\n\nexport default CreateFreeformAnalysis;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { getLinksFromNarratives } from '../../../narratives/narrativesUtilities';\nimport { getAnalysis, putAnalysis } from '../../analysesService';\nimport FreeformAnalysisForm from '../FreeformAnalysisForm/FreeformAnalysisForm';\nimport { SectionsProvider } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\n\nconst EditFreeformAnalysis = () => {\n  const { projectId, analysisId } = useParams();\n  const history = useHistory();\n  const [analysis, setAnalysis] = useState(null);\n\n  useEffect(() => {\n    getAnalysis(projectId, analysisId).then(analysisData => {\n      setAnalysis(analysisData);\n    });\n  }, [projectId, analysisId]);\n\n  const redirectToAnalysisDetailPage = () =>\n    history.replace(`/projects/${projectId}/analyses/${analysisId}/view`);\n\n  const publishAction = async (analysisDto, narratives) => {\n    analysisDto.links = getLinksFromNarratives(narratives, analysis.contentId);\n    await putAnalysis(projectId, analysisId, analysisDto);\n    redirectToAnalysisDetailPage();\n  };\n  return (\n    analysis && (\n      <SectionsProvider value={{ initialSections: analysis.sections }}>\n        <FreeformAnalysisForm\n          projectId={projectId}\n          analysisTitle={analysis.title}\n          analysisBody={analysis.body}\n          publishAction={publishAction}\n          cancelAction={redirectToAnalysisDetailPage}\n          formTitle=\"Edit Analysis\"\n          appliedTags={analysis.tags ? analysis.tags.map(tag => tag.text) : []}\n          onSaveText=\"Updating...\"\n          standbyText=\"Update\"\n          parentContentId={analysis.contentId}\n          sections={analysis.sections}\n        />\n      </SectionsProvider>\n    )\n  );\n};\n\nexport default EditFreeformAnalysis;\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/viewingToggledUpdated`,\n  isViewingToggled => {\n    return { payload: { isViewingToggled } };\n  }\n);\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(`${CALC_ENGINE_ACTION_PREFIX}/processingBegan`);\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(`${CALC_ENGINE_ACTION_PREFIX}/processingEnded`);\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(`${CALC_ENGINE_ACTION_PREFIX}/resetAllToggles`);\n","import { createReducer } from '@reduxjs/toolkit';\nimport _get from 'lodash/get';\nimport viewingToggledUpdated from '../actions/viewingToggledUpdated';\nimport processingBegan from '../actions/processingBegan';\nimport processingEnded from '../actions/processingEnded';\nimport resetAllToggles from '../actions/resetAllToggles';\nimport { CALC_ENGINE_KEY } from '../utilities/constants';\nimport { ingestionBegan } from './StructuredAnalysisSlice';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\n\nexport const initialState = {\n  isProcessing: false,\n  isViewingToggled: false\n};\n\nconst calcEngine = createReducer(initialState, {\n  [processingBegan]: state => ({ ...state, isProcessing: true }),\n  [processingEnded]: state => ({ ...state, isProcessing: false }),\n  [viewingToggledUpdated]: (state, action) => ({\n    ...state,\n    isViewingToggled: action.payload.isViewingToggled\n  }),\n  [resetAllToggles]: state => ({\n    ...state,\n    isViewingToggled: false\n  }),\n  [ingestionBegan]: state => ({\n    ...state,\n    isViewingToggled: false\n  }),\n  [clearAllProjectData]: () => initialState\n});\n\nexport const getCalcEngineIsProcessing = state =>\n  _get(state, [CALC_ENGINE_KEY, 'isProcessing'], false);\n\nexport const getIsViewingToggled = state =>\n  _get(state, [CALC_ENGINE_KEY, 'isViewingToggled'], false);\n\nexport default calcEngine;\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\n/**\n * Warning!  If you dispatch this action your workflow better re-load and transform ALL structured documents\n * aka 'clearDataAndtransformAllIngestedStructuredDocumentsThunk'\n */\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/resetCalculationDataForDocument`,\n  function prepare(documentCode) {\n    return {\n      payload: { documentCode }\n    };\n  }\n);\n","import { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\n\nexport const initialState = {\n  loadingInProcess: false,\n  hasError: false,\n  structuredDocuments: []\n};\n\nconst structuredAnalysisViewSlice = createSlice({\n  name: 'structuredAnalysisViewSlice',\n  initialState,\n  reducers: {\n    startProcessing: (_state, _action) => ({\n      loadingInProcess: true,\n      hasError: false,\n      structuredDocuments: []\n    }),\n    processingSucceeded: (state, action) => ({\n      ...state,\n      loadingInProcess: false,\n      hasError: false,\n      structuredDocuments: action.payload.documentsWithContent\n    }),\n    processingFailed: (_state, _action) => ({\n      loadingInProcess: false,\n      hasError: true,\n      structuredDocuments: []\n    })\n  },\n\n  extraReducers: builder => {\n    builder.addCase(clearAllProjectData, () => initialState);\n    builder.addCase(resetCalculationDataForDocument, (state, action) => {\n      if (!action.payload || !action.payload.documentCode) {\n        return state;\n      }\n      const { documentCode } = action.payload;\n      const updatedDocuments = state.structuredDocuments.filter(\n        x => x.code !== documentCode\n      );\n\n      return { ...state, structuredDocuments: updatedDocuments };\n    });\n  }\n});\n\nexport const {\n  reducer: structuredAnalysisViewReducer\n} = structuredAnalysisViewSlice;\n\n// Actions\nexport const {\n  startProcessing,\n  processingSucceeded,\n  processingFailed\n} = structuredAnalysisViewSlice.actions;\n\n// Selectors\nexport const getStructuredAnalysisViewLoadingInProcess = state =>\n  state.structuredAnalysisView.loadingInProcess;\n\nexport const getStructuredAnalysisViewHasError = state =>\n  state.structuredAnalysisView.hasError;\n\nconst getStructuredAnalysisViewDocumentsWithContent = state =>\n  state.structuredAnalysisView.structuredDocuments;\n\nexport const getStructuredAnalysisViewDocumentsWithContentForDocument = documentCode =>\n  createSelector(\n    getStructuredAnalysisViewDocumentsWithContent,\n    structuredDocuments => {\n      const documentsForCode = structuredDocuments.find(\n        x => x.code === documentCode\n      );\n      return documentsForCode;\n    }\n  );\n","import { DocumentUtilities } from '@pwc/pwc-deals-web-common';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\n\nconst resetAllCalculationDataByDocumentCode = async (\n  projectId,\n  documentCode,\n  dispatch\n) => {\n  const documentWithDependencies = DocumentUtilities.getDocumentWithDependencies(\n    documentCode\n  );\n  const documentsForRefresh = [\n    documentWithDependencies.document,\n    ...documentWithDependencies.dependencies\n  ];\n  documentsForRefresh.forEach(code => {\n    dispatch(resetCalculationDataForDocument(code));\n  });\n};\n\n/**\n * WARNING - due to factCalculations be wary of dispatching this outside of\n * transformAllIngestedStructuredDocumentsThunk\n */\nexport const resetCalculationDataByDocumentCodesThunk = (\n  projectId,\n  documentCodes = []\n) => async dispatch => {\n  documentCodes.forEach(documentCode => {\n    resetAllCalculationDataByDocumentCode(projectId, documentCode, dispatch);\n  });\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/longDescriptionUpdated`,\n  function prepare(documentCode, shortDescription, longDescription) {\n    return {\n      payload: { documentCode, shortDescription, longDescription }\n    };\n  }\n);\n","import { createReducer } from '@reduxjs/toolkit';\nimport { cloneDeep } from 'lodash';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\nimport longDescriptionUpdated from '../actions/longDescriptionUpdated';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\n\nexport const getLongDescriptionByDocumentAndAdjustment = (\n  documentCode,\n  adjustmentKey\n) => state => state.longDescriptionsByCode[documentCode][adjustmentKey];\n\nconst longDescriptionReducer = createReducer(\n  {},\n  {\n    [longDescriptionUpdated]: (state, action) => {\n      if (\n        !action.payload ||\n        !action.payload.shortDescription ||\n        !action.payload.longDescription ||\n        !action.payload.documentCode\n      ) {\n        return state;\n      }\n\n      const {\n        documentCode,\n        shortDescription,\n        longDescription\n      } = action.payload;\n      const codeDescriptions = cloneDeep(state)[documentCode] || {};\n      codeDescriptions[shortDescription] = longDescription;\n\n      return {\n        ...state,\n        [documentCode]: codeDescriptions\n      };\n    },\n    [resetCalculationDataForDocument]: (state, action) => {\n      if (!action.payload || !action.payload.documentCode) {\n        return state;\n      }\n      const { documentCode } = action.payload;\n      delete state[documentCode];\n      return state;\n    },\n    [clearAllProjectData]: () => ({})\n  }\n);\n\nexport default longDescriptionReducer;\n","import { getLibraryItemForStructuredContent } from '../../features/contentLibrary/libraryItemService';\n\nexport const getRichTextLongDescription = async (\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  adjustmentRowId,\n  libraryItemLinks = []\n) => {\n  try {\n    if (libraryItemLinks.length === 0) {\n      return null;\n    }\n\n    const matchingLibraryItemLink = libraryItemLinks.find(\n      link => link.textKey === adjustmentRowId\n    );\n\n    if (!matchingLibraryItemLink) {\n      return null;\n    }\n\n    const libraryItem = await getLibraryItemForStructuredContent(\n      projectId,\n      matchingLibraryItemLink.libraryItemId,\n      contentId,\n      contentVersionNumber\n    );\n\n    if (libraryItem === null) {\n      return null;\n    }\n\n    const richTextObject = {\n      relatedTextKey: adjustmentRowId,\n      libraryItemId: matchingLibraryItemLink.libraryItemId,\n      data: libraryItem.data.richTextData,\n      childrenData: libraryItem.childrenData\n    };\n\n    return richTextObject;\n  } catch (e) {\n    return null;\n  }\n};\n","import { ProjectHttpClient } from '../../services/httpClient';\n\nconst setRichText = ({\n  projectId,\n  libraryItemId,\n  name,\n  richTextData,\n  childItemIds\n}) => {\n  const path = `projects/${projectId}/LibraryItems/richText/${libraryItemId}`;\n  const body = {\n    name,\n    richTextData,\n    childItemIds\n  };\n\n  return ProjectHttpClient.put(path, body);\n};\n\nexport default setRichText;\n","import { createSlice } from '@reduxjs/toolkit';\nimport _get from 'lodash/get';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\nimport { getLongDescriptionByDocumentAndAdjustment } from './longDescription';\nimport { getRichTextLongDescription } from '../../services/richTextLongDescriptionService';\nimport setRichText from '../services/setRichText';\n\nexport const initialState = {\n  loading: false,\n  libraryItemLinks: {},\n  basisOfPresentation: '',\n  selectedAdjustment: '',\n  longDescription: {\n    header: '',\n    subheader: '',\n    childrenData: [],\n    content: {\n      plainText: '',\n      richText: ''\n    }\n  },\n  adjustmentMetadata: {\n    libraryItemId: '',\n    relatedTextKey: '',\n    adjustmentGroup: '',\n    adjustmentKey: '',\n    documentCode: '',\n    projectId: '',\n    contentId: '',\n    contentVersionNumber: ''\n  }\n};\n\nconst structuredDocumentDescriptionSlice = createSlice({\n  name: 'structuredDocumentDescription',\n  initialState,\n  reducers: {\n    loadDescriptionBegin: (state, action) => {\n      const {\n        header,\n        subheader,\n        adjustmentGroup,\n        adjustmentKey,\n        documentCode,\n        projectId,\n        contentId,\n        contentVersionNumber\n      } = action.payload;\n\n      state.loading = true;\n\n      state.selectedAdjustment = adjustmentKey;\n      state.longDescription.header = header;\n      state.longDescription.subheader = subheader;\n\n      state.adjustmentMetadata = {\n        libraryItemId: undefined,\n        relatedTextKey: '',\n        adjustmentGroup,\n        adjustmentKey,\n        documentCode,\n        projectId,\n        contentId,\n        contentVersionNumber\n      };\n    },\n    loadDescriptionComplete: (state, action) => {\n      const {\n        content,\n        childrenData,\n        libraryItemId,\n        relatedTextKey\n      } = action.payload;\n\n      state.loading = false;\n\n      state.longDescription.content = content;\n      state.longDescription.childrenData = childrenData;\n\n      state.adjustmentMetadata.relatedTextKey = relatedTextKey;\n      state.adjustmentMetadata.libraryItemId = libraryItemId;\n    },\n    descriptionResetToBasisOfPresentation: state => {\n      state.longDescription.header = 'Basis of Presentation';\n      state.longDescription.subheader = '';\n      state.longDescription.content = {\n        plainText: state.basisOfPresentation,\n        richText: ''\n      };\n      state.longDescription.childrenData = [];\n    },\n    basisOfPresentationSet: (state, action) => {\n      state.basisOfPresentation = action.payload;\n    },\n    libraryItemLinksSet: (state, action) => {\n      state.libraryItemLinks[action.payload.documentCode] =\n        action.payload.libraryItemLinks;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(clearAllProjectData, () => initialState);\n  }\n});\n\nexport default structuredDocumentDescriptionSlice.reducer;\n\n// Actions\nexport const {\n  loadDescriptionBegin,\n  loadDescriptionComplete,\n  basisOfPresentationSet,\n  libraryItemLinksSet,\n  descriptionResetToBasisOfPresentation\n} = structuredDocumentDescriptionSlice.actions;\n\n// Selectors\nexport const getLibraryItemLinks = (state, code) =>\n  _get(state, `structuredDocumentDescription.libraryItemLinks[${code}]`, []);\n\nexport const getAnalysisDescription = state => ({\n  loading: _get(state, `structuredDocumentDescription.loading`, false),\n  selectedAdjustment: _get(\n    state,\n    `structuredDocumentDescription.selectedAdjustment`,\n    ''\n  ),\n  header: _get(\n    state,\n    `structuredDocumentDescription.longDescription.header`,\n    ''\n  ),\n  subheader: _get(\n    state,\n    `structuredDocumentDescription.longDescription.subheader`,\n    ''\n  ),\n  content: _get(\n    state,\n    `structuredDocumentDescription.longDescription.content`,\n    {}\n  ),\n  childrenData: _get(\n    state,\n    `structuredDocumentDescription.longDescription.childrenData`,\n    []\n  ),\n  relatedTextKey: _get(\n    state,\n    `structuredDocumentDescription.adjustmentMetadata.relatedTextKey`,\n    ''\n  ),\n  libraryItemId: _get(\n    state,\n    `structuredDocumentDescription.adjustmentMetadata.libraryItemId`,\n    undefined\n  )\n});\n\nexport const getAdjustmentMetadata = state =>\n  state.structuredDocumentDescription.adjustmentMetadata;\n\n// Thunks\nexport const setDescriptorForAdjustmentThunk = (\n  adjustmentGroup,\n  adjustmentKey,\n  documentCode,\n  projectId,\n  contentId,\n  contentVersionNumber\n) => async (dispatch, getState) => {\n  await dispatch(\n    loadDescriptionBegin({\n      header: adjustmentGroup,\n      subheader: adjustmentKey,\n      adjustmentGroup,\n      adjustmentKey,\n      documentCode,\n      projectId,\n      contentId,\n      contentVersionNumber\n    })\n  );\n\n  const defaultLongDescription = getLongDescriptionByDocumentAndAdjustment(\n    documentCode,\n    adjustmentKey\n  )(getState());\n\n  const libraryItemLinks = getLibraryItemLinks(getState(), documentCode);\n  const dynamicLongDescription = await getRichTextLongDescription(\n    projectId,\n    documentCode,\n    contentId,\n    contentVersionNumber,\n    defaultLongDescription.adjustmentRowId,\n    libraryItemLinks\n  );\n\n  const descriptionPayload = {\n    content: {\n      plainText: _get(defaultLongDescription, 'data', '')\n    },\n    childrenData: _get(defaultLongDescription, 'childrenData', [])\n  };\n\n  if (dynamicLongDescription) {\n    descriptionPayload.relatedTextKey = dynamicLongDescription.relatedTextKey;\n    descriptionPayload.libraryItemId = dynamicLongDescription.libraryItemId;\n    descriptionPayload.content = { richText: dynamicLongDescription.data };\n    descriptionPayload.childrenData = dynamicLongDescription.childrenData;\n  }\n\n  dispatch(loadDescriptionComplete(descriptionPayload));\n};\n\nexport const saveDocumentDescriptionThunk = richTextData => async (\n  dispatch,\n  getState\n) => {\n  // find embedded child item ids\n  const root = document.createElement('html');\n  root.innerHTML = richTextData;\n\n  const childItems = root.querySelectorAll('.placeholder.ck-widget');\n  const childItemIds = [];\n  childItems.forEach(x =>\n    childItemIds.push(parseInt(x.getAttribute('id'), 10))\n  );\n\n  const { relatedTextKey, libraryItemId } = getAnalysisDescription(getState());\n\n  const adjustmentMeta = getAdjustmentMetadata(getState());\n\n  const payload = {\n    projectId: adjustmentMeta.projectId,\n    libraryItemId,\n    name: relatedTextKey,\n    richTextData,\n    childItemIds\n  };\n\n  try {\n    await setRichText(payload);\n  } catch (error) {\n    /** error handling? */\n  }\n\n  // reload things\n  await setDescriptorForAdjustmentThunk(\n    adjustmentMeta.adjustmentGroup,\n    adjustmentMeta.adjustmentKey,\n    adjustmentMeta.documentCode,\n    adjustmentMeta.projectId,\n    adjustmentMeta.contentId,\n    adjustmentMeta.contentVersionNumber\n  )(dispatch, getState);\n};\n","import { libraryItemLinksSet } from '../reducers/structuredDocumentDescriptionSlice';\nimport { getLibraryItemLinksByContentVersion } from '../services/structuredAnalysisService';\n\nexport const dispatchLibraryItemLinksSet = async (\n  fetchLibraryItems,\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  dispatch\n) => {\n  if (fetchLibraryItems) {\n    const libraryItemLinks = await getLibraryItemLinksByContentVersion(\n      projectId,\n      documentCode,\n      contentId,\n      contentVersionNumber\n    );\n    dispatch(libraryItemLinksSet({ libraryItemLinks, documentCode }));\n  } else {\n    dispatch(libraryItemLinksSet({ libraryItemLinks: [], documentCode }));\n  }\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/adjustmentsForDocumentUpdated`,\n  function prepare(documentCode, adjustments) {\n    return {\n      payload: { documentCode, adjustments }\n    };\n  }\n);\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/factsForDocumentUpdated`,\n  function prepare(documentCode, facts) {\n    return {\n      payload: { documentCode, facts }\n    };\n  }\n);\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/headerRowIngested`,\n  function prepare(code, headers, config) {\n    return {\n      payload: { code, headers, config }\n    };\n  }\n);\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/rowIngested`,\n  function prepare(code, headers, data, config) {\n    return {\n      payload: { code, headers, data, config }\n    };\n  }\n);\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport const timePeriodMetadataIngested = createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/timePeriodMetadataIngested`,\n  function prepare(documentCode, timePeriodFlags) {\n    return {\n      payload: { documentCode, timePeriodFlags }\n    };\n  }\n);\n","import {\n  isDebtLikeItems,\n  isReportedCash,\n  isReportedDebt\n} from '../../services/textService';\nimport {\n  REPORTED_DEBT_KEY,\n  COMPOSITE_KEY_DELIMITER,\n  DEBT_LIKE_ITEMS_KEY,\n  REPORTED_CASH_KEY\n} from './constants';\n\nexport const trimIfString = value => {\n  if (typeof value === 'string' || value instanceof String) {\n    return value.trim();\n  }\n  return value;\n};\n\nexport const constructCompositeKey = (prefix, headers, keyIndexes, suffix) => {\n  const identifiers = keyIndexes.map(index => trimIfString(headers[index]));\n  return [trimIfString(prefix), ...identifiers, trimIfString(suffix)].join(\n    COMPOSITE_KEY_DELIMITER\n  );\n};\n\nexport const deconstructAdjustmentKey = (\n  key,\n  delimiter = COMPOSITE_KEY_DELIMITER\n) => {\n  if (key) {\n    const [\n      documentCode,\n      adjustmentNumber,\n      shortDescription,\n      adjustmentType,\n      adjustmentCategory,\n      trialBalanceAccount,\n      timePeriod\n    ] = key.split(delimiter);\n\n    return {\n      documentCode,\n      adjustmentNumber,\n      shortDescription,\n      adjustmentType,\n      adjustmentCategory,\n      trialBalanceAccount,\n      timePeriod\n    };\n  }\n  return key;\n};\n\nexport const reconstructKeyForDdl = (\n  key,\n  delimiter = COMPOSITE_KEY_DELIMITER\n) => {\n  const [\n    documentCode,\n    adjustmentNumber,\n    shortDescription,\n    adjustmentType,\n    adjustmentCategory,\n    trialBalanceAccount,\n    timePeriod\n  ] = key.split(delimiter);\n\n  let updatedAdjustmentType = adjustmentType;\n  if (isReportedDebt(adjustmentType)) {\n    updatedAdjustmentType = REPORTED_DEBT_KEY;\n  }\n\n  if (isReportedCash(adjustmentType)) {\n    updatedAdjustmentType = REPORTED_CASH_KEY;\n  }\n\n  if (isDebtLikeItems(adjustmentType)) {\n    updatedAdjustmentType = DEBT_LIKE_ITEMS_KEY;\n  }\n\n  const updatedKey = `${documentCode}${delimiter}${adjustmentNumber}${delimiter}${shortDescription}${delimiter}${updatedAdjustmentType}${delimiter}${adjustmentCategory}${delimiter}${trialBalanceAccount}${delimiter}${timePeriod}`;\n\n  return updatedKey;\n};\n\nexport const deconstructFactKey = (\n  key,\n  delimiter = COMPOSITE_KEY_DELIMITER\n) => {\n  if (key) {\n    const [\n      documentCode,\n      uniqueAccountId,\n      shortDescription,\n      aggregator,\n      ebitdaFlag,\n      timePeriod\n    ] = key.split(delimiter);\n\n    return {\n      documentCode,\n      uniqueAccountId,\n      shortDescription,\n      aggregator,\n      ebitdaFlag,\n      timePeriod\n    };\n  }\n  return key;\n};\n","import _cloneDeep from 'lodash/cloneDeep';\n\nexport const selectOrEmpty = (state, part, value = {}) => {\n  const selection = state[part];\n\n  if (selection === undefined) {\n    return value;\n  }\n  return selection;\n};\n\nexport const selectOrInit = (state, part, value = {}) => {\n  const selection = state[part];\n  if (selection === undefined) {\n    // eslint-disable-next-line no-param-reassign\n    state[part] = value;\n    return state[part];\n  }\n  return selection;\n};\n\nexport const cloneOrInitKey = (state, key) => {\n  const slice = state[key];\n\n  if (slice === undefined) {\n    return {};\n  }\n\n  return _cloneDeep(slice);\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport {\n  constructCompositeKey,\n  deconstructAdjustmentKey,\n  reconstructKeyForDdl\n} from './keyUtilities';\nimport { selectOrInit } from './selectors';\n\nexport const accumulateAdjustmentsFromDataRows = (\n  headerRow,\n  dataRows,\n  configJson,\n  documentCode\n) =>\n  dataRows.reduce((adjustmentsAccumulator, row) => {\n    const financialPeriodHeaders = headerRow.slice(\n      configJson.summableColumnStartIndex\n    );\n    const rowHeaders = row.slice(0, configJson.summableColumnStartIndex);\n    const amounts = row.slice(configJson.summableColumnStartIndex);\n\n    amounts.forEach((value, index) => {\n      if (financialPeriodHeaders[index] !== '') {\n        let key = constructCompositeKey(\n          documentCode,\n          rowHeaders,\n          configJson.keyPositions,\n          financialPeriodHeaders[index]\n        );\n\n        if (documentCode === Constants.DEBT_AND_DEBT_LIKE) {\n          key = reconstructKeyForDdl(key);\n        }\n\n        const {\n          shortDescription,\n          adjustmentType,\n          adjustmentNumber\n        } = deconstructAdjustmentKey(key);\n\n        const adjustmentTypeState = selectOrInit(\n          adjustmentsAccumulator,\n          adjustmentType\n        );\n        const adjustments = selectOrInit(\n          adjustmentTypeState,\n          `${adjustmentNumber} ${shortDescription}`\n        );\n        adjustments[key] = value;\n      }\n    });\n    return adjustmentsAccumulator;\n  }, {});\n","import { constructCompositeKey, deconstructFactKey } from './keyUtilities';\nimport { selectOrInit } from './selectors';\n\nexport const accumulateFactsFromDataRows = (\n  headerRow,\n  dataRows,\n  configJson,\n  documentCode\n) =>\n  dataRows.reduce((factsAccumulator, row) => {\n    const financialPeriodHeaders = headerRow.slice(\n      configJson.summableColumnStartIndex\n    );\n    const rowHeaders = row.slice(0, configJson.summableColumnStartIndex);\n    const amounts = row.slice(configJson.summableColumnStartIndex);\n\n    amounts.forEach((value, index) => {\n      if (financialPeriodHeaders[index] !== '') {\n        const key = constructCompositeKey(\n          documentCode,\n          rowHeaders,\n          configJson.keyPositions,\n          financialPeriodHeaders[index]\n        );\n\n        const { aggregator } = deconstructFactKey(key);\n        const aggregatorState = selectOrInit(factsAccumulator, aggregator);\n        aggregatorState[key] = value;\n      }\n    });\n    return factsAccumulator;\n  }, {});\n","import adjustmentsForDocumentUpdated from '../actions/adjustmentsForDocumentUpdated';\nimport factsForDocumentUpdated from '../actions/factsForDocumentUpdated';\nimport headerRowIngested from '../actions/headerRowIngested';\nimport processingBegan from '../actions/processingBegan';\nimport rowIngested from '../actions/rowIngested';\nimport { timePeriodMetadataIngested } from '../actions/timePeriodMetadataIngested';\nimport { accumulateAdjustmentsFromDataRows } from '../utilities/accumulateAdjustmentsFromDataRows';\nimport { accumulateFactsFromDataRows } from '../utilities/accumulateFactsFromDataRows';\nimport { ROW_TYPE_ADJUSTMENT, ROW_TYPE_FACT } from '../utilities/constants';\nimport { createMetadataFromRaw } from '../utilities/structured-data-utilities';\n\nexport const transformIngestedDataByDocumentCode = async (\n  documentCode,\n  documentJson,\n  configJson,\n  dispatch\n) => {\n  dispatch(processingBegan());\n\n  const documentRows = documentJson.values;\n  const headerRow = documentRows[configJson.rawDataHeaderRowIndex];\n  const dataRows = documentRows.slice(configJson.rawDataHeaderRowIndex + 1);\n\n  dispatch(headerRowIngested(documentCode, headerRow, configJson));\n\n  if (configJson.metadata) {\n    const metadata = createMetadataFromRaw(\n      configJson.metadata,\n      configJson.summableColumnStartIndex,\n      documentRows,\n      configJson.rawDataHeaderRowIndex\n    );\n\n    dispatch(timePeriodMetadataIngested(documentCode, metadata));\n  }\n\n  dataRows.forEach(row => {\n    const rowIngestedAction = rowIngested(\n      documentCode,\n      headerRow,\n      row,\n      configJson\n    );\n\n    dispatch(rowIngestedAction);\n  });\n\n  if (configJson.rowType === ROW_TYPE_ADJUSTMENT) {\n    const adjustmentsForDocument = accumulateAdjustmentsFromDataRows(\n      headerRow,\n      dataRows,\n      configJson,\n      documentCode\n    );\n\n    dispatch(\n      adjustmentsForDocumentUpdated(documentCode, adjustmentsForDocument)\n    );\n  }\n\n  if (configJson.rowType === ROW_TYPE_FACT) {\n    const factsForDocument = accumulateFactsFromDataRows(\n      headerRow,\n      dataRows,\n      configJson,\n      documentCode\n    );\n\n    dispatch(factsForDocumentUpdated(documentCode, factsForDocument));\n  }\n};\n","export const linkedAdjustmentKeyBuilder = (\n  documentCode,\n  groupName,\n  adjustmentNumber,\n  adjustmentName\n) => `${documentCode}_${groupName}_${adjustmentNumber}_${adjustmentName}`;\n\nexport const keyParser = (token = '') => {\n  const items = token.split('_');\n  if (items.length !== 4) {\n    return '';\n  }\n\n  return {\n    code: items[0],\n    group: items[1],\n    number: items[2],\n    name: items[3]\n  };\n};\n","import resetAllToggles from '../actions/resetAllToggles';\nimport { ProjectHttpClient } from '../../services/httpClient';\nimport { keyParser } from '../utilities/linkedAdjustmentsUtilities';\n\nconst requestBuilder = (sourceAdjustment, targetAdjustment) => {\n  const sourceItems = keyParser(sourceAdjustment);\n  const targetItems = keyParser(targetAdjustment);\n\n  return {\n    sourceDocumentCode: sourceItems.code,\n    sourceAdjustmentType: sourceItems.group,\n    sourceAdjustmentNumber: parseInt(sourceItems.number, 10),\n    sourceAdjustmentName: sourceItems.name,\n\n    targetDocumentCode: targetItems.code,\n    targetAdjustmentType: targetItems.group,\n    targetAdjustmentNumber: parseInt(targetItems.number, 10),\n    targetAdjustmentName: targetItems.name\n  };\n};\n\nconst buildPathForStructuredAnalysisAdjustmentLinks = projectId =>\n  `projects/${projectId}/structuredAnalysisAdjustmentLinks`;\n\nconst postLinkedAdjustment = async (\n  projectId,\n  sourceAdjustment,\n  targetAdjustment\n) => {\n  const data = requestBuilder(sourceAdjustment, targetAdjustment);\n  const response = await ProjectHttpClient.post(\n    `${buildPathForStructuredAnalysisAdjustmentLinks(projectId)}`,\n    data\n  );\n  return response.data;\n};\nconst deleteLinkedAdjustment = async (projectId, id) => {\n  const response = await ProjectHttpClient.delete(\n    `${buildPathForStructuredAnalysisAdjustmentLinks(projectId)}/${id}`\n  );\n  return response.data;\n};\n\nconst getDeletedLinkedAdjustments = (\n  initialLinkedAdjustments = [],\n  modifiedLinkedAdjustments = []\n) => {\n  return initialLinkedAdjustments.filter(ia => {\n    const wasNotDeleted = Boolean(\n      modifiedLinkedAdjustments.find(ma => ma.id === ia.id)\n    );\n    return !wasNotDeleted;\n  });\n};\n\nexport const saveLinkedAdjustments = async (\n  projectId,\n  initialLinkedAdjustments = [],\n  modifiedLinkedAdjustments = [],\n  dispatch\n) => {\n  const newLinkedAdjustments = modifiedLinkedAdjustments.filter(\n    la => la.id === undefined && la.newId !== undefined\n  );\n\n  const deletedLinkedAdjustments = getDeletedLinkedAdjustments(\n    initialLinkedAdjustments,\n    modifiedLinkedAdjustments\n  );\n\n  if (newLinkedAdjustments.length > 0 || deletedLinkedAdjustments.length > 0) {\n    dispatch(resetAllToggles());\n  }\n\n  await Promise.all([\n    ...deletedLinkedAdjustments.map(dla =>\n      deleteLinkedAdjustment(projectId, dla.id)\n    ),\n\n    ...newLinkedAdjustments.map(adj =>\n      postLinkedAdjustment(\n        projectId,\n        adj.sourceAdjustment,\n        adj.targetAdjustment\n      )\n    )\n  ]);\n};\n\nexport const fetchLinkedAdjustmentsByCode = async (projectId, documentCode) => {\n  try {\n    const response = await ProjectHttpClient.get(\n      `${buildPathForStructuredAnalysisAdjustmentLinks(\n        projectId\n      )}/${documentCode}`\n    );\n    return response.data;\n  } catch (error) {\n    return [];\n  }\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport const linkedAdjustmentsForDocumentUpdated = createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/addLinkedAdjustment`,\n  (documentCode, linkedAdjustments) => {\n    return { payload: { documentCode, linkedAdjustments } };\n  }\n);\n","import { fetchLinkedAdjustmentsByCode } from '../services/structuredAnalysisLinkedAdjustmentsService';\nimport { linkedAdjustmentsForDocumentUpdated } from '../actions/linkedAdjustments';\n\nexport const dispatchLinkedAdjustmentsForDocument = async (\n  projectId,\n  documentCode,\n  dispatch\n) => {\n  const linkedAdjustments = await fetchLinkedAdjustmentsByCode(\n    projectId,\n    documentCode\n  );\n\n  dispatch(\n    linkedAdjustmentsForDocumentUpdated(documentCode, linkedAdjustments)\n  );\n};\n","import updateEntityVersion from '../../actions/updateEntityVersion';\nimport {\n  getAllDocumentsWithContentForProjectAndViewingType,\n  getStructuredAnalysisVersions\n} from '../services/structuredAnalysisService';\nimport { dispatchLibraryItemLinksSet } from './dispatchLibraryItemLinksSet';\nimport { transformIngestedDataByDocumentCode } from './transformIngestedDataByDocumentCode';\nimport { dispatchLinkedAdjustmentsForDocument } from './dispatchLinkedAdjustmentsForDocument';\nimport {\n  basisOfPresentationSet,\n  descriptionResetToBasisOfPresentation\n} from '../reducers/structuredDocumentDescriptionSlice';\nimport {\n  processingFailed,\n  processingSucceeded,\n  startProcessing\n} from '../reducers/structuredAnalysisViewSlice';\n\nconst fetchVersionsForDocuments = async (projectId, documents) => {\n  const results = await Promise.all(\n    documents.map(doc => {\n      return getStructuredAnalysisVersions(\n        projectId,\n        doc.content.contentThreadId\n      );\n    })\n  );\n  return results;\n};\n\nexport const addVersionsToDocumentsWithContent = (\n  documentsWithContent,\n  versionsForDocuments\n) => {\n  const documentsWithContentAndVersions = documentsWithContent.map(x => {\n    const documentVersions = versionsForDocuments.find(\n      y => y.analysisId === x.content.contentThreadId\n    );\n    return {\n      ...x,\n      versions: documentVersions ? documentVersions.data : []\n    };\n  });\n\n  return documentsWithContentAndVersions;\n};\n\nexport const removeRawCellDataFromDocuments = documents => {\n  return documents.map(x => {\n    const cloone = { ...x };\n    delete cloone.rawCellData; // For redux-dev-tools\n    return cloone;\n  });\n};\n\nconst processSingleDocument = async (projectId, document, dispatch) => {\n  await dispatchLibraryItemLinksSet(\n    true,\n    projectId,\n    document.code,\n    document.content.contentThreadId,\n    document.content.versionNumber,\n    dispatch\n  );\n  await dispatchLinkedAdjustmentsForDocument(\n    projectId,\n    document.code,\n    dispatch\n  );\n  // calc-engine\n  await transformIngestedDataByDocumentCode(\n    document.code,\n    JSON.parse(document.rawCellData),\n    document.configurationValues,\n    dispatch\n  );\n};\n\nexport const transformAllIngestedDataThunk = (\n  projectId,\n  documentCodeForReview,\n  isViewingAsClient = true\n) => async dispatch => {\n  dispatch(startProcessing());\n\n  let documentsWithContent = [];\n  try {\n    documentsWithContent = await getAllDocumentsWithContentForProjectAndViewingType(\n      projectId,\n      isViewingAsClient\n    );\n  } catch (error) {\n    dispatch(processingFailed());\n    return;\n  }\n\n  const contentAnalysis = documentsWithContent.find(\n    x => x.code === documentCodeForReview\n  );\n\n  if (!contentAnalysis) {\n    dispatch(processingFailed());\n    return;\n  }\n\n  const versionsForDocuments = await fetchVersionsForDocuments(\n    projectId,\n    documentsWithContent\n  );\n\n  const documentsWithContentAndVersions = addVersionsToDocumentsWithContent(\n    documentsWithContent,\n    versionsForDocuments\n  );\n\n  await Promise.all(\n    documentsWithContentAndVersions.map(async document =>\n      processSingleDocument(projectId, document, dispatch)\n    )\n  );\n\n  const trimmedDocumentsWithContent = removeRawCellDataFromDocuments(\n    documentsWithContentAndVersions\n  );\n\n  // // TODO: these things are prime refactors\n  dispatch(basisOfPresentationSet(contentAnalysis.content.body));\n  dispatch(descriptionResetToBasisOfPresentation());\n  dispatch(updateEntityVersion(contentAnalysis.content.versionNumber));\n\n  dispatch(\n    processingSucceeded({\n      documentsWithContent: trimmedDocumentsWithContent\n    })\n  );\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport { resetCalculationDataByDocumentCodesThunk } from './resetCalculationDataByDocumentCodesThunk';\nimport { transformAllIngestedDataThunk } from './transformAllIngestedDataThunk';\n\nexport const clearDataAndtransformAllIngestedStructuredDocumentsThunk = (\n  projectId,\n  documentCodeForReview,\n  isViewingAsClient = true\n) => dispatch => {\n  const documentSetups = [\n    {\n      code: Constants.QUALITY_OF_EARNINGS,\n      fetchLibraryItems: true\n    },\n    {\n      code: Constants.REPORTED_INCOME_STATEMENT,\n      fetchLibraryItems: false\n    },\n    {\n      code: Constants.DEBT_AND_DEBT_LIKE,\n      fetchLibraryItems: true\n    },\n    {\n      code: Constants.NET_WORKING_CAPITAL,\n      fetchLibraryItems: true\n    },\n    {\n      code: Constants.BALANCE_SHEET,\n      fetchLibraryItems: false\n    }\n  ];\n\n  dispatch(\n    resetCalculationDataByDocumentCodesThunk(\n      projectId,\n      documentSetups.map(setup => setup.code)\n    )\n  );\n\n  dispatch(\n    transformAllIngestedDataThunk(\n      projectId,\n      documentCodeForReview,\n      isViewingAsClient\n    )\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { Constants, ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport qs from 'query-string';\nimport _get from 'lodash/get';\nimport { getCalcEngineIsProcessing } from '../../../../../common/engine/reducers/calcEngine';\nimport { getViewClientInfo } from '../../../../../common/helpers/viewClientVersion';\nimport { useApprovalWorkflow } from '../../../../../common/hooks/useApprovalWorkflow';\nimport { showMoreMenuError } from '../../../../../common/redux/errors/errorsSlice';\nimport authorizationService from '../../../../../common/services/security/authorizationService';\nimport {\n  analysesListPath,\n  editAnalysisPath,\n  structuredRoutes\n} from '../../../../../common/services/urlService';\nimport { getCommentPanelOpened } from '../../../../comments/commentsSlice';\nimport { getWorkflowStatus } from '../../../../workflow/workflowService';\nimport {\n  deleteStructuredDocument,\n  updateStructuredAnalysisStatus\n} from '../../../../../common/engine/services/structuredAnalysisService';\nimport {\n  getLoadingInProcess,\n  getStructuredAnalysisHasError,\n  ReingestDocumentWithDependencies\n} from '../../../../../common/engine/reducers/StructuredAnalysisSlice';\nimport {\n  getStructuredAnalysisViewDocumentsWithContentForDocument,\n  getStructuredAnalysisViewHasError,\n  getStructuredAnalysisViewLoadingInProcess\n} from '../../../../../common/engine/reducers/structuredAnalysisViewSlice';\nimport { clearDataAndtransformAllIngestedStructuredDocumentsThunk } from '../../../../../common/engine/thunks/clearDataAndtransformAllIngestedStructuredDocumentsThunk';\n\nexport const useStructuredAnalysisContainer = documentCode => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { projectId } = useParams();\n  const searchParams = qs.parse(useLocation().search);\n  const targetAdjustmentType = _get(searchParams, 'adjustmentType', null);\n  const targetAdjustmentName = _get(searchParams, 'adjustmentName', null);\n  const isClientUser = authorizationService.isClientUser();\n\n  const hasIngestionError = useSelector(getStructuredAnalysisHasError);\n  const hasError = useSelector(getStructuredAnalysisViewHasError);\n  const [hasAlreadyLoadedHack, setHasAlreadyLoadedHack] = useState(false);\n\n  const [isConfirmVisible, setIsConfirmVisible] = useState(false);\n  const isCommentPanelOpen = useSelector(getCommentPanelOpened);\n  const isProcessing = useSelector(getCalcEngineIsProcessing);\n  const reIngestingDocuments = useSelector(getLoadingInProcess);\n  const initialViewingAsClient = !!isClientUser;\n  const [viewingAsClient, setViewingAsClient] = useState(\n    initialViewingAsClient\n  );\n  const initializingData = useSelector(\n    getStructuredAnalysisViewLoadingInProcess\n  );\n\n  const analysis = useSelector(\n    getStructuredAnalysisViewDocumentsWithContentForDocument(documentCode)\n  );\n\n  const [chartKey, setChartKey] = useState(1);\n  const incrementChartKey = useCallback(\n    () => setChartKey(chartKeyPrevState => chartKeyPrevState + 1),\n    [setChartKey]\n  );\n\n  useEffect(() => {\n    incrementChartKey();\n  }, [isCommentPanelOpen, incrementChartKey]);\n\n  const fetchAnalysis = useCallback(async () => {\n    await dispatch(\n      clearDataAndtransformAllIngestedStructuredDocumentsThunk(\n        projectId,\n        documentCode,\n        viewingAsClient\n      )\n    );\n    setHasAlreadyLoadedHack(true);\n  }, [dispatch, documentCode, projectId, viewingAsClient]);\n\n  useEffect(() => {\n    fetchAnalysis();\n  }, [fetchAnalysis]);\n\n  const showClientVersion = () => {\n    if (!isProcessing) {\n      setViewingAsClient(true);\n    }\n  };\n\n  const showDraftVersion = () => {\n    if (!isProcessing) {\n      setViewingAsClient(false);\n    }\n  };\n\n  const viewClient = getViewClientInfo(\n    showClientVersion,\n    showDraftVersion,\n    analysis && analysis.versions,\n    analysis && analysis.content.versionNumber,\n    analysis && analysis.content.versionStatus\n  );\n\n  const handleEdit = () => {\n    history.push(editAnalysisPath(projectId, structuredRoutes[documentCode]));\n  };\n\n  const handleDelete = async () => {\n    await deleteStructuredDocument(projectId, documentCode);\n    history.push(analysesListPath(projectId));\n  };\n\n  const handleRefresh = async () => {\n    setViewingAsClient(initialViewingAsClient);\n    await dispatch(ReingestDocumentWithDependencies(projectId, documentCode));\n    await fetchAnalysis();\n  };\n\n  const versions = analysis ? analysis.versions : [];\n\n  const workflowActions = useApprovalWorkflow(\n    getWorkflowStatus,\n    async (_projectId, contentId, step) => {\n      try {\n        await updateStructuredAnalysisStatus(_projectId, contentId, step);\n      } catch (e) {\n        if (ErrorUtilities.hasLibraryItemCorruptedError(e)) {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED\n            })\n          );\n        } else {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE\n            })\n          );\n        }\n        return;\n      }\n      await fetchAnalysis();\n    },\n    projectId,\n    analysis && analysis.content.contentThreadId,\n    analysis && analysis.content,\n    versions\n  );\n\n  const isClientView = isClientUser || viewClient.isOnClientVersion;\n  const hasLoadingError = hasError || hasIngestionError;\n  const isLoading =\n    !hasAlreadyLoadedHack ||\n    initializingData ||\n    isProcessing ||\n    reIngestingDocuments.length > 0;\n\n  const analysisContent = _get(analysis, 'content', undefined);\n\n  return {\n    dispatch,\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError: hasLoadingError,\n    analysis: analysisContent,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    incrementChartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  };\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport './source-display.scss';\n\nconst SourceDisplay = ({ sourceText }) => (\n  <div className=\"source-display\" data-testid=\"source-display\">\n    Source: {sourceText}\n  </div>\n);\n\nSourceDisplay.propTypes = {\n  sourceText: PropTypes.string.isRequired\n};\n\nexport default SourceDisplay;\n","import React, { useState, useEffect } from 'react';\nimport NarrativeSection from '../NarrativeSection/NarrativeSection';\nimport { getNarrativesForContent } from '../narrativesService';\nimport {\n  viewHypothesisPath,\n  viewInsightPath\n} from '../../../common/services/urlService';\nimport './ConnectedContent.scss';\nimport { analysisLinkBuilder } from '../../analyses/common/analysisUrlHelper';\n\nconst ConnectedContent = ({ projectId, contentId, classModifier }) => {\n  const [narratives, setNarratives] = useState(null);\n\n  useEffect(() => {\n    const fetchNarratives = async () => {\n      const fetchedNarratives = await getNarrativesForContent(\n        projectId,\n        contentId\n      );\n      setNarratives(fetchedNarratives);\n    };\n\n    const canFetchNarratives = projectId && contentId;\n    if (canFetchNarratives) {\n      fetchNarratives();\n    }\n    return () => setNarratives(null);\n  }, [projectId, contentId]);\n\n  const hasNarratives =\n    narratives && Object.values(narratives).some(_ => _.length);\n\n  return hasNarratives ? (\n    <div\n      className={`connected-content ${classModifier}`}\n      data-testid=\"connected-content\"\n    >\n      <div className=\"connected-content-title\">Connected content</div>\n      <div className=\"linked-narratives\" data-testid=\"linked-narratives\">\n        <NarrativeSection\n          title=\"Key Focus Areas\"\n          narratives={narratives.hypotheses}\n          getViewPath={hypothesisId =>\n            viewHypothesisPath(projectId, hypothesisId)\n          }\n          setNarratives={setNarratives}\n          projectId={projectId}\n        />\n        <NarrativeSection\n          title=\"Insights\"\n          narratives={narratives.insights}\n          getViewPath={insightId => viewInsightPath(projectId, insightId)}\n          setNarratives={setNarratives}\n          projectId={projectId}\n        />\n        <NarrativeSection\n          title=\"Analyses\"\n          narratives={narratives.analyses}\n          getViewPath={analysisLinkBuilder(narratives.analyses, projectId)}\n          setNarratives={setNarratives}\n          projectId={projectId}\n        />\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default ConnectedContent;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport './notes-display.scss';\n\nconst NotesDisplay = ({ text }) => (\n  <div className=\"notes-display\" data-testid=\"notes-display\">\n    {text && `Notes: ${text}`}\n  </div>\n);\n\nNotesDisplay.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default NotesDisplay;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport _get from 'lodash/get';\nimport _flatMap from 'lodash/fp/flatMap';\nimport _filter from 'lodash/fp/filter';\nimport _pipe from 'lodash/fp/pipe';\nimport _values from 'lodash/values';\nimport { createSelector } from 'reselect';\nimport { ADJUSTMENT_TOGGLES_BY_DOCUMENT_KEY } from '../utilities/constants';\n\nexport const getAdjustmentTogglesByDocument = state =>\n  _get(state, ADJUSTMENT_TOGGLES_BY_DOCUMENT_KEY, {});\n\nexport const createSelectorGetAdjustmentTogglesForDocumentCode = documentCode =>\n  createSelector(getAdjustmentTogglesByDocument, adjustmentTogglesByDocument =>\n    _get(adjustmentTogglesByDocument, documentCode, {})\n  );\n\nexport const getAdjustmentTogglesForQofE = createSelectorGetAdjustmentTogglesForDocumentCode(\n  Constants.QUALITY_OF_EARNINGS\n);\n\nexport const getAdjustmentTogglesForNwc = createSelectorGetAdjustmentTogglesForDocumentCode(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getAdjustmentTogglesForDdl = createSelectorGetAdjustmentTogglesForDocumentCode(\n  Constants.DEBT_AND_DEBT_LIKE\n);\n\nexport const getAreAdjustmentsToggledFromDefault = createSelector(\n  getAdjustmentTogglesByDocument,\n  adjustmentsByDocument => {\n    const inActiveAdjustments = _pipe(\n      _values,\n      _flatMap(_values),\n      _flatMap(_values),\n      _filter(x => x.active === false)\n    )(adjustmentsByDocument);\n    return inActiveAdjustments.length > 0;\n  }\n);\n","import React from 'react';\nimport classNames from 'classnames';\nimport Helmet from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Tooltip } from '@pwc/pwc-deals-ui';\nimport resetAllToggles from '../../../../common/engine/actions/resetAllToggles';\nimport { getAreAdjustmentsToggledFromDefault } from '../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport viewingToggledUpdated from '../../../../common/engine/actions/viewingToggledUpdated';\nimport { getIsViewingToggled } from '../../../../common/engine/reducers/calcEngine';\nimport './ClientManipulationBar.scss';\n\nconst ClientManipulationBar = () => {\n  const dispatch = useDispatch();\n  const shouldShow = useSelector(getAreAdjustmentsToggledFromDefault);\n  const defaultTooltip = `Switch to the default\n  figures proposed by PwC`;\n  const yourTooltip = `Switch to your\n  modifications`;\n\n  const isViewingToggled = useSelector(getIsViewingToggled);\n\n  return shouldShow ? (\n    <div\n      className=\"client-manipulation-bar\"\n      data-testid=\"client-manipulation-bar\"\n    >\n      <Helmet>\n        <body data-appbanner={isViewingToggled ? 'open' : 'closed'} />\n      </Helmet>\n      <div className=\"toggles\">\n        <Tooltip\n          direction=\"top\"\n          tip={yourTooltip}\n          dataTestId=\"your-view-tooltip\"\n        >\n          <button\n            className={classNames(isViewingToggled ? 'active your-view' : null)}\n            type=\"button\"\n            data-testid=\"your-view-toggle\"\n            onClick={() => dispatch(viewingToggledUpdated(true))}\n          >\n            Your View\n          </button>\n        </Tooltip>\n        <Tooltip\n          direction=\"top\"\n          tip={defaultTooltip}\n          dataTestId=\"view-default-tooltip\"\n        >\n          <button\n            type=\"button\"\n            className={classNames(\n              !isViewingToggled ? 'active pwc-default' : null\n            )}\n            data-testid=\"view-default-toggle\"\n            onClick={() => dispatch(viewingToggledUpdated(false))}\n          >\n            PwC Default\n          </button>\n        </Tooltip>\n      </div>\n      <button\n        className=\"reset-all\"\n        type=\"button\"\n        data-testid=\"toggle-reset-all\"\n        onClick={() => dispatch(resetAllToggles())}\n      >\n        Reset All\n      </button>\n    </div>\n  ) : null;\n};\n\nexport default ClientManipulationBar;\n","const editorConfig = {\n  language: 'en',\n  licenseKey: process.env.REACT_APP_CK_EDITOR_LICENSE,\n  toolbar: {\n    items: []\n  }\n};\n\nexport default editorConfig;\n","import CKEditor from '@ckeditor/ckeditor5-react';\nimport { ClassicEditor } from '@pwc/pwc-deals-rich-text-editor';\nimport React, { useEffect, useState } from 'react';\nimport initializeCKEditor from './initializeCKEditor';\nimport readOnlyCkEditorConfig from './readOnlyCKEditorConfig';\n\nconst ReadOnlyRichTextEditor = ({ richTextData, childrenData = [] }) => {\n  const [editor, setEditor] = useState(null);\n  useEffect(() => {\n    if (editor) {\n      initializeCKEditor(editor, richTextData, childrenData);\n    }\n  }, [richTextData, childrenData, editor]);\n\n  return (\n    <div className=\"text-input-fieldset fieldset\">\n      <div data-testid=\"ckEditor\" className=\"text-input-container basic\">\n        <CKEditor\n          editor={ClassicEditor}\n          onInit={setEditor}\n          config={readOnlyCkEditorConfig}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ReadOnlyRichTextEditor;\n","/* eslint no-param-reassign:off */\n\nexport default function initializeCKEditor(editor, richTextData, childrenData) {\n  editor.isReadOnly = false;\n  childrenData.forEach(item => {\n    editor.execute('registerLibraryItem', {\n      id: item.id,\n      rendered: item.htmlData\n    });\n  });\n  editor.setData(richTextData);\n  editor.isReadOnly = true;\n}\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport ReadOnlyRichTextEditor from '../../../../../common/components/RichTextEditor/ReadOnlyRichTextEditor';\nimport { sanitize } from '../../../../../common/services/sanitizeService';\n\nconst NonEditableTextEditor = ({ richTextData, childrenData }) => {\n  // Shared rich text library items have their child items already pre-rendered and embedded into the richTextData html markup.\n  // CKEditor does not like embedded svgs and charts so this was a work-around\n  const useCKEditor = childrenData.length > 0;\n  return !useCKEditor ? (\n    <div\n      data-testid=\"description-with-innerhtml\"\n      className=\"description-body\"\n      dangerouslySetInnerHTML={{ __html: sanitize(richTextData) }}\n    />\n  ) : (\n    <div className=\"description-body\">\n      <ReadOnlyRichTextEditor\n        richTextData={richTextData}\n        childrenData={childrenData}\n      />\n    </div>\n  );\n};\n\nNonEditableTextEditor.propTypes = {\n  richTextData: PropTypes.string,\n  childrenData: PropTypes.arrayOf(PropTypes.shape({}))\n};\n\nNonEditableTextEditor.defaultProps = {\n  richTextData: '',\n  childrenData: []\n};\n\nexport default NonEditableTextEditor;\n","import React, { useRef, useEffect } from 'react';\n\nconst OutsideClickHandler = ({\n  onClick,\n  children,\n  element = 'div',\n  ...rest\n}) => {\n  const ref = useRef(null);\n  const CustomTag = element;\n\n  function handleClickOutside(event) {\n    if (ref.current && !ref.current.contains(event.target)) {\n      onClick(event);\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  });\n\n  return (\n    <CustomTag ref={ref} {...rest}>\n      {children}\n    </CustomTag>\n  );\n};\n\nexport default OutsideClickHandler;\n","import { Button, Loader, Icon } from '@pwc/pwc-deals-ui';\nimport { PropTypes } from 'prop-types';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport RichTextEditor from '../../../../../common/components/RichTextEditor/RichTextEditor';\nimport {\n  getAnalysisDescription,\n  saveDocumentDescriptionThunk\n} from '../../../../../common/engine/reducers/structuredDocumentDescriptionSlice';\nimport NonEditableTextEditor from './NonEditableTextEditor';\nimport { getProjectId } from '../../../../project/projectSlice';\n\nimport ShowForPermissions from '../../../../security/ShowForPermissions';\nimport OutsideClickHandler from '../../../../../common/components/OutsideClickHandler';\nimport './AnalysisDescription.scss';\n\nconst AnalysisDescription = ({ isViewingSharedVersion, lightModeVariant }) => {\n  const dispatch = useDispatch();\n  const { header, subheader, content, childrenData, loading } = useSelector(\n    getAnalysisDescription\n  );\n  const projectId = useSelector(getProjectId);\n  const [editMode, setEditMode] = useState(false);\n\n  const hasRichText = content.richText ? content.richText.length > 0 : false;\n\n  const [richText, setRichText] = useState(hasRichText ? content.richText : '');\n  const [focused, setFocused] = useState(false);\n\n  const persistRichText = () => {\n    dispatch(saveDocumentDescriptionThunk(richText));\n    setEditMode(false);\n  };\n\n  const shouldShowEditButton =\n    !loading && !editMode && !isViewingSharedVersion && hasRichText;\n\n  const getComponentBody = () => {\n    if (loading) {\n      return <Loader dataTestId=\"analysis-description-loader\" />;\n    }\n\n    if (!editMode) {\n      return (\n        <NonEditableTextEditor\n          richTextData={content.richText || content.plainText}\n          childrenData={childrenData}\n        />\n      );\n    }\n    return (\n      <>\n        <div className={`${lightModeVariant ? ' light-mode-variant' : ''}`}>\n          <RichTextEditor\n            richTextData={content.richText}\n            onChange={setRichText}\n            label=\"Adjustment Description\"\n            onBlur={(_, editor) => {\n              setFocused(false);\n\n              editor.ui.view.toolbar.element.style.display = 'none';\n            }}\n            onFocus={(_, editor) => {\n              setFocused(true);\n\n              editor.ui.view.toolbar.element.style.display = 'block';\n            }}\n            isFocused={focused}\n          />\n        </div>\n        <div className=\"edit-button-container\">\n          <Button\n            data-testid=\"cancel-button\"\n            className=\"button-link mx-2 mr-4\"\n            onClick={() => setEditMode(false)}\n          >\n            Cancel\n          </Button>\n          <Button\n            data-testid=\"save-button\"\n            className=\"button-block button-small\"\n            onClick={persistRichText}\n          >\n            Update\n          </Button>\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <OutsideClickHandler onClick={() => setEditMode(false)}>\n      <div id=\"analysisDescription\" aria-live=\"polite\">\n        <div className=\"description-header\" role=\"heading\" aria-level=\"3\">\n          {header}\n        </div>\n        {subheader && (\n          <div className=\"description-subheader\" role=\"heading\" aria-level=\"4\">\n            <div>{subheader}</div>\n            <ShowForPermissions\n              projectId={projectId}\n              permissions={['Contribute']}\n            >\n              {shouldShowEditButton && (\n                <Button\n                  className=\"button-menu\"\n                  onClick={() => setEditMode(true)}\n                  data-testid=\"icon-button-edit\"\n                >\n                  <Icon\n                    name=\"pencil\"\n                    width=\"16\"\n                    className=\"sr2 fill icon-orange\"\n                  />\n                </Button>\n              )}\n            </ShowForPermissions>\n          </div>\n        )}\n        {getComponentBody()}\n      </div>\n    </OutsideClickHandler>\n  );\n};\n\nAnalysisDescription.propTypes = {\n  isViewingSharedVersion: PropTypes.bool.isRequired\n};\n\nexport default AnalysisDescription;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './StructuredAnalysisErrorCard.scss';\n\nconst StructuredAnalysisErrorCard = () => {\n  return (\n    <section\n      className=\"structured-analysis-error\"\n      data-testid=\"structured-analysis-error\"\n    >\n      <div>\n        <Icon className=\"fill icon-orange\" width=\"64\" name=\"search-error\" />\n      </div>\n      <div>\n        <h1>Error Loading</h1>\n      </div>\n      <div>\n        <h2>\n          Unable to load data,\n          <br />\n          refresh the page to try again\n        </h2>\n      </div>\n      <div>\n        <button\n          className=\"ui-button\"\n          type=\"button\"\n          onClick={() => window.location.reload()}\n        >\n          Reload Page\n        </button>\n      </div>\n    </section>\n  );\n};\n\nexport default StructuredAnalysisErrorCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTitle from '../../../../../common/components/PageTitle/PageTitle';\nimport { structuredAnalysisShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport StatusContainer from '../../../../../common/components/StatusContainer/StatusContainer';\n\nconst StructuredAnalysisHeader = ({\n  title,\n  projectId,\n  analysis,\n  isOnClientVersion\n}) => {\n  return (\n    <>\n      <PageTitle title={title} />\n      <StatusContainer\n        projectId={projectId}\n        content={analysis}\n        className=\"analysis-pill-container\"\n        allowDraftPill={!isOnClientVersion}\n      />\n    </>\n  );\n};\n\nStructuredAnalysisHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  projectId: PropTypes.string.isRequired,\n  analysis: structuredAnalysisShape.isRequired,\n  isOnClientVersion: PropTypes.bool\n};\n\nStructuredAnalysisHeader.defaultProps = {\n  isOnClientVersion: false\n};\n\nexport default StructuredAnalysisHeader;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport _get from 'lodash/get';\nimport { createSelector } from 'reselect';\nimport {\n  CHART_VIEW_COLUMNS_METADATA_KEY,\n  TABLE_VIEW_COLUMNS_METADATA_KEY,\n  TIME_PERIOD_FLAGS_KEY,\n  TIME_PERIOD_METADATA_BY_CODE_KEY,\n  TIME_PERIODS_BY_CODE_KEY\n} from '../utilities/constants';\n\nexport const getTimePeriodsByCode = state =>\n  _get(state, TIME_PERIODS_BY_CODE_KEY, {});\n\nexport const getTimePeriodMetadataByCode = state =>\n  _get(state, TIME_PERIOD_METADATA_BY_CODE_KEY, {});\n\nexport const createSelectorGetTimePeriodsForDocumentCode = documentCode =>\n  createSelector(getTimePeriodsByCode, timePeriodsByCode =>\n    _get(timePeriodsByCode, documentCode, [])\n  );\n\nexport const createSelectorGetTimePeriodMetadataForDocumentCode = documentCode =>\n  createSelector(getTimePeriodMetadataByCode, timePeriodMetadataByCode =>\n    _get(timePeriodMetadataByCode, documentCode, {})\n  );\n\nexport const getTimePeriodsForQofE = createSelectorGetTimePeriodsForDocumentCode(\n  Constants.QUALITY_OF_EARNINGS\n);\n\nexport const getTimePeriodsForNwC = createSelectorGetTimePeriodsForDocumentCode(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getTimePeriodsForDdl = createSelectorGetTimePeriodsForDocumentCode(\n  Constants.DEBT_AND_DEBT_LIKE\n);\n\nexport const getTimePeriodMetadataForNwc = createSelectorGetTimePeriodMetadataForDocumentCode(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getTableTimePeriodsMetadataForNwc = createSelector(\n  getTimePeriodMetadataForNwc,\n  nwcTimePeriodMetadata =>\n    _get(\n      nwcTimePeriodMetadata,\n      [TIME_PERIOD_FLAGS_KEY, TABLE_VIEW_COLUMNS_METADATA_KEY],\n      []\n    )\n);\n\nexport const getChartTimePeriodsMetadataForNwc = createSelector(\n  getTimePeriodMetadataForNwc,\n  nwcTimePeriodMetadata =>\n    _get(\n      nwcTimePeriodMetadata,\n      [TIME_PERIOD_FLAGS_KEY, CHART_VIEW_COLUMNS_METADATA_KEY],\n      []\n    )\n);\n\nconst filterActiveTimePeriods = (timePeriods, flags) =>\n  timePeriods.filter((_, index) => flags[index]);\n\nexport const getActiveTableTimePeriodsForNwc = createSelector(\n  getTimePeriodsForNwC,\n  getTableTimePeriodsMetadataForNwc,\n  filterActiveTimePeriods\n);\n\nexport const getActiveChartTimePeriodsForNwc = createSelector(\n  getTimePeriodsForNwC,\n  getChartTimePeriodsMetadataForNwc,\n  filterActiveTimePeriods\n);\n","import { financialValue } from '../../services/textService';\n\nexport const screenReaderPointDescriptorFactory = decimalCount => point => {\n  const processedDescription = point.accessibility.description.replace(\"'\", '');\n  const processedValue = financialValue(point.y, {\n    formatForScreenReader: true,\n    decimalCount\n  });\n  return `${processedDescription} ${processedValue}`;\n};\n","/* eslint-disable prefer-destructuring */\nimport * as Highcharts from 'highcharts';\nimport {\n  NWC_CHART_TITLE,\n  QOFE_BRIDGE_CHART_TITLE\n} from '../engine/utilities/constants';\nimport { screenReaderPointDescriptorFactory } from './types/createScreenReaderPointDescription';\n\nexport const pxToRem = px => {\n  const remVal = px / 16;\n  return `${remVal}rem`;\n};\n\nconst makeDefaultChartOptions = decimalCount => {\n  const pointDescriptorFn = screenReaderPointDescriptorFactory(decimalCount);\n\n  return {\n    chart: {\n      backgroundColor: Highcharts.getOptions().colors[6],\n      height: 300,\n      styledMode: false,\n      borderRadius: 2,\n      spacing: [24, 24, 24, 24]\n    },\n\n    accessibility: {\n      announceNewData: {\n        enabled: true,\n        interruptUser: true,\n        minAnnounceInterval: 4000\n      },\n      point: {\n        descriptionFormatter: pointDescriptorFn\n      }\n    },\n\n    caption: {\n      text: ''\n    },\n\n    title: {\n      text: '',\n      align: 'left',\n      useHTML: true,\n      style: {\n        color: Highcharts.getOptions().colors[4],\n        fontSize: pxToRem(22),\n        fontFamily: 'Helvetica',\n        fontWeight: 'bold'\n      }\n    },\n\n    subtitle: {\n      text: '',\n      align: 'left',\n      style: {\n        color: Highcharts.getOptions().colors[5]\n      }\n    },\n\n    credits: {\n      enabled: false\n    },\n\n    xAxis: {\n      title: { text: '' },\n      labels: {\n        style: {\n          color: Highcharts.getOptions().colors[7],\n          fontSize: pxToRem(16)\n        }\n      }\n    },\n\n    yAxis: {\n      visible: false\n    },\n\n    legend: {\n      enabled: false\n    },\n\n    tooltip: {\n      enabled: false\n    },\n\n    series: [{ data: [] }]\n  };\n};\n\nconst makeDefaultQofEBridgeOptions = decimalCount => {\n  const options = makeDefaultChartOptions(decimalCount);\n\n  options.title.text = QOFE_BRIDGE_CHART_TITLE;\n\n  options.chart.type = 'waterfall';\n  options.chart.height = 380;\n  options.chart.marginTop = 80;\n  options.chart.spacing = [0, 0, 0, 0];\n\n  options.xAxis.min = 0.5;\n  options.xAxis.type = 'category';\n  options.xAxis.labels.align = 'left';\n  options.xAxis.labels.style.color = Highcharts.getOptions().colors[4];\n  options.xAxis.lineColor = Highcharts.getOptions().colors[8];\n  options.xAxis.style = { color: Highcharts.getOptions().colors[4] };\n\n  options.series = [\n    {\n      upColor: Highcharts.getOptions().colors[2],\n      color: Highcharts.getOptions().colors[3],\n      data: [],\n      borderWidth: 0,\n      lineColor: Highcharts.getOptions().colors[4],\n      pointPadding: 0\n    }\n  ];\n\n  options.responsive = {\n    rules: [\n      {\n        condition: {\n          maxWidth: 500\n        },\n        chartOptions: {\n          xAxis: {\n            labels: {\n              align: 'right',\n              x: 25,\n              rotation: -60,\n              overflow: 'allow'\n            }\n          }\n        }\n      },\n      {\n        condition: {\n          maxWidth: 300\n        },\n        chartOptions: {\n          chart: {\n            marginTop: 85\n          }\n        }\n      }\n    ]\n  };\n\n  options.plotOptions = {\n    waterfall: {\n      pointPlacement: 0.25\n    }\n  };\n\n  return options;\n};\n\nconst makeDefaultNwcChartOptions = decimalCount => {\n  const options = makeDefaultChartOptions(decimalCount);\n\n  options.title.text = NWC_CHART_TITLE;\n  options.title.margin = 30;\n\n  options.chart.type = 'line';\n\n  options.legend = {\n    enabled: true,\n    itemStyle: {\n      color: Highcharts.getOptions().colors[4]\n    }\n  };\n\n  options.plotOptions = {\n    line: {\n      marker: { enabled: false }\n    }\n  };\n\n  options.xAxis = {\n    labels: {\n      ...options.xAxis,\n      y: 24,\n      style: {\n        color: Highcharts.getOptions().colors[7],\n        fontSize: pxToRem(12)\n      }\n    },\n    lineWidth: 0\n  };\n\n  options.yAxis = {\n    title: { text: '' },\n    labels: {\n      format: '{value}',\n      style: {\n        color: Highcharts.getOptions().colors[7],\n        fontSize: pxToRem(12)\n      }\n    },\n    tickAmount: 5,\n    gridLineColor: Highcharts.getOptions().colors[8]\n  };\n\n  return options;\n};\n\nexport { makeDefaultQofEBridgeOptions, makeDefaultNwcChartOptions };\n","import last from 'lodash/last';\nimport keys from 'lodash/keys';\nimport get from 'lodash/get';\nimport { isNumber } from 'lodash';\nimport { financialValue } from '../../services/textService';\nimport { pxToRem } from '../highchart-utilities';\n\nimport {\n  REPORTED_EBITDA_KEY,\n  TOTALS_KEY,\n  ADJUSTED_EBITDA_KEY\n} from '../../engine/utilities/constants';\n\nexport const getChartDisplayLabel = (name, value, decimalCount, labelColor) => {\n  const financialDisplayValue = financialValue(value, {\n    decimalCount,\n    formatForScreenReader: false\n  });\n  const numberLabelStyle = `font-family: Helvetica;`;\n  const textLabelStyle = `font-family: Helvetica; font-size: ${pxToRem(\n    12\n  )}; color: ${labelColor};`;\n  return `<span style=\"${numberLabelStyle}\">${financialDisplayValue}</span><br /><span style=\"${textLabelStyle}\">${name}</span>`;\n};\n\nconst createDataPoint = (\n  label,\n  value,\n  financialsDecimalCount,\n  color,\n  isSum,\n  labelColor,\n  xIndex\n) => ({\n  name: getChartDisplayLabel(label, value, financialsDecimalCount, labelColor),\n  x: xIndex,\n  y: value,\n  isSum,\n  accessibility: {\n    description: label\n  },\n  color\n});\n\nexport const createQofESeries = (\n  qofeTimePeriods,\n  qofeReportedEbitda,\n  qofeAdjustedEbitda,\n  qofeAdjustments,\n  color,\n  financialsDecimalCount,\n  labelColor\n) => {\n  const timePeriod = last(qofeTimePeriods);\n  let xIndex = 0;\n\n  const reportedEbitdaValue = get(qofeReportedEbitda, timePeriod, 0);\n  const reportedEbitdaDataPoint = createDataPoint(\n    REPORTED_EBITDA_KEY,\n    reportedEbitdaValue,\n    financialsDecimalCount,\n    color,\n    false,\n    labelColor,\n    xIndex\n  );\n\n  const adjustmentDataPoints = keys(qofeAdjustments).map(adjustmentType => {\n    let dataPoint = get(\n      qofeAdjustments,\n      [adjustmentType, TOTALS_KEY, timePeriod],\n      0\n    );\n\n    if (!isNumber(dataPoint)) {\n      dataPoint = 0;\n    }\n\n    xIndex += 1;\n    return createDataPoint(\n      adjustmentType,\n      dataPoint,\n      financialsDecimalCount,\n      null,\n      false,\n      labelColor,\n      xIndex\n    );\n  });\n\n  xIndex += 1;\n  const adjustedEbitdaValue = get(qofeAdjustedEbitda, timePeriod, 0);\n  const adjustedEbitdaDataPoint = createDataPoint(\n    ADJUSTED_EBITDA_KEY,\n    adjustedEbitdaValue,\n    financialsDecimalCount,\n    color,\n    true,\n    labelColor,\n    xIndex\n  );\n\n  return [\n    reportedEbitdaDataPoint,\n    ...adjustmentDataPoints,\n    adjustedEbitdaDataPoint\n  ];\n};\n","export const lineGlobalColors = [\n  '#1C1C1C',\n  '#2f7cf8',\n  '#03c6f7',\n  '#ffb600',\n  'var(--chart-text-color)',\n  'var(--chart-secondary-color)',\n  'var(--chart-background-color)',\n  'var(--chart-axis-label-color)',\n  'var(--chart-grid-line-color)'\n];\n\nexport const barGlobalColors = [\n  '#1C1C1C',\n  'var(--chart-bar-blue)',\n  'var(--chart-bar-gold)',\n  'var(--chart-bar-desert-rose)',\n  'var(--chart-text-color)',\n  'var(--chart-secondary-color)',\n  'var(--chart-background-color)',\n  'var(--chart-axis-label-color)',\n  'var(--chart-grid-line-color)'\n];\n","import _get from 'lodash/get';\nimport _isFinite from 'lodash/isFinite';\nimport { createSelector } from 'reselect';\nimport {\n  CURRENT_ASSETS_KEY,\n  CURRENT_LIABILITIES_KEY,\n  FACT_CALCULATIONS_KEY,\n  REPORTED_EBITDA_KEY,\n  REPORTED_REVENUE_KEY\n} from '../utilities/constants';\nimport { getTimePeriodsForNwC } from './timePeriodSelectors';\n\nexport const getReportedRevenue = state =>\n  _get(state, `${FACT_CALCULATIONS_KEY}.${REPORTED_REVENUE_KEY}`, {});\n\nexport const getReportedEbitda = state =>\n  _get(state, `${FACT_CALCULATIONS_KEY}.${REPORTED_EBITDA_KEY}`, {});\n\nexport const getCurrentAssets = state =>\n  _get(state, `${FACT_CALCULATIONS_KEY}.${CURRENT_ASSETS_KEY}`, {});\n\nexport const getCurrentLiabilities = state =>\n  _get(state, `${FACT_CALCULATIONS_KEY}.${CURRENT_LIABILITIES_KEY}`, {});\n\nexport const getReportedWorkingCapital = createSelector(\n  getTimePeriodsForNwC,\n  getCurrentAssets,\n  getCurrentLiabilities,\n  (timePeriods, assets, liabilities) => {\n    return timePeriods.reduce((acc, currentTimePeriod) => {\n      const asset = assets[currentTimePeriod];\n      const liability = liabilities[currentTimePeriod];\n      const workingCapital = parseFloat(asset) + parseFloat(liability);\n      const sanitizedWorkingCapital = _isFinite(workingCapital)\n        ? workingCapital\n        : undefined;\n      return { ...acc, [currentTimePeriod]: sanitizedWorkingCapital };\n    }, {});\n  }\n);\n","import _isFinite from 'lodash/isFinite';\nimport { sanitizeSummableValue } from './structured-data-utilities';\nimport { EMPTY_VALUE } from './constants';\n\nexport const isNumericValue = candidate => {\n  const floatValue = parseFloat(candidate);\n  return _isFinite(floatValue);\n};\n\nexport const sumIfNumber = (augend, addend) => {\n  if (augend === EMPTY_VALUE) {\n    return addend;\n  }\n\n  if (!isNumericValue(addend)) {\n    return augend;\n  }\n\n  return sanitizeSummableValue(augend) + sanitizeSummableValue(addend);\n};\n","import _pickBy from 'lodash/pickBy';\n\nexport const isCalcParticipatingAdjustmentType = text => {\n  const OTHER_CONSIDERATION = 'other consideration';\n  const OTHER_CONSIDERATIONS = 'other considerations';\n  const textLowerCase = text.toLowerCase();\n\n  const isOtherConsiderations =\n    textLowerCase === OTHER_CONSIDERATION ||\n    textLowerCase === OTHER_CONSIDERATIONS;\n\n  return !isOtherConsiderations;\n};\n\nexport const adjustmentTypesParticipatingInCalculations = adjustmentTypes => {\n  const calcParticipants = _pickBy(adjustmentTypes, (_, key) =>\n    isCalcParticipatingAdjustmentType(key)\n  );\n\n  return calcParticipants;\n};\n\nexport const adjustmentTypesNotParticipatingInCalculations = adjustmentTypes => {\n  const calcNonParticipants = _pickBy(\n    adjustmentTypes,\n    (_, key) => !isCalcParticipatingAdjustmentType(key)\n  );\n\n  return calcNonParticipants;\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport _get from 'lodash/get';\nimport _flatMap from 'lodash/flatMap';\nimport _map from 'lodash/fp/map';\nimport _isEmpty from 'lodash/isEmpty';\nimport _isFinite from 'lodash/isFinite';\nimport _isUndefined from 'lodash/isUndefined';\nimport _keys from 'lodash/keys';\nimport _pickBy from 'lodash/pickBy';\nimport _values from 'lodash/values';\nimport _pipe from 'lodash/fp/pipe';\nimport { createSelector } from 'reselect';\nimport { linkedAdjustmentKeyBuilder } from '../utilities/linkedAdjustmentsUtilities';\nimport { sanitizeSummableValue } from '../utilities/structured-data-utilities';\nimport {\n  adjustmentTypeEbitdaContributionName,\n  adjustmentTypeWorkingCapitalContributionName\n} from '../../services/textService';\nimport { getIsViewingToggled } from '../reducers/calcEngine';\nimport {\n  adjustmentTypesNotParticipatingInCalculations,\n  adjustmentTypesParticipatingInCalculations\n} from '../utilities/adjustmentUtilities';\nimport {\n  ADJUSTMENT_SUMS_BY_CODE_KEY,\n  ADJUSTMENT_TYPES_BY_CODE_KEY,\n  ALL_ADJUSTMENTS_KEY,\n  REPORTED_DEBT_KEY,\n  DEBT_LIKE_ITEMS_KEY,\n  LABEL_KEY,\n  REPORTED_CASH_KEY,\n  LONG_DESCRIPTIONS_BY_CODE_KEY,\n  REVENUE_ADJUSTMENTS_KEY,\n  TOGGLED_ADJUSTMENT_SUMS_BY_CODE_KEY,\n  TOTALS_KEY\n} from '../utilities/constants';\nimport {\n  getReportedEbitda,\n  getReportedWorkingCapital\n} from './factCalculationsSelectors';\nimport {\n  getActiveChartTimePeriodsForNwc,\n  getTimePeriodsForDdl,\n  getTimePeriodsForNwC,\n  getTimePeriodsForQofE\n} from './timePeriodSelectors';\n\nexport const getAdjustmentLongDescriptionsByCode = state =>\n  state[LONG_DESCRIPTIONS_BY_CODE_KEY];\n\n// Never use this directly, use getAdjustmentSumsByCode() instead\nconst getToggledAdjustmentSumsByCode = state =>\n  state[TOGGLED_ADJUSTMENT_SUMS_BY_CODE_KEY];\n\n// Never use this directly, use getAdjustmentSumsByCode() instead\nconst getPlainAdjustmentSumsByCode = state =>\n  state[ADJUSTMENT_SUMS_BY_CODE_KEY];\n\nexport const getAdjustmentSumsByCode = createSelector(\n  getPlainAdjustmentSumsByCode,\n  getToggledAdjustmentSumsByCode,\n  getIsViewingToggled,\n  (plainSums, toggledSums, isViewingToggled) =>\n    isViewingToggled ? toggledSums : plainSums\n);\n\nexport const getAdjustmentTypesByCode = state =>\n  state[ADJUSTMENT_TYPES_BY_CODE_KEY];\n\nexport const createSelectorGetRevenueAdjustmentsForDocumentCode = documentCode =>\n  createSelector(getAdjustmentSumsByCode, adjustmentSumsByCode =>\n    _get(\n      adjustmentSumsByCode,\n      `${documentCode}.${REVENUE_ADJUSTMENTS_KEY}.${TOTALS_KEY}`,\n      {}\n    )\n  );\n\nexport const createSelectorHasCalculationsForDocumentCode = documentCode =>\n  createSelector(\n    getAdjustmentSumsByCode,\n    adjustmentSumsByCode =>\n      !_isUndefined(_get(adjustmentSumsByCode, documentCode, undefined))\n  );\n\nexport const createSelectorGetAdjustmentSumsForDocumentCode = documentCode =>\n  createSelector(getAdjustmentSumsByCode, adjustmentSumsByCode =>\n    _get(adjustmentSumsByCode, documentCode, {})\n  );\n\nexport const createSelectorGetAdjustmentSumsParticipatingInCalculationsForDocumentCode = documentCode =>\n  createSelector(getAdjustmentSumsByCode, adjustmentSumsByCode => {\n    const adjustmentSumsForCode = _get(\n      adjustmentSumsByCode,\n      `${documentCode}.${ALL_ADJUSTMENTS_KEY}`,\n      {}\n    );\n    const nonTotalsKeys = _pickBy(\n      adjustmentSumsForCode,\n      (_, key) => key !== TOTALS_KEY\n    );\n    const calcParticipatingAdjustmentSumsForCode = adjustmentTypesParticipatingInCalculations(\n      nonTotalsKeys\n    );\n    return calcParticipatingAdjustmentSumsForCode;\n  });\n\nexport const createSelectorGetAdjustmentSumsNotParticipatingInCalculationsForDocumentCode = documentCode =>\n  createSelector(getAdjustmentSumsByCode, adjustmentSumsByCode => {\n    const adjustmentSumsForCode = _get(\n      adjustmentSumsByCode,\n      `${documentCode}.${ALL_ADJUSTMENTS_KEY}`,\n      {}\n    );\n    const nonTotalsKeys = _pickBy(\n      adjustmentSumsForCode,\n      (_, key) => key !== TOTALS_KEY\n    );\n    const calcNonParticipatingAdjustmentSumsForCode = adjustmentTypesNotParticipatingInCalculations(\n      nonTotalsKeys\n    );\n    return calcNonParticipatingAdjustmentSumsForCode;\n  });\n\nconst createSelectorBuildAdjustmentOptions = documentCode =>\n  createSelector(getAdjustmentTypesByCode, adjustmentTypesByCode => {\n    const adjustmentTypesForDocument = _get(\n      adjustmentTypesByCode,\n      documentCode,\n      {}\n    );\n\n    const options = [];\n\n    _keys(adjustmentTypesForDocument).forEach(groupName =>\n      _keys(adjustmentTypesForDocument[groupName]).forEach(key => {\n        const spaceIndex = key.indexOf(' ');\n        const adjustmentNumber = key.substring(0, spaceIndex).trim();\n        const adjustmentName = key.substring(spaceIndex).trim();\n\n        options.push({\n          value: linkedAdjustmentKeyBuilder(\n            documentCode,\n            groupName,\n            adjustmentNumber,\n            adjustmentName\n          ),\n          label: `${adjustmentNumber} ${adjustmentName}`\n        });\n      })\n    );\n\n    return options;\n  });\n\nexport const getAdjustmentSumsParticipatingInCalculationsForQofE = createSelectorGetAdjustmentSumsParticipatingInCalculationsForDocumentCode(\n  Constants.QUALITY_OF_EARNINGS\n);\n\nexport const getAdjustmentSumsNotParticipatingInCalculationsForQofE = createSelectorGetAdjustmentSumsNotParticipatingInCalculationsForDocumentCode(\n  Constants.QUALITY_OF_EARNINGS\n);\n\nexport const getRevenueAdjustmentsForQofE = createSelectorGetRevenueAdjustmentsForDocumentCode(\n  Constants.QUALITY_OF_EARNINGS\n);\n\nexport const getAdjustmentOptionsForQofE = createSelectorBuildAdjustmentOptions(\n  Constants.QUALITY_OF_EARNINGS\n);\n\nexport const getAdjustmentSumsForNwc = createSelectorGetAdjustmentSumsForDocumentCode(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getAdjustmentOptionsForNwc = createSelectorBuildAdjustmentOptions(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getAdjustmentOptionsForDdl = createSelectorBuildAdjustmentOptions(\n  Constants.DEBT_AND_DEBT_LIKE\n);\n\nconst reduceAdjustmentTypeContributionsWithRunningTotals = (\n  adjustmentSums,\n  runningTotals,\n  getLabelFn\n) => {\n  const adjustmentTypeContributions = _keys(adjustmentSums).reduce(\n    (contributions, typeKey) => {\n      const totalsByPeriod = adjustmentSums[typeKey][TOTALS_KEY];\n\n      const currentTypeTotals = _keys(totalsByPeriod).reduce(\n        (typeTotals, period) => {\n          if (runningTotals[period] !== undefined) {\n            runningTotals[period] += sanitizeSummableValue(\n              totalsByPeriod[period]\n            );\n            typeTotals[period] = runningTotals[period];\n          }\n          return typeTotals;\n        },\n        {}\n      );\n\n      contributions[typeKey] = {\n        [LABEL_KEY]: getLabelFn(typeKey),\n        [TOTALS_KEY]: currentTypeTotals\n      };\n      return contributions;\n    },\n    {}\n  );\n\n  return adjustmentTypeContributions;\n};\n\nexport const getAdjustmentTypesEbitdaContributionForQofE = createSelector(\n  getTimePeriodsForQofE,\n  getAdjustmentSumsParticipatingInCalculationsForQofE,\n  getReportedEbitda,\n  (qofeTimePeriods, adjustmentSums, reportedEbitda) => {\n    const runningTotals = qofeTimePeriods.reduce(\n      (totals, period) => ({ ...totals, [period]: reportedEbitda[period] }),\n      {}\n    );\n\n    const ebitdaContributions = reduceAdjustmentTypeContributionsWithRunningTotals(\n      adjustmentSums,\n      runningTotals,\n      adjustmentTypeEbitdaContributionName\n    );\n    return ebitdaContributions;\n  }\n);\n\nexport const getAdjustmentSumsParticipatingInCalculationsForNwc = createSelectorGetAdjustmentSumsParticipatingInCalculationsForDocumentCode(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getAdjustmentSumsNotParticipatingInCalculationsForNwc = createSelectorGetAdjustmentSumsNotParticipatingInCalculationsForDocumentCode(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getAdjustmentSumsNotParticipatingInCalculationsForDdl = createSelectorGetAdjustmentSumsNotParticipatingInCalculationsForDocumentCode(\n  Constants.DEBT_AND_DEBT_LIKE\n);\n\nexport const getAdjustmentTypesWorkingCapitalContributionForNwc = createSelector(\n  getTimePeriodsForNwC,\n  getAdjustmentSumsParticipatingInCalculationsForNwc,\n  getReportedWorkingCapital,\n  (nwcTimePeriods, adjustmentSums, reportedWorkingCapital) => {\n    const runningTotals = nwcTimePeriods.reduce(\n      (totals, period) => ({\n        ...totals,\n        [period]: reportedWorkingCapital[period]\n      }),\n      {}\n    );\n\n    const capitalContributions = reduceAdjustmentTypeContributionsWithRunningTotals(\n      adjustmentSums,\n      runningTotals,\n      adjustmentTypeWorkingCapitalContributionName\n    );\n    return capitalContributions;\n  }\n);\n\nexport const getAdjustedWorkingCapitalForNwc = createSelector(\n  getTimePeriodsForNwC,\n  getAdjustmentSumsForNwc,\n  getReportedWorkingCapital,\n  (timePeriods, adjustmentSums, workingCapital) => {\n    return timePeriods.reduce((acc, currentTimePeriod) => {\n      const adjTotalForPeriod = _get(\n        adjustmentSums,\n        [ALL_ADJUSTMENTS_KEY, TOTALS_KEY, currentTimePeriod],\n        {}\n      );\n      const workingCapitalForPeriod = workingCapital[currentTimePeriod];\n      const adjustedWorkingCapital =\n        parseFloat(sanitizeSummableValue(adjTotalForPeriod)) +\n        parseFloat(workingCapitalForPeriod);\n      const sanitizedAdjustedWorkingCapital = _isFinite(adjustedWorkingCapital)\n        ? adjustedWorkingCapital\n        : undefined;\n      return { ...acc, [currentTimePeriod]: sanitizedAdjustedWorkingCapital };\n    }, {});\n  }\n);\n\nexport const getChartTimePeriodsAdjustedWorkingCapitalForNwc = createSelector(\n  getActiveChartTimePeriodsForNwc,\n  getAdjustedWorkingCapitalForNwc,\n  (timePeriods, adjustedWorkingCapital) =>\n    timePeriods.reduce(\n      (chartPeriodsAdjustedWorkingCapital, timePeriod) => ({\n        ...chartPeriodsAdjustedWorkingCapital,\n        [timePeriod]: adjustedWorkingCapital[timePeriod]\n      }),\n      {}\n    )\n);\n\nexport const getAdjustmentSumsForDdl = createSelectorGetAdjustmentSumsForDocumentCode(\n  Constants.DEBT_AND_DEBT_LIKE\n);\n\nconst createTotalsPlaceholderForAdjustmentType = targetType => ({\n  [targetType]: { [TOTALS_KEY]: {} }\n});\n\nconst pickAdjustmentType = (adjustmentTypes, targetType) => {\n  const targetAdjustmentType = _pickBy(\n    adjustmentTypes,\n    (_, key) => key === targetType\n  );\n\n  return _isEmpty(targetAdjustmentType)\n    ? createTotalsPlaceholderForAdjustmentType(targetType)\n    : targetAdjustmentType;\n};\n\nconst getAdjustmentTotalsForAdjustmentType = (adjustmentSums, targetType) => {\n  const allAdjustments = _get(adjustmentSums, [ALL_ADJUSTMENTS_KEY], {});\n\n  const adjustmentTypes = _pickBy(\n    allAdjustments,\n    (_, key) => key !== TOTALS_KEY\n  );\n\n  const targetAdjustmentType = pickAdjustmentType(adjustmentTypes, targetType);\n  return targetAdjustmentType;\n};\n\nexport const createSelectorGetFlattenAdjustmentObjectsByCodes = (\n  documentCodes = []\n) =>\n  createSelector(getAdjustmentTypesByCode, adjustmentTypesByCode => {\n    let flattenedAdjustments = [];\n\n    documentCodes.forEach(documentCode => {\n      const adjustmentTypesForDocument = _get(\n        adjustmentTypesByCode,\n        documentCode,\n        {}\n      );\n      const flatAdjustments = _pipe(\n        _values,\n        _map(_keys),\n        _flatMap\n      )(adjustmentTypesForDocument);\n\n      const options = flatAdjustments.map(key => {\n        const spaceIndex = key.indexOf(' ');\n        const adjustmentNumber = key.substring(0, spaceIndex).trim();\n        const adjustmentName = key.substring(spaceIndex).trim();\n\n        return {\n          documentCode,\n          adjustmentNumber,\n          adjustmentName\n        };\n      });\n\n      flattenedAdjustments = flattenedAdjustments.concat(options);\n    });\n\n    return flattenedAdjustments;\n  });\n\nexport const getFlattenAdjustmentObjectsForDocuments = createSelectorGetFlattenAdjustmentObjectsByCodes(\n  [\n    Constants.QUALITY_OF_EARNINGS,\n    Constants.NET_WORKING_CAPITAL,\n    Constants.DEBT_AND_DEBT_LIKE\n  ]\n);\n\nexport const getBankDebtAdjustmentSumsForDdl = createSelector(\n  getAdjustmentSumsForDdl,\n  adjustmentSums =>\n    getAdjustmentTotalsForAdjustmentType(adjustmentSums, REPORTED_DEBT_KEY)\n);\n\nexport const getLessCashAdjustmentSumsForDdl = createSelector(\n  getAdjustmentSumsForDdl,\n  adjustmentSums =>\n    getAdjustmentTotalsForAdjustmentType(adjustmentSums, REPORTED_CASH_KEY)\n);\n\nexport const getDebtLikeItemAdjustmentSumsForDdl = createSelector(\n  getAdjustmentSumsForDdl,\n  adjustmentSums =>\n    getAdjustmentTotalsForAdjustmentType(adjustmentSums, DEBT_LIKE_ITEMS_KEY)\n);\n\nexport const getNetDebtForDdl = createSelector(\n  getTimePeriodsForDdl,\n  getBankDebtAdjustmentSumsForDdl,\n  getLessCashAdjustmentSumsForDdl,\n  (timePeriods, bankDebt, lessCash) =>\n    timePeriods.reduce((acc, timePeriod) => {\n      const bankDebtForPeriod = _get(\n        bankDebt,\n        [REPORTED_DEBT_KEY, TOTALS_KEY, timePeriod],\n        undefined\n      );\n      const lessCashForPeriod = _get(\n        lessCash,\n        [REPORTED_CASH_KEY, TOTALS_KEY, timePeriod],\n        undefined\n      );\n\n      const netForPeriod =\n        parseFloat(sanitizeSummableValue(bankDebtForPeriod)) +\n        parseFloat(sanitizeSummableValue(lessCashForPeriod));\n\n      return {\n        ...acc,\n        [timePeriod]: netForPeriod\n      };\n    }, {})\n);\n\nexport const getNetDebtAndDebtLikeForDdl = createSelector(\n  getTimePeriodsForDdl,\n  getNetDebtForDdl,\n  getDebtLikeItemAdjustmentSumsForDdl,\n  (timePeriods, netDebt, debtLikeItems) =>\n    timePeriods.reduce((acc, timePeriod) => {\n      const netDebtForPeriod = _get(netDebt, [timePeriod], undefined);\n      const debtLikeItemsForPeriod = _get(\n        debtLikeItems,\n        [DEBT_LIKE_ITEMS_KEY, TOTALS_KEY, timePeriod],\n        undefined\n      );\n\n      const netForPeriod =\n        netDebtForPeriod +\n        parseFloat(sanitizeSummableValue(debtLikeItemsForPeriod));\n\n      return {\n        ...acc,\n        [timePeriod]: netForPeriod\n      };\n    }, {})\n);\n\nconst prepAdjustmentSumsForTable = adjustmentSums => {\n  const adjustmentSumsKeys = _keys(adjustmentSums);\n\n  const tableReadySums = adjustmentSumsKeys.map((adjustmentType, index) => ({\n    adjustmentType,\n    adjustments: adjustmentSums[adjustmentType],\n    isLastGroup: index === adjustmentSumsKeys.length - 1\n  }));\n\n  return tableReadySums;\n};\n\nexport const getTableReadyAdjustmentSumsParticipatingInCalculationsForQofE = createSelector(\n  getAdjustmentSumsParticipatingInCalculationsForQofE,\n  prepAdjustmentSumsForTable\n);\n\nexport const getTableReadyAdjustmentSumsNotParticipatingInCalculationsForQofE = createSelector(\n  getAdjustmentSumsNotParticipatingInCalculationsForQofE,\n  prepAdjustmentSumsForTable\n);\n\nexport const getTableReadyAdjustmentSumsParticipatingInCalculationsForNwc = createSelector(\n  getAdjustmentSumsParticipatingInCalculationsForNwc,\n  prepAdjustmentSumsForTable\n);\n\nexport const getTableReadyAdjustmentSumsNotParticipatingInCalculationsForNwc = createSelector(\n  getAdjustmentSumsNotParticipatingInCalculationsForNwc,\n  prepAdjustmentSumsForTable\n);\n\nexport const getTableReadyBankDebtAdjustmentSumsForDdl = createSelector(\n  getBankDebtAdjustmentSumsForDdl,\n  prepAdjustmentSumsForTable\n);\n\nexport const getTableReadyLessCashAdjustmentSumsForDdl = createSelector(\n  getLessCashAdjustmentSumsForDdl,\n  prepAdjustmentSumsForTable\n);\n\nexport const getTableReadyDebtLikeItemAdjustmentSumsForDdl = createSelector(\n  getDebtLikeItemAdjustmentSumsForDdl,\n  prepAdjustmentSumsForTable\n);\n\nexport const getTableReadyAdjustmentSumsNotParticipatingInCalculationsForDdl = createSelector(\n  getAdjustmentSumsNotParticipatingInCalculationsForDdl,\n  prepAdjustmentSumsForTable\n);\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport _get from 'lodash/get';\nimport _isFinite from 'lodash/isFinite';\nimport { createSelector } from 'reselect';\n\nimport { sumIfNumber } from '../utilities/calculationUtilities';\nimport {\n  ALL_ADJUSTMENTS_KEY,\n  FACT_CALCULATIONS_KEY,\n  REPORTED_EBITDA_KEY,\n  TIME_PERIODS_BY_CODE_KEY,\n  TOTALS_KEY\n} from '../utilities/constants';\nimport {\n  getAdjustmentSumsByCode,\n  getRevenueAdjustmentsForQofE\n} from './adjustmentSelectors';\nimport {\n  getReportedEbitda,\n  getReportedRevenue\n} from './factCalculationsSelectors';\nimport { getTimePeriodsForQofE } from './timePeriodSelectors';\n\nconst calculateFinancialSumsForTimePeriods = (\n  sums,\n  adjustmentTotals,\n  timePeriods\n) =>\n  timePeriods.reduce((acc, currentTimePeriod) => {\n    const sumForCurrent = sumIfNumber(\n      adjustmentTotals[currentTimePeriod],\n      sums[currentTimePeriod]\n    );\n    return {\n      ...acc,\n      [currentTimePeriod]: sumForCurrent\n    };\n  }, {});\n\nconst reportedEBITDASelector = state =>\n  _get(state, `${FACT_CALCULATIONS_KEY}.${REPORTED_EBITDA_KEY}`, {});\n\nconst qofeAllAdjustmentTotalSelector = createSelector(\n  getAdjustmentSumsByCode,\n  adjustmentSums => {\n    return _get(\n      adjustmentSums,\n      [Constants.QUALITY_OF_EARNINGS, ALL_ADJUSTMENTS_KEY, TOTALS_KEY],\n      {}\n    );\n  }\n);\n\nconst qofeTimePeriodsSelector = state =>\n  _get(\n    state,\n    `${TIME_PERIODS_BY_CODE_KEY}.${Constants.QUALITY_OF_EARNINGS}`,\n    []\n  );\n\nexport const getAdjustedEBITDA = createSelector(\n  reportedEBITDASelector,\n  qofeAllAdjustmentTotalSelector,\n  qofeTimePeriodsSelector,\n  (reportedEBITDA, qofeAllAdjustmentTotals, qofeTimePeriods) =>\n    calculateFinancialSumsForTimePeriods(\n      reportedEBITDA,\n      qofeAllAdjustmentTotals,\n      qofeTimePeriods\n    )\n);\n\nexport const getAdjustedRevenue = createSelector(\n  getTimePeriodsForQofE,\n  getReportedRevenue,\n  getRevenueAdjustmentsForQofE,\n\n  (qofeTimePeriods, reportedRevenue, qofeRevenueAdjustments) =>\n    qofeTimePeriods.reduce((acc, qofeTimePeriod) => {\n      let revenueAdjustmentForPeriod = _get(\n        qofeRevenueAdjustments,\n        qofeTimePeriod,\n        0\n      );\n      let revenueForPeriod = _get(reportedRevenue, qofeTimePeriod, 0);\n\n      revenueAdjustmentForPeriod = _isFinite(revenueAdjustmentForPeriod)\n        ? revenueAdjustmentForPeriod\n        : 0;\n      revenueForPeriod = _isFinite(revenueForPeriod) ? revenueForPeriod : 0;\n\n      const adjustedRevenueForPeriod =\n        revenueAdjustmentForPeriod + revenueForPeriod;\n\n      return {\n        ...acc,\n        [qofeTimePeriod]: adjustedRevenueForPeriod\n      };\n    }, {})\n);\n\nexport const getPercentOfRevenue = createSelector(\n  getTimePeriodsForQofE,\n  getReportedRevenue,\n  getReportedEbitda,\n  (timePeriods, reportedRevenue, reportedEbitda) => {\n    return timePeriods.reduce((acc, currentTimePeriod) => {\n      const currentRevenue = reportedRevenue[currentTimePeriod];\n      const currentEbitda = reportedEbitda[currentTimePeriod];\n      const percentOfRevenue =\n        parseFloat(currentEbitda) / parseFloat(currentRevenue);\n      const formattedPercentOfRevenue = _isFinite(percentOfRevenue)\n        ? percentOfRevenue\n        : undefined;\n      return { ...acc, [currentTimePeriod]: formattedPercentOfRevenue };\n    }, {});\n  }\n);\n\nexport const getPercentOfAdjustedRevenue = createSelector(\n  getTimePeriodsForQofE,\n  getAdjustedRevenue,\n  getAdjustedEBITDA,\n  (timePeriods, adjustedRevenue, adjustedEbitda) => {\n    return timePeriods.reduce((acc, currentTimePeriod) => {\n      const currentRevenue = adjustedRevenue[currentTimePeriod];\n      const currentEbitda = adjustedEbitda[currentTimePeriod];\n      const percentOfRevenue =\n        parseFloat(currentEbitda) / parseFloat(currentRevenue);\n      const formattedPercentOfRevenue = _isFinite(percentOfRevenue)\n        ? percentOfRevenue\n        : undefined;\n      return { ...acc, [currentTimePeriod]: formattedPercentOfRevenue };\n    }, {});\n  }\n);\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport * as Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport highchartsMore from 'highcharts/highcharts-more';\nimport highchartsAccessibility from 'highcharts/modules/accessibility';\nimport _last from 'lodash/last';\nimport { getProjectFinancials } from '../../../features/project/projectSlice';\nimport { makeDefaultQofEBridgeOptions } from '../highchart-utilities';\nimport { createQofESeries } from './createQofESeries';\nimport { screenReaderPointDescriptorFactory } from './createScreenReaderPointDescription';\nimport { barGlobalColors } from './highchartsColorTheme';\nimport { getTimePeriodsForQofE } from '../../engine/selectors/timePeriodSelectors';\nimport { getReportedEbitda } from '../../engine/selectors/factCalculationsSelectors';\nimport { getAdjustedEBITDA } from '../../engine/selectors/aggregatorSelectors';\nimport { getAdjustmentSumsParticipatingInCalculationsForQofE } from '../../engine/selectors/adjustmentSelectors';\nimport { getFinancialScale } from '../../services/textService';\nimport './QofEBridgeChart.scss';\n\nconst QofEBridgeChart = () => {\n  highchartsAccessibility(Highcharts);\n  highchartsMore(Highcharts);\n  Highcharts.setOptions({\n    colors: barGlobalColors\n  });\n\n  const [chartOptions, setChartOptions] = useState(\n    makeDefaultQofEBridgeOptions(0)\n  );\n\n  const financialsDisplaySettings = useSelector(\n    getProjectFinancials,\n    shallowEqual\n  );\n  const qofeFinancialPeriods = useSelector(getTimePeriodsForQofE);\n  const reportedEbitda = useSelector(getReportedEbitda);\n  const adjustedEbitda = useSelector(getAdjustedEBITDA);\n  const qofeAdjustmentSumsParticipatingCalculations = useSelector(\n    getAdjustmentSumsParticipatingInCalculationsForQofE\n  );\n\n  useEffect(() => {\n    const seriesData = createQofESeries(\n      qofeFinancialPeriods,\n      reportedEbitda,\n      adjustedEbitda,\n      qofeAdjustmentSumsParticipatingCalculations,\n      Highcharts.getOptions().colors[1],\n      financialsDisplaySettings.financialsDecimalCount,\n      Highcharts.getOptions().colors[7]\n    );\n\n    const lastFinancialPeriod = _last(qofeFinancialPeriods);\n    const subtitle = `${lastFinancialPeriod} - ${getFinancialScale(\n      financialsDisplaySettings\n    )}`;\n\n    const pointDescriptorFn = screenReaderPointDescriptorFactory(\n      financialsDisplaySettings.financialsDecimalCount\n    );\n\n    setChartOptions({\n      series: [\n        {\n          data: seriesData\n        }\n      ],\n      xAxis: {\n        max: seriesData.length - 1 + 0.25\n      },\n      subtitle: {\n        text: subtitle\n      },\n      accessibility: {\n        point: {\n          descriptionFormatter: pointDescriptorFn\n        }\n      }\n    });\n  }, [\n    financialsDisplaySettings,\n    qofeFinancialPeriods,\n    reportedEbitda,\n    adjustedEbitda,\n    qofeAdjustmentSumsParticipatingCalculations\n  ]);\n\n  return (\n    <div className=\"bridge-chart-container\">\n      <HighchartsReact highcharts={Highcharts} options={chartOptions} />\n    </div>\n  );\n};\n\nexport default QofEBridgeChart;\n","import _get from 'lodash/get';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport qs from 'query-string';\nimport { createSelector } from 'reselect';\nimport { LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY } from '../utilities/constants';\nimport { getAdjustmentTypesByCode } from './adjustmentSelectors';\n\nexport const getLinkedAdjustmentsByDocument = state =>\n  state[LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY];\n\nconst documentAsSourceLinkBuilder = documentCode => link => {\n  const {\n    sourceDocumentCode,\n    sourceAdjustmentType,\n    sourceAdjustmentNumber,\n    sourceDisplayName,\n    targetDocumentCode,\n    targetAdjustmentType,\n    targetAdjustmentNumber,\n    targetDisplayName\n  } = link;\n\n  return {\n    source:\n      documentCode === sourceDocumentCode\n        ? {\n            documentCode: sourceDocumentCode,\n            adjustmentType: sourceAdjustmentType,\n            adjustmentNumber: sourceAdjustmentNumber,\n            adjustmentDisplayName: sourceDisplayName\n          }\n        : {\n            documentCode: targetDocumentCode,\n            adjustmentType: targetAdjustmentType,\n            adjustmentNumber: targetAdjustmentNumber,\n            adjustmentDisplayName: targetDisplayName\n          },\n\n    target:\n      documentCode === sourceDocumentCode\n        ? {\n            documentCode: targetDocumentCode,\n            adjustmentType: targetAdjustmentType,\n            adjustmentNumber: targetAdjustmentNumber,\n            adjustmentDisplayName: targetDisplayName\n          }\n        : {\n            documentCode: sourceDocumentCode,\n            adjustmentType: sourceAdjustmentType,\n            adjustmentNumber: sourceAdjustmentNumber,\n            adjustmentDisplayName: sourceDisplayName\n          }\n  };\n};\n\nconst linkValidator = (link, allAdjustments) => {\n  const {\n    documentCode: sourceDocumentCode,\n    adjustmentType: sourceAdjustmentType,\n    adjustmentDisplayName: sourceAdjustmentDisplayName\n  } = link.source;\n\n  const {\n    documentCode: targetDocumentCode,\n    adjustmentType: targetAdjustmentType,\n    adjustmentDisplayName: targetAdjustmentDisplayName\n  } = link.target;\n\n  const foundSourceAdjustment = _get(\n    allAdjustments,\n    [sourceDocumentCode, sourceAdjustmentType, sourceAdjustmentDisplayName],\n    null\n  );\n\n  const foundTargetAdjustment = _get(\n    allAdjustments,\n    [targetDocumentCode, targetAdjustmentType, targetAdjustmentDisplayName],\n    null\n  );\n\n  return {\n    ...link,\n    isSourceBroken: foundSourceAdjustment === null,\n    isTargetBroken: foundTargetAdjustment === null\n  };\n};\n\nexport const createSelectorGetLinkedAdjustmentsAsSourceForDocument = documentCode =>\n  createSelector(\n    getLinkedAdjustmentsByDocument,\n    getAdjustmentTypesByCode,\n    (linkedAdjustments, allAdjustments) => {\n      const documentLinkedAdjustments = _get(\n        linkedAdjustments,\n        documentCode,\n        []\n      );\n\n      const sourceLinkBuilder = documentAsSourceLinkBuilder(documentCode);\n\n      const linksForSourceDocument = documentLinkedAdjustments\n        .map(sourceLinkBuilder)\n        .map(link => linkValidator(link, allAdjustments))\n        .filter(link => !link.isSourceBroken)\n        .map(link => ({\n          source: link.source,\n          target: {\n            ...link.target,\n            queryString: link.isTargetBroken\n              ? null\n              : qs.stringify({\n                  adjustmentType: link.target.adjustmentType,\n                  adjustmentName: link.target.adjustmentDisplayName\n                })\n          },\n          isBroken: link.isTargetBroken\n        }));\n\n      return linksForSourceDocument;\n    }\n  );\n\nexport const getLinkedAdjustmentsAsSourceForQofE = createSelectorGetLinkedAdjustmentsAsSourceForDocument(\n  Constants.QUALITY_OF_EARNINGS\n);\n\nexport const getLinkedAdjustmentsAsSourceForNwc = createSelectorGetLinkedAdjustmentsAsSourceForDocument(\n  Constants.NET_WORKING_CAPITAL\n);\n\nexport const getLinkedAdjustmentsAsSourceForDdl = createSelectorGetLinkedAdjustmentsAsSourceForDocument(\n  Constants.DEBT_AND_DEBT_LIKE\n);\n","import { createAction } from '@reduxjs/toolkit';\nimport _getOr from 'lodash/fp/getOr';\nimport _pipe from 'lodash/fp/pipe';\nimport _values from 'lodash/fp/values';\nimport _flatMap from 'lodash/fp/flatMap';\nimport _uniqBy from 'lodash/fp/uniqBy';\nimport _uniqWith from 'lodash/uniqWith';\nimport _isEqual from 'lodash/isEqual';\n\nimport {\n  CALC_ENGINE_ACTION_PREFIX,\n  LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY\n} from '../utilities/constants';\n\nconst adjustmentToggled = createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/adjustmentToggled`,\n  (documentCode, adjustmentType, adjustmentName, active) => {\n    return {\n      payload: {\n        documentCode,\n        adjustmentType,\n        adjustmentName,\n        active\n      }\n    };\n  }\n);\n\nconst matchesSource = (toggledAdjustment, linkedAdjustment) =>\n  toggledAdjustment.documentCode === linkedAdjustment.sourceDocumentCode &&\n  toggledAdjustment.adjustmentName === linkedAdjustment.sourceDisplayName;\n\nconst matchesTarget = (toggledAdjustment, linkedAdjustment) =>\n  toggledAdjustment.documentCode === linkedAdjustment.targetDocumentCode &&\n  toggledAdjustment.adjustmentName === linkedAdjustment.targetDisplayName;\n\nconst splatBySourceAndTarget = la => [\n  {\n    documentCode: la.sourceDocumentCode,\n    adjustmentType: la.sourceAdjustmentType,\n    adjustmentName: la.sourceDisplayName\n  },\n  {\n    documentCode: la.targetDocumentCode,\n    adjustmentType: la.targetAdjustmentType,\n    adjustmentName: la.targetDisplayName\n  }\n];\n\nexport const findRelatedLinksForRoot = (rootAdjustment, allAdjustmentLinks) => {\n  const matchingDirectDescendents = allAdjustmentLinks.filter(\n    l => matchesSource(rootAdjustment, l) || matchesTarget(rootAdjustment, l)\n  );\n\n  const relatedLinks = matchingDirectDescendents.reduce((acc, cur) => {\n    acc.push(...splatBySourceAndTarget(cur));\n    return acc;\n  }, []);\n\n  return { rootAdjustment, relatedLinks };\n};\n\nconst alreadySolved = (solutions, relatedAdjustment) => {\n  const found = solutions.find(x => {\n    return (\n      x.rootAdjustment.documentCode === relatedAdjustment.documentCode &&\n      x.rootAdjustment.adjustmentType === relatedAdjustment.adjustmentType &&\n      x.rootAdjustment.adjustmentName === relatedAdjustment.adjustmentName\n    );\n  });\n\n  return Boolean(found);\n};\n\n/**\n * Recursively finds all adjustments that are linked together.\n * Given some linked adjustments in system like\n * 1 => 2\n * 2 => 4\n * 4 => 1\n * 3 => 5\n *\n * The algorithm uses a data structure of {rootAdjustment, relatedLinks}\n * to keep track of the direct descendent paths it has solved and only solves for new paths.\n *\n * The above example might work out like this:\n * round 1: [{rootAdjustment: 1, relatedLinks: [2]}]\n * round 2: [{rootAdjustment: 1, relatedLinks: [2]}, {rootAdjustment: 2, relatedLinks: [4]}]\n * round 3: - stops b/c it's already solved for 4\n */\nexport const recursivelyFindRelatedAdjustments = (\n  rootAdjustment,\n  allAdjustmentLinks,\n  solutions = []\n) => {\n  const solutionForPath = findRelatedLinksForRoot(\n    rootAdjustment,\n    allAdjustmentLinks\n  );\n\n  solutions.push(solutionForPath);\n\n  return solutionForPath.relatedLinks.reduce(\n    (accumulatingSolutions, nextPath) => {\n      if (!alreadySolved(accumulatingSolutions, nextPath)) {\n        return recursivelyFindRelatedAdjustments(\n          nextPath,\n          allAdjustmentLinks,\n          accumulatingSolutions\n        );\n      }\n      return accumulatingSolutions;\n    },\n    solutions\n  );\n};\n\nexport const getAllRelatedLinksForSelectedAdjustment = (\n  rootAdjustment,\n  allAdjustmentLinks\n) => {\n  const solutions = recursivelyFindRelatedAdjustments(\n    rootAdjustment,\n    allAdjustmentLinks\n  );\n\n  const mergeRelatedLinks = solutions.reduce(\n    (acc, cur) => {\n      acc.push(...cur.relatedLinks);\n      return acc;\n    },\n    [rootAdjustment]\n  );\n\n  const uniqueRelatedLinks = _uniqWith(mergeRelatedLinks, _isEqual);\n  return uniqueRelatedLinks;\n};\n\nexport const adjustmentToggledThunk = (\n  documentCode,\n  adjustmentType,\n  adjustmentName,\n  active\n) => async (dispatch, getState) => {\n  const getUniqueLinkedAdjustments = _pipe(\n    _getOr(undefined, LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY),\n    _values,\n    _flatMap(_values),\n    _uniqBy('id')\n  );\n\n  /**\n   * Each 'linked adjustment' is in state twice under its respective source and target documents\n   * The _uniqBy('id') halves the amount of data to process\n   */\n\n  const allUniqueLinks = getUniqueLinkedAdjustments(getState());\n\n  const adjustmentLinksToToggle = getAllRelatedLinksForSelectedAdjustment(\n    {\n      documentCode,\n      adjustmentName,\n      adjustmentType\n    },\n    allUniqueLinks\n  );\n\n  adjustmentLinksToToggle.forEach(relatedLink => {\n    dispatch(\n      adjustmentToggled(\n        relatedLink.documentCode,\n        relatedLink.adjustmentType,\n        relatedLink.adjustmentName,\n        active\n      )\n    );\n  });\n};\n\nexport default adjustmentToggled;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Toggle } from '@pwc/pwc-deals-ui';\nimport { adjustmentToggledThunk } from '../../../../common/engine/actions/adjustmentToggled';\n\nconst AdjustmentToggle = ({\n  isActive,\n  disabled,\n  documentCode,\n  adjustmentType,\n  adjustmentKey\n}) => {\n  const dispatch = useDispatch();\n\n  const toggleAdjustment = () => {\n    dispatch(\n      adjustmentToggledThunk(\n        documentCode,\n        adjustmentType,\n        adjustmentKey,\n        !isActive\n      )\n    );\n  };\n\n  return (\n    <Toggle\n      checked={isActive}\n      disabled={disabled}\n      name=\"toggle-adjustment\"\n      dataTestId={`toggle-adjustment-${adjustmentKey}`}\n      onClick={() => toggleAdjustment()}\n    />\n  );\n};\n\nAdjustmentToggle.propTypes = {\n  isActive: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  adjustmentType: PropTypes.string.isRequired,\n  adjustmentKey: PropTypes.string.isRequired\n};\n\nexport default AdjustmentToggle;\n","import classnames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport {\n  COLUMN_HIGHLIGHT_CLASS,\n  EMPTY_DATA_MARKER\n} from '../../../../common/engine/utilities/constants';\nimport { financialValue } from '../../../../common/services/textService';\nimport { getProjectFinancials } from '../../../project/projectSlice';\n\nconst FinancialValue = ({\n  text,\n  emptyDataMarker = EMPTY_DATA_MARKER,\n  showColumnHighlight\n}) => {\n  const cellClassNames = classnames('financial-value', {\n    [COLUMN_HIGHLIGHT_CLASS]: showColumnHighlight\n  });\n\n  const financialsDisplaySettings = useSelector(\n    getProjectFinancials,\n    shallowEqual\n  );\n\n  return (\n    <td role=\"cell\" className={cellClassNames} data-testid=\"financial-value\">\n      <span aria-hidden=\"true\" data-testid=\"visual-content\">\n        {text === ''\n          ? emptyDataMarker\n          : financialValue(text, {\n              decimalCount: financialsDisplaySettings.financialsDecimalCount,\n              formatForScreenReader: false,\n              emptyDataMarker\n            })}\n      </span>\n      <span className=\"visually-hidden\" data-testid=\"screen-reader-content\">\n        {financialValue(text, {\n          decimalCount: financialsDisplaySettings.financialsDecimalCount,\n          formatForScreenReader: true,\n          emptyDataMarker\n        })}\n      </span>\n    </td>\n  );\n};\n\nFinancialValue.propTypes = {\n  text: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.symbol\n  ]),\n  emptyDataMarker: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  showColumnHighlight: PropTypes.bool\n};\n\nFinancialValue.defaultProps = {\n  text: '',\n  emptyDataMarker: '-',\n  showColumnHighlight: false\n};\n\nexport default FinancialValue;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst AdjustmentControlsColumn = ({ role, scope, children }) => (\n  <th\n    data-testid=\"adjustment-controls-column\"\n    role={role}\n    scope={scope}\n    className=\"adjustment-controls-column\"\n  >\n    {children}\n  </th>\n);\n\nAdjustmentControlsColumn.propTypes = {\n  role: PropTypes.oneOf(['columnheader', 'rowheader']),\n  scope: PropTypes.oneOf(['col', 'row']),\n  children: PropTypes.node\n};\n\nAdjustmentControlsColumn.defaultProps = {\n  role: 'rowheader',\n  scope: 'row',\n  children: undefined\n};\n\nexport default AdjustmentControlsColumn;\n","import _uniq from 'lodash/uniq';\nimport _sortBy from 'lodash/sortBy';\nimport _get from 'lodash/get';\nimport _some from 'lodash/some';\nimport {\n  ACTIVE_KEY,\n  STRUCTURED_DISPLAY_NAME_BY_CODE\n} from '../../../../../common/engine/utilities/constants';\n\nexport const convertTextToId = text =>\n  text.replace(/(\\s|\\W)/g, '').toLowerCase();\n\nexport const getAdjustmentIsToggledActive = (\n  adjustmentToggles,\n  groupName,\n  adjustmentName\n) => _get(adjustmentToggles, [groupName, adjustmentName, ACTIVE_KEY], true);\n\nexport const getLinksDescriptor = (links = []) => {\n  const hasLinks = links.length > 0;\n  let hasBrokenLinks = false;\n\n  if (hasLinks) {\n    hasBrokenLinks = _some(links, link => _get(link, 'isBroken', false));\n  }\n\n  return {\n    hasLinks,\n    hasBrokenLinks\n  };\n};\n\nexport const getGroupLinksDescriptor = (groupName, linkedAdjustments) => {\n  const linksForGroup = linkedAdjustments.filter(link => {\n    const linkSourceType = _get(link, ['source', 'adjustmentType'], null);\n    return linkSourceType === groupName;\n  });\n\n  const descriptor = getLinksDescriptor(linksForGroup);\n\n  return descriptor;\n};\n\nexport const getLinksForAdjustment = (\n  groupName,\n  adjustmentDisplayName,\n  linkedAdjustments\n) => {\n  const linksForAdjustment = linkedAdjustments.filter(link => {\n    const linkSourceType = _get(link, ['source', 'adjustmentType'], null);\n    const linkSourceDisplayName = _get(\n      link,\n      ['source', 'adjustmentDisplayName'],\n      null\n    );\n    return (\n      linkSourceType === groupName &&\n      linkSourceDisplayName === adjustmentDisplayName\n    );\n  });\n\n  return linksForAdjustment;\n};\n\nexport const getLinksPopoverData = linkedAdjustments => {\n  const distinctTargetDocuments = _uniq(\n    linkedAdjustments.map(link =>\n      _get(link, ['target', 'documentCode'], 'UNKNOWN')\n    )\n  );\n\n  const popoverData = distinctTargetDocuments.map(targetDoc => {\n    const targetDocLinks = linkedAdjustments.filter(\n      link => _get(link, ['target', 'documentCode'], null) === targetDoc\n    );\n    const sortedTargetDocLinks = _sortBy(targetDocLinks, link =>\n      _get(link, ['target', 'adjustmentNumber'], 0)\n    );\n    const sortedTargetDocLinksForPopover = sortedTargetDocLinks.map(link => ({\n      displayName: _get(link, ['target', 'adjustmentDisplayName'], 'UNKNOWN'),\n      isBroken: link.isBroken,\n      queryString: _get(link, ['target', 'queryString'], null)\n    }));\n\n    return {\n      documentCode: targetDoc,\n      documentDisplayName: STRUCTURED_DISPLAY_NAME_BY_CODE[targetDoc],\n      links: sortedTargetDocLinksForPopover\n    };\n  });\n\n  const sortedByTargetDocPopoverData = _sortBy(\n    popoverData,\n    'documentDisplayName'\n  );\n\n  return sortedByTargetDocPopoverData;\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport classnames from 'classnames';\nimport './LinkedAdjustmentLinkIcon.scss';\n\nexport const LinkedAdjustmentLinkIcon = ({\n  interactive,\n  isSelected,\n  isBroken\n}) => (\n  <div className=\"linked-adjustment-icon-container\">\n    <Icon\n      name={isBroken ? 'link-remove' : 'link'}\n      width=\"18px\"\n      className={classnames('linked-adjustment-icon', {\n        'icon-gray': !interactive,\n        'icon-orange': interactive && !isBroken,\n        'icon-red': interactive && isBroken,\n        fill: isSelected,\n        outline: !isSelected,\n        interactive\n      })}\n    />\n  </div>\n);\n\nLinkedAdjustmentLinkIcon.propTypes = {\n  interactive: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  isBroken: PropTypes.bool\n};\n\nLinkedAdjustmentLinkIcon.defaultProps = {\n  interactive: true,\n  isSelected: false,\n  isBroken: false\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Popover } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { viewStructuredAnalysisPathForDocument } from '../../../../../common/services/urlService';\nimport { getLinksPopoverData } from '../AdjustmentGroup/AdjustmentGroupHelpers';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport './LinkedAdjustmentPopover.scss';\n\nconst LinkedAdjustmentPopover = React.forwardRef(\n  ({ adjustmentLinks, projectId, ...props }, ref) => {\n    const popoverData = getLinksPopoverData(adjustmentLinks);\n\n    return (\n      <Popover\n        id=\"popover-linked-adjustments\"\n        ref={ref}\n        data-testid=\"popover-linked-adjustments\"\n        {...props}\n      >\n        <Popover.Content className=\"popup-menu scrollable\">\n          <div className=\"linked-adjustments-title\">Linked Adjustments</div>\n          {popoverData.map(target => {\n            return (\n              <section\n                className=\"link-target-document\"\n                key={`link-target-${target.documentDisplayName}`}\n              >\n                <div className=\"link-target-document-name\">\n                  {target.documentDisplayName}\n                </div>\n                {target.links.map(link => {\n                  if (link.isBroken) {\n                    return (\n                      <span\n                        className=\"link-target-adjustment-name strikethrough\"\n                        key={`link-target-${link.displayName}`}\n                      >\n                        {link.displayName}\n                      </span>\n                    );\n                  }\n\n                  const targetDocumentUrl = viewStructuredAnalysisPathForDocument(\n                    projectId,\n                    target.documentCode\n                  );\n\n                  return (\n                    <Link\n                      className=\"link-target-adjustment-name\"\n                      to={{\n                        pathname: targetDocumentUrl,\n                        search: link.queryString\n                      }}\n                      key={`link-target-${link.displayName}`}\n                    >\n                      {link.displayName}\n                    </Link>\n                  );\n                })}\n              </section>\n            );\n          })}\n        </Popover.Content>\n      </Popover>\n    );\n  }\n);\n\nLinkedAdjustmentPopover.propTypes = {\n  adjustmentLinks: PropTypes.arrayOf(linkedAdjustmentsShape),\n  projectId: PropTypes.string.isRequired\n};\n\nLinkedAdjustmentPopover.defaultProps = {\n  adjustmentLinks: []\n};\n\nexport default LinkedAdjustmentPopover;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { OverlayTrigger } from 'react-bootstrap';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport { getLinksDescriptor } from '../AdjustmentGroup/AdjustmentGroupHelpers';\nimport { LinkedAdjustmentLinkIcon } from '../LinkedAdjustmentLinkIcon';\nimport LinkedAdjustmentPopover from './LinkedAdjustmentPopover';\nimport './LinkedAdjustmentsOverlayTrigger.scss';\n\nconst AdjustmentLinkOverlayTrigger = ({ adjustmentLinks, projectId }) => {\n  const [selected, setSelected] = useState(false);\n  const linksDescriptor = getLinksDescriptor(adjustmentLinks);\n\n  if (!linksDescriptor.hasLinks) {\n    return null;\n  }\n\n  return (\n    <OverlayTrigger\n      rootClose\n      trigger=\"click\"\n      placement=\"top-end\"\n      overlay={\n        <LinkedAdjustmentPopover\n          adjustmentLinks={adjustmentLinks}\n          projectId={projectId}\n        />\n      }\n      onToggle={visible => setSelected(visible)}\n    >\n      <div className=\"adjustment-link\" data-testid=\"adjustment-link\">\n        <LinkedAdjustmentLinkIcon\n          isSelected={selected}\n          isBroken={linksDescriptor.hasBrokenLinks}\n        />\n      </div>\n    </OverlayTrigger>\n  );\n};\n\nAdjustmentLinkOverlayTrigger.propTypes = {\n  adjustmentLinks: PropTypes.arrayOf(linkedAdjustmentsShape),\n  projectId: PropTypes.string.isRequired\n};\n\nAdjustmentLinkOverlayTrigger.defaultProps = {\n  adjustmentLinks: []\n};\n\nexport default AdjustmentLinkOverlayTrigger;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport classnames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentToggle from '../AdjustmentToggle';\nimport FinancialValue from '../FinancialValue';\nimport {\n  getAnalysisDescription,\n  setDescriptorForAdjustmentThunk\n} from '../../../../../common/engine/reducers/structuredDocumentDescriptionSlice';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport AdjustmentLinkOverlayTrigger from '../LinkedAdjustmentPopover/LinkedAdjustmentsOverlayTrigger';\n\nconst Adjustment = ({\n  projectId,\n  documentCode = Constants.QUALITY_OF_EARNINGS,\n  contentId,\n  contentVersionNumber,\n  adjustmentType,\n  adjustmentKey,\n  adjustment,\n  timePeriods,\n  adjustmentLinks,\n  isActive,\n  showToggle,\n  disableToggle,\n  isPublishMode,\n  isFinalRow\n}) => {\n  const dispatch = useDispatch();\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  const analysisDescription = useSelector(getAnalysisDescription);\n\n  return (\n    <tr\n      role=\"row\"\n      className={classnames('adjustment', {\n        inactive: !isActive,\n        'final-details-row': isFinalRow\n      })}\n      data-testid=\"adjustment\"\n    >\n      <th\n        role=\"rowheader\"\n        scope=\"row\"\n        className={`adjustment__heading ${\n          analysisDescription.selectedAdjustment === adjustmentKey\n            ? 'adjustment-selected'\n            : ''\n        }`}\n      >\n        {isPublishMode ? (\n          <span>{adjustmentKey}</span>\n        ) : (\n          <button\n            className=\"button-avoid-focus adjustment__button\"\n            onClick={() => {\n              dispatch(\n                setDescriptorForAdjustmentThunk(\n                  adjustmentType,\n                  adjustmentKey,\n                  documentCode,\n                  projectId,\n                  contentId,\n                  contentVersionNumber\n                )\n              );\n            }}\n            type=\"button\"\n            data-testid=\"adjustment-header-button\"\n            aria-controls=\"analysisDescription\"\n          >\n            <span>{adjustmentKey}</span>\n            <span\n              data-testid=\"adjustment-button-helper-text\"\n              className=\"visually-hidden\"\n            >\n              . Click for long description\n            </span>\n          </button>\n        )}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={adjustment[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && (\n        <AdjustmentControlsColumn>\n          {showToggle && (\n            <AdjustmentToggle\n              isActive={isActive}\n              disabled={disableToggle}\n              documentCode={documentCode}\n              adjustmentType={adjustmentType}\n              adjustmentKey={adjustmentKey}\n            />\n          )}\n\n          <AdjustmentLinkOverlayTrigger\n            adjustmentLinks={adjustmentLinks}\n            projectId={projectId}\n          />\n        </AdjustmentControlsColumn>\n      )}\n    </tr>\n  );\n};\n\nAdjustment.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  adjustmentType: PropTypes.string.isRequired,\n  adjustmentKey: PropTypes.string.isRequired,\n  adjustment: PropTypes.shape({}).isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  adjustmentLinks: PropTypes.arrayOf(linkedAdjustmentsShape),\n  isActive: PropTypes.bool,\n  showToggle: PropTypes.bool,\n  disableToggle: PropTypes.bool,\n  isPublishMode: PropTypes.bool.isRequired,\n  isFinalRow: PropTypes.bool\n};\n\nAdjustment.defaultProps = {\n  adjustmentLinks: [],\n  isActive: true,\n  showToggle: true,\n  disableToggle: false,\n  isFinalRow: false\n};\n\nexport default Adjustment;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialValue from '../FinancialValue';\n\nconst AdjustmentGroupSummary = ({\n  totals,\n  totalOverrideValue,\n  timePeriods,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  return (\n    <tr role=\"row\" className=\"group-summary\" data-testid=\"group-summary\">\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        Total\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totalOverrideValue || totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nAdjustmentGroupSummary.propTypes = {\n  totals: PropTypes.object.isRequired,\n  totalOverrideValue: PropTypes.string,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  documentCode: PropTypes.string.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupSummary.defaultProps = {\n  totalOverrideValue: '',\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupSummary;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport _keys from 'lodash/keys';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport { TOTALS_KEY } from '../../../../../common/engine/utilities/constants';\nimport Adjustment from '../Adjustment/Adjustment';\nimport {\n  getAdjustmentIsToggledActive,\n  getLinksForAdjustment\n} from './AdjustmentGroupHelpers';\nimport AdjustmentGroupSummary from './AdjustmentGroupSummary';\n\nconst AdjustmentGroupDetails = ({\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  group,\n  groupName,\n  timePeriods,\n  showTotalRow,\n  totalOverrideValue,\n  showToggles,\n  adjustmentToggles,\n  disableAllToggles,\n  linkedAdjustments,\n  isPublishMode\n}) => {\n  const adjustmentNamesInGroup = _keys(group).filter(g => g !== TOTALS_KEY);\n\n  return (\n    <>\n      {adjustmentNamesInGroup.map((adjustmentName, index) => {\n        const isLastAdjustment = index === adjustmentNamesInGroup.length - 1;\n        const isFinalRow = isLastAdjustment && !showTotalRow;\n\n        const isAdjustmentToggledActive = getAdjustmentIsToggledActive(\n          adjustmentToggles,\n          groupName,\n          adjustmentName\n        );\n        const isActive = disableAllToggles ? true : isAdjustmentToggledActive;\n        const adjustment = group[adjustmentName];\n\n        const adjustmentLinks = getLinksForAdjustment(\n          groupName,\n          adjustmentName,\n          linkedAdjustments\n        );\n\n        return (\n          <Adjustment\n            projectId={projectId}\n            key={adjustmentName}\n            documentCode={documentCode}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            adjustmentType={groupName}\n            adjustmentKey={adjustmentName}\n            adjustment={adjustment[TOTALS_KEY]}\n            timePeriods={timePeriods}\n            isActive={isActive}\n            adjustmentLinks={adjustmentLinks}\n            showToggle={showToggles}\n            disableToggle={disableAllToggles}\n            isPublishMode={isPublishMode}\n            isFinalRow={isFinalRow}\n          />\n        );\n      })}\n      {showTotalRow ? (\n        <AdjustmentGroupSummary\n          totals={group[TOTALS_KEY]}\n          totalOverrideValue={totalOverrideValue}\n          timePeriods={timePeriods}\n          documentCode={documentCode}\n          isPublishMode={isPublishMode}\n        />\n      ) : null}\n    </>\n  );\n};\n\nAdjustmentGroupDetails.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  group: PropTypes.object.isRequired,\n  groupName: PropTypes.string.isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showTotalRow: PropTypes.bool.isRequired,\n  totalOverrideValue: PropTypes.string,\n  showToggles: PropTypes.bool,\n  adjustmentToggles: PropTypes.object.isRequired,\n  disableAllToggles: PropTypes.bool.isRequired,\n  linkedAdjustments: PropTypes.arrayOf(linkedAdjustmentsShape).isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupDetails.defaultProps = {\n  totalOverrideValue: undefined,\n  showToggles: true,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupDetails;\n","import classnames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { COLUMN_HIGHLIGHT_CLASS } from '../../../../common/engine/utilities/constants';\n\nconst FinancialSpacer = ({ showColumnHighlight }) => {\n  const cellClassNames = classnames('financial-spacer', {\n    [COLUMN_HIGHLIGHT_CLASS]: showColumnHighlight\n  });\n\n  return <td role=\"cell\" className={cellClassNames} />;\n};\n\nFinancialSpacer.propTypes = {\n  showColumnHighlight: PropTypes.bool\n};\n\nFinancialSpacer.defaultProps = {\n  showColumnHighlight: false\n};\n\nexport default FinancialSpacer;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\n\nconst AdjustmentGroupExpansionButton = ({ title, expanded, onClick }) => (\n  <button\n    type=\"button\"\n    className=\"adjustment-group__toggle-button\"\n    onClick={onClick}\n    data-testid=\"adjustment-rollup-toggle-button\"\n  >\n    <span\n      aria-hidden=\"true\"\n      data-testid=\"expanded-indicator-icon\"\n      className={`icon-expanded ${expanded ? 'asc' : 'desc'}`}\n    >\n      <Icon\n        name=\"desc\"\n        width=\"10\"\n        className=\"fill icon-orange\"\n        viewBox=\"-4 0 32 32\"\n      />\n    </span>\n    <span>{title}</span>\n  </button>\n);\n\nAdjustmentGroupExpansionButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired\n};\n\nexport default AdjustmentGroupExpansionButton;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { LinkedAdjustmentLinkIcon } from '../LinkedAdjustmentLinkIcon';\n\nconst LinkedAdjustmentIconHeader = ({ hasLinks, hasBrokenLinks, expanded }) => {\n  const showLinkIcon = !expanded && hasLinks;\n\n  if (!showLinkIcon) {\n    return null;\n  }\n\n  return (\n    <LinkedAdjustmentLinkIcon interactive={false} isBroken={hasBrokenLinks} />\n  );\n};\n\nLinkedAdjustmentIconHeader.propTypes = {\n  hasLinks: PropTypes.bool.isRequired,\n  hasBrokenLinks: PropTypes.bool.isRequired,\n  expanded: PropTypes.bool.isRequired\n};\n\nexport default LinkedAdjustmentIconHeader;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialSpacer from '../FinancialSpacer';\nimport FinancialValue from '../FinancialValue';\nimport AdjustmentGroupExpansionButton from './AdjustmentGroupExpansionButton';\nimport { convertTextToId } from './AdjustmentGroupHelpers';\nimport LinkedAdjustmentIconHeader from './LinkedAdjustmentIconHeader';\n\nconst AdjustmentGroupHeader = ({\n  documentCode,\n  group,\n  title,\n  expanded,\n  onClick,\n  totalOverrideValue,\n  timePeriods,\n  hasLinks,\n  hasBrokenLinks,\n  isPublishMode\n}) => {\n  const testId = convertTextToId(title);\n  const { totals } = group;\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  return (\n    <tr\n      className={`adjustment-group group-header${expanded ? ' expanded' : ''}`}\n      role=\"row\"\n      data-testid={`adjustment-group-header-${testId}`}\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {isPublishMode && <span>{title}</span>}\n\n        {!isPublishMode && (\n          <AdjustmentGroupExpansionButton\n            onClick={onClick}\n            title={title}\n            expanded={expanded}\n          />\n        )}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        if (expanded) {\n          return (\n            <FinancialSpacer\n              key={timePeriod}\n              showColumnHighlight={showColumnHighlight}\n            />\n          );\n        }\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totalOverrideValue || totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n\n      {!isPublishMode && (\n        <AdjustmentControlsColumn>\n          <div>&nbsp;</div>\n          <LinkedAdjustmentIconHeader\n            expanded={expanded}\n            hasLinks={hasLinks}\n            hasBrokenLinks={hasBrokenLinks}\n          />\n        </AdjustmentControlsColumn>\n      )}\n    </tr>\n  );\n};\n\nAdjustmentGroupHeader.propTypes = {\n  documentCode: PropTypes.string.isRequired,\n  group: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  onClick: PropTypes.func,\n  totalOverrideValue: PropTypes.string,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  hasLinks: PropTypes.bool.isRequired,\n  hasBrokenLinks: PropTypes.bool.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupHeader.defaultProps = {\n  onClick: () => {},\n  totalOverrideValue: undefined,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupHeader;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialValue from '../FinancialValue';\n\nconst AdjustmentGroupEbitdaContribution = ({\n  rowDescription,\n  totals,\n  timePeriods,\n  isTotalsRowStyle,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  return (\n    <tr\n      role=\"row\"\n      className={`group-ebitda-contribution${\n        isTotalsRowStyle ? ' totals-row' : ''\n      }`}\n      data-testid=\"adjustment-group-ebitda-contribution\"\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {rowDescription}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nAdjustmentGroupEbitdaContribution.propTypes = {\n  rowDescription: PropTypes.string,\n  totals: PropTypes.object,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  isTotalsRowStyle: PropTypes.bool,\n  documentCode: PropTypes.string.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupEbitdaContribution.defaultProps = {\n  rowDescription: '',\n  totals: {},\n  isTotalsRowStyle: false,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupEbitdaContribution;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialValue from '../FinancialValue';\n\nconst AdjustmentGroupWorkingCapitalContribution = ({\n  rowDescription,\n  totals,\n  timePeriods,\n  isTotalsRowStyle,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  return (\n    <tr\n      role=\"row\"\n      className={`group-capital-contribution${\n        isTotalsRowStyle ? ' totals-row' : ''\n      }`}\n      data-testid=\"adjustment-group-capital-contribution\"\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {rowDescription}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nAdjustmentGroupWorkingCapitalContribution.propTypes = {\n  rowDescription: PropTypes.string,\n  totals: PropTypes.object,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  isTotalsRowStyle: PropTypes.bool,\n  documentCode: PropTypes.string.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupWorkingCapitalContribution.defaultProps = {\n  rowDescription: '',\n  totals: {},\n  isTotalsRowStyle: false,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupWorkingCapitalContribution;\n","/* eslint-disable react/forbid-prop-types */\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport {\n  LABEL_KEY,\n  TOTALS_KEY\n} from '../../../../../common/engine/utilities/constants';\nimport {\n  descriptionResetToBasisOfPresentation,\n  setDescriptorForAdjustmentThunk\n} from '../../../../../common/engine/reducers/structuredDocumentDescriptionSlice';\nimport { getAreAdjustmentsToggledFromDefault } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport { getIsViewingToggled } from '../../../../../common/engine/reducers/calcEngine';\nimport AdjustmentGroupDetails from './AdjustmentGroupDetails';\nimport { getGroupLinksDescriptor } from './AdjustmentGroupHelpers';\nimport AdjustmentGroupHeader from './AdjustmentGroupHeader';\nimport AdjustmentGroupEbitdaContribution from './AdjustmentGroupEbitdaContribution';\nimport AdjustmentGroupWorkingCapitalContribution from './AdjustmentGroupWorkingCapitalContribution';\n\nconst AdjustmentGroup = ({\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  group,\n  groupName,\n  timePeriods,\n  ebitdaContributions,\n  workingCapitalContributions,\n  totalOverrideValue,\n  linkedAdjustments,\n  showToggles,\n  adjustmentToggles,\n  isLastGroup,\n  showTotalRow,\n  targetAdjustmentType,\n  targetAdjustmentName,\n  nameOfAdjustmentToExpand,\n  isPublishMode\n}) => {\n  const dispatch = useDispatch();\n  const renderCount = useRef(1);\n  const [isExpanded, setIsExpanded] = useState(\n    targetAdjustmentType === groupName ||\n      nameOfAdjustmentToExpand === 'all' ||\n      nameOfAdjustmentToExpand === groupName\n  );\n  const toggleExpanded = () => {\n    if (isExpanded) {\n      dispatch(descriptionResetToBasisOfPresentation());\n    }\n    setIsExpanded(isExpandedPrev => !isExpandedPrev);\n  };\n\n  useEffect(() => {\n    if (isPublishMode) {\n      if (\n        nameOfAdjustmentToExpand === 'all' ||\n        nameOfAdjustmentToExpand === groupName\n      ) {\n        setIsExpanded(true);\n      }\n    }\n  }, [nameOfAdjustmentToExpand, isPublishMode, setIsExpanded, groupName]);\n\n  useEffect(() => {\n    renderCount.current += 1;\n  });\n\n  if (\n    renderCount.current === 1 &&\n    targetAdjustmentType !== null &&\n    targetAdjustmentName !== null\n  ) {\n    dispatch(\n      setDescriptorForAdjustmentThunk(\n        targetAdjustmentType,\n        targetAdjustmentName,\n        documentCode,\n        projectId,\n        contentId,\n        contentVersionNumber\n      )\n    );\n  }\n\n  const groupLinksDescriptor = getGroupLinksDescriptor(\n    groupName,\n    linkedAdjustments\n  );\n\n  const areAdjustmentsToggledFromDefault = useSelector(\n    getAreAdjustmentsToggledFromDefault\n  );\n\n  const isViewingToggled = useSelector(getIsViewingToggled);\n\n  const disableAllToggles =\n    areAdjustmentsToggledFromDefault && !isViewingToggled;\n\n  return (\n    <>\n      <AdjustmentGroupHeader\n        documentCode={documentCode}\n        group={group}\n        title={groupName}\n        expanded={isExpanded}\n        onClick={toggleExpanded}\n        totalOverrideValue={totalOverrideValue}\n        timePeriods={timePeriods}\n        hasLinks={groupLinksDescriptor.hasLinks}\n        hasBrokenLinks={groupLinksDescriptor.hasBrokenLinks}\n        isPublishMode={isPublishMode}\n      />\n      {isExpanded && (\n        <AdjustmentGroupDetails\n          projectId={projectId}\n          documentCode={documentCode}\n          contentId={contentId}\n          contentVersionNumber={contentVersionNumber}\n          group={group}\n          groupName={groupName}\n          showTotalRow={showTotalRow}\n          totalOverrideValue={totalOverrideValue}\n          timePeriods={timePeriods}\n          showToggles={showToggles}\n          adjustmentToggles={adjustmentToggles}\n          disableAllToggles={disableAllToggles}\n          linkedAdjustments={linkedAdjustments}\n          isPublishMode={isPublishMode}\n        />\n      )}\n      {ebitdaContributions[groupName] && (\n        <AdjustmentGroupEbitdaContribution\n          timePeriods={timePeriods}\n          rowDescription={ebitdaContributions[groupName][LABEL_KEY]}\n          totals={ebitdaContributions[groupName][TOTALS_KEY]}\n          isTotalsRowStyle={isLastGroup}\n          documentCode={documentCode}\n          isPublishMode={isPublishMode}\n        />\n      )}\n      {workingCapitalContributions[groupName] && (\n        <AdjustmentGroupWorkingCapitalContribution\n          timePeriods={timePeriods}\n          rowDescription={workingCapitalContributions[groupName][LABEL_KEY]}\n          totals={workingCapitalContributions[groupName][TOTALS_KEY]}\n          isTotalsRowStyle={isLastGroup}\n          documentCode={documentCode}\n          isPublishMode={isPublishMode}\n        />\n      )}\n    </>\n  );\n};\n\nAdjustmentGroup.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  group: PropTypes.object.isRequired,\n  groupName: PropTypes.string.isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  ebitdaContributions: PropTypes.object,\n  workingCapitalContributions: PropTypes.object,\n  totalOverrideValue: PropTypes.string,\n  linkedAdjustments: PropTypes.arrayOf(linkedAdjustmentsShape),\n  showToggles: PropTypes.bool,\n  adjustmentToggles: PropTypes.object,\n  isLastGroup: PropTypes.bool,\n  showTotalRow: PropTypes.bool,\n  isPublishMode: PropTypes.bool,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string\n};\n\nAdjustmentGroup.defaultProps = {\n  ebitdaContributions: {},\n  workingCapitalContributions: {},\n  totalOverrideValue: undefined,\n  linkedAdjustments: [],\n  showToggles: true,\n  adjustmentToggles: {},\n  isLastGroup: false,\n  showTotalRow: true,\n  isPublishMode: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null\n};\n\nexport default AdjustmentGroup;\n","/* eslint-disable react/forbid-prop-types */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport AdjustmentGroup from './AdjustmentGroup';\n\nconst AdjustmentGroupForMode = ({\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  group,\n  groupName,\n  timePeriods,\n  ebitdaContributions,\n  workingCapitalContributions,\n  totalOverrideValue,\n  linkedAdjustments,\n  showToggles,\n  adjustmentToggles,\n  isLastGroup,\n  showTotalRow,\n  targetAdjustmentType,\n  targetAdjustmentName,\n  nameOfAdjustmentToExpand,\n  isPublishMode\n}) => {\n  const linkedAdjustmentsForMode = isPublishMode ? [] : linkedAdjustments;\n  const showTogglesForMode = isPublishMode ? false : showToggles;\n  const adjustmentTogglesForMode = isPublishMode ? {} : adjustmentToggles;\n\n  return (\n    <AdjustmentGroup\n      projectId={projectId}\n      documentCode={documentCode}\n      contentId={contentId}\n      contentVersionNumber={contentVersionNumber}\n      group={group}\n      groupName={groupName}\n      timePeriods={timePeriods}\n      ebitdaContributions={ebitdaContributions}\n      workingCapitalContributions={workingCapitalContributions}\n      linkedAdjustments={linkedAdjustmentsForMode}\n      totalOverrideValue={totalOverrideValue}\n      showToggles={showTogglesForMode}\n      adjustmentToggles={adjustmentTogglesForMode}\n      isLastGroup={isLastGroup}\n      showTotalRow={showTotalRow}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n      isPublishMode={isPublishMode}\n    />\n  );\n};\n\nAdjustmentGroupForMode.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  group: PropTypes.object.isRequired,\n  groupName: PropTypes.string.isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  ebitdaContributions: PropTypes.object,\n  workingCapitalContributions: PropTypes.object,\n  totalOverrideValue: PropTypes.string,\n  linkedAdjustments: PropTypes.arrayOf(linkedAdjustmentsShape),\n  showToggles: PropTypes.bool,\n  adjustmentToggles: PropTypes.object,\n  isLastGroup: PropTypes.bool,\n  showTotalRow: PropTypes.bool,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupForMode.defaultProps = {\n  ebitdaContributions: {},\n  workingCapitalContributions: {},\n  totalOverrideValue: undefined,\n  linkedAdjustments: [],\n  showToggles: true,\n  adjustmentToggles: {},\n  isLastGroup: false,\n  showTotalRow: true,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupForMode;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport classnames from 'classnames';\nimport { COLUMN_HIGHLIGHT_CLASS } from '../../../../common/engine/utilities/constants';\nimport {\n  financialValue,\n  getFinancialScale,\n  isLastNPeriodLabel\n} from '../../../../common/services/textService';\nimport { getProjectFinancials } from '../../../project/projectSlice';\nimport AdjustmentControlsColumn from './AdjustmentControlsColumn';\n\nconst FinancialHeader = ({ text, showColumnHighlight = false }) => {\n  const cellClassNames = classnames('financial-value', {\n    [COLUMN_HIGHLIGHT_CLASS]: showColumnHighlight\n  });\n\n  return (\n    <th\n      role=\"columnheader\"\n      scope=\"col\"\n      className={cellClassNames}\n      data-testid=\"table-header-cell\"\n    >\n      {financialValue(text)}\n    </th>\n  );\n};\n\nconst OverallTableHeader = ({ timePeriods, documentCode, isPublishMode }) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  const financialsDisplaySettings = useSelector(\n    getProjectFinancials,\n    shallowEqual\n  );\n\n  return (\n    <tr className=\"table-headers\" role=\"row\" data-testid=\"table-headers\">\n      <th\n        scope=\"col\"\n        className=\"row-description\"\n        data-testid=\"table-header-cell\"\n        role=\"columnheader\"\n      >\n        {getFinancialScale(financialsDisplaySettings)}\n      </th>\n      {timePeriods.map(period => {\n        const isLastNPeriod = isLastNPeriodLabel(period);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n        return (\n          <FinancialHeader\n            text={period}\n            key={`tph-${period}`}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && (\n        <AdjustmentControlsColumn role=\"columnheader\" scope=\"col\" />\n      )}\n    </tr>\n  );\n};\n\nOverallTableHeader.propTypes = {\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  documentCode: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nOverallTableHeader.defaultProps = {\n  documentCode: '',\n  isPublishMode: false\n};\n\nexport default OverallTableHeader;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { EMPTY_DATA_MARKER } from '../../../../common/engine/utilities/constants';\nimport { isLastNPeriodLabel } from '../../../../common/services/textService';\nimport AdjustmentControlsColumn from './AdjustmentControlsColumn';\nimport FinancialValue from './FinancialValue';\n\nconst ReportedFinancials = ({\n  testId,\n  rowText,\n  financials,\n  timePeriods,\n  className,\n  emptyDataMarker = EMPTY_DATA_MARKER,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  return (\n    <tr\n      role=\"row\"\n      className={`reported-financials ${className}`}\n      data-testid={testId}\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {rowText}\n      </th>\n\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            text={financials[timePeriod]}\n            key={`reportedFinancialsColumnValue-${timePeriod}`}\n            emptyDataMarker={emptyDataMarker}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nexport default ReportedFinancials;\n\nReportedFinancials.propTypes = {\n  testId: PropTypes.string,\n  rowText: PropTypes.string.isRequired,\n  financials: PropTypes.shape({}).isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  className: PropTypes.string,\n  emptyDataMarker: PropTypes.string,\n  documentCode: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nReportedFinancials.defaultProps = {\n  testId: 'reported-financials',\n  className: '',\n  emptyDataMarker: EMPTY_DATA_MARKER,\n  documentCode: '',\n  isPublishMode: false\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useSelector } from 'react-redux';\nimport { getLinkedAdjustmentsAsSourceForDdl } from '../../../../../common/engine/selectors/adjustmentLinkSelectors';\nimport {\n  getNetDebtAndDebtLikeForDdl,\n  getNetDebtForDdl,\n  getTableReadyAdjustmentSumsNotParticipatingInCalculationsForDdl,\n  getTableReadyBankDebtAdjustmentSumsForDdl,\n  getTableReadyDebtLikeItemAdjustmentSumsForDdl,\n  getTableReadyLessCashAdjustmentSumsForDdl\n} from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport { getAdjustmentTogglesForDdl } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport { getTimePeriodsForDdl } from '../../../../../common/engine/selectors/timePeriodSelectors';\nimport {\n  NET_DEBT_AND_DEBT_LIKE_KEY,\n  NET_DEBT_KEY,\n  OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT\n} from '../../../../../common/engine/utilities/constants';\nimport AdjustmentGroupForMode from '../../common/AdjustmentGroup/AdjustmentGroupForMode';\nimport OverallTableHeader from '../../common/OverallTableHeader';\nimport ReportedFinancials from '../../common/ReportedFinancials';\n\nconst DebtDebtLikeTable = ({\n  isClientView,\n  contentVersionNumber,\n  contentId,\n  projectId,\n  forUseWithPublishingSSRService,\n  nameOfAdjustmentToExpand,\n  targetAdjustmentType,\n  targetAdjustmentName\n}) => {\n  const ddlFinancialPeriods = useSelector(getTimePeriodsForDdl);\n  const bankDebtAdjustmentSums = useSelector(\n    getTableReadyBankDebtAdjustmentSumsForDdl\n  );\n  const lessCashAdjustmentSums = useSelector(\n    getTableReadyLessCashAdjustmentSumsForDdl\n  );\n  const netDebt = useSelector(getNetDebtForDdl);\n  const debtLikeItemAdjustmentSums = useSelector(\n    getTableReadyDebtLikeItemAdjustmentSumsForDdl\n  );\n  const netDebtAndDebtLike = useSelector(getNetDebtAndDebtLikeForDdl);\n  const notParticipatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsNotParticipatingInCalculationsForDdl\n  );\n  const ddlAdjustmentToggles = useSelector(getAdjustmentTogglesForDdl);\n  const links = useSelector(getLinkedAdjustmentsAsSourceForDdl);\n  const linkedAdjustments = links.filter(\n    link => !isClientView || !link.isBroken\n  );\n  const isPublishMode = forUseWithPublishingSSRService;\n\n  return (\n    <table\n      role=\"table\"\n      className=\"analysis-table\"\n      data-testid=\"structured-analysis-view-DDL\"\n      aria-label=\"Debt and Debt Like\"\n    >\n      <thead>\n        <OverallTableHeader\n          timePeriods={ddlFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n      </thead>\n      <tbody>\n        {bankDebtAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={ddlAdjustmentToggles}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        {lessCashAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={ddlAdjustmentToggles}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        <ReportedFinancials\n          rowText={NET_DEBT_KEY}\n          financials={netDebt}\n          timePeriods={ddlFinancialPeriods}\n          testId=\"net-debt\"\n          className=\"net-debt\"\n          isPublishMode={isPublishMode}\n        />\n        {debtLikeItemAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={ddlAdjustmentToggles}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        <ReportedFinancials\n          rowText={NET_DEBT_AND_DEBT_LIKE_KEY}\n          financials={netDebtAndDebtLike}\n          timePeriods={ddlFinancialPeriods}\n          testId=\"net-debt-and-debt-like\"\n          className=\"net-debt\"\n          isPublishMode={isPublishMode}\n        />\n        {notParticipatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            totalOverrideValue={OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT}\n            showToggles={false}\n            showTotalRow={false}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nDebtDebtLikeTable.propTypes = {\n  isClientView: PropTypes.bool,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  forUseWithPublishingSSRService: PropTypes.bool\n};\n\nDebtDebtLikeTable.defaultProps = {\n  isClientView: false,\n  nameOfAdjustmentToExpand: null,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  forUseWithPublishingSSRService: false\n};\n\nexport default DebtDebtLikeTable;\n","/* eslint-disable react/no-this-in-sfc */\nimport React, { useEffect, useState } from 'react';\nimport _keys from 'lodash/keys';\nimport * as Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport highchartsMore from 'highcharts/highcharts-more';\nimport highchartsAccessibility from 'highcharts/modules/accessibility';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { makeDefaultNwcChartOptions } from '../../../../../common/charts/highchart-utilities';\nimport { lineGlobalColors } from '../../../../../common/charts/types/highchartsColorTheme';\nimport { getChartTimePeriodsAdjustedWorkingCapitalForNwc } from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport {\n  financialValue,\n  getFinancialScale\n} from '../../../../../common/services/textService';\nimport { getProjectFinancials } from '../../../../project/projectSlice';\nimport './NetWorkingCapitalChart.scss';\n\nconst NetWorkingCapitalChart = () => {\n  highchartsAccessibility(Highcharts);\n  highchartsMore(Highcharts);\n  Highcharts.setOptions({\n    colors: lineGlobalColors\n  });\n\n  const [chartOptions, setChartOptions] = useState(\n    makeDefaultNwcChartOptions(0)\n  );\n\n  const financialsDisplaySettings = useSelector(\n    getProjectFinancials,\n    shallowEqual\n  );\n  const chartPeriodsAdjustedWorkingCapital = useSelector(\n    getChartTimePeriodsAdjustedWorkingCapitalForNwc\n  );\n\n  useEffect(() => {\n    const seriesData = _keys(chartPeriodsAdjustedWorkingCapital).map(\n      period => ({\n        y: chartPeriodsAdjustedWorkingCapital[period],\n        accessibility: { description: period }\n      })\n    );\n\n    setChartOptions({\n      subtitle: {\n        text: getFinancialScale(financialsDisplaySettings)\n      },\n      xAxis: {\n        categories: _keys(chartPeriodsAdjustedWorkingCapital)\n      },\n      series: [\n        {\n          name: 'Adjusted Working Capital',\n          color: Highcharts.getOptions().colors[3],\n          data: seriesData\n        }\n      ],\n      legend: {\n        enabled: false\n      },\n      tooltip: {\n        enabled: true,\n        useHTML: true,\n        style: {\n          fontFamily: 'Helvetica',\n          lineHeight: '1.4rem'\n        },\n        formatter() {\n          const timePeriod = this.x;\n          const nwcValue = financialValue(this.y, {\n            decimalCount: financialsDisplaySettings.financialsDecimalCount\n          });\n\n          return `${timePeriod}<br/><b>${nwcValue}</b>`;\n        }\n      }\n    });\n  }, [financialsDisplaySettings, chartPeriodsAdjustedWorkingCapital]);\n\n  return (\n    <div data-testid=\"networking-capital-chart\" className=\"nwc-chart-container\">\n      <HighchartsReact highcharts={Highcharts} options={chartOptions} />\n    </div>\n  );\n};\n\nexport default NetWorkingCapitalChart;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../common/services/textService';\nimport AdjustmentControlsColumn from './AdjustmentControlsColumn';\nimport FinancialSpacer from './FinancialSpacer';\n\nconst FinalBorderRow = ({ timePeriods, documentCode, isPublishMode }) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  return (\n    <tr role=\"row\" className=\"final-border-row\">\n      <td className=\"row-description final-row\" />\n\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialSpacer\n            showColumnHighlight={showColumnHighlight}\n            key={timePeriod}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nexport default FinalBorderRow;\n\nFinalBorderRow.propTypes = {\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  documentCode: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nFinalBorderRow.defaultProps = {\n  documentCode: '',\n  isPublishMode: false\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { getLinkedAdjustmentsAsSourceForNwc } from '../../../../../common/engine/selectors/adjustmentLinkSelectors';\nimport {\n  getAdjustmentTypesWorkingCapitalContributionForNwc,\n  getTableReadyAdjustmentSumsParticipatingInCalculationsForNwc,\n  getTableReadyAdjustmentSumsNotParticipatingInCalculationsForNwc\n} from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport { getAdjustmentTogglesForNwc } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport FinalBorderRow from '../../common/FinalBorderRow';\nimport OverallTableHeader from '../../common/OverallTableHeader';\nimport { getActiveTableTimePeriodsForNwc } from '../../../../../common/engine/selectors/timePeriodSelectors';\nimport {\n  CURRENT_ASSETS_KEY,\n  CURRENT_LIABILITIES_KEY,\n  OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT\n} from '../../../../../common/engine/utilities/constants';\nimport ReportedFinancials from '../../common/ReportedFinancials';\nimport {\n  getCurrentAssets,\n  getCurrentLiabilities,\n  getReportedWorkingCapital\n} from '../../../../../common/engine/selectors/factCalculationsSelectors';\nimport AdjustmentGroupForMode from '../../common/AdjustmentGroup/AdjustmentGroupForMode';\n\nconst NetWorkingCapitalTable = ({\n  isClientView,\n  contentVersionNumber,\n  contentId,\n  projectId,\n  forUseWithPublishingSSRService,\n  nameOfAdjustmentToExpand,\n  targetAdjustmentType,\n  targetAdjustmentName\n}) => {\n  const nwcTableViewTimePeriods = useSelector(getActiveTableTimePeriodsForNwc);\n  const participatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsParticipatingInCalculationsForNwc\n  );\n  const notParticipatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsNotParticipatingInCalculationsForNwc\n  );\n  const adjustmentTypesWorkingCapitalContribution = useSelector(\n    getAdjustmentTypesWorkingCapitalContributionForNwc\n  );\n  const currentAssets = useSelector(getCurrentAssets);\n  const currentLiabilities = useSelector(getCurrentLiabilities);\n  const reportedWorkingCapital = useSelector(getReportedWorkingCapital);\n  const nwcAdjustmentToggles = useSelector(getAdjustmentTogglesForNwc);\n  const links = useSelector(getLinkedAdjustmentsAsSourceForNwc);\n  const linkedAdjustments = links.filter(\n    link => !isClientView || !link.isBroken\n  );\n  const isPublishMode = forUseWithPublishingSSRService;\n\n  return (\n    <table\n      role=\"table\"\n      className=\"analysis-table\"\n      data-testid=\"structured-analysis-view-NWC\"\n      aria-label=\"Net Working Capital\"\n    >\n      <thead>\n        <OverallTableHeader\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n      </thead>\n      <tbody>\n        <ReportedFinancials\n          testId=\"current-assets\"\n          rowText={CURRENT_ASSETS_KEY}\n          financials={currentAssets}\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n        <ReportedFinancials\n          testId=\"current-liabilities\"\n          rowText={CURRENT_LIABILITIES_KEY}\n          financials={currentLiabilities}\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n        <ReportedFinancials\n          testId=\"reported-working-capital\"\n          rowText=\"Reported Working Capital\"\n          financials={reportedWorkingCapital}\n          timePeriods={nwcTableViewTimePeriods}\n          className=\"reported-working-capital\"\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n\n        {participatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.NET_WORKING_CAPITAL}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={nwcTableViewTimePeriods}\n            workingCapitalContributions={\n              adjustmentTypesWorkingCapitalContribution\n            }\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={nwcAdjustmentToggles}\n            isLastGroup={adjustmentTypeGroup.isLastGroup}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        {notParticipatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.NET_WORKING_CAPITAL}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={nwcTableViewTimePeriods}\n            linkedAdjustments={linkedAdjustments}\n            totalOverrideValue={OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT}\n            showToggles={false}\n            showTotalRow={false}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        <FinalBorderRow\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n      </tbody>\n    </table>\n  );\n};\n\nNetWorkingCapitalTable.propTypes = {\n  isClientView: PropTypes.bool,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  forUseWithPublishingSSRService: PropTypes.bool\n};\n\nNetWorkingCapitalTable.defaultProps = {\n  isClientView: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null,\n  forUseWithPublishingSSRService: false\n};\n\nexport default NetWorkingCapitalTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextUtilities } from '@pwc/pwc-deals-web-common';\nimport { valueAsPercent } from '../../../../../common/services/textService';\nimport { EMPTY_DATA_MARKER } from '../../../../../common/engine/utilities/constants';\nimport AdjustmentControlsColumn from '../../common/AdjustmentControlsColumn';\n\nconst displayAsPercent = (value, emptyDataMarker) =>\n  value ? valueAsPercent(value) : emptyDataMarker;\n\nconst PercentageRow = ({\n  rowText,\n  financials,\n  timePeriods,\n  emptyDataMarker,\n  isPublishMode\n}) => {\n  return (\n    <tr\n      role=\"row\"\n      className=\"percent-of-revenue\"\n      data-testid={`percent-of-${TextUtilities.slugify(rowText)}`}\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {`As a % of ${rowText}`}\n      </th>\n\n      {timePeriods.map((value, index) => (\n        <td\n          data-testid={`percent-of-${TextUtilities.slugify(\n            rowText\n          )}-column-value`}\n          // eslint-disable-next-line react/no-array-index-key\n          key={`PercentageRowColumnValue-${value}-${index}`}\n          role=\"cell\"\n          className=\"financial-value\"\n        >\n          {displayAsPercent(financials[value], emptyDataMarker)}\n        </td>\n      ))}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nPercentageRow.propTypes = {\n  rowText: PropTypes.string.isRequired,\n  financials: PropTypes.shape({}).isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  emptyDataMarker: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nPercentageRow.defaultProps = {\n  emptyDataMarker: EMPTY_DATA_MARKER,\n  isPublishMode: false\n};\n\nexport default PercentageRow;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { getLinkedAdjustmentsAsSourceForQofE } from '../../../../../common/engine/selectors/adjustmentLinkSelectors';\nimport {\n  getAdjustmentTypesEbitdaContributionForQofE,\n  getTableReadyAdjustmentSumsNotParticipatingInCalculationsForQofE,\n  getTableReadyAdjustmentSumsParticipatingInCalculationsForQofE\n} from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport { getAdjustmentTogglesForQofE } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport {\n  getPercentOfRevenue,\n  getPercentOfAdjustedRevenue,\n  getAdjustedRevenue\n} from '../../../../../common/engine/selectors/aggregatorSelectors';\nimport {\n  getReportedEbitda,\n  getReportedRevenue\n} from '../../../../../common/engine/selectors/factCalculationsSelectors';\nimport { getTimePeriodsForQofE } from '../../../../../common/engine/selectors/timePeriodSelectors';\nimport {\n  ADJUSTED_REVENUE_KEY,\n  OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT,\n  REPORTED_EBITDA_KEY,\n  REPORTED_REVENUE_KEY\n} from '../../../../../common/engine/utilities/constants';\nimport OverallTableHeader from '../../common/OverallTableHeader';\nimport ReportedFinancials from '../../common/ReportedFinancials';\nimport PercentageRow from './PercentageRow';\nimport AdjustmentGroupForMode from '../../common/AdjustmentGroup/AdjustmentGroupForMode';\n\nconst QofETable = ({\n  isClientView,\n  contentVersionNumber,\n  contentId,\n  projectId,\n  forUseWithPublishingSSRService,\n  nameOfAdjustmentToExpand,\n  targetAdjustmentType,\n  targetAdjustmentName\n}) => {\n  const qofeFinancialPeriods = useSelector(getTimePeriodsForQofE);\n  const reportedRevenue = useSelector(getReportedRevenue);\n  const adjustedRev = useSelector(getAdjustedRevenue);\n  const reportedEbitda = useSelector(getReportedEbitda);\n  const adjustmentTypesEbitdaContribution = useSelector(\n    getAdjustmentTypesEbitdaContributionForQofE\n  );\n  const percentOfRevenue = useSelector(getPercentOfRevenue);\n  const percentOfAdjustedRevenue = useSelector(getPercentOfAdjustedRevenue);\n  const participatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsParticipatingInCalculationsForQofE\n  );\n  const notParticipatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsNotParticipatingInCalculationsForQofE\n  );\n  const qofeAdjustmentToggles = useSelector(getAdjustmentTogglesForQofE);\n\n  const links = useSelector(getLinkedAdjustmentsAsSourceForQofE);\n  const linkedAdjustments = links.filter(\n    link => !isClientView || !link.isBroken\n  );\n  const isPublishMode = forUseWithPublishingSSRService;\n\n  return (\n    <table\n      role=\"table\"\n      className=\"analysis-table\"\n      data-testid=\"structured-analysis-view-QofE\"\n      aria-label=\"Quality of Earnings\"\n    >\n      <thead>\n        <OverallTableHeader\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n      </thead>\n      <tbody>\n        <ReportedFinancials\n          testId=\"reported-revenue\"\n          rowText={REPORTED_REVENUE_KEY}\n          financials={reportedRevenue}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        <ReportedFinancials\n          testId=\"adjusted-revenue\"\n          rowText={ADJUSTED_REVENUE_KEY}\n          financials={adjustedRev}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        <ReportedFinancials\n          testId=\"reported-ebitda\"\n          rowText={REPORTED_EBITDA_KEY}\n          financials={reportedEbitda}\n          timePeriods={qofeFinancialPeriods}\n          className=\"reported-ebitda\"\n          isPublishMode={isPublishMode}\n        />\n\n        <PercentageRow\n          rowText=\"Reported Revenue\"\n          financials={percentOfRevenue}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        {participatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.QUALITY_OF_EARNINGS}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={qofeFinancialPeriods}\n            ebitdaContributions={adjustmentTypesEbitdaContribution}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={qofeAdjustmentToggles}\n            isLastGroup={adjustmentTypeGroup.isLastGroup}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n\n        <PercentageRow\n          rowText=\"Adjusted Revenue\"\n          financials={percentOfAdjustedRevenue}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        {notParticipatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.QUALITY_OF_EARNINGS}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={qofeFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            totalOverrideValue={OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT}\n            showToggles={false}\n            showTotalRow={false}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nQofETable.propTypes = {\n  isClientView: PropTypes.bool,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  forUseWithPublishingSSRService: PropTypes.bool\n};\n\nQofETable.defaultProps = {\n  isClientView: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null,\n  forUseWithPublishingSSRService: false\n};\n\nexport default QofETable;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport _get from 'lodash/get';\nimport QofEBridgeChart from '../../../../../common/charts/types/QofEBridgeChart';\nimport DebtDebtLikeTable from '../../DebtDebtLike/DebtDebtLikeTable/DebtDebtLikeTable';\nimport NetWorkingCapitalChart from '../../NetWorkingCapital/charts/NetWorkingCapitalChart';\nimport NetWorkingCapitalTable from '../../NetWorkingCapital/NetWorkingCapitalTable/NetWorkingCapitalTable';\nimport QofETable from '../../QofE/QofETable/QofETable';\n\nconst NullComponent = () => null;\nconst tableComponent = 'tableComponent';\nconst chartComponent = 'chartComponent';\n\nconst structuredComponentToDocumentCodeMap = {\n  [Constants.QUALITY_OF_EARNINGS]: {\n    [tableComponent]: QofETable,\n    [chartComponent]: QofEBridgeChart\n  },\n  [Constants.NET_WORKING_CAPITAL]: {\n    [tableComponent]: NetWorkingCapitalTable,\n    [chartComponent]: NetWorkingCapitalChart\n  },\n  [Constants.DEBT_AND_DEBT_LIKE]: {\n    [tableComponent]: DebtDebtLikeTable,\n    [chartComponent]: NullComponent\n  }\n};\n\nexport const tableForDocumentCode = documentCode =>\n  _get(\n    structuredComponentToDocumentCodeMap,\n    [documentCode, tableComponent],\n    NullComponent\n  );\n\nexport const chartForDocumentCode = documentCode =>\n  _get(\n    structuredComponentToDocumentCodeMap,\n    [documentCode, chartComponent],\n    NullComponent\n  );\n","/* eslint-disable react/forbid-prop-types */\nimport { Loader, TriPane } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport ModalConfirmation from '../../../../../common/components/ModalConfirmation';\nimport SourceDisplay from '../../../../../common/components/SourceDisplay/SourceDisplay';\nimport { STRUCTURED_DISPLAY_NAME_BY_CODE } from '../../../../../common/engine/utilities/constants';\nimport ConnectedContent from '../../../../narratives/ConnectedContent/ConnectedContent';\nimport AnalysisControlsHeader from '../../../common/AnalysisControlsHeader';\nimport NotesDisplay from '../../../common/NotesDisplay/NotesDisplay';\nimport TagList from '../../../common/TagList/TagList';\nimport ClientManipulationBar from '../../ClientManipulationBar/ClientManipulationBar';\nimport AnalysisDescription from '../AnalysisDescription/AnalysisDescription';\nimport StructuredAnalysisErrorCard from '../StructuredAnalysisErrorCard/StructuredAnalysisErrorCard';\nimport StructuredAnalysisHeader from '../StructuredAnalysisHeader/StructuredAnalysisHeader';\nimport {\n  chartForDocumentCode,\n  tableForDocumentCode\n} from './structuredComponentToDocumentCodeMap';\nimport './StructuredAnalysisView.scss';\n\nconst StructuredAnalysisView = ({\n  projectId,\n  documentCode,\n  hasError,\n  isLoading,\n  isConfirmVisible,\n  setIsConfirmVisible,\n  handleDelete,\n  chartKey,\n  incrementChartKey,\n  analysis,\n  workflowActions,\n  handleRefresh,\n  handleEdit,\n  versions,\n  viewClient,\n  isClientView,\n  targetAdjustmentType,\n  targetAdjustmentName,\n  initialPaneOneAvailable,\n  initialPaneTwoAvailable,\n  initialPaneThreeAvailable\n}) => {\n  const TableComponent = tableForDocumentCode(documentCode);\n  const ChartComponent = chartForDocumentCode(documentCode);\n\n  if (hasError) {\n    return <StructuredAnalysisErrorCard />;\n  }\n\n  if (isLoading) {\n    return <Loader dataTestId=\"structured-loading-indicator\" />;\n  }\n\n  return analysis ? (\n    <>\n      <ModalConfirmation\n        show={isConfirmVisible}\n        onCancel={() => setIsConfirmVisible(false)}\n        onConfirm={handleDelete}\n        confirmTitle={`Confirm ${STRUCTURED_DISPLAY_NAME_BY_CODE[documentCode]} Delete`}\n        confirmationMessage=\"This Analysis will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <TriPane\n        onChange={incrementChartKey}\n        initialPaneOneAvailable={initialPaneOneAvailable}\n        initialPaneTwoAvailable={initialPaneTwoAvailable}\n        initialPaneThreeAvailable={initialPaneThreeAvailable}\n      >\n        <AnalysisControlsHeader\n          isShared={analysis.shareWithAll}\n          workflowActions={workflowActions}\n          onRefresh={handleRefresh}\n          onEdit={handleEdit}\n          onDelete={() => setIsConfirmVisible(true)}\n          versions={versions}\n          analysis={analysis}\n          viewClient={viewClient}\n        >\n          <TriPane.Controls />\n        </AnalysisControlsHeader>\n\n        <div className=\"structured-analysis-view\">\n          <div className=\"tri-pane-container\" data-testid=\"tri-pane-display\">\n            <TriPane.HeaderContent>\n              <StructuredAnalysisHeader\n                title={STRUCTURED_DISPLAY_NAME_BY_CODE[documentCode]}\n                projectId={projectId}\n                analysis={analysis}\n                isOnClientVersion={viewClient.isOnClientVersion}\n              />\n            </TriPane.HeaderContent>\n            <TriPane.PaneOne>\n              <div className=\"scrollable structured-table\">\n                <TableComponent\n                  isClientView={isClientView}\n                  contentId={analysis.contentThreadId}\n                  contentVersionNumber={analysis.versionNumber}\n                  projectId={projectId}\n                  targetAdjustmentType={targetAdjustmentType}\n                  targetAdjustmentName={targetAdjustmentName}\n                />\n              </div>\n            </TriPane.PaneOne>\n            <TriPane.PaneTwo>\n              <ChartComponent key={chartKey} />\n            </TriPane.PaneTwo>\n            <TriPane.PaneThree>\n              <AnalysisDescription\n                isViewingSharedVersion={\n                  analysis.versionStatus ===\n                  Constants.VERSION_STATUS.SHARED.value\n                }\n                lightModeVariant\n              />\n            </TriPane.PaneThree>\n            <TriPane.SourceContent>\n              <SourceDisplay sourceText={analysis.source} />\n              <NotesDisplay text={analysis.notes} />\n              <TagList tags={analysis.tags} testId=\"analysis-tag-list\" />\n            </TriPane.SourceContent>\n          </div>\n        </div>\n      </TriPane>\n      <ConnectedContent\n        classModifier=\"structured-analysis\"\n        projectId={projectId}\n        contentId={analysis.contentId}\n      />\n      <ClientManipulationBar />\n    </>\n  ) : null;\n};\n\nStructuredAnalysisView.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  hasError: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  isConfirmVisible: PropTypes.bool.isRequired,\n  setIsConfirmVisible: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  chartKey: PropTypes.number.isRequired,\n  incrementChartKey: PropTypes.func,\n  analysis: PropTypes.object,\n  workflowActions: PropTypes.array.isRequired,\n  handleRefresh: PropTypes.func.isRequired,\n  handleEdit: PropTypes.func.isRequired,\n  versions: PropTypes.array,\n  viewClient: PropTypes.object.isRequired,\n  isClientView: PropTypes.bool,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  initialPaneOneAvailable: PropTypes.bool,\n  initialPaneTwoAvailable: PropTypes.bool,\n  initialPaneThreeAvailable: PropTypes.bool\n};\n\nStructuredAnalysisView.defaultProps = {\n  hasError: false,\n  isLoading: false,\n  analysis: undefined,\n  isClientView: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  initialPaneOneAvailable: true,\n  initialPaneTwoAvailable: true,\n  initialPaneThreeAvailable: true,\n  versions: null,\n  incrementChartKey: () => {}\n};\n\nexport default StructuredAnalysisView;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useStructuredAnalysisContainer } from '../../common/hooks/useStructuredAnalysisContainer';\nimport StructuredAnalysisView from '../../common/StructuredAnalysisView/StructuredAnalysisView';\nimport '../../../common/analysis-detail-screen.scss';\n\nconst DebtDebtLikeContainer = () => {\n  const {\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError,\n    analysis,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  } = useStructuredAnalysisContainer(Constants.DEBT_AND_DEBT_LIKE);\n\n  return (\n    <StructuredAnalysisView\n      projectId={projectId}\n      documentCode={Constants.DEBT_AND_DEBT_LIKE}\n      hasError={hasError}\n      isLoading={isLoading}\n      analysis={analysis}\n      viewClient={viewClient}\n      isClientView={isClientView}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      versions={versions}\n      workflowActions={workflowActions}\n      handleEdit={handleEdit}\n      handleRefresh={handleRefresh}\n      handleDelete={handleDelete}\n      isConfirmVisible={isConfirmVisible}\n      setIsConfirmVisible={setIsConfirmVisible}\n      initialPaneTwoAvailable={false}\n      chartKey={chartKey}\n    />\n  );\n};\n\nexport default DebtDebtLikeContainer;\n","import _find from 'lodash/find';\nimport _flatMap from 'lodash/flatMap';\nimport _get from 'lodash/get';\nimport _pipe from 'lodash/fp/pipe';\nimport _values from 'lodash/values';\n\nimport { createSelector } from 'reselect';\nimport { linkedAdjustmentKeyBuilder } from '../utilities/linkedAdjustmentsUtilities';\nimport { LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY } from '../utilities/constants';\nimport { getFlattenAdjustmentObjectsForDocuments } from './adjustmentSelectors';\n\nexport const getLinkedAdjustmentsRoot = state =>\n  state[LINKED_ADJUSTMENTS_BY_DOCUMENT_KEY];\n\nconst getLinkedAdjustmentsNodeForDocumentCode = documentCode =>\n  createSelector(getLinkedAdjustmentsRoot, linkedAdjustments => {\n    return _get(linkedAdjustments, documentCode, []);\n  });\n\nconst buildLinkedAdjustmentAsSourceForDocument = documentCode => la => {\n  const {\n    id,\n    sourceDocumentCode,\n    sourceAdjustmentType,\n    sourceAdjustmentName,\n    sourceAdjustmentNumber,\n    targetDocumentCode,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    targetAdjustmentNumber\n  } = la;\n\n  return {\n    id,\n    sourceAdjustment:\n      documentCode === sourceDocumentCode\n        ? linkedAdjustmentKeyBuilder(\n            sourceDocumentCode,\n            sourceAdjustmentType,\n            sourceAdjustmentNumber,\n            sourceAdjustmentName\n          )\n        : linkedAdjustmentKeyBuilder(\n            targetDocumentCode,\n            targetAdjustmentType,\n            targetAdjustmentNumber,\n            targetAdjustmentName\n          ),\n    targetAdjustment:\n      documentCode === sourceDocumentCode\n        ? linkedAdjustmentKeyBuilder(\n            targetDocumentCode,\n            targetAdjustmentType,\n            targetAdjustmentNumber,\n            targetAdjustmentName\n          )\n        : linkedAdjustmentKeyBuilder(\n            sourceDocumentCode,\n            sourceAdjustmentType,\n            sourceAdjustmentNumber,\n            sourceAdjustmentName\n          )\n  };\n};\n\nexport const getLinkedAdjustmentsByCode = documentCode =>\n  createSelector(\n    getLinkedAdjustmentsNodeForDocumentCode(documentCode),\n    linkedAdjustments => {\n      const builder = buildLinkedAdjustmentAsSourceForDocument(documentCode);\n      return linkedAdjustments.map(builder);\n    }\n  );\n\nexport const getBrokenAdjustmentLinksForSingleAdjustment = adjustmentLinks =>\n  createSelector(getFlattenAdjustmentObjectsForDocuments, allAdjustments => {\n    const missingLinks = [];\n\n    Object.entries(adjustmentLinks).forEach(entry => {\n      const documentCode = entry[0];\n      const linkedAdjustments = entry[1];\n\n      linkedAdjustments.forEach(key => {\n        const spaceIndex = key.indexOf(' ');\n        const adjustmentNumber = key.substring(0, spaceIndex).trim();\n        const adjustmentName = key.substring(spaceIndex).trim();\n\n        const foundAdjustment = _find(allAdjustments, {\n          documentCode,\n          adjustmentNumber,\n          adjustmentName\n        });\n\n        if (!foundAdjustment) {\n          missingLinks.push({\n            documentCode,\n            adjustmentNumber,\n            adjustmentName\n          });\n        }\n      });\n    });\n\n    return missingLinks;\n  });\n\n// TODO: This will be needed for story 2944\nexport const getBrokenAdjustmentLinksForAdjustmentGroup = adjustmentGroupLinks =>\n  createSelector(getFlattenAdjustmentObjectsForDocuments, allAdjustments => {\n    const links = _pipe(_values, _flatMap)(adjustmentGroupLinks);\n    const missingLinks = [];\n\n    links.forEach(val => {\n      const keyParts = val.split('_');\n      const documentCode = keyParts[0];\n      const adjustmentNumber = keyParts[1];\n      const adjustmentName = keyParts[2];\n\n      const foundAdjustment = _find(allAdjustments, {\n        documentCode,\n        adjustmentNumber,\n        adjustmentName\n      });\n\n      if (!foundAdjustment) {\n        missingLinks.push({\n          documentCode,\n          adjustmentNumber,\n          adjustmentName\n        });\n      }\n    });\n\n    return missingLinks;\n  });\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Form } from 'formik';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport PublishButton from '../PublishButton/PublishButton';\nimport './ActiveContentDraftHeader.scss';\nimport ActiveContentHeader from './ActiveContentHeader';\n\nconst ActiveContentDraftHeader = ({\n  onCancel,\n  isSaving,\n  _errors,\n  _touched,\n  isValid,\n  dirty,\n  onSaveText,\n  standbyText,\n  ...rest\n}) => {\n  return (\n    <Form data-testid=\"hypothesis-header\" {...rest}>\n      <ActiveContentHeader>\n        <Button\n          type=\"button\"\n          className=\"button-link button-theme mx-2 mr-4\"\n          onClick={onCancel}\n          data-testid=\"cancel-button-top\"\n        >\n          Cancel\n        </Button>\n        <PublishButton\n          isSaving={isSaving}\n          isValid={isValid}\n          buttonSize=\"button-small\"\n          buttonPosition=\"top\"\n          dirty={dirty}\n          onSaveText={onSaveText}\n          standbyText={standbyText}\n        />\n      </ActiveContentHeader>\n    </Form>\n  );\n};\n\nActiveContentDraftHeader.propTypes = {\n  onCancel: PropTypes.func.isRequired\n};\n\nexport default ActiveContentDraftHeader;\n","import React from 'react';\nimport { TextArea } from '@pwc/pwc-deals-ui';\n\nconst SourceInput = ({ field }) => {\n  return (\n    <>\n      <div data-testid=\"source-input-container\">\n        <TextArea\n          name=\"source\"\n          field={field}\n          label=\"Source\"\n          placeholder=\"Start typing here to give your analysis a source\"\n          helperText=\"Include a description referencing the original data source.\"\n          helperIcon=\"information\"\n          helperIconColor=\"yellow\"\n          maxLength={100}\n          basic\n        />\n      </div>\n    </>\n  );\n};\n\nexport default SourceInput;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Select } from '@pwc/pwc-deals-ui';\nimport { getLibraryItems } from '../libraryItemService';\nimport './LibraryItemSelect.scss';\n\nconst LibraryItemSelect = ({ field }) => {\n  const [libraryItems, setLibraryItems] = useState([]);\n  const { projectId } = useParams();\n\n  useEffect(() => {\n    let isMounted = true;\n    const fetch = async () => {\n      const response = await getLibraryItems(projectId);\n      if (response && isMounted) setLibraryItems(response);\n    };\n    fetch();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [projectId]);\n\n  const groups = [\n    { type: 300, label: 'Charts' },\n    { type: 301, label: 'NamedRanges' }\n  ];\n\n  const options = groups.map(group =>\n    libraryItems\n      .filter(item => item.type === group.type)\n      .map(item => ({ type: item.type, value: item.id, label: item.name }))\n  );\n  const flattenedOptions = [].concat(...options);\n\n  return (\n    <Select\n      className=\"library-item-select\"\n      selectTestId=\"library-item-select\"\n      label=\"Library Item\"\n      name={field.name}\n      onBlur={field.onBlur}\n      onChange={field.onChange}\n      optiongroup={groups}\n      options={flattenedOptions}\n      placeholder=\"Please select a Library Item\"\n      value={field.value}\n    />\n  );\n};\n\nexport default LibraryItemSelect;\n","import React from 'react';\nimport { Select } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport ClearableDisplayPill from '../../../../../common/components/Pills/ClearableDisplayPill';\nimport { keyParser } from '../../../../../common/engine/utilities/linkedAdjustmentsUtilities';\n\nconst getLabelFromOptions = (options, selectedValue) => {\n  return (\n    options.find(x => x.value === selectedValue) || {\n      label: null\n    }\n  ).label;\n};\n\nconst getSourcePillText = (adjustmentNumber, adjustmentName) => {\n  return `${adjustmentNumber} ${adjustmentName}`;\n};\n\nconst SelectablePill = ({\n  editMode,\n  name,\n  onChange,\n  onDelete,\n  options,\n  value,\n  placeholder\n}) => {\n  const selectedLabel = getLabelFromOptions(options, value);\n\n  const adjustmentKey = keyParser(value);\n  const pillText = getSourcePillText(adjustmentKey.number, adjustmentKey.name);\n  const isAdjustmentBroken = !selectedLabel;\n\n  return editMode ? (\n    <Select\n      selectTestId={`select-input-${name}`}\n      value={value}\n      options={options}\n      onChange={event => onChange(event.target.value)}\n      placeholder={placeholder}\n      maxWidth=\"240px\"\n    />\n  ) : (\n    <div className=\"pill-container\">\n      <ClearableDisplayPill\n        onClearClick={onDelete}\n        tag={pillText}\n        index={name}\n        iconName={isAdjustmentBroken ? 'link-remove' : null}\n      />\n    </div>\n  );\n};\n\nSelectablePill.propTypes = {\n  editMode: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  value: PropTypes.string,\n  placeholder: PropTypes.string\n};\n\nSelectablePill.defaultProps = {\n  options: [],\n  value: '',\n  placeholder: ''\n};\n\nexport default SelectablePill;\n","import React from 'react';\nimport { Select } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport ClearablePill from '../../../../../common/components/Pills/ClearableDisplayPill';\nimport { keyParser } from '../../../../../common/engine/utilities/linkedAdjustmentsUtilities';\n\nconst getLabelFromOptions = (options, selectedValue) => {\n  return (\n    options.find(x => x.value === selectedValue) || {\n      label: null\n    }\n  ).label;\n};\n\nconst getTaregtPillText = (documentValue, adjustmentNumber, adjustmentName) => {\n  return `${documentValue} / ${adjustmentNumber} ${adjustmentName}`;\n};\n\nconst DocumentAndAdjustmentPill = ({\n  editMode,\n  name,\n  onDocumentChange,\n  onAdjustmentChange,\n  onDelete,\n  documentOptions,\n  adjustmentOptions,\n  documentValue,\n  adjustmentValue\n}) => {\n  const selectedDocumentLabel = getLabelFromOptions(\n    documentOptions,\n    documentValue\n  );\n  const selectedAdjustmentLabel = getLabelFromOptions(\n    adjustmentOptions,\n    adjustmentValue\n  );\n  const adjustmentKey = keyParser(adjustmentValue);\n  const pillText = getTaregtPillText(\n    selectedDocumentLabel,\n    adjustmentKey.number,\n    adjustmentKey.name\n  );\n  const isAdjustmentBroken = !selectedDocumentLabel || !selectedAdjustmentLabel;\n\n  return (\n    <div\n      data-testid=\"document-and-adjustment-selection\"\n      className=\"document-row\"\n    >\n      <div className=\"link-to\">Link to</div>\n      {editMode ? (\n        <>\n          <Select\n            selectTestId={`select-input-target-document-${name}`}\n            value={documentValue}\n            options={documentOptions}\n            onChange={event => onDocumentChange(event.target.value)}\n            placeholder=\"Select analyses\"\n            maxWidth=\"240px\"\n          />\n          <Select\n            selectTestId={`select-input-target-adjustment-${name}`}\n            value={adjustmentValue}\n            options={adjustmentOptions}\n            onChange={event => onAdjustmentChange(event.target.value)}\n            placeholder=\"Select Adjustment\"\n            maxWidth=\"240px\"\n          />\n        </>\n      ) : (\n        <div\n          data-testid=\"document-and-adjustment-pill\"\n          className=\"pill-container\"\n        >\n          <ClearablePill\n            onClearClick={onDelete}\n            tag={pillText}\n            index={`target-document-and-adjustment-pill-${name}`}\n            iconName={isAdjustmentBroken ? 'link-remove' : null}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nDocumentAndAdjustmentPill.propTypes = {\n  editMode: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  onDocumentChange: PropTypes.func.isRequired,\n  onAdjustmentChange: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  documentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  adjustmentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  documentValue: PropTypes.string,\n  adjustmentValue: PropTypes.string\n};\n\nDocumentAndAdjustmentPill.defaultProps = {\n  documentOptions: [],\n  documentValue: '',\n  adjustmentOptions: [],\n  adjustmentValue: ''\n};\n\nexport default DocumentAndAdjustmentPill;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport React, { useState, useEffect } from 'react';\n\nimport SelectablePill from './SelectablePill';\nimport { keyParser } from '../../../../../common/engine/utilities/linkedAdjustmentsUtilities';\nimport DocumentAndAdjustmentPill from './DocumentAndAdjustmentPill';\nimport './LinkedAdjustments.scss';\n\nconst LinkedAdjustment = ({\n  documentCode,\n  value,\n  name,\n  editMode,\n  adjustmentOptions,\n  targetDocumentOptions,\n  onToggleEditMode,\n  onChange,\n  onDelete\n}) => {\n  const targetItems = keyParser(value.targetAdjustment);\n\n  const [targetDocument, setTargetDocument] = useState(targetItems.code || '');\n\n  const [sourceAdjustmentName, setSourceAdjustmentName] = useState(\n    value.sourceAdjustment || ''\n  );\n  const [targetAdjustmentName, setTargetAdjustmentName] = useState(\n    value.targetAdjustment || ''\n  );\n  const [targetAdjustmentOptions, setTargetAdjustmentOptions] = useState([]);\n\n  useEffect(() => {\n    setTargetAdjustmentOptions(adjustmentOptions[targetDocument] || []);\n  }, [adjustmentOptions, targetDocument]);\n\n  const isAddButtonDisabled = () => {\n    const isValueEmpty = v => v === undefined || v === '';\n    return (\n      isValueEmpty(sourceAdjustmentName) ||\n      isValueEmpty(targetAdjustmentName) ||\n      isValueEmpty(targetDocument)\n    );\n  };\n\n  const onAddHandler = () => {\n    onToggleEditMode();\n    onChange({\n      sourceAdjustment: sourceAdjustmentName,\n      targetAdjustment: targetAdjustmentName\n    });\n  };\n\n  return (\n    <div\n      data-testid=\"linked-adjustment\"\n      className={classnames(\n        'linked-adjustment-row',\n        editMode ? 'editable' : 'viewing'\n      )}\n    >\n      <SelectablePill\n        editMode={editMode}\n        name={`source-adjustment-${name}`}\n        onChange={setSourceAdjustmentName}\n        onDelete={onDelete}\n        options={adjustmentOptions[documentCode]}\n        value={sourceAdjustmentName}\n        placeholder=\"Select Adjustment\"\n      />\n\n      <DocumentAndAdjustmentPill\n        editMode={editMode}\n        name={name}\n        onDocumentChange={setTargetDocument}\n        onAdjustmentChange={setTargetAdjustmentName}\n        onDelete={onDelete} // Note: When we get to \"grouping\" the right side, this will have to have more smarts than \"delete the row\"\n        documentOptions={targetDocumentOptions}\n        adjustmentOptions={targetAdjustmentOptions}\n        documentValue={targetDocument}\n        adjustmentValue={targetAdjustmentName}\n      />\n\n      {editMode && (\n        <div className=\"linked-adjustment-row-actions\">\n          <Button\n            type=\"button\"\n            className={`button-outline ${isAddButtonDisabled()}`}\n            data-testid={`button-add-${name}`}\n            onClick={onAddHandler}\n            disabled={isAddButtonDisabled()}\n          >\n            Add\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nLinkedAdjustment.propTypes = {\n  documentCode: PropTypes.string.isRequired,\n  adjustmentOptions: PropTypes.shape({\n    QofE: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    NWC: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    DDL: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    )\n  }),\n  targetDocumentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  editMode: PropTypes.bool.isRequired,\n  onToggleEditMode: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  value: PropTypes.shape({\n    sourceAdjustment: PropTypes.string,\n    targetDocument: PropTypes.string\n  }),\n  name: PropTypes.string.isRequired\n};\n\nLinkedAdjustment.defaultProps = {\n  adjustmentOptions: { QofE: [], NWC: [], DDL: [] },\n  targetDocumentOptions: [],\n  value: {\n    sourceAdjustment: '',\n    targetDocument: ''\n  }\n};\n\nexport default LinkedAdjustment;\n","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\nimport { v4 as uuidv4 } from 'uuid';\nimport LinkedAdjustment from './LinkedAdjustment';\nimport Separator from '../../../../../common/components/Separator';\nimport './LinkedAdjustments.scss';\n\nconst nameBuilder = index => `linkedAdjustments[${index}]`;\n\nconst LinkedAdjustments = ({\n  documentCode,\n  adjustmentOptions,\n  formValues,\n  targetDocumentOptions,\n  setFieldValue\n}) => {\n  const [\n    enableAddNewLinkedAdjustment,\n    setEnableAddNewLinkedAdjustment\n  ] = useState(false);\n\n  const addNewInProgressLinkedAdjustment = () => {\n    setEnableAddNewLinkedAdjustment(true);\n  };\n\n  const finishAddingNewLinkedAdjustment = adjustmentToAdd => {\n    setFieldValue('linkedAdjustments', [\n      ...formValues,\n      { newId: uuidv4(), ...adjustmentToAdd }\n    ]);\n\n    setEnableAddNewLinkedAdjustment(false);\n  };\n\n  const isAddNewAdjustmentLinkDisabled = () =>\n    enableAddNewLinkedAdjustment === undefined;\n\n  const onDelete = valueToDelete => {\n    const adjustmentsForUpdate = formValues.filter(\n      adj => adj.id !== valueToDelete.id || adj.newId !== valueToDelete.newId\n    );\n\n    setFieldValue('linkedAdjustments', adjustmentsForUpdate);\n  };\n\n  return (\n    <>\n      <div\n        className=\"linked-adjustment-container\"\n        data-testid=\"linked-adjustments-container\"\n      >\n        <div className=\"linked-adjustments-title\">\n          <Icon\n            name=\"link\"\n            width={21}\n            className=\"icon fill connect-content-icon\"\n          />\n          Link Adjustments\n        </div>\n        {formValues.length === 0 && (\n          <div className=\"linked-adjustment-description helper-text\">\n            <Icon\n              name=\"information\"\n              className=\"fill icon-yellow helper-icon\"\n              width={18}\n              data-testid=\"no-linked-adjustments\"\n            />{' '}\n            &nbsp;No analysis adjustments have been linked\n          </div>\n        )}\n\n        {(enableAddNewLinkedAdjustment || formValues.length > 0) && (\n          <Separator />\n        )}\n\n        {formValues.map((value, index) => (\n          // fragment shorthand does not permit specifying a key prop.\n          <React.Fragment key={nameBuilder(index)}>\n            <LinkedAdjustment\n              documentCode={documentCode}\n              name={nameBuilder(index)}\n              key={value.id || value.newId}\n              value={value}\n              adjustmentOptions={adjustmentOptions}\n              targetDocumentOptions={targetDocumentOptions}\n              editMode={false}\n              onToggleEditMode={() => undefined}\n              onDelete={() => onDelete(value)}\n              onChange={updatedValue =>\n                finishAddingNewLinkedAdjustment(index, updatedValue)\n              }\n            />\n            <Separator key={`separator-${nameBuilder(index)}`} />\n          </React.Fragment>\n        ))}\n        {enableAddNewLinkedAdjustment && (\n          // fragment shorthand does not permit specifying a key prop.\n          <React.Fragment key={nameBuilder(formValues.length + 1)}>\n            <LinkedAdjustment\n              documentCode={documentCode}\n              name={nameBuilder(formValues.length + 1)}\n              value={undefined}\n              adjustmentOptions={adjustmentOptions}\n              targetDocumentOptions={targetDocumentOptions}\n              editMode\n              onToggleEditMode={() => undefined}\n              onDelete={() => undefined}\n              onChange={updatedValue =>\n                finishAddingNewLinkedAdjustment(updatedValue)\n              }\n            />\n            <Separator\n              key={`separator-${nameBuilder(formValues.length + 1)}`}\n            />\n          </React.Fragment>\n        )}\n      </div>\n      <Button\n        type=\"button\"\n        data-testid=\"add-new-linked-adjustment\"\n        className=\"add-link button-link\"\n        onClick={() => addNewInProgressLinkedAdjustment()}\n        disabled={isAddNewAdjustmentLinkDisabled()}\n      >\n        <Icon name=\"add\" className=\"fill icon-orange helper-icon\" width={21} />\n        <span className=\"menu-item-title\">New Link</span>\n      </Button>\n    </>\n  );\n};\n\nLinkedAdjustments.propTypes = {\n  documentCode: PropTypes.string.isRequired,\n  adjustmentOptions: PropTypes.shape({\n    QofE: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    NWC: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    DDL: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    )\n  }),\n  formValues: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      newId: PropTypes.string, // Used to track if a value was added but not Published\n      sourceAdjustment: PropTypes.string,\n      targetDocument: PropTypes.string\n    })\n  ),\n  targetDocumentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  setFieldValue: PropTypes.func.isRequired\n};\n\nLinkedAdjustments.defaultProps = {\n  adjustmentOptions: { QofE: [], NWC: [], DDL: [] },\n  targetDocumentOptions: [],\n  formValues: []\n};\n\nexport default LinkedAdjustments;\n","import React from 'react';\nimport { TextArea } from '@pwc/pwc-deals-ui';\n\nconst NotesInput = ({ field }) => {\n  return (\n    <div data-testid=\"notes-input-container\">\n      <TextArea\n        name=\"notes\"\n        field={field}\n        label=\"Notes (optional)\"\n        placeholder=\"Add notes\"\n        maxLength={250}\n        basic\n      />\n    </div>\n  );\n};\n\nexport default NotesInput;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Field, Form } from 'formik';\nimport React from 'react';\n\nimport D3Alert from '../../../common/components/Alert/D3Alert';\nimport ActiveContentDraftHeader from '../../../common/components/ContentHeaders/ActiveContentDraftHeader';\nimport FormLayout from '../../../common/components/layouts/FormLayout';\nimport PublishButton from '../../../common/components/PublishButton';\nimport RichTextEditorFormikField from '../../../common/components/RichTextEditorFormikField/RichTextEditorFormikField';\nimport SourceInput from '../../../common/components/SourceInput';\nimport TitleFieldset from '../../../common/components/TitleFieldset/TitleFieldset';\nimport LibraryItemSelect from '../../contentLibrary/LibraryItemSelect/LibraryItemSelect';\nimport EditConnectedContent from '../../narratives/EditConnectedContent/EditConnectedContent';\nimport TagEditor from '../../tagging/common/TagEditor/TagEditor';\nimport LinkedAdjustments from '../structured-analysis/common/LinkedAdjustments/LinkedAdjustments';\nimport NotesInput from './NotesInput';\nimport './AnalysisForm.scss';\nimport Separator from '../../../common/components/Separator';\n\nconst AnalysisForm = ({\n  documentCode = '',\n  onCancel,\n  isSaving,\n  errorType,\n  errors,\n  touched,\n  isValid,\n  children,\n  values,\n  setFieldValue,\n  canEditTitle = true,\n  showLibraryItemPicker = true,\n  showLinkedAdjustments = false,\n  showNotes = false,\n  projectId,\n  parentContentId,\n  narratives,\n  setNarratives,\n  adjustmentOptions,\n  targetDocumentOptions,\n  dirty: _dirty,\n  onSaveText,\n  standbyText,\n  ...rest\n}) => {\n  const validateTitle = value => {\n    let error;\n    if (!value || value.trim().length === 0) {\n      error = 'Title cannot be blank';\n    }\n    return error;\n  };\n\n  return (\n    <FormLayout\n      headerComponent={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <ActiveContentDraftHeader\n          onCancel={onCancel}\n          isSaving={isSaving}\n          errors={errors}\n          touched={touched}\n          isValid={isValid}\n          dirty\n          onSaveText={onSaveText}\n          standbyText={standbyText}\n        />\n      }\n    >\n      {children}\n\n      <Form\n        data-testid=\"analysis-form\"\n        className=\"analysis-form mt-5\"\n        {...rest}\n      >\n        {errors.title && touched.title && <div>{errors.title}</div>}\n        <div className=\"form-fields\">\n          <div className=\"input-container\">\n            <Field\n              name=\"title\"\n              component={TitleFieldset}\n              label=\"Title\"\n              placeholder=\"Start typing here to give your new Analysis a title\"\n              className=\"title-fieldset\"\n              disabled={!canEditTitle}\n              validate={validateTitle}\n            />\n\n            <Field\n              name=\"body\"\n              component={RichTextEditorFormikField}\n              label=\"Description (optional)\"\n              dataTestId=\"text-area-body\"\n            />\n\n            <div className=\"analysis-form-extras\">\n              <Field name=\"source\" component={SourceInput} />\n\n              {showNotes && <Field name=\"notes\" component={NotesInput} />}\n\n              {showLibraryItemPicker && (\n                <Field name=\"libraryItemId\" component={LibraryItemSelect} />\n              )}\n\n              {showLinkedAdjustments && (\n                <LinkedAdjustments\n                  adjustmentOptions={adjustmentOptions}\n                  targetDocumentOptions={targetDocumentOptions}\n                  formValues={values.linkedAdjustments}\n                  setFieldValue={setFieldValue}\n                  documentCode={documentCode}\n                />\n              )}\n              <TagEditor projectId={projectId} />\n            </div>\n          </div>\n        </div>\n\n        <EditConnectedContent\n          projectId={projectId}\n          parentContentId={parentContentId}\n          narratives={narratives}\n          setNarratives={setNarratives}\n        />\n\n        <Separator />\n\n        <div className=\"form-bottom-actions\">\n          <Button\n            className=\"button-link form-cancel-button\"\n            type=\"button\"\n            onClick={onCancel}\n            data-testid=\"cancel-button-bottom\"\n          >\n            Cancel\n          </Button>\n          <PublishButton\n            isSaving={isSaving}\n            isValid={isValid}\n            buttonPosition=\"bottom\"\n            onSaveText=\"Updating...\"\n            standbyText=\"Update\"\n          />\n        </div>\n        {errorType && <D3Alert configType={errorType} />}\n      </Form>\n    </FormLayout>\n  );\n};\n\nexport default AnalysisForm;\n","import * as Yup from 'yup';\n\nexport const emptyAnalysis = () => ({\n  title: '',\n  body: '',\n  tags: [],\n  linkedAdjustments: []\n});\n\nexport const analysisSchema = Yup.object().shape({\n  title: Yup.string().required('Title is required')\n});\n","import { Loader } from '@pwc/pwc-deals-ui';\nimport { Constants, ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport { Formik } from 'formik';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { getCalcEngineIsProcessing } from '../../../common/engine/reducers/calcEngine';\nimport {\n  getAdjustmentOptionsForDdl,\n  getAdjustmentOptionsForNwc,\n  getAdjustmentOptionsForQofE\n} from '../../../common/engine/selectors/adjustmentSelectors';\nimport { getLinkedAdjustmentsByCode } from '../../../common/engine/selectors/linkedAdjustmentsByDocument';\nimport { clearDataAndtransformAllIngestedStructuredDocumentsThunk } from '../../../common/engine/thunks/clearDataAndtransformAllIngestedStructuredDocumentsThunk';\nimport { getNarratives } from '../../narratives/narrativesService';\nimport { getLinksFromNarratives } from '../../narratives/narrativesUtilities';\nimport AnalysisForm from '../common/AnalysisForm';\nimport { analysisSchema, emptyAnalysis } from '../common/analysisModel';\nimport { saveLinkedAdjustments } from '../../../common/engine/services/structuredAnalysisLinkedAdjustmentsService';\nimport {\n  getStructuredAnalysisDocumentsWithData,\n  putStructuredAnalyses,\n  searchAnalyses\n} from '../../../common/engine/services/structuredAnalysisService';\nimport { getStructuredAnalysisViewLoadingInProcess } from '../../../common/engine/reducers/structuredAnalysisViewSlice';\n\nconst EditStructuredAnalysis = ({\n  type,\n  title,\n  getReturnPath,\n  showLinkedAdjustments,\n  documentCode\n}) => {\n  const dispatch = useDispatch();\n  const { projectId } = useParams();\n  const history = useHistory();\n  const [analysis, setAnalysis] = useState(emptyAnalysis());\n  const [currentTags, setCurrentTags] = useState([]);\n  const [tagsUpdated, setTagsUpdated] = useState(false);\n  const [\n    structuredAnalysisDocumentsWithData,\n    setStructuredAnalysisDocumentsWithData\n  ] = useState([]);\n  const [errorType, setErrorType] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n  const [narratives, setNarratives] = useState(null);\n  const [docsWithDataFetchStatus, setDocsWithDataFetchStatus] = useState('');\n  const [analysisFetchStatus, setAnalysisFetchStatus] = useState('');\n  const isProcessing = useSelector(getCalcEngineIsProcessing);\n  const initializingData = useSelector(\n    getStructuredAnalysisViewLoadingInProcess\n  );\n  const initialLinkedAdjustments = useSelector(\n    getLinkedAdjustmentsByCode(documentCode)\n  );\n\n  const defaultStatusValue = 300;\n  const gotoViewChart = () => history.replace(getReturnPath(projectId));\n\n  const adjustmentOptions = {\n    [Constants.QUALITY_OF_EARNINGS]: useSelector(getAdjustmentOptionsForQofE),\n    [Constants.NET_WORKING_CAPITAL]: useSelector(getAdjustmentOptionsForNwc),\n    [Constants.DEBT_AND_DEBT_LIKE]: useSelector(getAdjustmentOptionsForDdl)\n  };\n\n  useEffect(() => {\n    if (projectId) {\n      setDocsWithDataFetchStatus('loading');\n      getStructuredAnalysisDocumentsWithData(projectId).then(\n        structuredDocumentsResponse => {\n          const targetDocumentOptions = structuredDocumentsResponse\n            .filter(\n              document =>\n                document.hasDetailView === true &&\n                document.code !== documentCode\n            )\n            .map(structuredAnalysisDocument => ({\n              value: structuredAnalysisDocument.code,\n              label: structuredAnalysisDocument.displayName\n            }));\n\n          setStructuredAnalysisDocumentsWithData(() => targetDocumentOptions);\n          setDocsWithDataFetchStatus('');\n        }\n      );\n    }\n  }, [projectId, documentCode]);\n\n  useEffect(() => {\n    const fetch = async () => {\n      setAnalysisFetchStatus('loading');\n      const response = await searchAnalyses(projectId, type);\n\n      if (!response.length) {\n        history.push('/unauthorized');\n      } else {\n        const returnedAnalysis = response[0];\n\n        returnedAnalysis.title = title;\n        setAnalysis(returnedAnalysis);\n\n        if (returnedAnalysis.contentThreadId) {\n          const allContent = await getNarratives(projectId);\n          setNarratives({\n            ...allContent,\n            analyses: allContent.analyses.filter(\n              i =>\n                i.contentThreadId.toString() !==\n                returnedAnalysis.contentThreadId.toString()\n            )\n          });\n        }\n        setAnalysisFetchStatus('');\n      }\n    };\n    fetch();\n  }, [projectId, title, type, history, documentCode, dispatch]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        dispatch(\n          clearDataAndtransformAllIngestedStructuredDocumentsThunk(\n            projectId,\n            documentCode,\n            false\n          )\n        );\n        // eslint-disable-next-line no-empty\n      } catch (_) {}\n    };\n\n    if (projectId) {\n      fetchData();\n    }\n  }, [dispatch, projectId, documentCode]);\n\n  const handleSave = async ({\n    body,\n    tags,\n    linkedAdjustments,\n    source,\n    notes\n  }) => {\n    setIsSaving(true);\n    try {\n      const links = getLinksFromNarratives(narratives, analysis.contentId);\n      setCurrentTags(tags);\n      setTagsUpdated(true);\n      await putStructuredAnalyses(projectId, {\n        contentThreadId: analysis.contentThreadId,\n        contentId: analysis.contentId,\n        contentSubType: analysis.contentSubType,\n        title,\n        body,\n        source,\n        notes,\n        tags,\n        links\n      });\n\n      await saveLinkedAdjustments(\n        projectId,\n        initialLinkedAdjustments,\n        linkedAdjustments,\n        dispatch\n      );\n\n      setErrorType();\n      gotoViewChart();\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  const initialFormTags = (() => {\n    const tagsFromAnalysis = (analysis.tags || []).map(tag => tag.text);\n    return tagsUpdated ? currentTags : tagsFromAnalysis;\n  })();\n\n  const initialFormValues = {\n    title: analysis.title,\n    body: analysis.body || '',\n    status: analysis.status || defaultStatusValue,\n    source: analysis.source || '',\n    notes: analysis.notes || '',\n    tags: initialFormTags,\n    linkedAdjustments: [...initialLinkedAdjustments]\n  };\n\n  const isLoading =\n    docsWithDataFetchStatus !== '' ||\n    analysisFetchStatus !== '' ||\n    isProcessing ||\n    initializingData;\n\n  if (isLoading) {\n    return <Loader dataTestId=\"structured-loading-indicator\" />;\n  }\n\n  return (\n    <Formik\n      initialValues={initialFormValues}\n      enableReinitialize\n      onSubmit={handleSave}\n      validationSchema={analysisSchema}\n      validateOnChange\n    >\n      {({ errors, touched, isValid, values, setFieldValue }) => (\n        <AnalysisForm\n          documentCode={documentCode}\n          onCancel={gotoViewChart}\n          isSaving={isSaving}\n          errorType={errorType}\n          errors={errors}\n          touched={touched}\n          isValid={isValid}\n          values={values}\n          setFieldValue={setFieldValue}\n          canEditTitle={false}\n          showLibraryItemPicker={false}\n          showLinkedAdjustments={showLinkedAdjustments}\n          showNotes\n          projectId={projectId}\n          parentContentId={analysis.contentId || 0}\n          narratives={narratives}\n          setNarratives={setNarratives}\n          adjustmentOptions={adjustmentOptions}\n          onSaveText=\"Updating...\"\n          standbyText=\"Update\"\n          targetDocumentOptions={structuredAnalysisDocumentsWithData}\n        >\n          <h1>Edit Analysis</h1>\n        </AnalysisForm>\n      )}\n    </Formik>\n  );\n};\n\nEditStructuredAnalysis.propTypes = {\n  type: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  getReturnPath: PropTypes.func.isRequired,\n  showLinkedAdjustments: PropTypes.bool\n};\n\nEditStructuredAnalysis.defaultProps = {\n  showLinkedAdjustments: false\n};\nexport default EditStructuredAnalysis;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { AnalysisTypes } from '../../../analysesService';\nimport EditStructuredAnalysis from '../../../EditAnalysis/EditStructuredAnalysis';\nimport { viewDebtAndDebtLikePath } from '../../../../../common/services/urlService';\n\nconst DebtDebtLikeForm = () => (\n  <EditStructuredAnalysis\n    getReturnPath={viewDebtAndDebtLikePath}\n    title=\"Debt and Debt Like\"\n    type={AnalysisTypes[Constants.DEBT_AND_DEBT_LIKE]}\n    documentCode={Constants.DEBT_AND_DEBT_LIKE}\n    showLinkedAdjustments\n  />\n);\n\nexport default DebtDebtLikeForm;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useStructuredAnalysisContainer } from '../../common/hooks/useStructuredAnalysisContainer';\nimport StructuredAnalysisView from '../../common/StructuredAnalysisView/StructuredAnalysisView';\nimport '../../../common/analysis-detail-screen.scss';\n\nconst NetWorkingCapitalContainer = () => {\n  const {\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError,\n    analysis,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    incrementChartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  } = useStructuredAnalysisContainer(Constants.NET_WORKING_CAPITAL);\n\n  return (\n    <StructuredAnalysisView\n      projectId={projectId}\n      documentCode={Constants.NET_WORKING_CAPITAL}\n      hasError={hasError}\n      isLoading={isLoading}\n      analysis={analysis}\n      viewClient={viewClient}\n      isClientView={isClientView}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      versions={versions}\n      workflowActions={workflowActions}\n      handleEdit={handleEdit}\n      handleRefresh={handleRefresh}\n      handleDelete={handleDelete}\n      isConfirmVisible={isConfirmVisible}\n      setIsConfirmVisible={setIsConfirmVisible}\n      incrementChartKey={incrementChartKey}\n      chartKey={chartKey}\n    />\n  );\n};\n\nexport default NetWorkingCapitalContainer;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { viewNetWorkingCapitalPath } from '../../../../../common/services/urlService';\nimport { AnalysisTypes } from '../../../analysesService';\nimport EditStructuredAnalysis from '../../../EditAnalysis/EditStructuredAnalysis';\n\nconst NetWorkingCapitalEditForm = () => (\n  <EditStructuredAnalysis\n    getReturnPath={viewNetWorkingCapitalPath}\n    title=\"Net Working Capital\"\n    type={AnalysisTypes[Constants.NET_WORKING_CAPITAL]}\n    documentCode={Constants.NET_WORKING_CAPITAL}\n    showLinkedAdjustments\n  />\n);\n\nexport default NetWorkingCapitalEditForm;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useStructuredAnalysisContainer } from '../../common/hooks/useStructuredAnalysisContainer';\nimport StructuredAnalysisView from '../../common/StructuredAnalysisView/StructuredAnalysisView';\nimport '../../../common/analysis-detail-screen.scss';\n\nconst QofEContainer = () => {\n  const {\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError,\n    analysis,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    incrementChartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  } = useStructuredAnalysisContainer(Constants.QUALITY_OF_EARNINGS);\n\n  return (\n    <StructuredAnalysisView\n      projectId={projectId}\n      documentCode={Constants.QUALITY_OF_EARNINGS}\n      hasError={hasError}\n      isLoading={isLoading}\n      analysis={analysis}\n      viewClient={viewClient}\n      isClientView={isClientView}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      versions={versions}\n      workflowActions={workflowActions}\n      handleEdit={handleEdit}\n      handleRefresh={handleRefresh}\n      handleDelete={handleDelete}\n      isConfirmVisible={isConfirmVisible}\n      setIsConfirmVisible={setIsConfirmVisible}\n      incrementChartKey={incrementChartKey}\n      chartKey={chartKey}\n    />\n  );\n};\n\nexport default QofEContainer;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { viewQualityOfEarningsPath } from '../../../../../common/services/urlService';\nimport { AnalysisTypes } from '../../../analysesService';\nimport EditStructuredAnalysis from '../../../EditAnalysis/EditStructuredAnalysis';\n\nconst QofEEditForm = () => {\n  return (\n    <EditStructuredAnalysis\n      getReturnPath={viewQualityOfEarningsPath}\n      title=\"Quality of Earnings\"\n      type={AnalysisTypes[Constants.QUALITY_OF_EARNINGS]}\n      documentCode={Constants.QUALITY_OF_EARNINGS}\n      showLinkedAdjustments\n    />\n  );\n};\n\nexport default QofEEditForm;\n","import { getLocation } from 'connected-react-router';\nimport { createSelector } from 'reselect';\nimport { getIsViewingToggled } from '../../../../common/engine/reducers/calcEngine';\nimport { structuredRoutes } from '../../../../common/services/urlService';\n\nconst getIsCurrentRouteAStructuredAnalysisRoute = createSelector(\n  getLocation,\n  currentLocation => {\n    return (\n      Object.keys(structuredRoutes).filter(key => {\n        const currentKeyPath = structuredRoutes[key];\n        return currentLocation.pathname.endsWith(currentKeyPath);\n      }).length > 0\n    );\n  }\n);\n\nexport const getAppBannerConfig = createSelector(\n  getIsViewingToggled,\n  getIsCurrentRouteAStructuredAnalysisRoute,\n  (isViewingToggled, isStructuredAnalysisLocation) => {\n    return {\n      showBanner: isViewingToggled && isStructuredAnalysisLocation\n    };\n  }\n);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppBanner, Button } from '@pwc/pwc-deals-ui';\nimport { getAppBannerConfig } from './structuredAnalysisBannerSelectors';\n\nconst StructuredAnalysisViewingToggledDataBanner = ({\n  showDisclaimerModal\n}) => {\n  const config = useSelector(getAppBannerConfig);\n  return (\n    <AppBanner\n      showBanner={config.showBanner}\n      dataTestId=\"viewing-toggled-data-banner\"\n    >\n      <div data-testid=\"disclaimer-warning-text\">\n        You are outside of the PwC default view. Your data selections may not be\n        consistent with the commentary and/or observations presented on this\n        screen. Information should be viewed in conjunction with the\n        following&nbsp;\n        <Button\n          className=\"button-link\"\n          key=\"project-disclaimer\"\n          data-testid=\"project-disclaimer-link\"\n          onClick={() => showDisclaimerModal(true)}\n        >\n          disclaimer.\n        </Button>\n      </div>\n    </AppBanner>\n  );\n};\n\nexport default StructuredAnalysisViewingToggledDataBanner;\n","import React, { useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport StructuredAnalysisViewingToggledDataBanner from '../StructuredAnalysisViewingToggledDataBanner/StructuredAnalysisViewingToggledDataBanner';\nimport './StructuredAnalysisContainer.scss';\n\nexport const withStructuredContainer = WrappedStructuredContainer => () => (\n  <StructuredAnalysisContainer>\n    <WrappedStructuredContainer />\n  </StructuredAnalysisContainer>\n);\n\nconst ToggledDisclaimerModal = ({ showModal, closeModal }) => {\n  const toggledDisclaimerTitle = 'Visual Interactive Disclaimer';\n  const toggledDisclaimerMessage =\n    'Any adjustments to the output prepared by PwC are at your discretion and for your convenience and general information purposes only. PwC accepts no liability to you or anyone else in connection with the results.';\n\n  return (\n    <Modal\n      show={showModal}\n      onHide={() => closeModal(false)}\n      className=\"disclaimer-modal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title className=\"disclaimer-modal-title\">\n          <h4>{toggledDisclaimerTitle}</h4>\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body className=\"scrollable disclaimer-modal-body\">\n        <div\n          data-testid=\"project-disclaimer-content\"\n          className=\"project-disclaimer-content\"\n        >\n          {toggledDisclaimerMessage}\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nconst StructuredAnalysisContainer = ({ children }) => {\n  const [showModal, openModal] = useState(false);\n\n  return (\n    <>\n      <StructuredAnalysisViewingToggledDataBanner\n        showDisclaimerModal={openModal}\n      />\n      <ToggledDisclaimerModal showModal={showModal} closeModal={openModal} />\n      {children}\n    </>\n  );\n};\n\nexport default StructuredAnalysisContainer;\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { createReportPath } from '../../../../common/services/urlService';\nimport './ReportBuilderLink.scss';\n\nconst ReportBuilderLink = ({ projectId }) => {\n  return (\n    <Link to={createReportPath(projectId)} className=\"report-builder-link\">\n      <Icon\n        name=\"report\"\n        width={24}\n        className=\"report-builder-link__icon fill icon-orange\"\n      />\n      Go to Report Builder\n    </Link>\n  );\n};\n\nexport default ReportBuilderLink;\n","import { Icon, Loader } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport qs from 'query-string';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport '../analysis-top-bar-container.scss';\nimport './AnalysisReportPreview.scss';\nimport { getCurrentAnalysis, resetAnalysis } from '../../analysisSlice';\nimport {\n  loadAnalysisThunk,\n  loadStructuredAnalysisThunk\n} from '../../analysisSliceThunk';\nimport ReportBuilderLink from './ReportBuilderLink';\nimport { getReportPreview } from './AnalysisReportService';\nimport StatusContainer from '../../../../common/components/StatusContainer/StatusContainer';\nimport {\n  viewAnalysisPath,\n  viewStructuredAnalysisPathForSubType\n} from '../../../../common/services/urlService';\n\nconst AnalysisReportPreview = () => {\n  const { projectId, analysisId, version } = useParams();\n  const location = useLocation();\n  const [reportData, setReportData] = useState([]);\n  const [isReportLoading, setIsReportLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n\n  const dispatch = useDispatch();\n  const analysis = useSelector(getCurrentAnalysis);\n\n  const { isUnStructured } = qs.parse(location.search);\n\n  useEffect(() => {\n    async function fetchReportPreview() {\n      try {\n        const reportPreview = await getReportPreview(\n          projectId,\n          analysisId,\n          version\n        );\n        setReportData(reportPreview);\n      } catch (e) {\n        setHasError(true);\n      } finally {\n        setIsReportLoading(false);\n      }\n    }\n\n    fetchReportPreview();\n  }, [analysisId, projectId, version]);\n\n  useEffect(() => {\n    const analysisVersion =\n      version === 'shared' ? Constants.VERSION_STATUS.SHARED.value : '';\n    if (isUnStructured === 'false') {\n      dispatch(\n        loadStructuredAnalysisThunk(projectId, analysisId, analysisVersion)\n      );\n    } else {\n      dispatch(loadAnalysisThunk(projectId, analysisId, analysisVersion));\n    }\n    return () => dispatch(resetAnalysis());\n  }, [dispatch, projectId, analysisId, version, isUnStructured]);\n\n  const analysisLink = analysis.isUnStructured\n    ? viewAnalysisPath(projectId, analysis.contentThreadId)\n    : viewStructuredAnalysisPathForSubType(projectId, analysis.contentSubType);\n\n  return (\n    <div className=\"analysis-report-preview\">\n      <div className=\"analysis-top-bar-container\">\n        <div className=\"analysis-top-bar\">\n          {analysis.contentId && (\n            <Link\n              to={analysisLink}\n              className=\"analysis-report-preview__back-link\"\n            >\n              <Icon\n                name=\"left-chevron\"\n                width={14}\n                className=\"analysis-report-preview__back-icon fill icon-orange\"\n              />\n              Back to working view\n            </Link>\n          )}\n        </div>\n      </div>\n\n      <div className=\"analysis-report-preview-container\">\n        <div className=\"analysis-report-preview__inner\">\n          <div className=\"analysis-report-preview__inner__status\">\n            {analysis.contentId && (\n              <StatusContainer\n                projectId={projectId}\n                content={analysis}\n                className=\"analysis-pill-container\"\n                allowDraftPill\n              />\n            )}\n          </div>\n\n          <div className=\"analysis-report-preview__inner__builder-link\">\n            <ReportBuilderLink projectId={projectId} />\n          </div>\n        </div>\n        {hasError && <div>Failed to load content</div>}\n        <>\n          {isReportLoading || analysis.isLoading ? (\n            <Loader dataTestId=\"loading-spinner\" />\n          ) : (\n            reportData.map(image => {\n              return (\n                <img\n                  className=\"preview-image\"\n                  key={image}\n                  src={image}\n                  alt=\"report preview\"\n                />\n              );\n            })\n          )}\n        </>\n      </div>\n    </div>\n  );\n};\n\nexport default AnalysisReportPreview;\n","import _get from 'lodash/get';\nimport React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport { structuredRoutes } from '../../common/services/urlService';\nimport ProjectPermissionRoute from '../security/ProjectPermissionRoute';\nimport AddAnalysisFromTemplate from './AddAnalysisFromTemplate/AddAnalysisFromTemplate';\nimport AddAnalysisType from './AddAnalysisType/AddAnalysisType';\nimport AnalysesContainer from './AnalysesContainer/AnalysesContainer';\nimport AnalysisDetailScreenContainer from './AnalysesScreen/AnalysisDetailScreen/AnalysisDetailScreenContainer';\nimport CreateFreeformAnalysis from './Freeform/CreateFreeformAnalysis/CreateFreeformAnalysis';\nimport EditFreeformAnalysis from './Freeform/EditFreeformAnalysis/EditFreeformAnalysis';\nimport DebtDebtLikeContainer from './structured-analysis/DebtDebtLike/DebtDebtLikeContainer/DebtDebtLikeContainer';\nimport DebtDebtLikeForm from './structured-analysis/DebtDebtLike/DebtDebtLikeForm/DebtDebtLikeForm';\nimport NetWorkingCapitalContainer from './structured-analysis/NetWorkingCapital/NetWorkingCapitalContainer/NetWorkingCapitalContainer';\nimport NetWorkingCapitalEditForm from './structured-analysis/NetWorkingCapital/NetWorkingCapitalEditForm/NetWorkingCapitalEditForm';\nimport QofEContainer from './structured-analysis/QofE/QofEContainer/QofEContainer';\nimport QofEEditForm from './structured-analysis/QofE/QofEEditForm/QofEEditForm';\nimport { withStructuredContainer } from './structured-analysis/StructuredAnalysisContainer/StructuredAnalysisContainer';\nimport AnalysisReportPreview from './common/AnalysisReportPreview/AnalysisReportPreview';\n\nconst basePath = '/projects/:projectId/analyses/';\n\nconst qofEContainer = withStructuredContainer(QofEContainer);\nconst nwcContainer = withStructuredContainer(NetWorkingCapitalContainer);\nconst ddlContainer = withStructuredContainer(DebtDebtLikeContainer);\n\nconst AnalysesContentRouter = () => {\n  const routes = [\n    { path: '', component: AnalysesContainer },\n    {\n      path: structuredRoutes[Constants.NET_WORKING_CAPITAL],\n      component: nwcContainer\n    },\n    {\n      path: structuredRoutes[Constants.QUALITY_OF_EARNINGS],\n      component: qofEContainer\n    },\n    {\n      path: structuredRoutes[Constants.DEBT_AND_DEBT_LIKE],\n      component: ddlContainer\n    },\n    { path: ':analysisId/view', component: AnalysisDetailScreenContainer }\n  ];\n\n  const projectPermissionRoutes = [\n    { path: 'add-type', component: AddAnalysisType },\n    { path: 'create', exact: false, component: CreateFreeformAnalysis },\n    { path: 'add-from-template', component: AddAnalysisFromTemplate },\n    {\n      path: `${structuredRoutes[Constants.DEBT_AND_DEBT_LIKE]}/edit`,\n      component: DebtDebtLikeForm\n    },\n    {\n      path: `${structuredRoutes[Constants.NET_WORKING_CAPITAL]}/edit`,\n      component: NetWorkingCapitalEditForm\n    },\n    {\n      path: `${structuredRoutes[Constants.QUALITY_OF_EARNINGS]}/edit`,\n      component: QofEEditForm\n    },\n    { path: ':analysisId/edit', exact: false, component: EditFreeformAnalysis },\n    {\n      path: ':analysisId/report-preview/:version(latest|shared)',\n      exact: true,\n      component: AnalysisReportPreview\n    }\n  ];\n\n  return (\n    <Switch>\n      {routes.map(route => (\n        <Route\n          key={route.path}\n          exact={_get(route, 'exact', true)}\n          path={`${basePath}${route.path}`}\n          component={route.component}\n        />\n      ))}\n\n      {projectPermissionRoutes.map(route => (\n        <ProjectPermissionRoute\n          key={route.path}\n          exact={_get(route, 'exact', true)}\n          permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n          isAuthorized={authorizationService.hasValidToken}\n          path={`${basePath}${route.path}`}\n          component={route.component}\n        />\n      ))}\n\n      <Route\n        path={basePath}\n        render={({ match }) => (\n          <Redirect to={`/projects/${match.params.projectId}/analyses/`} />\n        )}\n      />\n    </Switch>\n  );\n};\n\nexport default AnalysesContentRouter;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\n\nconst IngestStructuredAnalysisButton = ({ documentCode, onIngestion }) => {\n  return (\n    <Button\n      data-testid={`ingest-analysis-button-${documentCode}`}\n      onClick={onIngestion}\n    >\n      Add\n    </Button>\n  );\n};\n\nIngestStructuredAnalysisButton.propTypes = {\n  documentCode: PropTypes.string\n};\n\nIngestStructuredAnalysisButton.defaultProps = {\n  documentCode: ''\n};\n\nexport default IngestStructuredAnalysisButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Icon, Loader } from '@pwc/pwc-deals-ui';\nimport IngestStructuredAnalysisButton from '../IngestStructuredAnalysisButton/IngestStructuredDocumentButton';\nimport {\n  IngestionThunk,\n  clearIngestError,\n  getLoadingInProcess,\n  getStructuredAnalysisHasError,\n  getStructuredAnalysisError,\n  getIngestedDocuments\n} from '../../../../common/engine/reducers/StructuredAnalysisSlice';\nimport ModalConfirmation from '../../../../common/components/ModalConfirmation';\nimport { structuredRoutes } from '../../../../common/services/urlService';\nimport './structured-analysis-card.scss';\n\nconst StructuredAnalysisCard = ({\n  projectId,\n  documentName,\n  documentCode,\n  showDetailLink\n}) => {\n  const loadingDocuments = useSelector(getLoadingInProcess);\n  const hasError = useSelector(getStructuredAnalysisHasError);\n  const errorMessage = useSelector(getStructuredAnalysisError);\n  const ingestedDocuments = useSelector(getIngestedDocuments);\n  const dispatch = useDispatch();\n\n  const beginIngest = async () => {\n    dispatch(IngestionThunk(projectId, documentCode));\n  };\n\n  const handleModalClose = () => dispatch(clearIngestError());\n\n  return (\n    <div\n      className=\"analysis-card\"\n      data-testid={`analysis-card-${documentCode}`}\n    >\n      <div\n        className=\"analysis-card-header\"\n        data-testid={`card-header-${documentCode}`}\n      >\n        {documentName}\n      </div>\n      <div className=\"template-placeholder\" />\n      <div className=\"button-spinner-group\">\n        {!ingestedDocuments.includes(documentCode) && (\n          <IngestStructuredAnalysisButton\n            projectId={projectId}\n            documentCode={documentCode}\n            onIngestion={beginIngest}\n          />\n        )}\n        {loadingDocuments.includes(documentCode) && (\n          <Loader className=\"small\" dataTestId=\"loading-spinner\" />\n        )}\n      </div>\n      {showDetailLink && ingestedDocuments.includes(documentCode) && (\n        <Link\n          to={`/projects/${projectId}/analyses/${structuredRoutes[documentCode]}`}\n        >\n          <div className=\"status-container\">\n            <Icon\n              name=\"check\"\n              data-testid={`${documentCode}-confirm-icon`}\n              width={14}\n              className=\"fill icon-green\"\n            />\n            <div data-testid={`${documentCode}-link`}>View analysis</div>\n            <Icon\n              data-testid=\"structured-analysis-card-arrow\"\n              name=\"arrow-right\"\n              className=\"outline right\"\n              width={15}\n            />\n          </div>\n        </Link>\n      )}\n      {!showDetailLink && ingestedDocuments.includes(documentCode) && (\n        <div className=\"status-container\">\n          <Icon\n            name=\"check\"\n            data-testid={`${documentCode}-confirm-icon`}\n            width={14}\n            className=\"fill icon-green\"\n          />\n          <div data-testid={`${documentCode}-no-link`}>\n            Ingestion Successful\n          </div>\n        </div>\n      )}\n      <ModalConfirmation\n        show={hasError}\n        onCancel={handleModalClose}\n        onConfirm={handleModalClose}\n        confirmTitle=\"Failed attempt on import\"\n        confirmationMessage={errorMessage}\n        showCancel={false}\n        confirmButtonText=\"OK\"\n      />\n    </div>\n  );\n};\n\nStructuredAnalysisCard.propTypes = {\n  projectId: PropTypes.string,\n  documentName: PropTypes.string,\n  documentCode: PropTypes.string\n};\n\nStructuredAnalysisCard.defaultProps = {\n  projectId: '',\n  documentName: '',\n  documentCode: ''\n};\n\nexport default StructuredAnalysisCard;\n","import React from 'react';\nimport './empty-structured-analysis-card.scss';\n\nconst EmptyStructuredAnalysisCard = () => {\n  return (\n    <div\n      className=\"empty-structured-analysis-card\"\n      data-testid=\"empty-structured-analysis-card\"\n    >\n      <h2>No structured documents defined for ingestion</h2>\n    </div>\n  );\n};\n\nexport default EmptyStructuredAnalysisCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport StructuredIngestionDocumentCard from '../StructuredAnalysisCard/StructuredAnalysisCard';\nimport EmptyStructuredIngestionDocumentCard from '../EmptyStructuredAnalysis/EmptyStructuredAnalysisCard';\nimport './StructuredAnalysisTable.scss';\n\nconst StructuredAnalysisTable = ({ projectId, structuredDocuments }) => {\n  const hasDocuments = !!structuredDocuments.length;\n  return (\n    <>\n      {!hasDocuments && <EmptyStructuredIngestionDocumentCard />}\n      {hasDocuments && (\n        <div>\n          <div\n            className=\"structured-analysis-add-from-template\"\n            data-testid=\"structured-analysis-table\"\n          >\n            {structuredDocuments.map(document => (\n              <div key={document.code}>\n                <StructuredIngestionDocumentCard\n                  projectId={projectId}\n                  documentName={document.displayName}\n                  documentCode={document.code}\n                  showDetailLink={document.hasDetailView}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nStructuredAnalysisTable.propTypes = {\n  projectId: PropTypes.string,\n  structuredDocuments: PropTypes.arrayOf(PropTypes.object)\n};\n\nStructuredAnalysisTable.defaultProps = {\n  projectId: '',\n  structuredDocuments: []\n};\n\nexport default StructuredAnalysisTable;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport StructuredAnalysisTable from '../structured-analysis/StructuredAnalysisTable/StructuredAnalysisTable';\nimport { getAllStructuredIngestionDocuments } from '../../../common/engine/services/structuredAnalysisService';\nimport './AddAnalysisFromTemplate.scss';\n\nconst AddAnalysisFromTemplate = () => {\n  const { projectId } = useParams();\n  const [\n    allStructuredIngestionDocuments,\n    setAllStructuredIngestionDocuments\n  ] = useState([]);\n\n  useEffect(() => {\n    const fetchAll = async () => {\n      const response = await getAllStructuredIngestionDocuments(projectId);\n      setAllStructuredIngestionDocuments(response);\n    };\n\n    fetchAll();\n  }, [projectId]);\n\n  return (\n    <div\n      data-testid=\"structured-analysis-container\"\n      className=\"add-analysis-from-template-container\"\n    >\n      <h2>Add Analysis from template</h2>\n      <p className=\"description\">\n        Please select the Analyses required for this project.\n      </p>\n      <div className=\"divider\" />\n      <StructuredAnalysisTable\n        data-testid=\"structured-analysis-table\"\n        projectId={projectId}\n        structuredDocuments={allStructuredIngestionDocuments}\n      />\n    </div>\n  );\n};\n\nexport default AddAnalysisFromTemplate;\n","import React from 'react';\nimport { Tooltip, Icon } from '@pwc/pwc-deals-ui';\nimport { useSelector } from 'react-redux';\nimport {\n  getEngagementUrl,\n  getProjectSharePointUrl\n} from '../../../project/projectSlice';\nimport './ViewAnalysisSourceLinks.scss';\n\nconst ViewAnalysisSourceLinks = ({ toolTipDirection = 'left' }) => {\n  const sharepointUrl = useSelector(getProjectSharePointUrl);\n  const engagementUrl = useSelector(getEngagementUrl);\n\n  const toolTipText = `Make sure your PowerPoint ${'\\n'}files are saved in SharePoint, ${'\\n'}and your Power BI reports are${'\\n'} published to Workbench.`;\n  return (\n    <div className=\"external-source-links\">\n      View in{' '}\n      <a\n        className=\"external-source-link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        data-testid=\"project-sharepoint-link\"\n        href={`//${sharepointUrl}/Shared%20Documents/Forms/AllItems.aspx`}\n      >\n        Sharepoint\n      </a>{' '}\n      or{' '}\n      <a\n        className=\"external-source-link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        data-testid=\"project-workbench-link\"\n        href={`${engagementUrl}/reports`}\n      >\n        Workbench\n      </a>{' '}\n      <Tooltip\n        direction={toolTipDirection}\n        dataTestId=\"source-links-tooltip-popup\"\n        tip={toolTipText}\n      >\n        <Icon\n          name=\"information\"\n          width=\"16\"\n          className=\"icon fill icon-yellow source-file-tooltip-icon\"\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default ViewAnalysisSourceLinks;\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport PageTitle from '../../../common/components/PageTitle/PageTitle';\nimport Separator from '../../../common/components/Separator';\nimport {\n  addAnalysisFromTemplatePath,\n  createAnalysisPath,\n  createCustomAnalysis2Path\n} from '../../../common/services/urlService';\nimport ViewAnalysisSourceLinks from '../common/ViewAnalysisSourceLinks/ViewAnalysisSourceLinks';\nimport './AddAnalysisType.scss';\n\nconst AddAnalysisType = () => {\n  const { projectId } = useParams();\n  const addAnalysisFromTemplateHref = addAnalysisFromTemplatePath(projectId);\n  const createFreeformAnalysisHref = createAnalysisPath(projectId);\n  const createCustomAnalysisHref = createCustomAnalysis2Path(projectId);\n\n  return (\n    <div className=\"add-analysis-type-container\">\n      <PageTitle title=\"Add a new analysis\" size=\"h1\" />\n\n      <section className=\"custom-analysis-section\">\n        <PageTitle title=\"Custom\" size=\"h2\" />\n\n        <p>\n          Build and customize the layout to include data from Excel, PowerPoint\n          or Power BI. These update automatically and give you flexibility in\n          how your Analysis is presented.\n        </p>\n\n        <Link to={createCustomAnalysisHref} data-testid=\"create-new-custom\">\n          <Icon name=\"add\" width={18} />\n          New custom\n        </Link>\n      </section>\n\n      <div className=\"card-container\">\n        <section className=\"card\" data-testid=\"analysis-type-card\">\n          <div className=\"title\">\n            <Icon name=\"from-template\" width={20} />\n            From template\n          </div>\n          <div className=\"card-content\">\n            Add common analyses to generate the tables and charts. Populate the\n            relevant data fields in the Excel template on SharePoint.\n          </div>\n          <Link\n            to={addAnalysisFromTemplateHref}\n            data-testid=\"add-from-template-link\"\n            className=\"add-from-template-button\"\n          >\n            <Icon name=\"add\" width={18} />\n            Start from template\n          </Link>\n        </section>\n\n        <section className=\"card\">\n          <div className=\"title\">\n            <Icon name=\"free-form\" width={20} />\n            Free-form\n          </div>\n          <div className=\"card-content\">\n            Choose pre-ingested data or ingest your own using the Excel add-in.\n            You can also import data from Power BI and PowerPoint.\n          </div>\n          <Link\n            to={createFreeformAnalysisHref}\n            data-testid=\"add-freeform-link\"\n            className=\"add-from-template-button\"\n          >\n            <Icon name=\"add\" width={18} />\n            Start free-form\n          </Link>\n        </section>\n      </div>\n\n      <Separator />\n      <ViewAnalysisSourceLinks />\n    </div>\n  );\n};\n\nexport default AddAnalysisType;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport qs from 'query-string';\nimport {\n  ContentServiceHttpClient,\n  ProjectHttpClient\n} from '../../common/services/httpClient';\n\nexport const AnalysisTypes = {\n  Unstructured: 100,\n  [Constants.QUALITY_OF_EARNINGS]: 200,\n  [Constants.NET_WORKING_CAPITAL]: 300,\n  [Constants.DEBT_AND_DEBT_LIKE]: 400\n};\nObject.freeze(AnalysisTypes);\n\nconst baseServicePath = (projectId, analysisThreadId, versionStatus) => {\n  const pathForId = analysisThreadId ? `/${analysisThreadId}` : '';\n  const pathForStatus = versionStatus ? `/${versionStatus}` : '';\n\n  return `projects/${projectId}/analyses${pathForId}${pathForStatus}`;\n};\n\nexport const getAnalyses = async projectId => {\n  const response = await ProjectHttpClient.get(baseServicePath(projectId));\n  return response.data;\n};\n\nexport const getAllAnalyses = async (projectId, tagIds) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/analyses${\n      tagIds ? `?${qs.stringify({ TagIds: tagIds })}` : ''\n    }`\n  );\n  return response.data;\n};\n\nexport const getPagedAnalyses = async (projectId, page = 0, pageSize = 10) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/analyses?currentPage=${page}&pageSize=${pageSize}`\n  );\n  return response.data;\n};\n\nexport const getAnalysis = async (\n  projectId,\n  analysisThreadId,\n  versionStatus\n) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, analysisThreadId, versionStatus)}`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsStatus = async (projectId, analysisThreadId) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisThreadId}/status`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsVersions = async (\n  projectId,\n  analysisThreadId\n) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisThreadId}/versions`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsDraft = async (projectId, analysisThreadId) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisThreadId}/draft`\n  );\n  return response.data;\n};\n\nexport const getAnalysisDetailsShared = async (\n  projectId,\n  analysisContentId\n) => {\n  const response = await ContentServiceHttpClient.get(\n    `/projects/${projectId}/contents/${analysisContentId}/shared`\n  );\n  return response.data;\n};\n\nexport const getAnalysisVersions = async (projectId, analysisThreadId) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, analysisThreadId)}/versions`\n  );\n\n  return response.data;\n};\n\nexport const postAnalysis = async (projectId, analysisDto) => {\n  const response = await ProjectHttpClient.post(baseServicePath(projectId), {\n    ...analysisDto,\n    createdBy: 'unset'\n  });\n\n  return response.data;\n};\n\nexport const putAnalysis = async (projectId, analysisThreadId, analysisDto) => {\n  const response = await ProjectHttpClient.put(\n    baseServicePath(projectId, analysisThreadId),\n    analysisDto\n  );\n  return response.data;\n};\n\nexport const deleteAnalysis = async (projectId, analysisThreadId) => {\n  const response = await ProjectHttpClient.delete(\n    baseServicePath(projectId, analysisThreadId)\n  );\n\n  return response;\n};\n\nexport const updateAnalysisStatus = async (\n  projectId,\n  analysisThreadId,\n  newStatus\n) => {\n  const url = `${baseServicePath(projectId, analysisThreadId)}/${newStatus}`;\n  return ProjectHttpClient.post(url);\n};\n\nexport const updateAnalysesOrder = async (\n  projectId,\n  orderedContentThreadIds\n) => {\n  const response = await ProjectHttpClient.post(\n    `${baseServicePath(projectId)}/sortorder`,\n    orderedContentThreadIds\n  );\n\n  return response.data;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _orderBy from 'lodash/orderBy';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './TagList.scss';\n\nconst TagList = ({ tags, testId }) => {\n  if (tags && tags.length === 0) {\n    return null;\n  }\n\n  const orderedTags = _orderBy(tags, [tag => tag.text.toLowerCase()], ['asc']);\n\n  return (\n    <div className=\"tags-list-container\" data-testid={testId}>\n      <div>\n        <Icon\n          name=\"tag\"\n          className=\"fill tag-icon\"\n          width={15}\n          data-testid=\"draft-icon\"\n        />\n      </div>\n      <div className=\"tags\">\n        {orderedTags.map((tag, i) => {\n          return (\n            // eslint-disable-next-line react/no-array-index-key\n            <span key={`${tag.text}-${i}`} data-testid=\"tag\">\n              <span className=\"punctuation\">{i ? ', ' : ''}</span>\n              <span className=\"tag-text\">{tag.text}</span>\n            </span>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nTagList.propTypes = {\n  tags: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      text: PropTypes.string\n    })\n  ),\n  testId: PropTypes.string.isRequired\n};\n\nTagList.defaultProps = {\n  tags: []\n};\n\nexport default TagList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Separator from '../../../common/components/Separator';\nimport ContentActionsRowMenu from '../../../common/components/ContentActions/ContentActionsRowMenu';\nimport { viewAnalysisPath2 } from '../../../common/services/urlService';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport ConnectedContentAccordion from '../../narratives/AccordionConnectedContent/ConnectedContentAccordion';\nimport { structuredAnalysisLinkToDisplay } from '../../../common/engine/utilities/structured-data-utilities';\nimport './AnalysesGridCard.scss';\nimport TagList from '../common/TagList/TagList';\nimport PillContainer from '../../../common/components/Pills/PillContainer';\nimport { sanitize } from '../../../common/services/sanitizeService';\n\nconst AnalysesGridCard = ({\n  analysis,\n  projectId,\n  onEditMenuClick,\n  onDeleteMenuClick,\n  index\n}) => {\n  return (\n    <div className=\"card-container\">\n      <div className=\"row\">\n        <div className=\"col down\">\n          <div className=\"card-title\">\n            <Link\n              to={\n                analysis.isUnStructured\n                  ? viewAnalysisPath2(projectId, analysis.frontendIdentifier)\n                  : structuredAnalysisLinkToDisplay(projectId, analysis.title)\n              }\n              data-testid=\"analysis-title\"\n              aria-label=\"View Analysis\"\n            >\n              <h2>{analysis.displayName || analysis.title}</h2>\n            </Link>\n          </div>\n          <span\n            className=\"card-description\"\n            data-testid=\"analysis-description\"\n            dangerouslySetInnerHTML={{ __html: sanitize(analysis.body) }}\n          />\n\n          <ConnectedContentAccordion\n            hasConnectedContent={analysis.hasConnectedContent}\n            projectId={projectId}\n            contentId={analysis.contentId}\n            index={index}\n          />\n        </div>\n      </div>\n\n      <Separator />\n\n      <div className=\"card-action-footer\">\n        <PillContainer\n          content={analysis}\n          projectId={projectId}\n          allowDraftPill\n        />\n        <div className=\"card-actions\">\n          <ShowForPermissions\n            projectId={projectId}\n            permissions={['Contribute']}\n          >\n            <ContentActionsRowMenu\n              projectId={projectId}\n              itemId={analysis.frontendIdentifier}\n              onEditMenuClick={onEditMenuClick}\n              onDeleteMenuClick={onDeleteMenuClick}\n            />\n          </ShowForPermissions>\n        </div>\n      </div>\n      <div className=\"row\">\n        {analysis.tags && analysis.tags.length > 0 && (\n          <TagList tags={analysis.tags} testId=\"analysis-tag-list\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AnalysesGridCard;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { editAnalysisPath2 } from '../../../common/services/urlService';\nimport AnalysesGridCard from '../AnalysesGridCard/AnalysesGridCard';\n\nconst AnalysesGrid = ({\n  data,\n  onDelete,\n  projectId,\n  dataLength,\n  currentPage,\n  next,\n  hasMore\n}) => {\n  const history = useHistory();\n\n  const handleEditAnalysis = analysisId =>\n    history.push(editAnalysisPath2(projectId, analysisId));\n\n  const getNextItems = () => {\n    const nextPage = currentPage + 1;\n    next(nextPage);\n  };\n\n  return (\n    <div className=\"analyses-grid-container\">\n      <div data-testid=\"list-grid\">\n        <InfiniteScroll\n          dataLength={dataLength}\n          hasMore={hasMore}\n          next={getNextItems}\n          scrollThreshold={1.0}\n          className=\"grid-cards list-grid\"\n        >\n          {data.map((analysis, i) => (\n            <AnalysesGridCard\n              analysis={analysis}\n              projectId={projectId}\n              onEditMenuClick={handleEditAnalysis}\n              onDeleteMenuClick={() => onDelete(analysis)}\n              index={i}\n              key={`content-grid-card-${analysis.contentThreadId}`}\n            />\n          ))}\n        </InfiniteScroll>\n      </div>\n    </div>\n  );\n};\n\nexport default AnalysesGrid;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { Link } from 'react-router-dom';\nimport { addAnalysisTypePath } from '../../common/services/urlService';\nimport EnableForProjectState from '../security/EnableForProjectState';\n\nconst CreateAnalysisLinkButton = ({ projectId }) => {\n  const addAnalysisHref = addAnalysisTypePath(projectId);\n\n  return (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <Link to={!isProjectDisabled && addAnalysisHref}>\n          <Button disabled={isProjectDisabled} className=\"mt-3\">\n            Create Analysis\n          </Button>\n        </Link>\n      )}\n    </EnableForProjectState>\n  );\n};\n\nexport default CreateAnalysisLinkButton;\n","import React from 'react';\nimport CreateAnalysisLinkButton from '../CreateAnalysisLinkButton';\nimport EmptyContentCard from '../../../common/components/EmptyContentCard/EmptyContentCard';\n\nconst EmptyAnalysesCard = ({ projectId }) => {\n  return (\n    <EmptyContentCard\n      projectId={projectId}\n      pluralName=\"Analyses\"\n      singularName=\"analysis\"\n    >\n      <CreateAnalysisLinkButton projectId={projectId} />\n    </EmptyContentCard>\n  );\n};\n\nexport default EmptyAnalysesCard;\n","import { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { cloneDeep, omit } from 'lodash';\nimport { Constants } from '@pwc/pwc-deals-web-common';\n\nexport const initialState = {\n  content: null,\n  status: {\n    isLoading: false,\n    hasError: false,\n    errorMessage: null\n  },\n  sharedStatus: null,\n  sections: null,\n  versions: null,\n  sharedVersion: null,\n  draftVersion: null,\n  libraryItemsNew: {\n    items: []\n  },\n  libraryItemsShared: {\n    items: []\n  },\n  libraryItemGroups: null,\n  tags: null\n};\n\nconst analysisSlice = createSlice({\n  name: 'analysis',\n  initialState,\n  reducers: {\n    resetAnalysis: () => initialState,\n    fetchAnalysisBegan: state => ({\n      ...state,\n      isLoading: true,\n      hasError: false,\n      errorStatusCode: null\n    }),\n    fetchAnalysisSucceeded: (state, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        isLoading: false,\n        hasError: false,\n        errorStatusCode: null\n      };\n    },\n    fetchAnalysisFailed: (state, action) => ({\n      ...state,\n      isLoading: false,\n      hasError: true,\n      errorStatusCode: action.payload\n    }),\n    fetchAnalysisDetailBegin: state => {\n      state.status.isLoading = true;\n      state.status.hasError = false;\n      state.status.errorMessage = null;\n    },\n    fetchAnalysisContent: (state, action) => {\n      const {\n        content,\n        content: { sections }\n      } = action.payload;\n      const newContent = omit(content, ['sections']);\n      state.content = newContent;\n      state.sections = sections;\n      state.status.isLoading = false;\n      state.status.hasError = false;\n    },\n    fetchAnalysisLibraryItemGroups: (state, action) => {\n      const { libraryItemGroups } = action.payload;\n      state.libraryItemGroups = libraryItemGroups;\n      state.status.isLoading = false;\n      state.status.hasError = false;\n    },\n    fetchAnalysisDetailFailed: (state, action) => {\n      const { isLoading, hasError, errorMessage } = action.payload;\n      state.status.isLoading = isLoading;\n      state.status.hasError = hasError;\n      state.status.errorMessage = errorMessage;\n    },\n    fetchLibraryItemsNew: (state, action) => {\n      const { libraryItems } = action.payload;\n      state.libraryItemsNew.items = libraryItems;\n    },\n    updateSharedStatus: (state, action) => {\n      state.sharedStatus = { ...action.payload };\n    },\n    updateVersions: (state, action) => {\n      state.versions = [...action.payload];\n    },\n    updateSectionItems: state => {\n      const {\n        libraryItemsNew: { items: libraryItems }\n      } = state;\n      const currentSections = cloneDeep(state.sections);\n      if (currentSections && currentSections.length > 0) {\n        const newSections = currentSections.map(section => {\n          const { items } = section;\n          const newItems = items.map(item => {\n            const clonedItem = cloneDeep(item);\n            const updatedLibItemIndex = libraryItems.findIndex(\n              _ => _.id === item.libraryItemId\n            );\n            if (updatedLibItemIndex > -1) {\n              const updatedItem = libraryItems[updatedLibItemIndex];\n              return {\n                ...clonedItem,\n                ...updatedItem\n              };\n            }\n            return {\n              ...clonedItem\n            };\n          });\n          return {\n            ...section,\n            items: newItems\n          };\n        });\n        state.sections = newSections;\n      }\n    },\n    updateSections: (state, action) => {\n      const { newSections } = action.payload;\n      state.sections = newSections;\n    },\n    fetchAnalysisVersionsSuccess: (state, action) => {\n      const { versions } = action.payload;\n      state.versions = versions;\n    },\n    fetchAllTags: (state, action) => {\n      const { tags } = action.payload;\n      state.tags = tags;\n    }\n  }\n});\nexport default analysisSlice.reducer;\n\n// Actions\nexport const {\n  resetAnalysis,\n  fetchAnalysisBegan,\n  fetchAnalysisSucceeded,\n  fetchAnalysisFailed,\n  fetchAnalysisDetailBegin,\n  fetchAnalysisContent,\n  fetchAnalysisLibraryItemGroups,\n  fetchAnalysisDetailFailed,\n  fetchLibraryItemsNew,\n  updateSharedStatus,\n  updateVersions,\n  updateSectionItems,\n  updateSections,\n  updateSectionSharedItems,\n  fetchAnalysisVersionsSuccess,\n  fetchAllTags\n} = analysisSlice.actions;\n\n// Selectors\nexport const getCurrentAnalysis = state => state.analysis;\nexport const selectAnalysisContent = createSelector(\n  getCurrentAnalysis,\n  slice => slice.content\n);\nexport const selectAnalysisSections = createSelector(\n  getCurrentAnalysis,\n  slice => slice.sections\n);\nexport const getLibraryItemsNew = createSelector(\n  getCurrentAnalysis,\n  slice => slice.libraryItemsNew\n);\nexport const getAnalysisStatus = createSelector(\n  getCurrentAnalysis,\n  slice => slice.status\n);\n\nexport const selectAllTags = createSelector(\n  getCurrentAnalysis,\n  slice => slice.tags\n);\n\nexport const getAnalysisIsShared = createSelector(\n  getCurrentAnalysis,\n  slice => slice.content && slice.content.shareWithAll\n);\n\nexport const selectAnalysisVersions = createSelector(\n  getCurrentAnalysis,\n  slice => slice.versions\n);\n\nexport const selectDraftVersion = createSelector(\n  selectAnalysisVersions,\n  versions =>\n    versions &&\n    versions.length > 0 &&\n    versions.find(\n      item => item.versionStatus === Constants.VERSION_STATUS.DRAFT.value\n    )\n);\n\nexport const selectSharedVersion = createSelector(\n  selectAnalysisVersions,\n  versions =>\n    versions &&\n    versions.length > 0 &&\n    versions.find(\n      item => item.versionStatus === Constants.VERSION_STATUS.SHARED.value\n    )\n);\n\nexport const selectSharedStatus = createSelector(\n  getCurrentAnalysis,\n  slice => slice.sharedStatus\n);\n","import React, { useMemo, useEffect, useState } from 'react';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Formik } from 'formik';\nimport { useSelector } from 'react-redux';\nimport ModalConfirmation from '../../../common/components/ModalConfirmation';\nimport ToggleGridList from '../../../common/components/ToggleGridList/ToggleGridList';\nimport AnalysesGrid from '../AnalysesGrid/AnalysesGrid';\nimport EmptyAnalysesCard from '../EmptyAnalyses/EmptyAnalysesCard';\nimport './AnalysesView.scss';\nimport TagEditor from '../../tagging/common/TagEditor/TagEditor';\nimport NoContentForTagsCard from '../../../common/components/ContentActions/NoContentForTagsCard/NoContentForTagsCard';\nimport ShowForRole from '../../security/ShowForRole';\nimport ViewAnalysisSourceLinks from '../common/ViewAnalysisSourceLinks/ViewAnalysisSourceLinks';\nimport ContentList from '../../contentList/ContentList';\nimport { contentTypeAnalyses } from '../../../common/components/proptypes/commonProptypes';\nimport { updateAnalysesOrder } from '../analysesService';\nimport { selectAllTags } from '../analysisSlice';\n\nconst AnalysesView = ({\n  projectId,\n  dataLength,\n  currentPage,\n  pageSize,\n  next,\n  hasMore,\n  analyses,\n  isFetching,\n  toggleView,\n  onFilter,\n  viewGrid,\n  onDelete,\n  onReorder\n}) => {\n  const [isLoading, setIsLoading] = useState(true);\n  // TODO: After 5 Analyses, this should be refactored to use one get endpoint to grab all analyses\n  // LINK: https://wwtas-pwcdealsos.atlassian.net/wiki/spaces/WWT/pages/284590088/Future+Us+Problems\n  const [isDeleteConfirmationVisible, setDeleteConfirmationVisible] = useState(\n    false\n  );\n  const [selectedAnalysis, setSelectedAnalysis] = useState(null);\n  const [tagFilters, setTagFilters] = useState([]);\n  const [data, setData] = useState(null);\n\n  const allTags = useSelector(selectAllTags);\n\n  useEffect(() => {\n    if (analyses && analyses.length > 0) {\n      analyses.sort(\n        (analysisA, analysisB) => analysisA.sortOrder - analysisB.sortOrder\n      );\n      setData(analyses);\n      setIsLoading(false);\n    } else if (analyses && analyses.length === 0 && tagFilters.length > 0) {\n      setData(analyses);\n      setIsLoading(false);\n    } else {\n      setData(null);\n      if (!isFetching) {\n        setIsLoading(false);\n      } else {\n        setIsLoading(true);\n      }\n    }\n  }, [analyses, isFetching, tagFilters.length]);\n\n  const showDeleteConfirmation = analysis => {\n    setSelectedAnalysis(analysis);\n    setDeleteConfirmationVisible(true);\n  };\n\n  const updateTags = async values => {\n    setTagFilters(values);\n    if (viewGrid) {\n      const selectedTags = allTags.filter(tag => values.includes(tag.text));\n      if (selectedTags && selectedTags.length > 0) {\n        const tagIds = selectedTags.map(val => val.id);\n        onFilter(tagIds);\n      } else {\n        next();\n      }\n    }\n  };\n\n  const filteredAnalysesNew = () => {\n    return (\n      data &&\n      data.length > 0 &&\n      data.filter(item => {\n        const analysisTags = new Set((item.tags || []).map(tag => tag.text));\n        return tagFilters.length\n          ? tagFilters.some(tag => analysisTags.has(tag))\n          : true;\n      })\n    );\n  };\n\n  const memoizedFilteredAnalyses = useMemo(filteredAnalysesNew, [\n    data,\n    tagFilters\n  ]);\n\n  return (\n    <>\n      <ModalConfirmation\n        show={isDeleteConfirmationVisible}\n        onCancel={() => setDeleteConfirmationVisible(false)}\n        onConfirm={() => {\n          setDeleteConfirmationVisible(false);\n          onDelete(selectedAnalysis);\n        }}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Analysis will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <div\n        data-testid=\"analysis-list-container\"\n        className=\"analysis-list-container\"\n      >\n        <div className=\"list-container-header\">\n          <h2 className=\"analyses-view-h2\">Analyses</h2>\n\n          <div className=\"list-container-header-source-links\">\n            <ShowForRole\n              roles={Constants.USER_ROLE_GROUPS.INTERNAL_READWRITE}\n              projectId={projectId}\n              restrictedForRoleElement={\n                <div data-testid=\"analysis-source-links-placeholder\" />\n              }\n            >\n              <ViewAnalysisSourceLinks toolTipDirection=\"left\" />\n            </ShowForRole>\n            <ToggleGridList viewGrid={viewGrid} onClick={toggleView} />\n          </div>\n        </div>\n\n        <Formik initialValues={{ tags: [] }}>\n          {() => (\n            <TagEditor\n              projectId={projectId}\n              onSelect={updateTags}\n              tagsRight\n              title={false}\n              subtitle={false}\n              allowCreateTags={false}\n              placeholderText=\"Filter by tag\"\n            />\n          )}\n        </Formik>\n\n        {isLoading && !data && <Loader dataTestId=\"loader\" />}\n        {!isLoading && data && (\n          <div className=\"content\">\n            {memoizedFilteredAnalyses &&\n              memoizedFilteredAnalyses.length > 0 &&\n              viewGrid && (\n                <div data-testid=\"analysis-grid-view\">\n                  <AnalysesGrid\n                    data={memoizedFilteredAnalyses}\n                    hasContent={!!data.length}\n                    projectId={projectId}\n                    onDelete={showDeleteConfirmation}\n                    dataLength={dataLength}\n                    currentPage={currentPage}\n                    pageSize={pageSize}\n                    hasMore={hasMore}\n                    next={next}\n                  />\n                </div>\n              )}\n\n            {memoizedFilteredAnalyses &&\n              memoizedFilteredAnalyses.length > 0 &&\n              !viewGrid && (\n                <div data-testid=\"analysis-list-view\">\n                  <ContentList\n                    contentType={contentTypeAnalyses}\n                    projectId={projectId}\n                    contentItems={memoizedFilteredAnalyses}\n                    projectHasContent={!!data.length}\n                    onDelete={onDelete}\n                    onReorder={onReorder}\n                    updateSortOrderApiCall={updateAnalysesOrder}\n                    isFiltered={!!tagFilters.length}\n                  />\n                </div>\n              )}\n\n            {(!memoizedFilteredAnalyses ||\n              memoizedFilteredAnalyses.length === 0) && (\n              <NoContentForTagsCard />\n            )}\n          </div>\n        )}\n        {!isLoading && !data && <EmptyAnalysesCard projectId={projectId} />}\n      </div>\n    </>\n  );\n};\n\nexport default AnalysesView;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport cloneDeep from 'lodash/cloneDeep';\nimport uniqBy from 'lodash/uniqBy';\nimport { structuredRoutes } from '../../../common/services/urlService';\nimport {\n  deleteAnalysis,\n  getAllAnalyses,\n  getPagedAnalyses\n} from '../analysesService';\nimport { deleteStructuredDocument } from '../../../common/engine/services/structuredAnalysisService';\nimport AnalysesView from './AnalysesView';\nimport {\n  getUserSettingsSelector,\n  setUserSettings\n} from '../../../common/redux/userSettings/userSettingsSlice';\nimport useWindowSize from '../../../common/hooks/useWindowSize';\n\n// AnalysesGrid expects each object in the data passed to it\n// to have an id for use as a key and a documentCode for\n// the delete endpoint\nconst addFrontendProperties = analysis => {\n  switch (analysis.contentSubType) {\n    case Constants.structuredDocumentSubtypeCodes[\n      Constants.QUALITY_OF_EARNINGS\n    ]:\n      return {\n        ...analysis,\n        frontendIdentifier: structuredRoutes[Constants.QUALITY_OF_EARNINGS],\n        code: Constants.QUALITY_OF_EARNINGS\n      };\n    case Constants.structuredDocumentSubtypeCodes[\n      Constants.NET_WORKING_CAPITAL\n    ]:\n      return {\n        ...analysis,\n        frontendIdentifier: structuredRoutes[Constants.NET_WORKING_CAPITAL],\n        code: Constants.NET_WORKING_CAPITAL\n      };\n    case Constants.structuredDocumentSubtypeCodes[Constants.DEBT_AND_DEBT_LIKE]:\n      return {\n        ...analysis,\n        frontendIdentifier: structuredRoutes[Constants.DEBT_AND_DEBT_LIKE],\n        code: Constants.DEBT_AND_DEBT_LIKE\n      };\n    default:\n      return { ...analysis, frontendIdentifier: analysis.contentThreadId };\n  }\n};\n\nconst pageSize = 10;\n\nconst AnalysesContainer = () => {\n  const routeParams = useParams();\n  const { projectId } = routeParams;\n  const [combinedAnalyses, setCombinedAnalyses] = useState(null);\n  const [itemPage, setItemPage] = useState(0);\n  const [itemCount, setItemCount] = useState(null);\n  const [isFetching, setIsFetching] = useState(null);\n  const userSettings = useSelector(getUserSettingsSelector);\n  const dispatch = useDispatch();\n  const { height } = useWindowSize();\n\n  const canBeScrolled = useCallback(\n    () => height && document.body.scrollHeight > height,\n    [height]\n  );\n  const hasMoreItems = useCallback(\n    () => combinedAnalyses && itemCount && combinedAnalyses.length < itemCount,\n    [combinedAnalyses, itemCount]\n  );\n\n  const compileAnalyses = useCallback(\n    (items, rowCount, currentPage) => {\n      setItemCount(rowCount);\n      setItemPage(currentPage);\n      if (currentPage !== 0) {\n        const currentItems = combinedAnalyses\n          ? cloneDeep(combinedAnalyses)\n          : [];\n        const newItems = uniqBy(currentItems.concat(items), 'contentThreadId');\n        setCombinedAnalyses(newItems.map(addFrontendProperties));\n      } else {\n        const newItems = uniqBy(items, 'contentThreadId');\n        setCombinedAnalyses(newItems.map(addFrontendProperties));\n      }\n      setIsFetching(false);\n    },\n    [combinedAnalyses]\n  );\n\n  const fetchPagedAnalyses = useCallback(\n    async (page = 0) => {\n      setIsFetching(true);\n      const analysesResponse = await getPagedAnalyses(\n        projectId,\n        page,\n        pageSize\n      );\n      const { items, rowCount, currentPage } = analysesResponse;\n      compileAnalyses(items, rowCount, currentPage);\n    },\n    [projectId, compileAnalyses]\n  );\n\n  const fetchAllAnalyses = useCallback(\n    async tagIds => {\n      setIsFetching(true);\n      const analysesResponse = await getAllAnalyses(projectId, tagIds);\n      const { items, currentPage, rowCount } = analysesResponse;\n      compileAnalyses(items, rowCount, currentPage);\n    },\n    [compileAnalyses, projectId]\n  );\n\n  useEffect(() => {\n    if (userSettings && !userSettings.settings.viewGrid) {\n      fetchAllAnalyses();\n    } else {\n      fetchPagedAnalyses();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (combinedAnalyses && combinedAnalyses.length > 0 && itemCount) {\n      const isScrollable = canBeScrolled();\n      const hasMore = hasMoreItems();\n      if (isScrollable === false && hasMore === true && !isFetching) {\n        fetchPagedAnalyses(itemPage + 1);\n      }\n    }\n  }, [\n    combinedAnalyses,\n    height,\n    itemCount,\n    itemPage,\n    fetchPagedAnalyses,\n    canBeScrolled,\n    hasMoreItems,\n    isFetching\n  ]);\n\n  const handleReorder = orderedAnalyses => {\n    setCombinedAnalyses(orderedAnalyses);\n  };\n\n  const toggleView = () => {\n    setCombinedAnalyses(null);\n    const {\n      settings: { viewGrid }\n    } = userSettings;\n    const isGridView = !viewGrid;\n    dispatch(\n      setUserSettings({\n        viewGrid: !viewGrid\n      })\n    );\n    if (!isGridView) {\n      fetchAllAnalyses();\n    } else {\n      fetchPagedAnalyses(itemPage);\n    }\n  };\n\n  const onFilter = tagIds => {\n    setCombinedAnalyses(null);\n    fetchAllAnalyses(tagIds);\n  };\n\n  const handleDeleteAnalysis = async analysis => {\n    const { contentThreadId, code, isUnStructured } = analysis;\n\n    const request = isUnStructured\n      ? deleteAnalysis(projectId, contentThreadId)\n      : deleteStructuredDocument(projectId, code);\n    const response = await request;\n\n    if (response.data === true) {\n      const itemIndex = combinedAnalyses.findIndex(\n        item => item.contentThreadId === contentThreadId\n      );\n      if (itemIndex > -1) {\n        const allItems = cloneDeep(combinedAnalyses);\n        allItems.splice(itemIndex, 1);\n        setCombinedAnalyses([...allItems]);\n      }\n    }\n  };\n\n  return (\n    <div data-testid=\"analyses-container\" className=\"analyses-container\">\n      <AnalysesView\n        toggleView={toggleView}\n        onFilter={onFilter}\n        viewGrid={userSettings.settings.viewGrid}\n        projectId={projectId}\n        dataLength={combinedAnalyses && combinedAnalyses.length}\n        currentPage={itemPage}\n        pageSize={pageSize}\n        hasMore={hasMoreItems()}\n        isFetching={isFetching}\n        next={fetchPagedAnalyses}\n        fetchAllAnalyses={fetchAllAnalyses}\n        analyses={combinedAnalyses}\n        onDelete={handleDeleteAnalysis}\n        onReorder={handleReorder}\n      />\n    </div>\n  );\n};\n\nexport default AnalysesContainer;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport EnableForProjectState from '../../security/EnableForProjectState';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport MoreMenu from '../../../common/components/ContentActions/MoreMenu';\nimport { entitySharedStatusUpdateSuccess } from '../../comments/commentsSlice';\nimport { viewAnalysisReportPreviewPath } from '../../../common/services/urlService';\n\nconst AnalysisControlsHeader = ({\n  onEdit,\n  onDelete,\n  onRefresh,\n  deleteConfirmation,\n  analysis,\n  viewClient,\n  workflowActions = [],\n  libraryItemCorruptedError,\n  onCloseErrorState,\n  children,\n  isShared\n}) => {\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(entitySharedStatusUpdateSuccess(isShared));\n  }, [dispatch, isShared]);\n\n  const reportPreviewUrl = viewAnalysisReportPreviewPath(\n    projectId,\n    analysis.contentThreadId,\n    viewClient.isOnClientVersion ? 'shared' : 'latest',\n    analysis.isUnStructured\n  );\n\n  return (\n    <div className=\"analysis-top-bar-container\">\n      <div className=\"analysis-top-bar\">\n        {children}\n        <div />\n        <div>\n          <ShowForPermissions\n            projectId={projectId}\n            permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n          >\n            <EnableForProjectState projectId={projectId}>\n              {({ isProjectDisabled }) => (\n                <Button\n                  data-testid=\"edit-button\"\n                  type=\"button\"\n                  onClick={onEdit}\n                  className=\"button-block button-small mr-3\"\n                  disabled={isProjectDisabled || viewClient.isOnClientVersion}\n                >\n                  Edit\n                </Button>\n              )}\n            </EnableForProjectState>\n            <MoreMenu\n              itemId={analysis.contentThreadId}\n              onDelete={onDelete}\n              onRefresh={onRefresh}\n              deleteConfirmation={deleteConfirmation}\n              workflowActions={workflowActions}\n              viewClient={viewClient}\n              libraryItemCorruptedError={libraryItemCorruptedError}\n              onCloseErrorState={onCloseErrorState}\n              reportPreviewUrl={reportPreviewUrl}\n            />\n          </ShowForPermissions>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nAnalysisControlsHeader.propTypes = {\n  onEdit: PropTypes.func.isRequired,\n  onRefresh: PropTypes.func\n};\n\nAnalysisControlsHeader.defaultProps = {\n  onRefresh: undefined\n};\n\nexport default AnalysisControlsHeader;\n","import {\n  LibraryItemsPowerBiHttpClient,\n  ProjectHttpClient\n} from '../../common/services/httpClient';\n\nexport const getReports = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/powerBiReports`\n  );\n  return response.data;\n};\n\nexport const getReportEmbedData = async (\n  projectId,\n  libraryItemId,\n  isShared\n) => {\n  const shared = isShared || false;\n\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/powerBiReports/search?libraryItemId=${libraryItemId}&shared=${shared}`\n  );\n  return response.data;\n};\n\nexport const getReportEmbedDataByReportId = async (projectId, reportId) => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/powerBiReports/${reportId}`\n  );\n  return response.data;\n};\n\nexport const getPowerBiReportData = async (projectId, reportData) => {\n  const response = await LibraryItemsPowerBiHttpClient.post(\n    `/projects/${projectId}`,\n    reportData\n  );\n  return response.data;\n};\n","import { cloneDeep, omit } from 'lodash';\nimport {\n  getExcelLibraryItemsByGroup,\n  getPptLibraryItemsByGroup,\n  getRichTextLibraryItemsByGroup\n} from '../contentLibrary/libraryItemService';\nimport {\n  getAnalysis,\n  getAnalysisVersions,\n  getAnalysisDetailsStatus,\n  getAnalysisDetailsShared,\n  getAnalysisDetailsDraft,\n  getAnalysisDetailsVersions\n} from './analysesService';\nimport { getPowerBiReportData } from './powerBiService';\nimport {\n  fetchAnalysisBegan,\n  fetchAnalysisSucceeded,\n  fetchAnalysisFailed,\n  fetchAnalysisDetailBegin,\n  fetchAnalysisContent,\n  fetchAnalysisLibraryItemGroups,\n  fetchAnalysisDetailFailed,\n  fetchAnalysisVersionsSuccess,\n  fetchLibraryItemsNew,\n  updateSectionItems,\n  updateSections,\n  updateSharedStatus,\n  updateVersions\n} from './analysisSlice';\nimport { getStructuredAnalysis } from '../../common/engine/services/structuredAnalysisService';\nimport { STRUCTURED_DISPLAY_NAME_BY_SUBTYPE } from '../../common/engine/utilities/constants';\n\nconst formatTypeMap = {\n  300: 'SVG',\n  301: 'HTML',\n  500: 'HTML'\n};\n\nconst libraryItemTypeApiMethodMap = {\n  300: getExcelLibraryItemsByGroup,\n  301: getExcelLibraryItemsByGroup,\n  500: getPptLibraryItemsByGroup,\n  400: getPowerBiReportData,\n  401: getPowerBiReportData\n};\n\nconst requestArrayType = {\n  500: 'pptLibraryItems',\n  301: 'excelLibraryItems',\n  300: 'excelLibraryItems'\n};\n\nconst updateLibraryItemsThunk = itemsToAdd => async (dispatch, getState) => {\n  const {\n    analysis: {\n      libraryItemsNew: { items }\n    }\n  } = getState();\n  const newItems = cloneDeep(items).concat(itemsToAdd);\n  dispatch(fetchLibraryItemsNew({ libraryItems: newItems }));\n  dispatch(updateSectionItems());\n};\n\nconst transformPowerBiResponse = (response, data) => {\n  const { libraryItemId, libraryItemType } = response;\n  const clonedResponse = cloneDeep(\n    omit(response, ['libraryItemId', 'libraryItemType'])\n  );\n  const transformedResponse = {\n    ...clonedResponse,\n    id: libraryItemId,\n    type: libraryItemType,\n    data\n  };\n  return transformedResponse;\n};\n\nconst fetchPowerBiSingleItemThunk = (\n  projectId,\n  reqData,\n  libItem\n) => async dispatch => {\n  try {\n    const { data } = reqData;\n    const response = await libraryItemTypeApiMethodMap[libItem.type](\n      projectId,\n      reqData\n    );\n    const transformedResponse = transformPowerBiResponse(response, data);\n    dispatch(updateLibraryItemsThunk(transformedResponse));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n    // TODO: dispatch action to update group status message to failure\n  }\n};\n\nexport const loadPowerBiLibraryItemsThunk = projectId => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemGroups: { powerBiLibraryItemList }\n    }\n  } = getState();\n  if (powerBiLibraryItemList && powerBiLibraryItemList.length === 0) {\n    return;\n  }\n  powerBiLibraryItemList.forEach(group => {\n    const reqBody = {\n      reportId: group.reportId,\n      embedUrl: group.embedUrl\n    };\n    group.powerBiLibraryItems.forEach(libItem => {\n      const reqData = {\n        ...reqBody,\n        libraryItemId: libItem.id,\n        libraryItemType: libItem.type,\n        workspaceId: libItem.workspaceId,\n        name: libItem.name,\n        data: libItem.data\n      };\n\n      dispatch(fetchPowerBiSingleItemThunk(projectId, reqData, libItem));\n    });\n  });\n};\n\nconst transformExcelPptGroupResponse = response => {\n  const { fileName, fileContents } = response;\n  return fileContents.map(item => {\n    const cloned = cloneDeep(item);\n    return {\n      ...cloned,\n      fileName\n    };\n  });\n};\n\nconst fetchExcelPptSingleGroupThunk = (\n  projectId,\n  reqBody,\n  groupType\n) => async dispatch => {\n  try {\n    const response = await libraryItemTypeApiMethodMap[groupType](\n      projectId,\n      reqBody\n    );\n    const transformedItems = transformExcelPptGroupResponse(response);\n    dispatch(updateLibraryItemsThunk(transformedItems));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n    // TODO: dispatch action to update status for group to failure\n  }\n};\n\nexport const loadExcelPptLibraryItemsItemsThunk = projectId => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemGroups: { excelPptLibraryItemList }\n    }\n  } = getState();\n  if (excelPptLibraryItemList && excelPptLibraryItemList.length === 0) {\n    return;\n  }\n\n  excelPptLibraryItemList.forEach(group => {\n    const reqBody = {\n      groupedByKey: group.groupedByKey,\n      sharePointItemUrl: group.sharePointItemUrl,\n      driveId: group.driveId,\n      driveItemId: group.driveItemId,\n      siteId: group.siteId\n    };\n    const groupType = group.excelPptLibraryItems[0].type;\n    reqBody[requestArrayType[groupType]] = group.excelPptLibraryItems.map(\n      libItem => {\n        const cloned = cloneDeep(libItem);\n        const { data } = cloned;\n        data.formatType = formatTypeMap[libItem.type];\n        return { ...cloned, data };\n      }\n    );\n    dispatch(fetchExcelPptSingleGroupThunk(projectId, reqBody, groupType));\n  });\n};\n\nexport const fetchRichTextGroupedItemsThunk = projectId => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemGroups: { richTextLibraryItemList }\n    }\n  } = getState();\n  if (richTextLibraryItemList && richTextLibraryItemList.length === 0) {\n    return;\n  }\n  try {\n    const richTextLibItems = richTextLibraryItemList\n      .reduce((accum, item) => {\n        const { libraryItemId: itemId } = item;\n        const parsedId = Number.isInteger(parseInt(itemId, 10))\n          ? parseInt(itemId, 10)\n          : null;\n        return accum.concat([parsedId]);\n      }, [])\n      .filter(item => item !== null);\n    const reqBody = {\n      libraryItemIds: richTextLibItems\n    };\n    const response = await getRichTextLibraryItemsByGroup(projectId, reqBody);\n    const { richTextLibraryItems } = response;\n    dispatch(updateLibraryItemsThunk(richTextLibraryItems));\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    // TODO: dispatch action to update group status to failure message\n  }\n};\n\nconst transformSharedItem = (existingSectionItem, sharedItem) => {\n  const { type } = sharedItem;\n  let newSectionItem;\n  if (type === 100) {\n    const { data } = sharedItem;\n    newSectionItem = {\n      ...existingSectionItem,\n      ...omit(sharedItem, ['data']),\n      richTextContent: { richTextData: data }\n    };\n  } else if (type === 400 || type === 401) {\n    newSectionItem = { ...existingSectionItem, ...sharedItem };\n  } else if (type === 300 || type === 301 || type === 500) {\n    const { data } = sharedItem;\n    newSectionItem = {\n      ...existingSectionItem,\n      ...omit(sharedItem, ['data']),\n      value: data\n    };\n  }\n  return newSectionItem;\n};\n\nconst updateSharedLibraryItemsThunk = itemsToAdd => async (\n  dispatch,\n  getState\n) => {\n  const {\n    analysis: {\n      libraryItemsShared: { items: sharedItems },\n      sections\n    }\n  } = getState();\n  const newItems = cloneDeep(sharedItems).concat(itemsToAdd);\n  const newSections = sections.map(section => {\n    const { items } = section;\n    const transformedItems = items.map(item => {\n      const clonedItem = cloneDeep(item);\n      const updatedItem = newItems.find(\n        _ => _.id === (item.id || item.libraryItemId)\n      );\n      let transformedSharedItem;\n      if (updatedItem) {\n        transformedSharedItem = transformSharedItem(clonedItem, updatedItem);\n        return {\n          ...transformedSharedItem\n        };\n      }\n      return {\n        ...clonedItem\n      };\n    });\n    return {\n      ...section,\n      items: transformedItems\n    };\n  });\n  dispatch(updateSections({ newSections }));\n};\n\nexport const loadAnalysisVersionsThunk = (\n  projectId,\n  analysisId\n) => async dispatch => {\n  try {\n    const versions = await getAnalysisVersions(projectId, analysisId);\n    dispatch(fetchAnalysisVersionsSuccess({ versions }));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n  }\n};\n\nexport const loadAnalysisWithDraftContent = (\n  projectId,\n  analysisId\n) => async dispatch => {\n  try {\n    dispatch(fetchAnalysisDetailBegin());\n    const response = await getAnalysisDetailsDraft(projectId, analysisId);\n    const { content = {}, libraryItemGroups = {} } = response;\n    dispatch(fetchAnalysisContent({ content }));\n    dispatch(fetchAnalysisLibraryItemGroups({ libraryItemGroups }));\n\n    dispatch(loadExcelPptLibraryItemsItemsThunk(projectId));\n    dispatch(loadPowerBiLibraryItemsThunk(projectId));\n    dispatch(fetchRichTextGroupedItemsThunk(projectId));\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    dispatch(\n      fetchAnalysisDetailFailed({\n        isLoading: false,\n        hasError: true,\n        errorMessage: e.toString()\n      })\n    );\n  }\n};\n\nexport const loadAnalysisWithSharedContent = (\n  projectId,\n  analysisId\n) => async dispatch => {\n  try {\n    const response = await getAnalysisDetailsShared(projectId, analysisId);\n    const { content, items } = response;\n    dispatch(fetchAnalysisContent({ content }));\n    dispatch(updateSharedLibraryItemsThunk(items));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n    // TODO: better error handling\n  }\n};\n\nexport const loadAnalysisStatus = (projectId, analysisId) => async dispatch => {\n  try {\n    const statusResponse = await getAnalysisDetailsStatus(\n      projectId,\n      analysisId\n    );\n    dispatch(updateSharedStatus(statusResponse));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n  }\n};\n\nexport const loadAnalysisVersions = (\n  projectId,\n  analysisId\n  // eslint-disable-next-line no-unused-vars\n) => async dispatch => {\n  try {\n    const versionsResponse = await getAnalysisDetailsVersions(\n      projectId,\n      analysisId\n    );\n    dispatch(updateVersions(versionsResponse));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error);\n  }\n};\n\n// Thunks\nconst loadThunk = async (dispatch, state, loadFunction) => {\n  try {\n    if (!state.isLoading) {\n      dispatch(fetchAnalysisBegan());\n\n      const response = await loadFunction();\n\n      dispatch(fetchAnalysisSucceeded(response));\n    }\n  } catch (error) {\n    dispatch(fetchAnalysisFailed(error.response ? error.response.status : 500));\n  }\n};\n\nexport const loadAnalysisThunk = (\n  projectId,\n  analysisId,\n  versionStatus\n) => async (dispatch, state) => {\n  await loadThunk(dispatch, state, () =>\n    getAnalysis(projectId, analysisId, versionStatus)\n  );\n};\n\nexport const loadStructuredAnalysisThunk = (\n  projectId,\n  analysisId,\n  versionStatus\n) => async (dispatch, state) => {\n  await loadThunk(dispatch, state, async () => {\n    const analysis = await getStructuredAnalysis(\n      projectId,\n      analysisId,\n      versionStatus\n    );\n    analysis.title =\n      STRUCTURED_DISPLAY_NAME_BY_SUBTYPE[analysis.contentSubType];\n    return analysis;\n  });\n};\n","import React from 'react';\n\nconst PowerBiReportDisplayConfig = ({\n  embedToken,\n  embedUrl,\n  reportId,\n  reportTitle,\n  pageName = ''\n}) => (\n  <div data-testid=\"chart-config-wrapper\">\n    <p data-testid=\"powerbi-report-title\">{`Power BI Report Title: ${reportTitle}`}</p>\n    <p data-testid=\"embed-token\">{`Embed Token: ${embedToken}`}</p>\n    <p data-testid=\"embed-url\">{`Embed Url: ${embedUrl}`}</p>\n    <p data-testid=\"report-id\">{`report Id: ${reportId}`}</p>\n    <p data-testid=\"powerbi-report-page-name\">{`Power BI Report Page Name: ${pageName}`}</p>\n  </div>\n);\n\nexport default PowerBiReportDisplayConfig;\n","import { models } from 'powerbi-client';\nimport { getPowerBiTheme } from '../../contentLibrary/IngestLibraryItemModal/getPowerBiTheme';\n\nexport const computeContainerDimensions = (height, width, isSinglePage) => {\n  const BOTTOM_TOOLBAR_HEIGHT = 36;\n  const BOTTOM_SCROLLBAR_HEIGHT = 8;\n  const RIGHT_TOOLBAR_WIDTH = 37;\n\n  const computedHeight = isSinglePage\n    ? height + BOTTOM_SCROLLBAR_HEIGHT\n    : height + BOTTOM_SCROLLBAR_HEIGHT + BOTTOM_TOOLBAR_HEIGHT;\n\n  const computedWidth = isSinglePage ? width : width + RIGHT_TOOLBAR_WIDTH;\n\n  return [computedHeight, computedWidth];\n};\n\nexport const buildPowerBiReportConfig = ({\n  embedToken,\n  embedUrl,\n  pageName,\n  reportId,\n  isDarkMode\n}) => {\n  const config = {\n    type: 'report',\n    tokenType: models.TokenType.Embed,\n    accessToken: embedToken,\n    embedUrl,\n    id: reportId,\n    permissions: models.Permissions.All,\n    settings: {\n      panes: {\n        pageNavigation: {\n          visible: !pageName\n        },\n        filters: {\n          expanded: false,\n          visible: !pageName\n        }\n      },\n      layoutType: models.LayoutType.Custom,\n      customLayout: {\n        displayOption: models.DisplayOption.ActualSize\n      }\n    },\n    pageName,\n    theme: getPowerBiTheme(isDarkMode)\n  };\n\n  return config;\n};\n","import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { get, isEmpty } from 'lodash';\nimport { useSelector } from 'react-redux';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport PowerBiReportDisplayConfig from './PowerBiReportDisplayConfig';\nimport { getReportEmbedData } from '../powerBiService';\nimport { getIsDarkModeSelector } from '../../../common/redux/userSettings/userSettingsSlice';\nimport {\n  buildPowerBiReportConfig,\n  computeContainerDimensions\n} from './powerBiReportHelpers';\n\nimport './PowerBiReport.scss';\n\nconst PowerBiReport = ({ item, projectId }) => {\n  const [isE2eEnvironment] = useState(Boolean(window.Cypress));\n  const [reportData, setReportData] = useState(null);\n  const powerBiContainerRef = useRef(null);\n  const isDarkMode = useSelector(getIsDarkModeSelector);\n  const [powerBiContainerDimensions, setPowerBiContainerDimensions] = useState({\n    height: '650px',\n    width: '100%'\n  });\n\n  const toFetchEmbeddedData = useMemo(() => {\n    if (!isEmpty(item.data) && !item.data.pageName) {\n      const data = JSON.parse(item.data);\n      if (!isEmpty(data.ReportId)) {\n        return true;\n      }\n      return false;\n    }\n    return false;\n  }, [item]);\n\n  useEffect(() => {\n    const fetchReportData = async () => {\n      window.powerbi.reset(powerBiContainerRef.current);\n      window.powerbi.bootstrap(powerBiContainerRef.current, {\n        type: 'report'\n      });\n      const powerBiData = await getReportEmbedData(\n        projectId,\n        item.id,\n        item.isShared\n      );\n      const pageName = get(JSON.parse(item.data), 'PageName', '');\n\n      setReportData({ ...powerBiData, pageName });\n    };\n    if (item && item.type && !toFetchEmbeddedData) {\n      if (!isEmpty(item.data)) {\n        const { pageName } = item.data;\n        setReportData({ ...item, pageName });\n      } else {\n        setReportData(item);\n      }\n    } else if (toFetchEmbeddedData) {\n      fetchReportData();\n    }\n  }, [item, projectId, toFetchEmbeddedData]);\n\n  useEffect(() => {\n    async function embedPowerBi() {\n      const embeddedReport = window.powerbi.embed(\n        powerBiContainerRef.current,\n        buildPowerBiReportConfig({\n          embedToken: reportData.embedToken,\n          embedUrl: reportData.embedUrl,\n          pageName: reportData.pageName,\n          reportId: reportData.reportId,\n          isDarkMode\n        })\n      );\n      embeddedReport.on('loaded', () => {\n        embeddedReport.getPages().then(pages => {\n          const foundPageIndex = pages.findIndex(\n            page => page.name === reportData.pageName\n          );\n          const pageIndex = foundPageIndex < 0 ? 0 : foundPageIndex;\n          const { height, width } = pages[pageIndex].defaultSize;\n          const [computedHeight, computedWidth] = computeContainerDimensions(\n            height,\n            width,\n            !!reportData.pageName\n          );\n          setPowerBiContainerDimensions({\n            height: computedHeight,\n            width: computedWidth\n          });\n        });\n      });\n    }\n    if (reportData) {\n      embedPowerBi();\n    }\n  }, [reportData, isDarkMode]);\n\n  const showPowerBi = reportData;\n  const powerBiDisplay = !showPowerBi ? 'none' : null;\n\n  return (\n    <>\n      {!reportData && <Loader dataTestId=\"library-item-loading-indicator\" />}\n      <div data-testid=\"powerbi-wrapper\" className=\"powerbi-wrapper\">\n        {isE2eEnvironment && reportData && (\n          <PowerBiReportDisplayConfig\n            embedToken={reportData.embedToken}\n            reportId={reportData.reportId}\n            embedUrl={reportData.embedUrl}\n            reportTitle={reportData.reportTitle}\n            pageName={reportData.pageName}\n          />\n        )}\n        <div\n          ref={powerBiContainerRef}\n          data-testid=\"powerbi-container\"\n          style={{\n            height: powerBiContainerDimensions.height,\n            maxWidth: powerBiContainerDimensions.width,\n            display: powerBiDisplay\n          }}\n        >\n          Loading Power BI Report...\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PowerBiReport;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport ContentItemNew from '../../../common/charts/types/ContentItem/ContentItemNew';\nimport PowerBiReport from '../PowerBiReport/PowerBiReport';\nimport RichTextLibraryItem from '../../../common/charts/types/ContentItem/RichTextLibraryItem';\n\nconst AnalysisLibraryItem = React.memo(\n  ({ item, projectId, analysisId }) => {\n    const renderableContentItemTypes = [\n      Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value,\n      Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value,\n      Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value\n    ];\n\n    const isPowerBiReport =\n      item.type === Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value ||\n      item.type === Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value;\n\n    return (\n      <div\n        data-testid=\"analysis-library-item\"\n        data-library-item-name={item.name}\n        className=\"analysis-library-item-container\"\n      >\n        <div className=\"analysis-library-item-content\">\n          {item.type && (\n            <>\n              {renderableContentItemTypes.includes(item.type) && (\n                <ContentItemNew\n                  projectId={projectId}\n                  libraryItemId={item.id}\n                  contentId={analysisId}\n                  content={item.value || null}\n                />\n              )}\n              {item.type === Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value && (\n                <RichTextLibraryItem item={item} />\n              )}\n\n              {isPowerBiReport && (\n                <PowerBiReport item={item} projectId={projectId} />\n              )}\n            </>\n          )}\n          {!item.type && <Loader dataTestId=\"excel-content-loader\" />}\n        </div>\n      </div>\n    );\n  },\n  (prevProps, nextProps) =>\n    nextProps.item.id === prevProps.item.id &&\n    nextProps.item.isShared === prevProps.item.isShared\n);\nexport default AnalysisLibraryItem;\n","import React from 'react';\nimport _orderBy from 'lodash/orderBy';\nimport AnalysisLibraryItem from './AnalysisLibraryItem';\n\nconst OneColumnLayout = ({ items, projectId, analysisId }) => {\n  return _orderBy(items, [item => item.order]).map(item => (\n    <AnalysisLibraryItem\n      item={item}\n      key={`${item.id}-${item.name}`}\n      projectId={projectId}\n      analysisId={analysisId}\n    />\n  ));\n};\n\nexport default OneColumnLayout;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport OneColumnLayout from '../OneColumnLayout';\nimport './MultipleColumnLayout.scss';\n\nconst MultipleColumnLayout = ({\n  columnPositionClassMap,\n  items,\n  analysisId,\n  projectId,\n  containerClass\n}) => {\n  return (\n    <div data-testid=\"section-areas-container\" className={containerClass}>\n      {Object.keys(columnPositionClassMap).map(key => {\n        return (\n          <div\n            className={`panel-area panel-area-${columnPositionClassMap[key]}`}\n            key={`panel-area-${columnPositionClassMap[key]}`}\n            data-testid={`panel-area-${columnPositionClassMap[key]}`}\n          >\n            <OneColumnLayout\n              analysisId={analysisId}\n              projectId={projectId}\n              items={items.filter(\n                i => i.analysisColumn === columnPositionClassMap[key]\n              )}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nMultipleColumnLayout.propTypes = {\n  /* eslint-disable react/forbid-prop-types */\n  columnPositionClassMap: PropTypes.object.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  analysisId: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  containerClass: PropTypes.string.isRequired\n};\n\nexport default MultipleColumnLayout;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport classNames from 'classnames';\n\nimport OneColumnLayout from './OneColumnLayout';\nimport MultipleColumnLayout from './MultipleColumnLayout/MultipleColumnLayout';\nimport './Section.scss';\n\nexport default ({ projectId, analysisId, section }) => {\n  const placeHolderDiv = () => {\n    return <div>Failed to load Analysis section. </div>;\n  };\n\n  const layoutConfigs = {\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: {\n      containerClass: 'two-column-layout',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    // layoutType : 3\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]: {\n      containerClass: 'section-grid one-row-three-column',\n      columnPositionClassMap: {\n        LEFT: 1,\n        MIDDLE: 2,\n        RIGHT: 3\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: {},\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: {\n      containerClass: 'section-onecolumn--eighty-percent'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: {\n      containerClass: 'section-onecolumn--sixty-percent'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: {\n      containerClass: 'section-onecolumn--forty-percent'\n    },\n\n    // layoutType: 7\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]: {\n      containerClass: 'section-onecolumn--one-column-overflow'\n    },\n\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]: {\n      containerClass: 'section-grid two-row-t80-1a-b20-1a',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]: {\n      containerClass: 'section-grid two-row-t60-1a-b40-1a',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]: {\n      containerClass: 'section-grid two-row-t20-1a-b80-1a',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]: {\n      containerClass: 'section-grid two_column_left_50_2a_r_50_1a',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        RIGHT: 2,\n        BOTTOM_LEFT: 3\n      }\n    },\n    // layoutType: 9\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]: {\n      containerClass: 'section-grid two-column-four-area-3left50-right50',\n      columnPositionClassMap: {\n        LEFT_FIRST: 1,\n        RIGHT: 2,\n        LEFT_SECOND: 3,\n        LEFT_THIRD: 4\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]: {\n      containerClass: 'section-grid two-column-l40-1a-r60-1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]: {\n      containerClass: 'section-grid two-column-l67-1a-r33-1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]: {\n      containerClass: 'section-grid two-column-left-67-2a-right-33-1a',\n      columnPositionClassMap: {\n        LEFT_FIRST: 1,\n        RIGHT: 2,\n        LEFT_SECOND: 3,\n        LEFT_THIRD: 4\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]: {\n      containerClass: 'section-grid two-column-l80-1a-r20-1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]: {\n      containerClass: 'section-grid two_column_t_50_2a_b_50_1a',\n      columnPositionClassMap: {\n        LEFT: 1,\n        RIGHT: 2,\n        BOTTOM: 3\n      }\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]: {\n      containerClass: 'stack-two-block-bottom',\n      columnPositionClassMap: {\n        TOP: 1,\n        BOTTOM_LEFT: 2,\n        BOTTOM_RIGHT: 3\n      }\n    },\n    // layoutType: 19\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]: {\n      containerClass: 'section-grid two-row-two-column-50-50',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        TOP_RIGHT: 2,\n        BOTTOM_LEFT: 3,\n        BOTTOM_RIGHT: 4\n      }\n    },\n    // layoutType: 20\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]: {\n      containerClass: 'section-grid four-block-narrow-right',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        TOP_RIGHT: 2,\n        BOTTOM_LEFT: 3,\n        BOTTOM_RIGHT: 4\n      }\n    },\n    // layoutType: 21\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]: {\n      containerClass: 'section-grid two-row-three-column',\n      columnPositionClassMap: {\n        TOP_LEFT: 1,\n        TOP_MIDDLE: 2,\n        TOP_RIGHT: 3,\n        BOTTOM_LEFT: 4,\n        BOTTOM_MIDDLE: 5,\n        BOTTOM_RIGHT: 6\n      }\n    }\n  };\n\n  const layoutConfig = layoutConfigs[section.layoutType];\n  const { columnPositionClassMap, containerClass } = layoutConfig;\n\n  if (\n    [\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,\n      Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA\n    ].includes(section.layoutType)\n  ) {\n    return (\n      <div\n        className={classNames('section-onecolumn', containerClass)}\n        data-testid=\"section-one-column\"\n      >\n        <OneColumnLayout\n          projectId={projectId}\n          analysisId={analysisId}\n          items={section.items}\n        />\n      </div>\n    );\n  }\n\n  if (containerClass && columnPositionClassMap) {\n    return (\n      <MultipleColumnLayout\n        columnPositionClassMap={columnPositionClassMap}\n        containerClass={containerClass}\n        projectId={projectId}\n        analysisId={analysisId}\n        items={section.items}\n      />\n    );\n  }\n\n  return placeHolderDiv();\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport '../../common/analysis-detail-screen.scss';\nimport PageContentLabel from '../../../../common/components/PageContentLabel/PageContentLabel';\nimport PageTitle from '../../../../common/components/PageTitle/PageTitle';\nimport PageSection from '../../../../common/components/PageSection';\nimport './AnalysisDetailScreen.scss';\nimport Section from '../Section';\nimport StatusContainer from '../../../../common/components/StatusContainer/StatusContainer';\nimport { selectAnalysisSections } from '../../analysisSlice';\n\nconst AnalysisDetailScreen = ({ projectId, analysis, viewClient }) => {\n  const sections = useSelector(selectAnalysisSections);\n  const sortedSectionByOrder = [...sections].sort((a, b) => a.order - b.order);\n\n  return (\n    <>\n      <PageContentLabel cssLabel=\"analysis\" label=\"Analysis\" />\n      <div className=\"section-name\">Title</div>\n      <PageTitle title={analysis.title} />\n      <StatusContainer\n        className=\"analysis-pill-container\"\n        projectId={projectId}\n        content={analysis}\n        allowDraftPill={!viewClient.isOnClientVersion}\n      />\n      <PageSection label=\"Description\" value={analysis.body} />\n      {sortedSectionByOrder.map(section => (\n        <Section\n          key={section.order}\n          projectId={projectId}\n          analysisId={analysis.contentThreadId}\n          section={section}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default AnalysisDetailScreen;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useHistory } from 'react-router-dom';\nimport isEmpty from 'lodash/isEmpty';\nimport { Constants, ErrorUtilities } from '@pwc/pwc-deals-web-common';\n\nimport updateEntityVersion from '../../../../common/actions/updateEntityVersion';\nimport {\n  editAnalysisPath2,\n  analysesListPath2\n} from '../../../../common/services/urlService';\nimport '../../common/analysis-detail-screen.scss';\nimport '../../common/analysis-top-bar-container.scss';\nimport FormLayout from '../../../../common/components/layouts/FormLayout';\nimport AnalysisControlsHeader from '../../common/AnalysisControlsHeader';\nimport AnalysisDetailConnectedContent from '../../../narratives/ConnectedContent/AnalysisDetailConnectedContent';\nimport {\n  getAnalysisStatus,\n  resetAnalysis,\n  selectAnalysisContent,\n  getAnalysisIsShared,\n  selectAnalysisVersions,\n  selectDraftVersion,\n  selectSharedVersion\n} from '../../analysisSlice';\nimport {\n  loadAnalysisVersions,\n  loadAnalysisWithDraftContent,\n  loadAnalysisWithSharedContent\n} from '../../analysisSliceThunk';\nimport { deleteAnalysis, updateAnalysisStatus } from '../../analysesService';\nimport ModalConfirmation from '../../../../common/components/ModalConfirmation';\nimport { getWorkflowStatus } from '../../../workflow/workflowService';\nimport TagList from '../../common/TagList/TagList';\nimport { useApprovalWorkflow } from '../../../../common/hooks/useApprovalWorkflow';\nimport { getViewClientInfo } from '../../../../common/helpers/viewClientVersion';\nimport AnalysisDetailScreen from './AnalysisDetailScreen';\nimport { showMoreMenuError } from '../../../../common/redux/errors/errorsSlice';\nimport './AnalysisDetailScreenContainer.scss';\n\nconst AnalysisDetailScreenContainer = () => {\n  const { projectId, analysisId } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const analysisContent = useSelector(selectAnalysisContent);\n  const isAnalysisShared = useSelector(getAnalysisIsShared);\n  const { isLoading } = useSelector(getAnalysisStatus);\n  const [\n    isDeleteConfirmationVisible,\n    setIsDeleteConfirmationVisible\n  ] = useState(false);\n  const selectedVersions = useSelector(selectAnalysisVersions);\n  const draftVersion = useSelector(selectDraftVersion);\n  const sharedVersion = useSelector(selectSharedVersion);\n\n  const handleEdit = () => {\n    history.push(editAnalysisPath2(projectId, analysisId));\n  };\n\n  const getDraftContent = useCallback(() => {\n    const { contentId } = draftVersion;\n    dispatch(loadAnalysisWithDraftContent(projectId, contentId));\n  }, [dispatch, draftVersion, projectId]);\n\n  const getSharedContent = useCallback(() => {\n    const { contentId } = sharedVersion;\n    dispatch(loadAnalysisWithSharedContent(projectId, contentId));\n  }, [dispatch, sharedVersion, projectId]);\n\n  useEffect(() => {\n    function loadStatus() {\n      dispatch(loadAnalysisVersions(projectId, analysisId));\n    }\n    loadStatus();\n    return () => dispatch(resetAnalysis());\n  }, [dispatch, projectId, analysisId]);\n\n  useEffect(() => {\n    if (selectedVersions) {\n      if (draftVersion && !isEmpty(draftVersion)) {\n        getDraftContent();\n\n        dispatch(updateEntityVersion(draftVersion.versionNumber));\n      } else if (sharedVersion && !isEmpty(sharedVersion)) {\n        getSharedContent();\n\n        dispatch(updateEntityVersion(sharedVersion.versionNumber));\n      }\n    }\n  }, [\n    analysisId,\n    draftVersion,\n    projectId,\n    selectedVersions,\n    sharedVersion,\n    getDraftContent,\n    getSharedContent,\n    dispatch\n  ]);\n\n  const handleDelete = async () => {\n    await deleteAnalysis(projectId, analysisContent.contentThreadId);\n\n    history.push(analysesListPath2(projectId));\n  };\n\n  const workflowActions = useApprovalWorkflow(\n    getWorkflowStatus,\n    async (_projectId, contentId, step) => {\n      try {\n        await updateAnalysisStatus(_projectId, contentId, step);\n      } catch (e) {\n        if (ErrorUtilities.hasLibraryItemCorruptedError(e)) {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED\n            })\n          );\n        } else {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE\n            })\n          );\n        }\n        return;\n      }\n\n      dispatch(loadAnalysisVersions(projectId, analysisId));\n    },\n    projectId,\n    analysisContent && analysisContent.contentThreadId,\n    analysisContent,\n    selectedVersions\n  );\n\n  const showClientVersion = async () => {\n    if (!isLoading && sharedVersion) {\n      getSharedContent();\n\n      dispatch(updateEntityVersion(sharedVersion.versionNumber));\n    }\n  };\n  const showDraftVersion = async () => {\n    if (!isLoading && draftVersion) {\n      getDraftContent();\n\n      dispatch(updateEntityVersion(draftVersion.versionNumber));\n    }\n  };\n\n  const viewClient = getViewClientInfo(\n    showClientVersion,\n    showDraftVersion,\n    selectedVersions,\n    analysisContent && analysisContent.versionNumber,\n    analysisContent && analysisContent.versionStatus\n  );\n\n  const headerComponent = analysisContent && (\n    <>\n      <ModalConfirmation\n        show={isDeleteConfirmationVisible}\n        onCancel={() => setIsDeleteConfirmationVisible(false)}\n        onConfirm={handleDelete}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Analysis will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <AnalysisControlsHeader\n        isShared={isAnalysisShared}\n        workflowActions={workflowActions}\n        onEdit={handleEdit}\n        onDelete={() => setIsDeleteConfirmationVisible(true)}\n        versions={selectedVersions}\n        analysis={analysisContent}\n        viewClient={viewClient}\n      />\n    </>\n  );\n\n  return (\n    analysisContent &&\n    analysisContent.contentThreadId && (\n      <div className=\"analysis-details-screen\">\n        <FormLayout headerComponent={headerComponent}>\n          <div\n            className=\"analysis-main-content\"\n            data-testid=\"analysis-detail-page\"\n          >\n            <AnalysisDetailScreen\n              projectId={projectId}\n              analysis={analysisContent}\n              versions={selectedVersions}\n              viewClient={viewClient}\n            />\n          </div>\n\n          {analysisContent.tags && analysisContent.tags.length > 0 && (\n            <TagList tags={analysisContent.tags} testId=\"analysis-tag-list\" />\n          )}\n          <AnalysisDetailConnectedContent\n            projectId={projectId}\n            contentId={analysisContent.contentId}\n          />\n        </FormLayout>\n      </div>\n    )\n  );\n};\n\nexport default AnalysisDetailScreenContainer;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { InlineText } from '@pwc/pwc-deals-ui';\nimport './AnalysisTextInput.scss';\n\nconst AnalysisTextInput = ({\n  label,\n  name,\n  value,\n  validate,\n  handleValidationChange,\n  handleValueChange,\n  error\n}) => {\n  const [formValidationErrorMessage, setFormValidationErrorMessage] = useState(\n    validate(value)\n  );\n\n  useEffect(() => {\n    handleValidationChange(formValidationErrorMessage);\n  }, [formValidationErrorMessage, handleValidationChange]);\n\n  useEffect(() => {\n    setFormValidationErrorMessage(validate(value));\n  }, [value, validate]);\n\n  const onChange = event => {\n    setFormValidationErrorMessage(validate(event.target.value));\n    handleValueChange(event.target.value);\n  };\n\n  const field = {\n    name,\n    value,\n    onChange\n  };\n\n  const errorMessageForDisplay = error;\n\n  return (\n    <div className=\"title-container\">\n      <InlineText\n        field={field}\n        placeholder={label}\n        error={errorMessageForDisplay}\n      />\n    </div>\n  );\n};\n\nAnalysisTextInput.propTypes = {\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  validate: PropTypes.func,\n  handleValidationChange: PropTypes.func.isRequired,\n  handleValueChange: PropTypes.func.isRequired,\n  error: PropTypes.string\n};\n\nAnalysisTextInput.defaultProps = {\n  validate: () => '',\n  error: ''\n};\n\nexport default AnalysisTextInput;\n","export const DRAG_AND_DROP_STATE_ACTION = {\n  ITEM_MOVED_UP_TO_NEW_SECTION: 'ITEM_MOVED_UP_TO_NEW_SECTION',\n  ITEM_MOVED_DOWN_TO_NEW_SECTION: 'ITEM_MOVED_DOWN_TO_NEW_SECTION',\n  ITEM_MOVED_WITHIN_SECTION: 'ITEM_MOVED_WITHIN_SECTION',\n  ITEM_MOVED_TO_ADJACENT_AREA: 'ITEM_MOVED_TO_ADJACENT_AREA',\n  ITEM_ID_UPDATED: 'ITEM_ID_UPDATED',\n  CURRENT_DROPPABLE_SECTION_CHANGED: 'CURRENT_DROPPABLE_SECTION_CHANGED',\n  ITEM_DROPPED: 'ITEM_DROPPED'\n};\n\nconst dragAndDropReducer = (state, { type, payload }) => {\n  switch (type) {\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_WITHIN_SECTION: {\n      return {\n        ...state,\n        currentPosition: payload.currentPosition,\n        draggableWithinSectionsItemId: payload.draggableWithinSectionsItemId\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_ID_UPDATED: {\n      return {\n        ...state,\n        draggableBetweenSectionsItemId: payload.draggableBetweenSectionsItemId\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.CURRENT_DROPPABLE_SECTION_CHANGED: {\n      return {\n        ...state,\n        currentDroppableSectionId: payload\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_UP_TO_NEW_SECTION: {\n      return {\n        ...state,\n        currentDroppableSectionId: payload.currentSectionOrder - 1\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_DOWN_TO_NEW_SECTION: {\n      return {\n        ...state,\n        currentDroppableSectionId: payload.currentSectionOrder + 1\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_DROPPED: {\n      return {\n        ...state,\n        draggableWithinSectionsItemId: null,\n        currentDroppableSectionId: null,\n        currentPosition: null\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default dragAndDropReducer;\n","import { max } from 'lodash';\nimport { DRAG_AND_DROP_STATE_ACTION } from './dragAndDropReducer';\n\nexport const SECTION_STATE_ACTION = {\n  UPDATE_SECTIONS: 'UPDATE_SECTIONS',\n  UPDATE_RICH_TEXT: 'UPDATE_RICH_TEXT',\n  UPDATE_NON_LAID_OUT_LIBRARY_ITEMS: 'UPDATE_NON_LAID_OUT_LIBRARY_ITEMS',\n  ITEM_DELETED: 'ITEM_DELETED',\n  ITEM_TO_ADD: 'ITEM_TO_ADD',\n  ITEM_TO_ADD_CLEAR: 'ITEM_TO_ADD_CLEAR',\n  SECTION_TO_SCROLL: 'SECTION_TO_SCROLL'\n};\n\nconst updateRichTextItem = (richTextId, richTextData, sections) =>\n  sections.map(s => {\n    return {\n      ...s,\n      items: s.items.map(item => {\n        if (item.id === richTextId) {\n          return {\n            ...item,\n            isShared: false,\n            data: JSON.stringify({ RichTextData: richTextData })\n          };\n        }\n        return item;\n      })\n    };\n  });\n\nconst updateNonLaidOutLibraryItems = (state, libraryItemId, moveDown) => {\n  const currentSection = state.currentSections.find(s =>\n    s.items.map(i => i.id).includes(libraryItemId)\n  );\n\n  if (currentSection) {\n    if (!moveDown && currentSection.order === 1) {\n      const itemToMove = currentSection.items.find(i => i.id === libraryItemId);\n      return [itemToMove].concat(state.nonLaidOutLibraryItems);\n    }\n  }\n  return state.nonLaidOutLibraryItems;\n};\n\nconst updateCurrentSections = (state, libraryItemId, moveDown) => {\n  const currentSection = state.currentSections.find(s =>\n    s.items.map(i => i.id).includes(libraryItemId)\n  );\n\n  if (!currentSection) return state.currentSections;\n\n  const itemToMove = currentSection.items.find(i => i.id === libraryItemId);\n  itemToMove.analysisColumn = 1;\n\n  if (!moveDown && currentSection.order === 1) {\n    return state.currentSections.map(s => {\n      return {\n        ...s,\n        items: s.items.filter(item => item.id !== itemToMove.id)\n      };\n    });\n  }\n\n  const newSectionIsValid = moveDown\n    ? currentSection.order < max(state.currentSections.map(s => s.order))\n    : currentSection.order > 1;\n  if (newSectionIsValid) {\n    const newSectionNumber = moveDown\n      ? currentSection.order + 1\n      : currentSection.order - 1;\n    const newSections = state.currentSections.map(s => {\n      let newItems = s.items;\n\n      if (s.order === newSectionNumber) {\n        if (moveDown) {\n          newItems = newItems.concat([itemToMove]).map(item => {\n            const newOrder = item.id === itemToMove.id ? 1 : item.order + 1;\n            return {\n              ...item,\n              order: newOrder\n            };\n          });\n        } else {\n          const newOrder = 1 + max(s.items.map(i => i.order));\n          const itemWithNewOrder = { ...itemToMove, order: newOrder };\n          newItems = s.items.concat([itemWithNewOrder]);\n        }\n      } else if (s.order === currentSection.order) {\n        newItems = s.items.filter(i => i.id !== libraryItemId);\n      }\n      return {\n        ...s,\n        items: newItems\n      };\n    });\n    return newSections;\n  }\n\n  return state.currentSections;\n};\n\nconst removeNonLaidOutItemsFromSections = (sections, nonLaidOutItems) => {\n  const itemIdsToRemove = nonLaidOutItems.map(item => item.id);\n  return sections.map(s => {\n    return {\n      ...s,\n      items: s.items.filter(item => !itemIdsToRemove.includes(item.id))\n    };\n  });\n};\n\nconst sectionsReducer = (state, { type, payload }) => {\n  switch (type) {\n    case SECTION_STATE_ACTION.UPDATE_SECTIONS:\n      return {\n        ...state,\n        currentSections: payload\n      };\n    case SECTION_STATE_ACTION.UPDATE_RICH_TEXT:\n      return {\n        ...state,\n        currentSections: updateRichTextItem(\n          payload.libraryItemId,\n          payload.richText,\n          state.currentSections\n        )\n      };\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_TO_ADJACENT_AREA: {\n      const { newAnalysisColumn, libraryItemId } = payload;\n      const newCurrentSections = state.currentSections.map(s => {\n        const newItems = s.items.map(i => {\n          if (i.id === libraryItemId) {\n            const newAnalysisColumnInt = parseInt(newAnalysisColumn, 10);\n            i.analysisColumn = Number.isInteger(newAnalysisColumnInt)\n              ? newAnalysisColumnInt\n              : 1;\n          }\n          return i;\n        });\n        return {\n          ...s,\n          items: newItems\n        };\n      });\n      return {\n        ...state,\n        currentSections: newCurrentSections\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_UP_TO_NEW_SECTION: {\n      const nonLaidOutLibraryItems = updateNonLaidOutLibraryItems(\n        state,\n        payload.libraryItemId,\n        false\n      );\n      const currentSections = updateCurrentSections(\n        state,\n        payload.libraryItemId,\n        false\n      );\n      return {\n        ...state,\n        nonLaidOutLibraryItems,\n        currentSections\n      };\n    }\n    case DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_DOWN_TO_NEW_SECTION: {\n      const nonLaidOutLibraryItems = updateNonLaidOutLibraryItems(\n        state,\n        payload.libraryItemId,\n        true\n      );\n      const currentSections = updateCurrentSections(\n        state,\n        payload.libraryItemId,\n        true\n      );\n      return {\n        ...state,\n        nonLaidOutLibraryItems,\n        currentSections\n      };\n    }\n    case SECTION_STATE_ACTION.UPDATE_NON_LAID_OUT_LIBRARY_ITEMS: {\n      return {\n        ...state,\n        nonLaidOutLibraryItems: payload.items,\n        currentSections: removeNonLaidOutItemsFromSections(\n          state.currentSections,\n          payload.items\n        )\n      };\n    }\n    case SECTION_STATE_ACTION.ITEM_DELETED: {\n      return {\n        ...state,\n        nonLaidOutLibraryItems: state.nonLaidOutLibraryItems.filter(\n          item => item.id !== payload\n        )\n      };\n    }\n    case SECTION_STATE_ACTION.SECTION_TO_SCROLL: {\n      return {\n        ...state,\n        sectionIdToScroll: payload\n      };\n    }\n    case SECTION_STATE_ACTION.ITEM_TO_ADD: {\n      return {\n        ...state,\n        locationToAdd: payload\n      };\n    }\n    case SECTION_STATE_ACTION.ITEM_TO_ADD_CLEAR: {\n      return {\n        ...state,\n        locationToAdd: undefined\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default sectionsReducer;\n","import React, { createContext, useContext, useReducer } from 'react';\nimport dragAndDropReducer from './FreeformAnalysisFormUtil/dragAndDropReducer';\nimport sectionsReducer from './FreeformAnalysisFormUtil/sectionsReducer';\n\nconst initSections = value => {\n  const currentSections = (value && value.initialSections) || [];\n  const nonLaidOutLibraryItems = (value && value.nonLaidOutLibraryItems) || [];\n\n  return {\n    currentSections,\n    nonLaidOutLibraryItems\n  };\n};\n\nconst initDragAndDropState = () => {\n  return {\n    draggableBetweenSectionsItemId: null,\n    currentDroppableSectionId: null,\n    currentPosition: null,\n    draggableWithinSectionsItemId: null\n  };\n};\n\nconst SectionsStateContext = createContext(null);\nconst SectionsDispatchContext = createContext(null);\n\nfunction useSectionsState() {\n  const context = useContext(SectionsStateContext);\n  if (context === undefined) {\n    throw new Error('useSectionsState must be used within a SectionsProvider');\n  }\n  return context;\n}\n\nfunction useSectionsDispatch() {\n  const context = useContext(SectionsDispatchContext);\n  if (context === undefined) {\n    throw new Error(\n      'useSectionsDispatch must be used within a SectionsProvider'\n    );\n  }\n  return context;\n}\nfunction useSections() {\n  return [useSectionsState(), useSectionsDispatch()];\n}\n\nconst combineDispatch = (...dispatches) => action =>\n  dispatches.forEach(dispatch => dispatch(action));\n\nconst SectionsProvider = ({ value, children }) => {\n  const [sectionsState, sectionsDispatch] = useReducer(\n    sectionsReducer,\n    value,\n    initSections\n  );\n\n  const [dragAndDropState, dragAndDropDispatch] = useReducer(\n    dragAndDropReducer,\n    value,\n    initDragAndDropState\n  );\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const combinedDispatch = React.useCallback(\n    combineDispatch(sectionsDispatch, dragAndDropDispatch),\n    [sectionsDispatch, dragAndDropDispatch]\n  );\n  const combinedState = React.useMemo(\n    () => ({ ...dragAndDropState, ...sectionsState }),\n    [dragAndDropState, sectionsState]\n  );\n\n  return (\n    <SectionsStateContext.Provider value={combinedState}>\n      <SectionsDispatchContext.Provider value={combinedDispatch}>\n        {children}\n      </SectionsDispatchContext.Provider>\n    </SectionsStateContext.Provider>\n  );\n};\n\nconst DragAndDropContext = React.createContext({});\nconst DragAndDropContextProvider = ({ value, children }) => (\n  <DragAndDropContext.Provider value={value}>\n    {children}\n  </DragAndDropContext.Provider>\n);\nfunction useDragAndDrop() {\n  const context = useContext(DragAndDropContext);\n  if (context === undefined) {\n    throw new Error(\n      'useDragAndDrop must be used within a DragAndDropContextProvider'\n    );\n  }\n  return context;\n}\n\nexport {\n  SectionsProvider,\n  DragAndDropContextProvider,\n  useSectionsState,\n  useSectionsDispatch,\n  useSections,\n  useDragAndDrop\n};\n","import { SECTION_STATE_ACTION } from './FreeformAnalysisFormUtil/sectionsReducer';\n\nexport const setNonLaidOutLibraryItems = (items, dispatch) => {\n  dispatch({\n    type: SECTION_STATE_ACTION.UPDATE_NON_LAID_OUT_LIBRARY_ITEMS,\n    payload: {\n      items\n    }\n  });\n};\n\nexport const setCurrentSections = (sections, dispatch) => {\n  dispatch({\n    type: SECTION_STATE_ACTION.UPDATE_SECTIONS,\n    payload: sections\n  });\n};\n\nexport const setSectionToScroll = (sectionId, dispatch) => {\n  dispatch({\n    type: SECTION_STATE_ACTION.SECTION_TO_SCROLL,\n    payload: sectionId\n  });\n};\n\nexport const setAddLibraryLocation = (droppable, dispatch) => {\n  dispatch({\n    type: SECTION_STATE_ACTION.ITEM_TO_ADD,\n    payload: droppable\n  });\n};\n\nexport const clearAddLibraryLocation = dispatch => {\n  dispatch({\n    type: SECTION_STATE_ACTION.ITEM_TO_ADD_CLEAR\n  });\n};\n","const genDroppableStrings = (length, baseString) => {\n  const baseStringLC = baseString.toLowerCase();\n  const arr = Array(length)\n    .fill(baseStringLC)\n    .map((item, index) => {\n      return `${item}-layout-area-${index + 1}`;\n    });\n  return arr;\n};\n\nconst DROPPABLE_LOCATION_IDS = {\n  SOURCE_TRAY_ID: 'source-tray',\n  SINGLE_COLUMN_AREA_ID: 'single-column-layout-area',\n  DOUBLE_COLUMN_FIRST_AREA_ID: 'double-column-layout-area-1',\n  DOUBLE_COLUMN_SECOND_AREA_ID: 'double-column-layout-area-2',\n  DOUBLE_ROW_FIRST_AREA_ID: 'double-row-layout-area-1',\n  DOUBLE_ROW_SECOND_AREA_ID: 'double-row-layout-area-2',\n  SINGLE_COLUMN_AREA_80: 'single-column-layout-area-80',\n  SINGLE_COLUMN_AREA_60: 'single-column-layout-area-60',\n  SINGLE_COLUMN_AREA_40: 'single-column-layout-area-40',\n  SINGLE_COLUMN_TEXT_OVERFLOW_AREA: 'single-column-layout-text-overflow-area',\n  TWO_ROW_THREE_AREA_100_50_50: [\n    'two-row-three-area-layout-top-area-1',\n    'two-row-three-area-layout-bottom-area-1',\n    'two-row-three-area-layout-bottom-area-2'\n  ],\n  TWO_ROW_TWO_COLUMN_AREA_67_33: [\n    'two-row-two-column-layout-area-67-1',\n    'two-row-two-column-layout-area-33-1',\n    'two-row-two-column-layout-area-67-2',\n    'two-row-two-column-layout-area-33-2'\n  ],\n  TWO_COLUMN_L_40_1A_R_60_1A: genDroppableStrings(\n    2,\n    'TWO_COLUMN_L_40_1A_R_60_1A'\n  ),\n  TWO_COLUMN_L_67_1A_R_33_1A: genDroppableStrings(\n    2,\n    'TWO_COLUMN_L_67_1A_R_33_1A'\n  ),\n  TWO_COLUMN_L_80_1A_R_20_1A: genDroppableStrings(\n    2,\n    'TWO_COLUMN_L_80_1A_R_20_1A'\n  ),\n  TWO_ROW_T_80_1A_B_20_1A: genDroppableStrings(2, 'TWO_ROW_T_80_1A_B_20_1A'),\n  TWO_ROW_T_60_1A_B_40_1A: genDroppableStrings(2, 'TWO_ROW_T_60_1A_B_40_1A'),\n  TWO_ROW_T_20_1A_B_80_1A: genDroppableStrings(2, 'TWO_ROW_T_20_1A_B_80_1A'),\n  THREE_COLUMN: genDroppableStrings(3, 'THREE_COLUMN'),\n  TWO_COLUMN_L_50_2A_R_50_1A: genDroppableStrings(\n    3,\n    'TWO_COLUMN_L_50_2A_R_50_1A'\n  ),\n  TWO_ROW_T_50_2A_B_50_1A: genDroppableStrings(3, 'TWO_ROW_T_50_2A_B_50_1A'),\n  TWO_COLUMN_L_67_2A_R_33_1A: genDroppableStrings(\n    3,\n    'TWO_COLUMN_L_67_2A_R_33_1A'\n  ),\n  TWO_ROW_T_50_1A_B_50_2A: genDroppableStrings(3, 'TWO_ROW_T_50_1A_B_50_2A'),\n  TWO_COLUMN_L_50_3A_R_50_1A: genDroppableStrings(\n    4,\n    'TWO_COLUMN_L_50_3A_R_50_1A'\n  ),\n  TWO_COLUMN_TWO_ROW_50_2A_50_2A: genDroppableStrings(\n    4,\n    'TWO_COLUMN_TWO_ROW_50_2A_50_2A'\n  ),\n  TWO_COLUMN_TWO_ROW_67_2A_33_2A: genDroppableStrings(\n    4,\n    'TWO_COLUMN_TWO_ROW_67_2A_33_2A'\n  ),\n  THREE_COLUMN_TWO_ROW: genDroppableStrings(6, 'THREE_COLUMN_TWO_ROW')\n};\n\nexport default DROPPABLE_LOCATION_IDS;\n","export const generateDroppableLocationIdWithSection = (\n  sectionLayoutType,\n  sectionNumber\n) => `${sectionLayoutType}-${sectionNumber}`;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\n\nimport { generateDroppableLocationIdWithSection } from './generateDroppableLocationIdWithSection';\n\nconst numericSortCallback = (a, b) => (a.order > b.order ? 1 : -1);\n\nexport const layoutTypeToDroppableLocationIdMap = {\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_ID\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: [\n    DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_FIRST_AREA_ID,\n    DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_SECOND_AREA_ID\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_80\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_60\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_40\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_TEXT_OVERFLOW_AREA\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_TWO_COLUMN_AREA_67_33,\n\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_60\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: [\n    DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_40\n  ],\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_40_1A_R_60_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_67_1A_R_33_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_80_1A_R_20_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_80_1A_B_20_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_60_1A_B_40_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_20_1A_B_80_1A,\n\n  [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]:\n    DROPPABLE_LOCATION_IDS.THREE_COLUMN,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_50_2A_R_50_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_50_2A_B_50_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_67_2A_R_33_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_ROW_T_50_1A_B_50_2A,\n\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_L_50_3A_R_50_1A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_TWO_ROW_50_2A_50_2A,\n  [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]:\n    DROPPABLE_LOCATION_IDS.TWO_COLUMN_TWO_ROW_67_2A_33_2A,\n\n  [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]:\n    DROPPABLE_LOCATION_IDS.THREE_COLUMN_TWO_ROW\n};\n\nconst findAreaNeighbors = (allItems, area, sectionOrder) => {\n  const neighbors = {\n    areaAbove: null,\n    areaBelow: null\n  };\n  const areaOrder = area.slice(-1);\n  const areaWithoutOrder = area.slice(0, -1);\n  if (areaWithoutOrder.includes('bottom')) {\n    // find area above\n    const areaAbove = allItems.find(item => item.includes('top'));\n    neighbors.areaAbove = `${areaAbove}-${sectionOrder}`;\n    return neighbors;\n  }\n  if (areaWithoutOrder.includes('top')) {\n    // find area below\n    const areaBelow = allItems.find(item => item.includes('bottom'));\n    neighbors.areaBelow = `${areaBelow}-${sectionOrder}`;\n    return neighbors;\n  }\n  const topBottomNeighbors = allItems.filter(\n    item => item.includes(areaWithoutOrder) && item !== area\n  );\n  if (topBottomNeighbors.length >= 1) {\n    topBottomNeighbors.forEach(neighbor => {\n      const neighborAreaOrder = neighbor.slice(-1);\n      if (neighborAreaOrder > areaOrder) {\n        neighbors.areaBelow = `${neighbor}-${sectionOrder}`;\n      } else if (neighborAreaOrder < areaOrder) {\n        neighbors.areaAbove = `${neighbor}-${sectionOrder}`;\n      }\n    });\n  }\n  return neighbors;\n};\n\nconst generateDroppableLocationSetForSection = section => {\n  const baseColumn = { direction: 'vertical' };\n  const { layoutType } = section;\n  const droppableLocations = {};\n  const droppableLocationIds = layoutTypeToDroppableLocationIdMap[layoutType];\n  droppableLocationIds.forEach((dropLocId, index, allLocIds) => {\n    const position = index + 1;\n    const dropLocIdWithOrder = generateDroppableLocationIdWithSection(\n      dropLocId,\n      section.order\n    );\n    const { areaAbove, areaBelow } = findAreaNeighbors(\n      allLocIds,\n      dropLocId,\n      section.order\n    );\n    droppableLocations[dropLocIdWithOrder] = {\n      ...baseColumn,\n      position,\n      id: dropLocIdWithOrder,\n      areaAbove,\n      areaBelow,\n      libraryItemIds: section.items\n        .filter(item => item.analysisColumn === position)\n        .sort(numericSortCallback)\n        .map(item => item.id)\n    };\n  });\n  return droppableLocations;\n};\n\nexport default generateDroppableLocationSetForSection;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport { cloneDeep } from 'lodash';\nimport { layoutTypeToDroppableLocationIdMap } from './generateDroppableLocationSetForSection';\n\nconst isTextBox = libraryItem =>\n  libraryItem.type === Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value;\n\nconst isTextOverflowSection = type =>\n  type === Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA;\n\nconst canLibraryItemBePlacedInSection = (libraryItem, sectionLayoutType) => {\n  if (!isTextBox(libraryItem) && isTextOverflowSection(sectionLayoutType)) {\n    return false;\n  }\n  return true;\n};\n\nconst generateLayoutTypeChangeHandler = (\n  index,\n  currentSections,\n  setDroppableLocations,\n  setCurrentSections,\n  nonLaidOutLibraryItems,\n  editNonLaidOutLibraryItems\n) => {\n  const section = currentSections[index];\n  let newSection;\n  return type => {\n    newSection = {\n      ...section,\n      layoutType: type,\n      items: []\n    };\n    const droppableLocations = layoutTypeToDroppableLocationIdMap[type];\n    const clonedSectionItems = section.items.map(item => {\n      const cloned = cloneDeep(item);\n      const newAnalysisColumn =\n        item.analysisColumn <= droppableLocations.length &&\n        canLibraryItemBePlacedInSection(item, type)\n          ? item.analysisColumn\n          : null;\n      if (newAnalysisColumn) {\n        cloned.analysisColumn = newAnalysisColumn;\n      } else {\n        delete cloned.analysisColumn;\n      }\n      return cloned;\n    });\n    const removedSectionItems = clonedSectionItems.filter(\n      item => !item.analysisColumn\n    );\n    const currentSectionItems = clonedSectionItems.filter(\n      item => item.analysisColumn\n    );\n    newSection.items = [...currentSectionItems];\n\n    editNonLaidOutLibraryItems([\n      ...nonLaidOutLibraryItems,\n      ...removedSectionItems\n    ]);\n\n    const newSections = cloneDeep(currentSections);\n    newSections[index] = newSection;\n    setCurrentSections(newSections);\n  };\n};\n\nexport default generateLayoutTypeChangeHandler;\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst CONSTANTS = Object.freeze({\n  TABS: {\n    EDIT_LAYOUT: 'Edit Layout',\n    SAVE_PREVIEW_REPORT: 'Save and preview report'\n  },\n  TABS_ROUTE: {\n    LAYOUT: 'layout',\n    PREVIEW: 'preview'\n  },\n  SUB_ROUTES: {\n    CREATE_PREVIEW: '/projects/:projectId/analyses/create/layout/preview',\n    CREATE_LAYOUT: '/projects/:projectId/analyses/create/layout',\n    EDIT_PREVIEW:\n      '/projects/:projectId/analyses/:analysisId/edit/layout/preview',\n    EDIT_LAYOUT: '/projects/:projectId/analyses/:analysisId/edit/layout'\n  },\n  PARTIAL_ROUTE: {\n    CREATE_LAYOUT: 'create/layout',\n    EDIT_LAYOUT: 'edit/layout',\n    CREATE_LAYOUT_PREVIEW: 'create/layout/preview',\n    EDIT_LAYOUT_PREVIEW: 'edit/layout/preview'\n  },\n  COLUMN_TYPE: {\n    ONE: 'ONE_COLUM',\n    TWO: 'TWO_COLUM',\n    THREE: 'THREE_COLUM',\n    FOUR: 'FOUR_COLUM'\n  },\n  USER_EVENTS: {\n    SCROLL: 'scroll',\n    RESIZE: 'resize'\n  },\n  LAYOUT_TYPE_TO_LAYOUT_TITLE_DESCRIPTION_MAP: {\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: {\n      title: 'One column, full width',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: {\n      title: 'Two column',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]: {\n      title: 'Three column',\n      description: 'excess text in each column will cut off in the report.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: {\n      title: 'One column, large',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: {\n      title: 'One column, medium',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: {\n      title: 'One column, small',\n      description:\n        'charts and tables shrink to fit the area, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]: {\n      title: 'Two column, text only',\n      description:\n        'text will fill in the left column and continue in the right column, and excess text continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]: {\n      title: 'Stacked with right column',\n      description:\n        'excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]: {\n      title: 'Three stacked with right column',\n      description:\n        'excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]: {\n      title: 'Two column, narrow left',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]: {\n      title: 'Two column, narrow right',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]: {\n      title: 'Stacked with narrow right column',\n      description:\n        'excess text in the left areas will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]: {\n      title: 'Two column, extra narrow right',\n      description:\n        'excess text in the left column will cut off in the report, and excess text in the right column continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]: {\n      title: 'Stacked, large top',\n      description:\n        'excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]: {\n      title: 'Stacked, medium top',\n      description:\n        'excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]: {\n      title: 'Stacked, large bottom',\n      description:\n        'excess text in the top area will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]: {\n      title: 'Stacked, two block top',\n      description:\n        'excess text in the top areas will cut off in the report, and excess text in the bottom area continues onto a new page.'\n    }, // TODO: fix left side layout 17, it should be TWO_ROW_T_50_2A_B_100_1A\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]: {\n      title: 'Stacked, two block bottom',\n      description: 'excess text in each area will cut off in the report.'\n    }, // TODO: fix left side layout 18, it should be TWO_ROW_T_100_1A_B_50_2A\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]: {\n      title: 'Four block',\n      description: 'excess text in each area will cut off in the report.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]: {\n      title: 'Four block, narrow right',\n      description: 'excess text in each area will cut off in the report.'\n    },\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]: {\n      title: 'Six block',\n      description: 'excess text in each area will cut off in the report.'\n    }\n  },\n  LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP: {\n    // 1\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN]: 'one-column',\n    // 2\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN]: 'two-column',\n    // 3\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN]: 'three-column',\n    // 4\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80]: 'one-column-80',\n    // 5\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60]: 'one-column-60',\n    // 6\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40]: 'one-column-40',\n    // 7\n    [Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA]:\n      'one-column-text-overflow-area',\n    // 8\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A]:\n      'two-column-three-area-2left50-right50',\n    // 9\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A]:\n      'two-column-four-area-3left50-right50',\n    // 10\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A]:\n      'two-column-left40-right60',\n    // 11\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A]:\n      'two-column-left67-right33',\n    // 12\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A]:\n      'two-column-three-area-2left67-right33',\n    // 13\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A]:\n      'two-column-left80-right20',\n    // 14\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A]:\n      'two-row-top80-bottom20',\n    // 15\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A]:\n      'two-row-top60-bottom40',\n    // 16\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A]:\n      'two-row-top20-bottom80',\n    // 17\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A]:\n      'two-row-three-area-2top50-bottom100',\n    // 18\n    [Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A]:\n      'two-row-three-area-top100-2bottom50',\n    // 19\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A]:\n      'two-row-two-column-50-50',\n    // 20\n    [Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A]:\n      'two-row-two-column-67-33',\n    // 21\n    [Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW]: 'two-row-three-column'\n  },\n  VIEWPORT_WIDTHS: {\n    TABLET: 768\n  },\n  LAYOUT_TYPE_TO_ICON_MAP: {\n    // positions:\n    // one area\n    '1-1': 'one-column-full-width',\n    '4-1': 'one-column-large',\n    '5-1': 'one-column-medium',\n    '6-1': 'one-column-small',\n    '7-1': 'two-column-text-only',\n\n    // two areas\n    '10-1': 'two-column-narrow-left-left',\n    '10-2': 'two-column-narrow-left-right',\n\n    '11-1': 'two-column-narrow-right-left',\n    '11-2': 'two-column-narrow-right-right',\n\n    '2-1': 'two-column-left',\n    '2-2': 'two-column-right',\n\n    '15-1': 'stacked-medium-top-top',\n    '15-2': 'stacked-medium-top-bottom',\n\n    '14-1': 'stacked-large-top-top',\n    '14-2': 'stacked-large-top-bottom',\n\n    '16-1': 'stacked-large-bottom-top',\n    '16-2': 'stacked-large-bottom-bottom',\n\n    '13-1': 'two-column-extra-narrow-right-left',\n    '13-2': 'two-column-extra-narrow-right-right',\n\n    // three areas\n    '3-1': 'three-column-left',\n    '3-2': 'three-column-middle',\n    '3-3': 'three-column-right',\n\n    '8-1': 'stacked-with-right-column-top-left',\n    '8-2': 'stacked-with-right-column-right',\n    '8-3': 'stacked-with-right-column-bottom-left',\n\n    '12-1': 'stacked-with-narrow-right-column-top-left',\n    '12-2': 'stacked-with-narrow-right-column-right',\n    '12-3': 'stacked-with-narrow-right-column-bottom-left',\n\n    '17-1': 'stacked-two-block-top-top-left',\n    '17-2': 'stacked-two-block-top-top-right',\n    '17-3': 'stacked-two-block-top-bottom',\n\n    '18-1': 'stacked-two-block-bottom-top',\n    '18-2': 'stacked-two-block-bottom-bottom-left',\n    '18-3': 'stacked-two-block-bottom-bottom-right',\n\n    // four areas\n    '19-1': 'four-block-top-left',\n    '19-2': 'four-block-top-right',\n    '19-3': 'four-block-bottom-left',\n    '19-4': 'four-block-bottom-right',\n\n    '20-1': 'four-block-narrow-right-top-left',\n    '20-2': 'four-block-narrow-right-top-right',\n    '20-3': 'four-block-narrow-right-bottom-left',\n    '20-4': 'four-block-narrow-right-bottom-right',\n\n    '9-1': 'three-stacked-with-right-column-left-top',\n    '9-2': 'three-stacked-with-right-column-right',\n    '9-3': 'three-stacked-with-right-column-left-middle',\n    '9-4': 'three-stacked-with-right-column-left-bottom',\n\n    '21-1': 'six-block-top-left',\n    '21-2': 'six-block-top-middle',\n    '21-3': 'six-block-top-right',\n    '21-4': 'six-block-bottom-left',\n    '21-5': 'six-block-bottom-middle',\n    '21-6': 'six-block-bottom-right'\n  }\n});\nexport default CONSTANTS;\n","import { isEmpty as _isEmpty } from 'lodash';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useTabletOrMobile from '../../../../../common/hooks/useTabletOrMobile';\nimport {\n  getReportFormatLayoutState,\n  setActiveSectionId,\n  setFloatingTabsHeight,\n  setFloatingTabsWidth,\n  setFloatingTabsTop\n} from '../../../../../common/redux/reportFormat/reportFormatSlice';\nimport {\n  findActiveSectionOnMobile,\n  findActiveSectionOnDesktop\n} from './useActiveSectionsAlgos';\nimport CONSTANTS from './Constants';\n\nconst eventTypes = CONSTANTS.USER_EVENTS;\n\nfunction useActiveSection(sectionElements, bottomPanelRef, rightPanelRef) {\n  const dispatch = useDispatch();\n  const isTabletOrMobile = useTabletOrMobile();\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n  const [isPanelMounted, setIsPanelMounted] = useState(false);\n\n  /*\n   * ON RESIZE EVENT\n   */\n  const handleOnResizeEvent = useCallback(() => {\n    if (rightPanelRef.current) {\n      dispatch(\n        setFloatingTabsWidth({\n          width: rightPanelRef.current.offsetWidth\n        })\n      );\n    }\n  }, [dispatch, rightPanelRef]);\n\n  /*\n   * ON SCROLL EVENT\n   */\n  const handleOnScrollEvent = useCallback(() => {\n    if (!_isEmpty(sectionElements)) {\n      let newSectionIndex;\n\n      if (isTabletOrMobile) {\n        newSectionIndex = findActiveSectionOnMobile(\n          bottomPanelRef,\n          sectionElements\n        );\n      } else {\n        newSectionIndex = findActiveSectionOnDesktop(sectionElements);\n      }\n\n      if (\n        activeSectionIndex !== newSectionIndex &&\n        Boolean(sectionElements[newSectionIndex])\n      ) {\n        dispatch(setActiveSectionId({ index: newSectionIndex }));\n      }\n    }\n  }, [\n    activeSectionIndex,\n    bottomPanelRef,\n    dispatch,\n    isTabletOrMobile,\n    sectionElements\n  ]);\n\n  /*\n   * ON MOUNT\n   */\n  useEffect(() => {\n    if (\n      !isPanelMounted &&\n      rightPanelRef.current &&\n      !_isEmpty(sectionElements)\n    ) {\n      dispatch(\n        setFloatingTabsTop({\n          top: sectionElements[0].offsetTop\n        })\n      );\n      dispatch(\n        setFloatingTabsHeight({\n          height: sectionElements[0].offsetHeight\n        })\n      );\n      dispatch(\n        setFloatingTabsWidth({\n          width: rightPanelRef.current.offsetWidth\n        })\n      );\n\n      setIsPanelMounted(true);\n    }\n  }, [dispatch, isPanelMounted, rightPanelRef, sectionElements]);\n\n  useEffect(() => {\n    window.addEventListener(eventTypes.SCROLL, handleOnScrollEvent);\n    return () => {\n      window.removeEventListener(eventTypes.SCROLL, handleOnScrollEvent);\n    };\n  }, [handleOnScrollEvent]);\n\n  useEffect(() => {\n    window.addEventListener(eventTypes.RESIZE, handleOnResizeEvent);\n    return () => {\n      window.removeEventListener(eventTypes.RESIZE, handleOnResizeEvent);\n    };\n  }, [handleOnResizeEvent]);\n}\n\nexport default useActiveSection;\n","import { ceil as _ceil, floor as _floor } from 'lodash';\n\nexport function findActiveSectionOnMobile(panelRef, sectionElements) {\n  if (panelRef.current && sectionElements && sectionElements.length > 1) {\n    const elementRect = panelRef.current.getBoundingClientRect();\n\n    const sections = Array.from(sectionElements).map((node, index) => {\n      const nodeRect = node.getBoundingClientRect();\n      return {\n        index,\n        nodeRect\n      };\n    });\n\n    sections.reverse();\n\n    const lastVisibleSectionInReversedArray = sections.findIndex(section => {\n      const { nodeRect } = section;\n      return nodeRect.bottom < elementRect.top;\n    });\n\n    if (lastVisibleSectionInReversedArray > -1) {\n      return sections[lastVisibleSectionInReversedArray].index;\n    }\n  }\n  return 0;\n}\n\nexport function findActiveSectionOnDesktop(sectionElements) {\n  const numberOfSections = sectionElements.length;\n  const scrollThreshold = _ceil(\n    (document.documentElement.scrollHeight - window.innerHeight) /\n      numberOfSections\n  );\n\n  if (!scrollThreshold) {\n    /*\n     * If no scrollbar available (scrollHeight === window.innerHeight)\n     * select first element\n     */\n    return 0;\n  }\n\n  const sectionIndex = Math.max(\n    0,\n    Math.min(\n      _floor(document.documentElement.scrollTop / scrollThreshold),\n      numberOfSections - 1\n    )\n  );\n  return sectionIndex;\n}\n","import React from 'react';\nimport { string } from 'prop-types';\n\nconst getPath = name => {\n  switch (name) {\n    case 'one-column-full-width':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'one-column-large':\n      return (\n        <g fillRule=\"evenodd\">\n          <g id=\"Group-2\">\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"34.0002 4.97379915e-14 34.0002 1.001 36.0002 1.001 36.0002 2.284 37.0002 2.284 37.0002 4.97379915e-14\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"29.0002 1.001 32.0012 1.001 32.0012 9.9475983e-14 29.0002 9.9475983e-14\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 7.285 37.0002 7.285 37.0002 4.285 36.0002 4.285\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 12.285 37.0002 12.285 37.0002 9.284 36.0002 9.284\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 17.285 37.0002 17.285 37.0002 14.285 36.0002 14.285\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"36.0002 22.285 37.0002 22.285 37.0002 19.284 36.0002 19.284\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"34.7152 25 36.9992 25 36.9992 24 34.7152 24\"\n            />\n            <polygon\n              fill=\"#7D7D7D\"\n              points=\"29.7162 25 32.7162 25 32.7162 24 29.7162 24\"\n            />\n            <path\n              d=\"M28,0.0004 L2,0.0004 C0.896,0.0004 0,0.8964 0,2.0004 L0,23.0004 C0,24.1044 0.896,25.0004 2,25.0004 L28,25.0004 L28,0.0004 Z M2,23.0004 L26,23.0004 L26,2.0004 L2,2.0004 L2,23.0004 Z\"\n              fill=\"#FFFFFF\"\n            />\n          </g>\n        </g>\n      );\n    case 'one-column-medium':\n      return (\n        <g fillRule=\"evenodd\">\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.0002 0.0003 34.0002 1.0003 36.0002 1.0003 36.0002 2.2843 37.0002 2.2843 37.0002 0.0003\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.0002 1.0003 32.0012 1.0003 32.0012 0.0003 29.0002 0.0003\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.0002 1.0003 27.0002 1.0003 27.0002 0.0003 24.0002 0.0003\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 7.2843 37.0002 7.2843 37.0002 4.2843 36.0002 4.2843\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 12.2843 37.0002 12.2843 37.0002 9.2833 36.0002 9.2833\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 17.2843 37.0002 17.2843 37.0002 14.2843 36.0002 14.2843\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 22.2843 37.0002 22.2843 37.0002 19.2843 36.0002 19.2843\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.7152 24.9993 36.9992 24.9993 36.9992 23.9993 34.7152 23.9993\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.7162 24.9993 32.7162 24.9993 32.7162 23.9993 29.7162 23.9993\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.7162 24.9993 27.7162 24.9993 27.7162 23.9993 24.7162 23.9993\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'one-column-small':\n      return (\n        <g fillRule=\"evenodd\">\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.0002 0.0001 34.0002 1.0001 36.0002 1.0001 36.0002 2.2841 37.0002 2.2841 37.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.0002 1.0001 32.0012 1.0001 32.0012 0.0001 29.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.0002 1.0001 27.0002 1.0001 27.0002 0.0001 24.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"19.0002 1.0001 22.0002 1.0001 22.0002 0.0001 19.0002 0.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 7.2841 37.0002 7.2841 37.0002 4.2841 36.0002 4.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 12.2841 37.0002 12.2841 37.0002 9.2841 36.0002 9.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 17.2851 37.0002 17.2851 37.0002 14.2841 36.0002 14.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"36.0002 22.2841 37.0002 22.2841 37.0002 19.2841 36.0002 19.2841\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"34.7152 25.0001 36.9992 25.0001 36.9992 24.0001 34.7152 24.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"29.7162 25.0001 32.7162 25.0001 32.7162 24.0001 29.7162 24.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"24.7162 25.0001 27.7162 25.0001 27.7162 24.0001 24.7162 24.0001\"\n          />\n          <polygon\n            fill=\"#7D7D7D\"\n            points=\"19.7152 25.0001 22.7162 25.0001 22.7162 24.0001 19.7152 24.0001\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-text-only':\n      return (\n        <g fillRule=\"evenodd\">\n          <polygon fill=\"#7D7D7D\" points=\"18 6 19 6 19 3 18 3\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 11 19 11 19 8 18 8\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 16 19 16 19 13 18 13\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 21 19 21 19 17.999 18 17.999\" />\n          <polygon fill=\"#7D7D7D\" points=\"18 23 18 24 18 25 19 25 19 23\" />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-left-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L13,24 L13,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-left-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L12,0 L12,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M14,23 L35,23 L35,2 L14,2 L14,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-right-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-narrow-right-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-medium-top-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-medium-top-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-top-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-top-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-bottom-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M36,6 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,6 L36,6 L36,6 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,4 L35,4 L35,2 L2,2 L2,4 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-large-bottom-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,6 L37,6 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,5 L1,5 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,5 L0,5 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,5 Z M2,23 L35,23 L35,7 L2,7 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-extra-narrow-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L28,24 L28,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M2,23 L26,23 L26,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-extra-narrow-right-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L28,24 L28,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M2,23 L26,23 L26,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'two-column-extra-narrow-right-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M28,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L28,25 L28,0 Z M27,1 L27,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L27,1 L27,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L27,0 L27,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M29,23 L35,23 L35,2 L29,2 L29,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-column-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-column-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-right-column-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-right-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-right-column-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-narrow-right-column-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-narrow-right-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-with-narrow-right-column-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-top-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-top-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-top-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M2,23 L35,23 L35,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-bottom-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-bottom-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'stacked-two-block-bottom-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,11 L35,11 L35,2 L20,2 L20,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L19,12 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M2,11 L23,11 L23,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M2,23 L23,23 L23,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'four-block-narrow-right-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L25,13 L25,0 Z M24,1 L24,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,12 Z M24,13 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L24,13 L24,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-left-top':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M2,7 L17,7 L17,2 L2,2 L2,7 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-left-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M18,17 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,17 L18,17 L18,17 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M2,15 L17,15 L17,10 L2,10 L2,15 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'three-stacked-with-right-column-left-bottom':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,9 L19,9 L19,0 Z M18,1 L18,8 L1,8 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M0,17 L19,17 L19,8 L0,8 L0,17 Z M1,16 L18,16 L18,9 L1,9 L1,16 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,16 L0,16 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,16 Z M2,23 L17,23 L17,18 L2,18 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-top-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M2,11 L11,11 L11,2 L2,2 L2,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-top-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M14,11 L23,11 L23,2 L14,2 L14,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-top-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,11 L35,11 L35,2 L26,2 L26,11 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-bottom-left':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M2,23 L11,23 L11,14 L2,14 L2,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-bottom-middle':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,13 L36,13 L36,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M14,23 L23,23 L23,14 L14,14 L14,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'six-block-bottom-right':\n      return (\n        <g fillRule=\"evenodd\">\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L13,13 L13,0 Z M12,1 L12,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,12 Z M12,13 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L12,13 L12,13 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L25,12 L25,1 L35,1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,13 L25,13 L25,0 L12,0 L12,13 Z M13,12 L24,12 L24,1 L13,1 L13,12 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,12 L12,12 L12,25 Z M13,24 L24,24 L24,13 L13,13 L13,24 Z\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L24,12 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M26,23 L35,23 L35,14 L26,14 L26,23 Z\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    default:\n      return <path />;\n  }\n};\n\nconst LayoutIcon = ({\n  name = '',\n  viewBox = '0 0 37 25',\n  width = '37',\n  height = '25',\n  className = 'section-area__layout-icon',\n  ...props\n}) => {\n  return (\n    <svg\n      aria-label={`${name}`}\n      height={height}\n      viewBox={viewBox}\n      width={width}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      className={`${className} ${name}`}\n      {...props}\n    >\n      {getPath(name)}\n    </svg>\n  );\n};\n\nLayoutIcon.propTypes = {\n  name: string.isRequired\n};\n\nexport default LayoutIcon;\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst { SECTION_LAYOUT_TYPE: sectionLayoutConstants } = Constants;\n\nconst CONSTANTS = Object.freeze({\n  LAYOUT_TO_ICON: {\n    [sectionLayoutConstants.ONE_COLUMN]: '1-col-fw',\n    [sectionLayoutConstants.ONE_COLUMN_80]: '1-col-l',\n    [sectionLayoutConstants.ONE_COLUMN_60]: '1-col-m',\n    [sectionLayoutConstants.ONE_COLUMN_40]: '1-col-s',\n    [sectionLayoutConstants.TWO_COLUMN]: '2-col',\n    [sectionLayoutConstants.ONE_COLUMN_OVERFLOW_AREA]: '2-col-text',\n    [sectionLayoutConstants.TWO_COLUMN_L_40_1A_R_60_1A]: '2-col-narrow-r',\n    [sectionLayoutConstants.TWO_COLUMN_L_67_1A_R_33_1A]: '2-col-narrow-l',\n    [sectionLayoutConstants.TWO_COLUMN_L_80_1A_R_20_1A]: '2-col-extra-narrow-r',\n    [sectionLayoutConstants.THREE_COLUMN]: '3-col',\n    [sectionLayoutConstants.TWO_COLUMN_L_50_3A_R_50_1A]: '3-stacked-r-col',\n    [sectionLayoutConstants.TWO_COLUMN_L_50_2A_R_50_1A]: 'stacked-r-col',\n    [sectionLayoutConstants.TWO_COLUMN_L_67_2A_R_33_1A]: 'stacked-narrow-r-col',\n    [sectionLayoutConstants.TWO_ROW_T_50_2A_B_50_1A]: 'stacked-2-blk-top',\n    [sectionLayoutConstants.TWO_ROW_T_50_1A_B_50_2A]: 'stacked-2-blk-btm',\n    [sectionLayoutConstants.TWO_ROW_T_80_1A_B_20_1A]: 'stacked-l-top',\n    [sectionLayoutConstants.TWO_ROW_T_60_1A_B_40_1A]: 'stacked-m-top',\n    [sectionLayoutConstants.TWO_ROW_T_20_1A_B_80_1A]: 'stacked-l-btm',\n    [sectionLayoutConstants.TWO_COLUMN_TWO_ROW_50_2A_50_2A]: '4-blk-btm',\n    [sectionLayoutConstants.TWO_COLUMN_TWO_ROW_67_2A_33_2A]:\n      '4-blk-narrow-r-btm',\n    [sectionLayoutConstants.THREE_COLUMN_TWO_ROW]: '6-blk-top'\n  }\n});\n\nexport default CONSTANTS;\n","import ReportLayoutIcon from './ReportLayoutIcon';\n\nexport default ReportLayoutIcon;\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport CONSTANTS from './Constants';\n\nconst ReportLayoutIcon = ({ layoutType }) => {\n  const iconName = CONSTANTS.LAYOUT_TO_ICON[layoutType];\n\n  return <Icon name={iconName} className=\"fill icon-orange\" />;\n};\n\nexport default ReportLayoutIcon;\n","import SectionControls from './SectionControls';\n\nexport default SectionControls;\n","import React, { useState } from 'react';\nimport { Button, Icon, Tooltip } from '@pwc/pwc-deals-ui';\nimport { useDispatch } from 'react-redux';\n\nimport { toggleRightPanel2 } from '../../../../../../common/redux/reportFormat/reportFormatSlice';\nimport ReportLayoutIcon from '../../../../../../common/components/ReportLayoutIcon';\n\nconst SectionControls = ({\n  controlsActive,\n  section,\n  lastSection,\n  handleMoveSection,\n  handleRemoveSection\n}) => {\n  const dispatch = useDispatch();\n\n  const handleCollapse = e => {\n    e.preventDefault();\n    dispatch(toggleRightPanel2());\n  };\n\n  const [iconProperties, setIconProperties] = useState({\n    moveDown: 'outline',\n    moveUp: 'outline',\n    remove: 'outline'\n  });\n\n  const handleMoveDown = e => {\n    e.preventDefault();\n    handleMoveSection('down');\n  };\n\n  const handleMoveUp = e => {\n    e.preventDefault();\n    handleMoveSection('up');\n  };\n\n  const handleRemove = e => {\n    e.preventDefault();\n    handleRemoveSection();\n  };\n\n  return (\n    <div className=\"section__controls\">\n      <div>\n        <Button\n          className=\"ui-button button-no-underline\"\n          onClick={handleCollapse}\n        >\n          <span className=\"mx-2 layout_type-label\">Report Layout</span>\n        </Button>\n        <ReportLayoutIcon layoutType={section.layoutType} />\n      </div>\n      <div className=\"divider\" />\n      <Tooltip direction=\"top\" tip=\"Move down\">\n        <Button\n          className=\"mr-2 control-item button-no-underline\"\n          disabled={!controlsActive || lastSection}\n          onClick={handleMoveDown}\n          onMouseEnter={() =>\n            setIconProperties({\n              ...iconProperties,\n              moveDown: 'fill'\n            })\n          }\n          onMouseLeave={() =>\n            setIconProperties({\n              ...iconProperties,\n              moveDown: 'outline'\n            })\n          }\n          data-testid=\"move-section-down\"\n        >\n          <Icon\n            name=\"move-down\"\n            className={`${iconProperties.moveDown} icon-${\n              controlsActive && !lastSection ? 'orange-theme' : 'grey-medium'\n            }`}\n            width={24}\n            height={24}\n          />\n        </Button>\n      </Tooltip>\n      <Tooltip direction=\"top\" tip=\"Move up\">\n        <Button\n          className=\"mx-2 control-item button-no-underline\"\n          disabled={!controlsActive || section.order === 1}\n          onClick={handleMoveUp}\n          onMouseEnter={() =>\n            setIconProperties({\n              ...iconProperties,\n              moveUp: 'fill'\n            })\n          }\n          onMouseLeave={() =>\n            setIconProperties({\n              ...iconProperties,\n              moveUp: 'outline'\n            })\n          }\n          data-testid=\"move-section-up\"\n        >\n          <Icon\n            name=\"move-up\"\n            className={`${iconProperties.moveUp} icon-${\n              controlsActive && section.order !== 1\n                ? 'orange-theme'\n                : 'grey-medium'\n            }`}\n            width={24}\n            height={24}\n          />\n        </Button>\n      </Tooltip>\n      <Tooltip direction=\"top\" tip=\"Remove section\">\n        <Button\n          className=\"ml-2 control-item button-no-underline\"\n          onClick={handleRemove}\n          disabled={!controlsActive}\n          onMouseEnter={() =>\n            setIconProperties({\n              ...iconProperties,\n              remove: 'fill'\n            })\n          }\n          onMouseLeave={() =>\n            setIconProperties({\n              ...iconProperties,\n              remove: 'outline'\n            })\n          }\n          data-testid=\"remove-section\"\n        >\n          <Icon\n            name=\"bin\"\n            className={`${iconProperties.remove} icon-${\n              controlsActive ? 'orange-theme' : 'grey-medium'\n            }`}\n            width={24}\n            height={24}\n          />\n        </Button>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default SectionControls;\n","import React from 'react';\nimport { Button, Icon, Tooltip } from '@pwc/pwc-deals-ui';\n\nconst DeleteButton = ({\n  iconType,\n  handleClick,\n  handleMouseEnter,\n  handleMouseLeave,\n  tooltipPlacement,\n  tooltip\n}) => {\n  const className = iconType.includes('-theme')\n    ? iconType\n    : `${iconType} icon-orange-theme`;\n\n  return (\n    <Tooltip direction={tooltipPlacement} tip={tooltip}>\n      <Button\n        className=\"button-no-underline\"\n        onClick={handleClick}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        data-testid=\"remove-section\"\n      >\n        <Icon name=\"bin\" className={className} width={24} height={24} />\n      </Button>\n    </Tooltip>\n  );\n};\n\nexport default DeleteButton;\n","export const excelTable1 = {\n  data: {\n    fileName:\n      'https://devpwc365.sharepoint.com/sites/D3sq89hqpa/Shared Documents/Free Form Excel/Freeform - Smart Styles Reference Updated.xlsx',\n    groupedByKey: '01AESXELUSJBDP464E4FFJ4I4RN2EHO63Q',\n    fileContents: [\n      {\n        type: 301,\n        id: 3327,\n        name: '_Smart_ExampleTableStylesWithSource',\n        value:\n          '<table class=\"excel-named-range\"><caption class=\"excel-named-range__title excel-named-range__title--vertical-align-bottom excel-named-range__title--text-align-left\">Table name</caption><tr><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td></tr><tr><th class=\"excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--first-col excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-left\">Heading</th><th class=\"excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right\">Column 1<br>wrapping</th><th class=\"excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right\">Column 2</th><th class=\"excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right\">Column 3</th><th class=\"excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right\">Column 4</th><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><th class=\"excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right\">Highlight</th><th class=\"excel-named-range__header excel-named-range__header--border-bottom-heavy excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-right\">Forecast</th></tr><tr><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-normal excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">General</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">2,300</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Merged cells</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--border-bottom-normal excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-middle excel-named-range__data--text-align-center\" colspan=\"2\" rowspan=\"2\">n/a</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Merged cells</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">General</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td></tr><tr><th class=\"excel-named-range__header excel-named-range__header--first-col excel-named-range__header--vertical-align-bottom excel-named-range__header--text-align-left\">PA\\'s</th><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Thick border</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">(100)</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">(100)</td><td class=\"excel-named-range__data excel-named-range__data--border-left-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Superscript1</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Dash border2</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">-</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">-</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">General</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Subtotal</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">General</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\">Return</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-left-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__memo excel-named-range__memo--bg-highlight excel-named-range__memo--italic excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\"></td><td class=\"excel-named-range__memo excel-named-range__memo--bg-forecast excel-named-range__memo--italic excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\"></td></tr><tr><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">General</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\">Return</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--border-left-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__memo excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">10000%</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__memo excel-named-range__memo--bg-highlight excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\"></td><td class=\"excel-named-range__memo excel-named-range__memo--bg-forecast excel-named-range__memo--italic excel-named-range__memo--border-bottom-normal excel-named-range__memo--empty-cell excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\"></td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Subtotal</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--bold excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--first-col excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--border-left-normal excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-highlight excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-half-row-cell excel-named-range__blank-half-row-cell--bg-forecast excel-named-range__blank-half-row-cell--vertical-align-bottom excel-named-range__blank-half-row-cell--text-align-left\"></td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">General</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--border-bottom-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Total</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--bold excel-named-range__data--border-bottom-heavy excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-left-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Accent 1 (underlined)</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">20</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">40</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">60</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Accent 2</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">20</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">40</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">60</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Accent 3</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">20</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">40</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">60</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><caption class=\"excel-named-range__title excel-named-range__title--vertical-align-bottom excel-named-range__title--text-align-right\">100</caption><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Accent 5</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">20</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">40</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">60</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__data excel-named-range__data--bold excel-named-range__data--first-col excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\">Accent 6 (strike)</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">20</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">40</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">60</td><td class=\"excel-named-range__data excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--bg-highlight excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--bg-forecast excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-right\">100</td></tr><tr><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--border-bottom-normal excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td></tr><tr><td class=\"excel-named-range__memo excel-named-range__memo--border-left-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\" colspan=\"5\">Memo-box heading in merged cell</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td></tr><tr><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--border-left-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\">General</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-heavy excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td></tr><tr><td class=\"excel-named-range__memo excel-named-range__memo--border-left-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\">General</td><td class=\"excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td></tr><tr><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--border-left-normal excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\">General</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__memo excel-named-range__memo--border-bottom-normal excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-right\">100</td><td class=\"excel-named-range__data excel-named-range__data--border-left-normal excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td></tr><tr><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td></tr><tr><td class=\"excel-named-range__memo excel-named-range__memo--first-col excel-named-range__memo--vertical-align-bottom excel-named-range__memo--text-align-left\">Source: 3.16.1 - LPI 1Q 2015 Results</td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td><td class=\"excel-named-range__data excel-named-range__data--empty-cell excel-named-range__data--vertical-align-bottom excel-named-range__data--text-align-left\"></td></tr><tr><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td></tr><tr><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td><td class=\"excel-named-range__blank-full-row-cell excel-named-range__blank-full-row-cell--vertical-align-bottom excel-named-range__blank-full-row-cell--text-align-left\"></td></tr></table>',\n        error: { isError: false, message: '', errorCode: 'Success' }\n      }\n    ]\n  },\n  errors: null,\n  messages: null\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst getLibraryItemIconName = (libraryItemNumericalValue, hoverClass) => {\n  switch (libraryItemNumericalValue) {\n    case Constants.LIBRARY_ITEM_TYPES.EXCEL_CELL_RANGE.value:\n    case Constants.LIBRARY_ITEM_TYPES.EXCEL_NAMED_RANGE.value:\n      return 'charts';\n    case Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value:\n      return 'bar-chart';\n    case Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value:\n      return 'powerbi-new';\n    case Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT_PAGE.value:\n      return hoverClass ? 'powerbi-report' : 'powerbi-new';\n    case Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value:\n      return 'textbox';\n    case Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value:\n      return 'powerpoint';\n    default:\n      return 'view';\n  }\n};\n\nexport default getLibraryItemIconName;\n","import React from 'react';\n// eslint-disable-next-line import/no-unresolved\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport getLibraryItemIconName from './getLibraryItemIconName';\n\nconst renderLibraryItemIcon = (type, iconClass, hoverClass, size = 24) => {\n  return (\n    <Icon\n      name={getLibraryItemIconName(type, hoverClass)}\n      width={size}\n      className={iconClass}\n    />\n  );\n};\n\nexport default renderLibraryItemIcon;\n","import React from 'react';\nimport renderLibraryItemIcon from '../../CreateAnalysis/renderLibraryItemIcon';\nimport './LibraryItemCard.scss';\n\nconst DefaultCardInner = ({ libraryItemName }) => {\n  return (\n    <div\n      className=\"library-item-card-title\"\n      data-testid=\"library-item-card-title\"\n    >\n      {libraryItemName}\n    </div>\n  );\n};\n\nconst LibraryItemCard = ({\n  libraryItem,\n  isDragging,\n  hoverClass,\n  innerRef,\n  children,\n  ...props\n}) => {\n  const outlineTypes = [100, 400, 401, 500];\n  const getLibraryItemIconClass = () => {\n    let iconClass = '';\n    if (isDragging && !hoverClass) {\n      iconClass = 'fill icon-grey';\n    } else if (!isDragging && hoverClass) {\n      const iconBaseColor = 'icon-grey-theme';\n      const iconVariant = outlineTypes.includes(libraryItem.type)\n        ? 'outline'\n        : 'fill';\n      iconClass = `${iconVariant} ${iconBaseColor} ${hoverClass}`;\n    } else {\n      iconClass = 'outline icon-grey';\n    }\n    return iconClass;\n  };\n  const computedIconClass = getLibraryItemIconClass();\n\n  return (\n    <div\n      className=\"library-item-card2\"\n      data-testid=\"library-item-card\"\n      {...props}\n      ref={innerRef}\n    >\n      <div\n        className=\"library-item-card-icon\"\n        data-testid=\"library-item-card-icon\"\n        style={{\n          display: !isDragging ? 'block' : 'none'\n        }}\n      >\n        {!isDragging &&\n          renderLibraryItemIcon(\n            libraryItem.type,\n            computedIconClass,\n            hoverClass\n          )}\n      </div>\n      {children && <div className=\"draggedLibraryItemCard\">{children}</div>}\n      {!children && <DefaultCardInner libraryItemName={libraryItem.name} />}\n    </div>\n  );\n};\nexport default LibraryItemCard;\n","import React from 'react';\n\nconst stripHtml = text => {\n  const div = document.createElement('div');\n  div.innerHTML = text;\n  return div.textContent || div.innerText || '';\n};\n\nexport const RichTextPlainView = ({ richText }) => {\n  return (\n    <div\n      className=\"library-item-card-placeholder\"\n      data-testid=\"rich-text-container\"\n    >\n      {stripHtml(richText)}\n    </div>\n  );\n};\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './RichTextCardInner.scss';\nimport { RichTextPlainView } from './RichTextPlainView';\n\nconst RichTextCardInner = ({\n  handleDeleteClick,\n  richText,\n  isInSourceTray,\n  handleEditClick,\n  isReadOnly\n}) => {\n  return (\n    <div className=\"rich-text-card-inner\">\n      <RichTextPlainView richText={richText} />\n      {!isReadOnly &&\n        (isInSourceTray ? (\n          <Button\n            className=\"rich-text-card-inner__delete-button\"\n            onClick={handleDeleteClick}\n            data-testid=\"delete-text-box-button\"\n          >\n            <Icon className=\"rich-text-card-inner__delete-icon\" name=\"delete\" />\n          </Button>\n        ) : (\n          <Button\n            className=\"rich-text-card-inner__edit-button\"\n            onClick={handleEditClick}\n            data-testid=\"edit-text-box-button\"\n          >\n            <Icon className=\"rich-text-card-inner__edit-icon\" name=\"pencil\" />\n          </Button>\n        ))}\n    </div>\n  );\n};\n\nexport default RichTextCardInner;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport React, { useState } from 'react';\nimport { Constants, TextUtilities } from '@pwc/pwc-deals-web-common';\nimport RichTextForm from '../../../../common/components/RichTextForm/RichTextForm';\nimport { useSections } from '../../Freeform/FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { SECTION_STATE_ACTION } from '../../Freeform/FreeformAnalysisForm/FreeformAnalysisFormUtil/sectionsReducer';\nimport RichTextCardInner from '../RichTextCardInner';\nimport LibraryItemCard from './LibraryItemCard';\nimport './RichTextLibraryItemCard.scss';\n\nconst RichTextLibraryItemCard = ({\n  libraryItem,\n  isInSourceTray,\n  setIsDragDisabled,\n  isDragging,\n  innerRef,\n  ...props\n}) => {\n  const [, dispatch] = useSections();\n  const [editState, setEditState] = useState(false);\n  const [richText, setRichText] = useState(\n    TextUtilities.parseRichText(libraryItem.isShared, libraryItem.data)\n  );\n  const [currentRichText, setCurrentRichText] = useState('');\n\n  const getRenderableRichText = text =>\n    text === Constants.EMPTY_RICH_TEXT_PLACEHOLDER ? '' : text;\n\n  const handleEditClick = () => {\n    setEditState(true);\n    setIsDragDisabled(true);\n    setCurrentRichText(getRenderableRichText(richText));\n  };\n\n  const handleCancel = () => {\n    setEditState(false);\n    setIsDragDisabled(false);\n    setCurrentRichText('');\n  };\n  const handleSave = () => {\n    setRichText(currentRichText);\n    setEditState(false);\n    setIsDragDisabled(false);\n\n    dispatch({\n      type: SECTION_STATE_ACTION.UPDATE_RICH_TEXT,\n      payload: {\n        libraryItemId: libraryItem.id,\n        richText: currentRichText\n      }\n    });\n  };\n\n  const getHandleDeleteClick = () => {\n    dispatch({\n      type: SECTION_STATE_ACTION.ITEM_DELETED,\n      payload: libraryItem.id\n    });\n  };\n\n  return editState ? (\n    <div ref={innerRef} {...props} className=\"rich-text-library-item-edit\">\n      <RichTextForm\n        richText={currentRichText}\n        setCurrentRichText={setCurrentRichText}\n        handleCancel={handleCancel}\n        handleSave={handleSave}\n      />\n    </div>\n  ) : (\n    <LibraryItemCard\n      {...props}\n      isDragging={isDragging}\n      innerRef={innerRef}\n      libraryItem={libraryItem}\n    >\n      <RichTextCardInner\n        richText={richText}\n        isInSourceTray={isInSourceTray}\n        handleDeleteClick={getHandleDeleteClick}\n        handleEditClick={handleEditClick}\n      />\n    </LibraryItemCard>\n  );\n};\n\nexport default RichTextLibraryItemCard;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { sanitize } from '../../../../common/services/sanitizeService';\n\nimport LibraryItemCard from '../../common/LibraryItemCard/LibraryItemCard';\nimport RichTextLibraryItemCard from '../../common/LibraryItemCard/RichTextLibraryItemCard';\nimport { useSections } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport {\n  setLibraryItemFinishPosition,\n  setLibraryItemStartPosition\n} from '../../../../common/redux/reportFormat/reportFormatSlice';\nimport './DraggableLibraryItemCard.scss';\n\n// disable all react-beautiful-dnd development warnings\nwindow['__react-beautiful-dnd-disable-dev-warnings'] = true;\n\nconst DraggableLibraryItemCard = ({\n  libraryItem,\n  index,\n  droppableLocationId,\n  droppableLocations\n}) => {\n  const [\n    {\n      draggableBetweenSectionsItemId,\n      currentDroppableSectionId,\n      currentPosition,\n      currentSections\n    },\n    dispatch\n  ] = useSections();\n  const reduxDispatch = useDispatch();\n  const [isDragDisabled, setIsDragDisabled] = useState(false);\n  const [isInSourceTray, setIsInSourceTray] = useState(false);\n  const [wrapperElement, setWrapperElement] = useState(null);\n  const [mouseClick, setMouseClick] = useState(false);\n\n  const isAtTheBottomOfCurrentColumn = () => {\n    const { libraryItemIds } = droppableLocations[currentPosition.droppableId];\n\n    const indexOfLastItem = libraryItemIds.includes(libraryItem.id)\n      ? libraryItemIds.length - 1\n      : libraryItemIds.length;\n\n    return currentPosition.index === indexOfLastItem;\n  };\n\n  const canMoveUpToPrevSection = (initialIndex, dndPosition) => {\n    if (dndPosition) {\n      return !isInSourceTray && dndPosition.index === 0;\n    }\n    return initialIndex === 0;\n  };\n\n  const canMoveDownToNextSection = dndPosition => {\n    if (dndPosition && isAtTheBottomOfCurrentColumn()) {\n      const isLastSection =\n        Number(dndPosition.droppableId.slice(-1)) === currentSections.length;\n\n      return !isLastSection;\n    }\n    return false;\n  };\n\n  const setDraggableBetweenSectionsItemId = useCallback(\n    libraryItemId => {\n      dispatch({\n        type: DRAG_AND_DROP_STATE_ACTION.ITEM_ID_UPDATED,\n        payload: { draggableBetweenSectionsItemId: libraryItemId }\n      });\n    },\n    [dispatch]\n  );\n  const moveItemToAdjacentSection = type => {\n    setDraggableBetweenSectionsItemId(libraryItem.id);\n    wrapperElement.dispatchEvent(\n      new KeyboardEvent('keydown', { keyCode: Constants.space, bubbles: false })\n    );\n\n    const currentSection = currentSections.find(s =>\n      s.items.map(i => i.id).includes(libraryItem.id)\n    );\n\n    dispatch({\n      type,\n      payload: {\n        libraryItemId: libraryItem.id,\n        currentSectionOrder: currentSection ? currentSection.order : 1\n      }\n    });\n  };\n\n  const canMoveToAdjacentArea = (position, keyCode) => {\n    // check whether draggable can move to area above or below (within same section)\n    const currentDroppableLocation = droppableLocations[position.droppableId];\n    if (keyCode === Constants.arrowUp && currentDroppableLocation.areaAbove) {\n      // return area above\n      return currentDroppableLocation.areaAbove;\n    }\n    if (keyCode === Constants.arrowDown && currentDroppableLocation.areaBelow) {\n      // return area below\n      return currentDroppableLocation.areaBelow;\n    }\n    return false;\n  };\n\n  const updateCurrentPosition = (position, itemId) => {\n    dispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_WITHIN_SECTION,\n      payload: {\n        currentPosition: position,\n        draggableWithinSectionsItemId: itemId\n      }\n    });\n    wrapperElement.dispatchEvent(\n      new KeyboardEvent('keydown', { keyCode: Constants.space, bubbles: false })\n    );\n  };\n\n  const handleOnKeyDown = keyCode => {\n    if (currentPosition) {\n      // TODO: Revisit to improve\n      // check if arrowUp or arrowDown\n      if (keyCode === Constants.arrowUp || keyCode === Constants.arrowDown) {\n        reduxDispatch(\n          setLibraryItemStartPosition({\n            start: currentPosition,\n            draggableId: libraryItem.id\n          })\n        );\n        // check if droppableArea above or droppableArea below\n        const adjacentArea = canMoveToAdjacentArea(currentPosition, keyCode);\n        if (adjacentArea) {\n          // execute code to update position with new currentPosition\n          const newPosition = {\n            droppableId: adjacentArea,\n            index: 0\n          };\n          reduxDispatch(setLibraryItemFinishPosition({ finish: newPosition }));\n          updateCurrentPosition(newPosition, libraryItem.id);\n        } else if (\n          // if no adjacent droppableArea above or below, then check for adjacent section above or below\n          keyCode === Constants.arrowUp &&\n          canMoveUpToPrevSection(index, currentPosition)\n        ) {\n          moveItemToAdjacentSection(\n            DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_UP_TO_NEW_SECTION\n          );\n        } else if (\n          keyCode === Constants.arrowDown &&\n          !isInSourceTray &&\n          canMoveDownToNextSection(currentPosition)\n        ) {\n          moveItemToAdjacentSection(\n            DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_DOWN_TO_NEW_SECTION\n          );\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    const getSectionOrder = () => {\n      if (droppableLocationId === DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID)\n        return 0;\n      return Number(droppableLocationId.slice(-1));\n    };\n\n    if (\n      wrapperElement &&\n      draggableBetweenSectionsItemId === libraryItem.id &&\n      currentDroppableSectionId === getSectionOrder()\n    ) {\n      wrapperElement.focus();\n      wrapperElement.dispatchEvent(\n        new KeyboardEvent('keydown', {\n          keyCode: Constants.space,\n          bubbles: false\n        })\n      );\n      setDraggableBetweenSectionsItemId(null);\n    }\n  }, [\n    currentDroppableSectionId,\n    draggableBetweenSectionsItemId,\n    droppableLocationId,\n    libraryItem.id,\n    setDraggableBetweenSectionsItemId,\n    wrapperElement\n  ]);\n\n  useEffect(() => {\n    const currentLocationId = currentPosition\n      ? currentPosition.droppableId\n      : droppableLocationId;\n\n    setIsInSourceTray(\n      currentLocationId === DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID\n    );\n  }, [currentPosition, droppableLocationId]);\n  const fieldRef = useRef();\n\n  return (\n    <Draggable\n      draggableId={libraryItem.id.toString()}\n      index={index}\n      isDragDisabled={isDragDisabled}\n    >\n      {(draggableProvided, draggableSnapshot) => {\n        return (\n          // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n          <div\n            className=\"draggable-library-item-card2\"\n            data-testid=\"draggable-library-item-card\"\n            {...draggableProvided.draggableProps}\n            {...draggableProvided.dragHandleProps}\n            ref={myRef => {\n              draggableProvided.innerRef(myRef);\n              setWrapperElement(myRef);\n            }}\n            onKeyDown={e =>\n              handleOnKeyDown(e.keyCode, draggableProvided.innerRef)\n            }\n            onMouseDown={() => {\n              if (fieldRef && fieldRef.current) {\n                const position = fieldRef.current.getBoundingClientRect();\n                // scrolls to 64px above element to allow drag and drop movement\n                window.scrollTo(\n                  position.left,\n                  position.top + window.scrollY - 64\n                );\n                setMouseClick(true);\n              }\n            }}\n            onMouseUp={() => setMouseClick(false)}\n            data-draggable-mode={!!currentPosition}\n          >\n            {libraryItem.type ===\n            Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value ? (\n              <RichTextLibraryItemCard\n                libraryItem={libraryItem}\n                isInSourceTray={isInSourceTray}\n                setIsDragDisabled={setIsDragDisabled}\n                isDragging={draggableSnapshot.isDragging}\n              >\n                {libraryItem.data}\n              </RichTextLibraryItemCard>\n            ) : (\n              <LibraryItemCard\n                libraryItem={libraryItem}\n                isDragging={draggableSnapshot.isDragging || mouseClick}\n              >\n                {!process.env.REACT_APP_FF20_ENABLED ? (\n                  <div\n                    ref={fieldRef}\n                    dangerouslySetInnerHTML={{\n                      __html: sanitize(libraryItem.data)\n                    }}\n                  />\n                ) : null}\n              </LibraryItemCard>\n            )}\n          </div>\n        );\n      }}\n    </Draggable>\n  );\n};\n\nexport default DraggableLibraryItemCard;\n","import React, { useState, useRef } from 'react';\nimport { Popover, Overlay, Modal } from 'react-bootstrap';\nimport { Icon, Button } from '@pwc/pwc-deals-ui';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nimport PageTitle from '../../../../../common/components/PageTitle/PageTitle';\nimport { useSections } from '../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { setAddLibraryLocation } from '../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\n\nimport './ObjectInjestPopover.scss';\n\nconst ObjectInjestEmptyClipboardModal = ({\n  show = true,\n  onHide = () => {}\n}) => {\n  const ref = useRef();\n  return (\n    <Modal\n      ref={ref}\n      className=\"object-injest-empty-modal\"\n      show={show}\n      onHide={onHide}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>\n          <PageTitle title=\"Adding an Excel or PowerPoint object\" size=\"h2\" />\n        </Modal.Title>\n      </Modal.Header>\n      <div>\n        <p>\n          You can add chart or table objects from Excel or PowerPoint to your\n          Junction analysis. Once added, they will automatically update, so you\n          won&apos;t need to add it again.\n        </p>\n        <h4>To add an object:</h4>\n        <ol>\n          <li>\n            Open the desired Excel or PowerPoint file in your{' '}\n            <a href=\"/to-do\">project&apos;s SharePoint folder</a>\n          </li>\n          <li>\n            Highlight the cells that make up your preferred chart ore table and\n            click the &apos;Add to Junction&apos; button on the toolbar.\n          </li>\n          <li>\n            With the object chosen, you can add it to the analysis or text area.\n            In Junction, select &apos;Add an Item&apos; and choose &apos;Excel\n            or PowerPoint&apos;. To add it as a mini table, select &apos;+\n            Minitable/chart&apos; in a text area.\n          </li>\n        </ol>\n      </div>\n    </Modal>\n  );\n};\n\nconst ObjectInjestPopoverContent = ({\n  target,\n  show,\n  onCancel = () => {},\n  // TODO: remove once we can really insert something\n  onInsertPowerBi = () => {},\n  droppableLocation\n}) => {\n  const ref = useRef();\n  const [, dispatch] = useSections();\n\n  const [noClipboardShow, setNoClipboardShow] = useState(false);\n  const { url } = useRouteMatch();\n\n  const handleAddLibraryItem = () => {\n    setAddLibraryLocation(droppableLocation, dispatch);\n  };\n\n  const handlePowerBi = e => {\n    e.preventDefault();\n    if (onInsertPowerBi) {\n      onInsertPowerBi();\n    }\n  };\n\n  const handleText = e => {\n    e.preventDefault();\n  };\n\n  if (noClipboardShow) {\n    return (\n      <ObjectInjestEmptyClipboardModal\n        show={noClipboardShow}\n        onHide={() => setNoClipboardShow(false)}\n      />\n    );\n  }\n\n  return (\n    <div ref={ref} data-testid=\"injest-select-popover\">\n      <Overlay\n        show={show}\n        target={target}\n        rootClose\n        onHide={onCancel}\n        container={ref.current}\n        placement=\"bottom\"\n      >\n        <Popover className=\"injest-select-popover\">\n          <Popover.Content className=\"popup-menu popup-confirmation injest-select-popover\">\n            <Link\n              className=\"ui-button button-no-underline\"\n              to={`${url}/library-items`}\n              onClick={handleAddLibraryItem}\n            >\n              <Icon\n                name=\"powerpoint\"\n                width={24}\n                height={24}\n                className=\"outline icon-orange-theme\"\n              />\n              <span>Excel or PowerPoint</span>\n            </Link>\n            <Button className=\"button-no-underline\" onClick={handlePowerBi}>\n              <Icon\n                name=\"powerbi-new\"\n                width={24}\n                height={24}\n                className=\"outline icon-orange-theme\"\n              />\n              <span>Power BI...</span>\n            </Button>\n            <Button className=\"button-no-underline\" onClick={handleText}>\n              <Icon\n                name=\"textbox\"\n                width={24}\n                height={24}\n                className=\"outline icon-orange-theme\"\n              />\n              <span>Text</span>\n            </Button>\n          </Popover.Content>\n        </Popover>\n      </Overlay>\n    </div>\n  );\n};\n\nconst ObjectInjestPopover = ({\n  onInsertPowerBi = () => {},\n  onPopover = () => {},\n  droppableLocation\n}) => {\n  const target = useRef();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const showPopover = e => {\n    e.preventDefault();\n    setIsOpen(true);\n    onPopover(true);\n  };\n\n  const hidePopover = () => {\n    setIsOpen(false);\n    onPopover(false);\n  };\n\n  return (\n    <>\n      <div ref={target}>\n        <Button\n          className=\"ui-button button-link object-injest-toggle\"\n          onClick={showPopover}\n        >\n          <Icon name=\"plus\" width={24} className=\"outline icon-orange\" />\n        </Button>\n      </div>\n      <ObjectInjestPopoverContent\n        target={target}\n        show={isOpen}\n        onCancel={hidePopover}\n        onInsertPowerBi={onInsertPowerBi}\n        droppableLocation={droppableLocation}\n      />\n      <p className=\"object-injest-label\">Add an item</p>\n    </>\n  );\n};\n\nexport default ObjectInjestPopover;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport classNames from 'classnames';\nimport { cloneDeep } from 'lodash';\nimport PropType from 'prop-types';\nimport React, { useState } from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { v4 as uuidv4 } from 'uuid';\nimport { excelTable1 } from '../../../../../../../../contentLibrary/mock';\nimport {\n  useDragAndDrop,\n  useSections\n} from '../../../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { setCurrentSections } from '../../../../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\n\nimport DraggableLibraryItemCard from '../../../../../DraggableLibraryItemCard';\nimport ObjectInjestPopover from '../../../../../ObjectInjestPopover/ObjectInjestPopover';\n\nimport './SectionArea.scss';\nimport DeleteButton from '../DeleteButton/DeleteButton';\n\nfunction SectionArea({\n  areaClass,\n  droppableLocation,\n  libraryItems,\n  libraryItemMap,\n  droppableLocations\n}) {\n  const canLibraryItemBePlacedInSection = libraryItemId => {\n    const parsedLibraryItemId = Number.isInteger(parseInt(libraryItemId, 10))\n      ? parseInt(libraryItemId, 10)\n      : null;\n    if (\n      parsedLibraryItemId &&\n      libraryItemMap[parsedLibraryItemId].type !==\n        Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value &&\n      droppableLocation.id.includes('text-overflow')\n    ) {\n      return false;\n    }\n    return true;\n  };\n\n  const [popOver, onPopover] = useState(false);\n\n  const baseStyles = {\n    border: 'var(--s1px) dashed var(--color-grey)',\n    borderRadius: 'var(--s2px)',\n    backgroundColor: 'var(--dragdrop-container-background-hover)'\n  };\n  const draggingOverBorder =\n    'var(--s2px) dashed var(--hovered-section-border-color)';\n  const draggingOverBorderError =\n    'var(--s2px) solid var(--color-red-error-dark-mode)';\n  const draggingOverBackgroundColor = 'var(--background-primary)';\n  const isAreaFilled = () => {\n    return libraryItems.length > 0;\n  };\n\n  const getStyle = droppableSnapshot => {\n    const {\n      isDraggingOver,\n      draggingOverWith,\n      draggingFromThisWith\n    } = droppableSnapshot;\n    const returnedStyle = { ...baseStyles };\n    if (popOver)\n      return {\n        border: 'var(--s2px) dashed var(--hovered-section-border-color)',\n        borderRadius: 'var(--s2px)',\n        backgroundColor: 'var(--dragdrop-container-background-hover)'\n      };\n    if (\n      isAreaFilled() &&\n      draggingOverWith &&\n      draggingOverWith === draggingFromThisWith\n    ) {\n      Object.assign(returnedStyle, {\n        border: draggingOverBorder,\n        backgroundColor: draggingOverBackgroundColor\n      });\n      return returnedStyle;\n    }\n    if (\n      isAreaFilled() &&\n      draggingOverWith &&\n      !canLibraryItemBePlacedInSection(draggingOverWith)\n    ) {\n      Object.assign(returnedStyle, { border: draggingOverBorderError });\n      return returnedStyle;\n    }\n    if (isAreaFilled()) {\n      return {\n        padding: 'var(--s2px)'\n      };\n    }\n    if (\n      !isAreaFilled() &&\n      isDraggingOver &&\n      draggingOverWith &&\n      canLibraryItemBePlacedInSection(draggingOverWith)\n    ) {\n      Object.assign(returnedStyle, {\n        border: draggingOverBorder,\n        borderRadius: 'var(--s2px)',\n        backgroundColor: draggingOverBackgroundColor\n      });\n      return returnedStyle;\n    }\n    if (\n      !isAreaFilled() &&\n      isDraggingOver &&\n      draggingOverWith &&\n      !canLibraryItemBePlacedInSection(draggingOverWith)\n    ) {\n      Object.assign(returnedStyle, { border: draggingOverBorderError });\n      return returnedStyle;\n    }\n    // return no styles if area is not filled and not being dragged over and allow scss to set the styles\n    return {};\n  };\n\n  // const { projectId } = useParams();\n  const [\n    // eslint-disable-next-line no-unused-vars\n    { currentSections = [], nonLaidOutLibraryItems = [] },\n    contextDispatch\n  ] = useSections();\n  const { setDroppableLocations } = useDragAndDrop();\n\n  const onAddItem = async () => {\n    onPopover(false);\n    const name = uuidv4();\n    const id = Date.now();\n    /* cconst richTextData = JSON.stringify({\n      RichTextData: Constants.EMPTY_RICH_TEXT_PLACEHOLDER\n    });\n\n   const id = await postRichText(projectId, name, richTextData); */\n\n    const newSections = cloneDeep(currentSections);\n\n    /*\n    newSections[0].items.push({\n      id,\n      name,\n      type: Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value,\n      isShared: false,\n      data: richTextData\n    }); */\n\n    newSections[0].items.push({\n      id,\n      name,\n      type: Constants.LIBRARY_ITEM_TYPES.EXCEL_CHART.value,\n      isShared: false,\n      data: excelTable1.data.fileContents[0].value,\n      analysisColumn: 1\n    });\n\n    setCurrentSections(newSections, contextDispatch);\n\n    const newDroppableLocations = cloneDeep(droppableLocations);\n    newDroppableLocations[droppableLocation.id] = {\n      ...droppableLocation,\n      libraryItemIds: [...droppableLocation.libraryItemIds, id]\n    };\n    setDroppableLocations(newDroppableLocations);\n  };\n  const [mouseOver, setMouseOver] = useState(false);\n  const hideClearSectionButton = () => {\n    setMouseOver(false);\n  };\n  const clearSection = e => {\n    e.preventDefault();\n    const newDroppableLocations = cloneDeep(droppableLocations);\n    newDroppableLocations[droppableLocation.id] = {\n      ...droppableLocation,\n      libraryItemIds: []\n    };\n    setDroppableLocations(newDroppableLocations);\n  };\n  const [clearSectionHover, setClearSectionHover] = useState(false);\n\n  return (\n    <Droppable\n      droppableId={droppableLocation.id}\n      direction={droppableLocation.direction}\n      key={droppableLocation.id}\n      ignoreContainerClipping\n    >\n      {(provided, snapshot) => {\n        const computedStyle = getStyle(snapshot);\n        return (\n          <div\n            className={`${areaClass} section-area__droppable-container`}\n            data-testid={areaClass}\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n            style={computedStyle}\n            onMouseEnter={() => setMouseOver(true)}\n            onFocus={() => setMouseOver(true)}\n            onMouseLeave={hideClearSectionButton}\n            onBlur={hideClearSectionButton}\n          >\n            <div\n              className={classNames('section-area__item-container', {\n                'background-left': droppableLocation.id.includes(\n                  'text-overflow'\n                )\n              })}\n            >\n              {libraryItems.map((libraryItem, index) => {\n                return (\n                  <DraggableLibraryItemCard\n                    key={libraryItem.id}\n                    libraryItem={libraryItem}\n                    index={index}\n                    droppableLocationId={droppableLocation.id}\n                    droppableLocations={droppableLocations}\n                  />\n                );\n              })}\n              {provided.placeholder}\n            </div>\n\n            <div\n              className=\"clearSectionWrapper\"\n              style={{\n                display:\n                  mouseOver &&\n                  libraryItems.length > 0 &&\n                  !snapshot.isDraggingOver\n                    ? 'block'\n                    : 'none'\n              }}\n            >\n              <DeleteButton\n                tooltip=\"clear section\"\n                tooltipPlacement=\"top\"\n                iconType={`${\n                  clearSectionHover ? 'fill' : 'outline'\n                } icon-grey-theme`}\n                handleClick={clearSection}\n                handleMouseEnter={() => setClearSectionHover(true)}\n                handleMouseLeave={() => setClearSectionHover(false)}\n              />\n            </div>\n\n            {libraryItems.length < 1 && (\n              <div\n                className={classNames('section-area__background', {\n                  'background-left': droppableLocation.id.includes(\n                    'text-overflow'\n                  )\n                })}\n              >\n                <div className=\"section-area__background__content\">\n                  {\n                    // TODO: remove once we can really insert something\n                  }\n                  <ObjectInjestPopover\n                    onInsertPowerBi={onAddItem}\n                    onPopover={onPopover}\n                    droppableLocation={droppableLocation}\n                  />\n                </div>\n              </div>\n            )}\n            {droppableLocation.id.includes('text-overflow') && (\n              <div className=\"section-area__background background-right\" />\n            )}\n          </div>\n        );\n      }}\n    </Droppable>\n  );\n}\n\nSectionArea.propTypes = {\n  areaClass: PropType.string\n};\n\nSectionArea.defaultProps = {\n  areaClass: ''\n};\n\nexport default SectionArea;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport classNames from 'classnames';\nimport PropType from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useTabletOrMobile from '../../../../../../../../common/hooks/useTabletOrMobile';\nimport {\n  getReportFormatLayoutState,\n  setActiveSectionId,\n  setFloatingTabsHeight,\n  setFloatingTabsTop\n} from '../../../../../../../../common/redux/reportFormat/reportFormatSlice';\nimport { useSections } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { setSectionToScroll } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport CONSTANTS from '../../../Constants';\nimport LayoutIcon from '../../../LayoutIcon';\nimport SectionControls from '../../../SectionControls';\nimport DeleteButton from './DeleteButton/DeleteButton';\n\nimport './Section.scss';\nimport SectionArea from './SectionArea/SectionArea';\n\nfunction Section({\n  sectionData,\n  libraryItemMap,\n  droppableLocations,\n  onAddSection,\n  onRemoveSection,\n  onMoveSection,\n  lastSection,\n  controlsActive,\n  targetDroppableLocationIds,\n  // activeSection = false, // TODO: will use for styling\n  scrollIntoView = true\n}) {\n  const ref = useRef();\n  const [iconType, setIconType] = useState('outline');\n  const [isActive, setIsActive] = useState(false);\n  const [{ sectionIdToScroll }, useSectionsDispatch] = useSections();\n  const isTabletOrMobile = useTabletOrMobile();\n\n  const dispatch = useDispatch();\n  const sectionId = sectionData.order - 1;\n\n  const { activeSectionIndex, floatingTabsHeight } = useSelector(\n    getReportFormatLayoutState\n  );\n\n  const currentHeight = ref.current ? ref.current.offsetHeight : 0;\n  const currentTop = ref.current ? ref.current.offsetTop : 0;\n\n  useEffect(() => {\n    if (sectionIdToScroll === sectionId && currentHeight) {\n      if (scrollIntoView) {\n        ref.current.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n      setSectionToScroll(null, useSectionsDispatch);\n    }\n  }, [\n    currentHeight,\n    useSectionsDispatch,\n    scrollIntoView,\n    sectionId,\n    sectionIdToScroll\n  ]);\n\n  const handleOnSectionClick = () => {\n    /*\n     * Bug: PWC-5795\n     * If section clicked, floatingTabs needs to be positioned to that section\n     */\n    if (!isTabletOrMobile && activeSectionIndex !== sectionId) {\n      dispatch(setActiveSectionId({ index: sectionId }));\n      dispatch(\n        setFloatingTabsTop({\n          top: currentTop\n        })\n      );\n      if (currentHeight !== floatingTabsHeight) {\n        dispatch(\n          setFloatingTabsHeight({\n            height: currentHeight\n          })\n        );\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (activeSectionIndex === sectionId) {\n      if (!isActive) {\n        dispatch(\n          setFloatingTabsTop({\n            top: currentTop\n          })\n        );\n        dispatch(\n          setFloatingTabsHeight({\n            height: currentHeight\n          })\n        );\n      }\n\n      setIsActive(true);\n    } else if (isActive) {\n      setIsActive(false);\n    }\n  }, [\n    isActive,\n    activeSectionIndex,\n    sectionId,\n    dispatch,\n    currentTop,\n    currentHeight\n  ]);\n\n  const handleRemoveSection = () => {\n    const newSectionIndex = Math.max(0, sectionData.order - 1 - 1);\n    dispatch(setActiveSectionId({ index: newSectionIndex }));\n\n    onRemoveSection(sectionData.order);\n    setIconType('outline');\n  };\n\n  const handleMoveSection = direction => {\n    onMoveSection(direction, sectionData);\n  };\n\n  const handleMouseEnter = () => {\n    setIconType('fill');\n  };\n\n  const handleMouseLeave = () => {\n    setIconType('outline');\n  };\n\n  return (\n    // eslint-disable-next-line\n    <div\n      ref={ref}\n      data-section-id={sectionId}\n      key={`Section - ${sectionData.order}`}\n      className=\"section\"\n      data-testid=\"section\"\n      onClick={handleOnSectionClick}\n    >\n      <div className=\"section__top-row\" data-testid=\"section-top-row\">\n        <div className=\"section__top-row__row-1\">\n          {isTabletOrMobile && controlsActive && (\n            <DeleteButton\n              handleClick={handleRemoveSection}\n              handleMouseEnter={handleMouseEnter}\n              handleMouseLeave={handleMouseLeave}\n              tooltipPlacement=\"top\"\n              tooltip=\"Remove section\"\n              iconType={iconType}\n            />\n          )}\n        </div>\n        <div className=\"section__top-row__row-2\">\n          <SectionControls\n            section={sectionData}\n            lastSection={lastSection}\n            controlsActive={controlsActive}\n            handleMoveSection={handleMoveSection}\n            handleRemoveSection={handleRemoveSection}\n          />\n        </div>\n      </div>\n      <div\n        className={classNames('section__middle-row', {\n          [CONSTANTS.LAYOUT_TYPE_TO_SECTION_CLASSNAME_MAP[\n            sectionData.layoutType\n          ]]: sectionData.layoutType\n        })}\n        data-testid=\"section-middle-row\"\n      >\n        {targetDroppableLocationIds &&\n          targetDroppableLocationIds.map(droppableLocationId => {\n            const droppableLocation = droppableLocations[droppableLocationId];\n            const libraryItems =\n              droppableLocation &&\n              droppableLocation.libraryItemIds\n                .map(id => libraryItemMap[id])\n                .filter(libraryItem => !!libraryItem);\n            return (\n              <React.Fragment key={droppableLocationId}>\n                {droppableLocation && (\n                  <>\n                    {isTabletOrMobile && (\n                      <LayoutIcon\n                        name={\n                          CONSTANTS.LAYOUT_TYPE_TO_ICON_MAP[\n                            `${sectionData.layoutType}-${droppableLocation.position}`\n                          ]\n                        }\n                      />\n                    )}\n                    <SectionArea\n                      key={droppableLocationId}\n                      areaClass={droppableLocationId}\n                      droppableLocation={\n                        droppableLocations[droppableLocationId]\n                      }\n                      libraryItems={libraryItems}\n                      libraryItemMap={libraryItemMap}\n                      droppableLocations={droppableLocations}\n                    />\n                  </>\n                )}\n              </React.Fragment>\n            );\n          })}\n      </div>\n      {lastSection && (\n        <div className=\"section__bottom-row\" data-testid=\"section-bottom-row\">\n          <hr className=\"section-line\" />\n          <Button className=\"button-no-underline\" onClick={onAddSection}>\n            <Icon\n              name=\"add\"\n              width={24}\n              height={24}\n              className=\"fill icon-orange-theme\"\n            />\n            <span className=\"section__bottom-row__button-text\">\n              Add new section\n            </span>\n          </Button>\n          <hr className=\"section-line\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nSectionArea.propTypes = {\n  sectionData: PropType.shape({\n    order: PropType.number,\n    layoutType: PropType.number,\n    items: PropType.arrayOf(PropType.any)\n  }),\n  onAddSection: PropType.func,\n  onRemoveSection: PropType.func,\n  targetDroppableLocationIds: PropType.arrayOf(PropType.string),\n  lastSection: PropType.bool,\n  activeSection: PropType.bool\n};\n\nexport default Section;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Section from './Section/Section';\n\nimport { useSections } from '../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setCurrentSections,\n  setNonLaidOutLibraryItems,\n  setSectionToScroll\n} from '../../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\n\nimport { getReportFormatLayoutState } from '../../../../../../../common/redux/reportFormat/reportFormatSlice';\n\nimport {\n  /* generateTargetDroppableLocationIds, */ generateTargetDroppableLocationIdsNew\n} from '../../../generateTargetDroppableLocationIds';\n\nimport './LeftPanel.scss';\n\nconst LeftPanel = ({ libraryItemMap, droppableLocations, onAddNewSection }) => {\n  const [\n    { currentSections = [], nonLaidOutLibraryItems = [] },\n    contextDispatch\n  ] = useSections();\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n\n  const handleAddNewSection = () => {\n    onAddNewSection();\n  };\n\n  const handleRemoveSection = sectionOrder => {\n    if (currentSections.length === 1) {\n      return;\n    }\n    const sectionToRemove = currentSections.find(s => s.order === sectionOrder);\n\n    const newNonLaidOutLibraryItems = nonLaidOutLibraryItems.concat(\n      sectionToRemove.items.map(item => libraryItemMap[item.id])\n    );\n    setNonLaidOutLibraryItems(newNonLaidOutLibraryItems, contextDispatch);\n\n    const newSections = currentSections\n      .filter(s => s.order !== sectionOrder)\n      .map((s, i) => {\n        return {\n          ...s,\n          order: i + 1\n        };\n      });\n\n    setCurrentSections(newSections, contextDispatch);\n  };\n\n  const handleMoveSection = (direction, sectionData) => {\n    if (currentSections.length === 1) {\n      return;\n    }\n    const auxSections = [...currentSections];\n    auxSections.splice(sectionData.order - 1, 1);\n    const indexToMove =\n      direction === 'up' ? sectionData.order - 2 : sectionData.order;\n    auxSections.splice(indexToMove, 0, sectionData);\n    const newSections = auxSections.map((s, i) => {\n      return { ...s, order: i + 1 };\n    });\n    setCurrentSections(newSections, contextDispatch);\n    setSectionToScroll(indexToMove, contextDispatch);\n  };\n\n  return (\n    <div className=\"left-panel\" data-testid=\"left-panel\">\n      {currentSections.map((section, i, allSections) => {\n        const targetDroppableLocationIds = generateTargetDroppableLocationIdsNew(\n          section\n        );\n\n        return (\n          <Section\n            key={section.order}\n            sectionData={section}\n            libraryItemMap={libraryItemMap}\n            droppableLocations={droppableLocations}\n            onAddSection={handleAddNewSection}\n            onRemoveSection={handleRemoveSection}\n            onMoveSection={handleMoveSection}\n            lastSection={i === currentSections.length - 1}\n            controlsActive={allSections.length > 1}\n            targetDroppableLocationIds={targetDroppableLocationIds}\n            activeSection={activeSectionIndex === i}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default LeftPanel;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport { generateDroppableLocationIdWithSection } from './generateDroppableLocationIdWithSection';\nimport { layoutTypeToDroppableLocationIdMap } from './generateDroppableLocationSetForSection';\n\nexport const generateTargetDroppableLocationIdsNew = section => {\n  const droppableLocationIds =\n    layoutTypeToDroppableLocationIdMap[section.layoutType];\n  const targetDroppableLocationIds = [];\n  droppableLocationIds.forEach(dropLocId => {\n    const dropLocIdWithOrder = generateDroppableLocationIdWithSection(\n      dropLocId,\n      section.order\n    );\n    targetDroppableLocationIds.push(dropLocIdWithOrder);\n  });\n  return targetDroppableLocationIds;\n};\n\nexport const generateTargetDroppableLocationIds = section =>\n  section.layoutType === Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN\n    ? [\n        generateDroppableLocationIdWithSection(\n          DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_FIRST_AREA_ID,\n          section.order || 1\n        ),\n        generateDroppableLocationIdWithSection(\n          DROPPABLE_LOCATION_IDS.DOUBLE_COLUMN_SECOND_AREA_ID,\n          section.order || 1\n        )\n      ]\n    : [\n        generateDroppableLocationIdWithSection(\n          DROPPABLE_LOCATION_IDS.SINGLE_COLUMN_AREA_ID,\n          section.order || 1\n        )\n      ];\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport FourBlockNarrowRigth from '../../../../../../../../common/assets/report-format-layouts/four-block-narrow-right.svg';\nimport FourBlock from '../../../../../../../../common/assets/report-format-layouts/four-block.svg';\nimport OneColumnFullWith from '../../../../../../../../common/assets/report-format-layouts/one-column-full-width.svg';\nimport OneColumnLarge from '../../../../../../../../common/assets/report-format-layouts/one-column-large.svg';\nimport OneColumnMedium from '../../../../../../../../common/assets/report-format-layouts/one-column-medium.svg';\nimport OneColumnSmall from '../../../../../../../../common/assets/report-format-layouts/one-column-small.svg';\nimport SixBlock from '../../../../../../../../common/assets/report-format-layouts/six-block.svg';\nimport StackedLargeBottom from '../../../../../../../../common/assets/report-format-layouts/stacked-large-bottom.svg';\nimport StackedLargeTop from '../../../../../../../../common/assets/report-format-layouts/stacked-large-top.svg';\nimport StackedMediumTop from '../../../../../../../../common/assets/report-format-layouts/stacked-medium-top.svg';\nimport StackedTwoBlockBottom from '../../../../../../../../common/assets/report-format-layouts/stacked-two-block-bottom.svg';\nimport StackedTwoBlockTop from '../../../../../../../../common/assets/report-format-layouts/stacked-two-block-top.svg';\nimport StackedWithNarrowRightColumn from '../../../../../../../../common/assets/report-format-layouts/stacked-with-narrow-right-column.svg';\nimport StachedWithRightColumn from '../../../../../../../../common/assets/report-format-layouts/stacked-with-right-column.svg';\nimport ThreeColumn from '../../../../../../../../common/assets/report-format-layouts/three-column.svg';\nimport ThreeStackedWithRightColumn from '../../../../../../../../common/assets/report-format-layouts/three-stacked-with-right-column.svg';\nimport TwoColumn from '../../../../../../../../common/assets/report-format-layouts/two-column.svg';\nimport TwoColumnExtraNarrowRight from '../../../../../../../../common/assets/report-format-layouts/two-column-extra-narrow-right.svg';\nimport TwoColumnNarrowLeft from '../../../../../../../../common/assets/report-format-layouts/two-column-narrow-left.svg';\nimport TwoColumnNarrowRight from '../../../../../../../../common/assets/report-format-layouts/two-column-narrow-right.svg';\nimport TwoColumnTextOnly from '../../../../../../../../common/assets/report-format-layouts/two-column-text-only.svg';\n\nimport CONSTANTS from '../../../Constants';\n\nexport const LAYOUTS = [\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnFullWith,\n    label: '',\n    description: ''\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnSmall\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnMedium\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: OneColumnLarge\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,\n    type: CONSTANTS.COLUMN_TYPE.ONE,\n    image: TwoColumnTextOnly\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumnNarrowLeft\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumnNarrowRight\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumn\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: StackedMediumTop\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: StackedLargeTop\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: StackedLargeBottom\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,\n    type: CONSTANTS.COLUMN_TYPE.TWO,\n    image: TwoColumnExtraNarrowRight\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: ThreeColumn\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StachedWithRightColumn\n  },\n\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StackedWithNarrowRightColumn\n  },\n\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StackedTwoBlockTop\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,\n    type: CONSTANTS.COLUMN_TYPE.THREE,\n    image: StackedTwoBlockBottom\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: FourBlock\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: FourBlockNarrowRigth\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: ThreeStackedWithRightColumn\n  },\n  {\n    id: Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,\n    type: CONSTANTS.COLUMN_TYPE.FOUR,\n    image: SixBlock\n  }\n];\n\nexport const LAYOUTS_BY_TYPE = [\n  [\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,\n      type: CONSTANTS.COLUMN_TYPE.ONE,\n      image: OneColumnFullWith,\n      label: '',\n      description: ''\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_80,\n      type: CONSTANTS.COLUMN_TYPE.ONE,\n      image: OneColumnLarge\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_60,\n      type: CONSTANTS.COLUMN_TYPE.ONE,\n      image: OneColumnMedium\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_40,\n      type: CONSTANTS.COLUMN_TYPE.ONE,\n      image: OneColumnSmall\n    }\n  ],\n  [\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN_OVERFLOW_AREA,\n      type: CONSTANTS.COLUMN_TYPE.ONE,\n      image: TwoColumnTextOnly\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN,\n      type: CONSTANTS.COLUMN_TYPE.TWO,\n      image: TwoColumn\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_40_1A_R_60_1A,\n      type: CONSTANTS.COLUMN_TYPE.TWO,\n      image: TwoColumnNarrowLeft\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A,\n      type: CONSTANTS.COLUMN_TYPE.TWO,\n      image: TwoColumnNarrowRight\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_80_1A_R_20_1A,\n      type: CONSTANTS.COLUMN_TYPE.TWO,\n      image: TwoColumnExtraNarrowRight\n    }\n  ],\n  [\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A,\n      type: CONSTANTS.COLUMN_TYPE.TWO,\n      image: StackedLargeTop\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A,\n      type: CONSTANTS.COLUMN_TYPE.TWO,\n      image: StackedMediumTop\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_20_1A_B_80_1A,\n      type: CONSTANTS.COLUMN_TYPE.TWO,\n      image: StackedLargeBottom\n    }\n  ],\n  [\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A,\n      type: CONSTANTS.COLUMN_TYPE.THREE,\n      image: StachedWithRightColumn\n    },\n\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_67_2A_R_33_1A,\n      type: CONSTANTS.COLUMN_TYPE.THREE,\n      image: StackedWithNarrowRightColumn\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_L_50_3A_R_50_1A,\n      type: CONSTANTS.COLUMN_TYPE.FOUR,\n      image: ThreeStackedWithRightColumn\n    }\n  ],\n  [\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_2A_B_50_1A,\n      type: CONSTANTS.COLUMN_TYPE.THREE,\n      image: StackedTwoBlockTop\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A,\n      type: CONSTANTS.COLUMN_TYPE.THREE,\n      image: StackedTwoBlockBottom\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_50_2A_50_2A,\n      type: CONSTANTS.COLUMN_TYPE.FOUR,\n      image: FourBlock\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.TWO_COLUMN_TWO_ROW_67_2A_33_2A,\n      type: CONSTANTS.COLUMN_TYPE.FOUR,\n      image: FourBlockNarrowRigth\n    }\n  ],\n  [\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN,\n      type: CONSTANTS.COLUMN_TYPE.THREE,\n      image: ThreeColumn\n    },\n    {\n      id: Constants.SECTION_LAYOUT_TYPE.THREE_COLUMN_TWO_ROW,\n      type: CONSTANTS.COLUMN_TYPE.FOUR,\n      image: SixBlock\n    }\n  ]\n];\n","import React, { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { LAYOUTS_BY_TYPE } from './Layouts';\nimport './LayoutTab.scss';\n\nimport { useSections } from '../../../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { getReportFormatLayoutState } from '../../../../../../../../common/redux/reportFormat/reportFormatSlice';\n\nexport const testId = 'rs-panel-layout-tab';\n\nconst useActiveSectionLayoutId = () => {\n  const [{ currentSections = [] }] = useSections();\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n\n  return useMemo(\n    () =>\n      currentSections[activeSectionIndex] &&\n      currentSections[activeSectionIndex].layoutType,\n    [currentSections, activeSectionIndex]\n  );\n};\n\nconst LayoutTab = ({ handleLayoutTypeChange }) => {\n  const [layoutsByType] = useState(LAYOUTS_BY_TYPE);\n\n  const activeSectionLayoutId = useActiveSectionLayoutId();\n\n  const changeLayout = layoutId => {\n    handleLayoutTypeChange(layoutId);\n  };\n  return (\n    <div data-testid={testId} className=\"rs-panel-layout-tab2\">\n      <div className=\"rs-panel-available-layouts2\">\n        {layoutsByType.map((layouts, idx) => (\n          <ul\n            // eslint-disable-next-line react/no-array-index-key\n            key={`${layouts.length}-${idx}`}\n            className=\"rs-panel-available-layouts2__list\"\n            data-testid=\"rs-panel-available-layouts2__list\"\n          >\n            {layouts.map(layout => {\n              return (\n                <li\n                  className=\"small-container\"\n                  key={`${layout.id}-${layout.type}`}\n                  data-testid=\"layout-container\"\n                >\n                  <img\n                    onClick={() => {\n                      changeLayout(layout.id);\n                    }}\n                    onKeyDown={() => {\n                      changeLayout(layout.id);\n                    }}\n                    src={layout.image}\n                    id={layout.id}\n                    alt=\"One column\"\n                    // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n                    role=\"button\"\n                    data-testid={`layout-image:${layout.id}`}\n                    tabIndex={0}\n                  />\n                  {layout.id === activeSectionLayoutId && (\n                    <div className=\"layout-image-overlay\" />\n                  )}\n                </li>\n              );\n            })}\n          </ul>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default LayoutTab;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Icon, Button } from '@pwc/pwc-deals-ui';\n\nimport { toggleRightPanel2 } from '../../../../../../../common/redux/reportFormat/reportFormatSlice';\nimport LayoutTab from './LayoutTab/LayoutTab';\nimport { useClickedOutsideOfRef } from '../../../../../../../common/hooks/useClickedOutsideOfRef';\n\nimport './RightPanel.scss';\n\nexport const testId = 'right-panel';\n\nconst RightPanel = ({ handleLayoutTypeChange }) => {\n  const dispatch = useDispatch();\n\n  const handleCollapse = () => {\n    dispatch(toggleRightPanel2());\n  };\n\n  const ref = useClickedOutsideOfRef(\n    clickOutside => clickOutside && handleCollapse()\n  );\n\n  return (\n    <div ref={ref} className=\"right-panel2\">\n      <div className=\"right-panel2__header\">\n        <Button className=\"button-no-underline\" onClick={handleCollapse}>\n          <Icon name=\"close\" width=\"20\" className=\"icon fill icon-orange\" />\n        </Button>\n      </div>\n      <LayoutTab handleLayoutTypeChange={handleLayoutTypeChange} />\n    </div>\n  );\n};\n\nexport default RightPanel;\n","import classNames from 'classnames';\nimport { isEqual } from 'lodash';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { useSelector } from 'react-redux';\nimport useTabletOrMobile from '../../../../../../common/hooks/useTabletOrMobile';\nimport { getReportFormatLayoutState } from '../../../../../../common/redux/reportFormat/reportFormatSlice';\n\nimport { useSections } from '../../../FreeformAnalysisForm/FreeformAnalysisFormContext';\n\nimport {\n  setCurrentSections,\n  setNonLaidOutLibraryItems\n} from '../../../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport generateLayoutTypeChangeHandler from '../../generateLayoutTypeChangeHandler';\nimport useActiveSection from '../useActiveSection';\n\nimport './EditLayout.scss';\n\nimport LeftPanel from './LeftPanel/LeftPanel';\n\nimport RightPanel from './RightPanel/RightPanel';\n\nconst EditLayout = ({\n  showRightPanel = false,\n  libraryItemMap,\n  droppableLocations,\n  onAddNewSection,\n  setDroppableLocations,\n  onDragStart,\n  onDragUpdate,\n  onDragEnd\n}) => {\n  const [\n    { currentSections = [], nonLaidOutLibraryItems = [] },\n    contextDispatch\n  ] = useSections();\n  const bottomPanelRef = useRef(null);\n  const rightPanelRef = useRef(null);\n  const [renderedSectionElements, setRenderedSectionElements] = useState(null);\n  const { activeSectionIndex } = useSelector(getReportFormatLayoutState);\n  const isTabletOrMobile = useTabletOrMobile();\n  const sectionElements = Array.from(\n    document.querySelectorAll('.edit-layout__left .section')\n  );\n\n  useActiveSection(renderedSectionElements, bottomPanelRef, rightPanelRef);\n\n  useEffect(() => {\n    if (sectionElements && !isEqual(sectionElements, renderedSectionElements)) {\n      setRenderedSectionElements(sectionElements);\n    }\n  }, [sectionElements, renderedSectionElements]);\n\n  const updateCurrentSections = sections => {\n    setCurrentSections(sections, contextDispatch);\n  };\n  const editNonLaidOutLibraryItems = items => {\n    setNonLaidOutLibraryItems(items, contextDispatch);\n  };\n  const handleLayoutTypeChange = generateLayoutTypeChangeHandler(\n    activeSectionIndex,\n    currentSections,\n    setDroppableLocations,\n    updateCurrentSections,\n    nonLaidOutLibraryItems,\n    editNonLaidOutLibraryItems\n  );\n  // TODO: remove once PWC-6524 is done\n  window.handleLayoutTypeChange = handleLayoutTypeChange;\n\n  return (\n    <div\n      className={classNames('edit-layout2', {\n        'edit-layout--collapsed-column': !isTabletOrMobile,\n        'edit-layout--mobile': isTabletOrMobile\n      })}\n      data-testid=\"edit-layout\"\n    >\n      <DragDropContext\n        onDragStart={onDragStart}\n        onDragUpdate={onDragUpdate}\n        onDragEnd={onDragEnd}\n      >\n        <div className=\"edit-layout__left\" data-testid=\"edit-layout-left-panel\">\n          <LeftPanel\n            libraryItemMap={libraryItemMap}\n            droppableLocations={droppableLocations}\n            onAddNewSection={onAddNewSection}\n            setDroppableLocations={setDroppableLocations}\n          />\n        </div>\n\n        {showRightPanel && (\n          <RightPanel handleLayoutTypeChange={handleLayoutTypeChange} />\n        )}\n      </DragDropContext>\n    </div>\n  );\n};\n\nexport default EditLayout;\n","import React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getLibraryItem,\n  getLibraryItemPosition,\n  getReportFormatLayoutState,\n  setLibraryItemFinishPosition,\n  setLibraryItemStartPosition\n} from '../../../../../common/redux/reportFormat/reportFormatSlice';\nimport { useSections } from '../../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\n\nimport EditLayout from './EditLayout/EditLayout';\n\nconst AddReportDataLayoutContainer = ({\n  onDragStart,\n  onDragUpdate,\n  onDragEnd,\n  libraryItemMap,\n  droppableLocations,\n  onAddNewSection,\n  setDroppableLocations\n}) => {\n  // local states\n  // const [analysisData, setAnalysisData] = useState();\n\n  const dispatch = useDispatch();\n  const { showRightPanel2 } = useSelector(getReportFormatLayoutState);\n\n  // contexts\n  // const { projectId, analysisId } = useParams();\n  const [, contextDispatch] = useSections();\n  const { start: source, finish: destination } = useSelector(\n    getLibraryItemPosition\n  );\n  const { draggableId } = useSelector(getLibraryItem);\n\n  const removeItemFromColumn = (column, index) => {\n    const startItemIds = Array.from(column.libraryItemIds);\n    startItemIds.splice(index, 1);\n    return {\n      ...column,\n      libraryItemIds: startItemIds\n    };\n  };\n\n  const insertItemIntoColumn = (column, index, itemId) => {\n    const newItemIds = Array.from(column.libraryItemIds);\n    newItemIds.splice(index, 0, itemId);\n    return {\n      ...column,\n      libraryItemIds: newItemIds\n    };\n  };\n\n  const handleKeyDownEnd = useCallback(() => {\n    const start = droppableLocations[source.droppableId];\n    const finish = droppableLocations[destination.droppableId];\n\n    if (finish.libraryItemIds.includes(draggableId)) {\n      return;\n    }\n\n    const updatedStart = removeItemFromColumn(start, source.index);\n    const updatedFinish = insertItemIntoColumn(\n      finish,\n      destination.index,\n      draggableId\n    );\n\n    const newDroppableLocations = {\n      ...droppableLocations,\n      [updatedStart.id]: updatedStart,\n      [updatedFinish.id]: updatedFinish\n    };\n\n    setDroppableLocations(newDroppableLocations);\n    dispatch(setLibraryItemStartPosition({ start: null, draggableId: null }));\n    dispatch(setLibraryItemFinishPosition({ finish: null }));\n\n    const newAnalysisColumn = finish.position;\n    contextDispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_TO_ADJACENT_AREA,\n      payload: {\n        newAnalysisColumn,\n        libraryItemId: draggableId\n      }\n    });\n  }, [\n    source,\n    destination,\n    draggableId,\n    droppableLocations,\n    setDroppableLocations,\n    dispatch,\n    contextDispatch\n  ]);\n\n  useEffect(() => {\n    if (source && destination && draggableId) {\n      handleKeyDownEnd();\n    }\n  }, [source, destination, draggableId, handleKeyDownEnd]);\n\n  return (\n    <div data-testid=\"add-report-data-layout-container\">\n      <EditLayout\n        showRightPanel={showRightPanel2}\n        libraryItemMap={libraryItemMap}\n        droppableLocations={droppableLocations}\n        onAddNewSection={onAddNewSection}\n        setDroppableLocations={setDroppableLocations}\n        onDragStart={onDragStart}\n        onDragUpdate={onDragUpdate}\n        onDragEnd={onDragEnd}\n      />\n    </div>\n  );\n};\n\nexport default AddReportDataLayoutContainer;\n","import { max } from 'lodash';\nimport React from 'react';\n\nimport { useSections } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setCurrentSections,\n  setSectionToScroll\n} from '../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\n\nimport AddReportDataLayoutContainer from './AddReportDataLayoutContainer/AddReportDataLayoutContainer';\nimport './FreeformAnalysisLayout.scss';\nimport './FreeformAnalysisLayoutContainer.scss';\n\nconst FreeformAnalysisLayout = ({\n  droppableLocations,\n  libraryItemMap,\n  handleDragEnd,\n  setDroppableLocations,\n  analysisTitle,\n  analysisDescription,\n  tags\n}) => {\n  const [{ currentSections }, dispatch] = useSections();\n  const handleAddSection = () => {\n    const maxSectionOrder = max(currentSections.map(section => section.order));\n    const previousSection = currentSections.find(\n      s => s.order === maxSectionOrder\n    );\n    const newSection = {\n      order: maxSectionOrder + 1,\n      layoutType: previousSection.layoutType,\n      items: []\n    };\n\n    setCurrentSections([...currentSections, newSection], dispatch);\n    setSectionToScroll(maxSectionOrder, dispatch);\n  };\n\n  const updateCurrentPosition = (position, itemId) => {\n    dispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_MOVED_WITHIN_SECTION,\n      payload: {\n        currentPosition: position,\n        draggableWithinSectionsItemId: itemId\n      }\n    });\n  };\n  const handleOnDragStart = ({ source, draggableId }) => {\n    updateCurrentPosition(source, draggableId);\n  };\n  const handleOnDragUpdate = ({ destination, draggableId }) => {\n    updateCurrentPosition(destination, draggableId);\n  };\n\n  return (\n    <div className=\"drag-and-drop-layout\">\n      <AddReportDataLayoutContainer\n        onDragStart={handleOnDragStart}\n        onDragUpdate={handleOnDragUpdate}\n        onDragEnd={handleDragEnd}\n        libraryItemMap={libraryItemMap}\n        droppableLocations={droppableLocations}\n        onAddNewSection={handleAddSection}\n        setDroppableLocations={setDroppableLocations}\n        analysisTitle={analysisTitle}\n        analysisDescription={analysisDescription}\n        tags={tags}\n      />\n    </div>\n  );\n};\n\nexport default FreeformAnalysisLayout;\n","import DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport generateDroppableLocationSetForSection from './generateDroppableLocationSetForSection';\n\nconst getDroppableLocations = (nonLaidOutLibraryItems, currentSections) => {\n  return currentSections.map(generateDroppableLocationSetForSection).reduce(\n    (x, y) => {\n      return { ...x, ...y };\n    },\n    {\n      [DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID]: {\n        id: DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID,\n        libraryItemIds: nonLaidOutLibraryItems.map(item => item.id),\n        className: 'library-item-source-tray',\n        direction: 'vertical'\n      }\n    }\n  );\n};\n\nexport default getDroppableLocations;\n","import cloneDeep from 'lodash/cloneDeep';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport { generateDroppableLocationIdWithSection } from './generateDroppableLocationIdWithSection';\nimport { layoutTypeToDroppableLocationIdMap } from './generateDroppableLocationSetForSection';\n\nfunction retrieveLayoutType(locationId) {\n  const droppableLocationKeys = Object.keys(layoutTypeToDroppableLocationIdMap);\n  let layoutType;\n  let analysisCol;\n  droppableLocationKeys.forEach(key => {\n    const locIdsOfKey = layoutTypeToDroppableLocationIdMap[key];\n    const exists = locIdsOfKey.findIndex(locId => locId === locationId);\n    if (exists > -1) {\n      layoutType = key;\n      analysisCol = exists;\n    }\n  });\n  return Number.isInteger(parseInt(layoutType, 10))\n    ? { layoutType: parseInt(layoutType, 10), analysisCol }\n    : { layoutType: 1, analysisCol: 0 };\n}\n\nexport default function getSectionsFromDroppableLocations(\n  droppableLocations,\n  libraryItemMap\n) {\n  const sourceTray = droppableLocations[DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID];\n\n  const nonLaidOutLibraryItems = sourceTray.libraryItemIds.map((id, index) => {\n    const cloned = cloneDeep(libraryItemMap[id]);\n    if (cloned.analysisColumn) delete cloned.analysisColumn;\n    cloned.order = index + 1;\n    return cloned;\n  });\n\n  const droppableLocationIds = Object.values(DROPPABLE_LOCATION_IDS).filter(\n    value => value !== DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID\n  );\n  const numberOfAreaIds = droppableLocationIds.length;\n\n  const sections = [];\n  let sectionNumber = 1;\n  let sectionsRemain = true;\n\n  while (sectionsRemain) {\n    const section = {\n      order: sectionNumber\n    };\n    let itemsInSection = [];\n    const droppableLocationIdsExist = droppableLocationIds.map(() => false);\n    for (\n      let locationIdIndex = 0;\n      locationIdIndex < numberOfAreaIds;\n      locationIdIndex += 1\n    ) {\n      const locationId = droppableLocationIds[locationIdIndex];\n      if (!Array.isArray(locationId) && typeof locationId === 'string') {\n        const locationIdWithSection = generateDroppableLocationIdWithSection(\n          locationId,\n          sectionNumber\n        );\n        const currentDroppableLocation =\n          droppableLocations[locationIdWithSection];\n        if (currentDroppableLocation) {\n          droppableLocationIdsExist[locationIdIndex] = true;\n          const { layoutType, analysisCol } = retrieveLayoutType(locationId);\n          section.layoutType = layoutType;\n\n          const libraryItemIdsInDroppableLocation =\n            currentDroppableLocation.libraryItemIds;\n          const libraryItemsInDroppableLocation = libraryItemIdsInDroppableLocation.map(\n            id => libraryItemMap[id]\n          );\n          const itemsWithColumnAndOrder = libraryItemsInDroppableLocation.map(\n            (item, index) => {\n              item.analysisColumn = analysisCol + 1;\n              item.order = index + 1;\n              return item;\n            }\n          );\n          itemsInSection = [...itemsInSection, ...itemsWithColumnAndOrder];\n        }\n      } else {\n        // eslint-disable-next-line no-loop-func\n        locationId.forEach((locId, locIndex) => {\n          const locIdWithSection = generateDroppableLocationIdWithSection(\n            locId,\n            sectionNumber\n          );\n          const currentDroppableLocation = droppableLocations[locIdWithSection];\n          if (currentDroppableLocation) {\n            droppableLocationIdsExist[locationIdIndex] = true;\n            const { layoutType } = retrieveLayoutType(locId);\n            section.layoutType = layoutType;\n            const libraryItemIdsInDroppableLocation =\n              currentDroppableLocation.libraryItemIds;\n            const libraryItemsInDroppableLocation = libraryItemIdsInDroppableLocation.map(\n              id => libraryItemMap[id]\n            );\n            const itemsWithColumnAndOrder = libraryItemsInDroppableLocation.map(\n              (item, index) => {\n                item.analysisColumn = locIndex + 1;\n                item.order = index + 1;\n                return item;\n              }\n            );\n            itemsInSection = [...itemsInSection, ...itemsWithColumnAndOrder];\n          }\n        });\n      }\n    }\n\n    if (!droppableLocationIdsExist.includes(true)) {\n      sectionsRemain = false;\n    }\n\n    if (sectionsRemain) {\n      section.items = itemsInSection;\n      sections.push(section);\n      sectionNumber += 1;\n    }\n  }\n\n  return {\n    nonLaidOutLibraryItems,\n    sections\n  };\n}\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport cloneDeep from 'lodash/cloneDeep';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  DragAndDropContextProvider,\n  useSections\n} from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setCurrentSections,\n  setNonLaidOutLibraryItems,\n  clearAddLibraryLocation\n} from '../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport { DRAG_AND_DROP_STATE_ACTION } from '../FreeformAnalysisForm/FreeformAnalysisFormUtil/dragAndDropReducer';\nimport DROPPABLE_LOCATION_IDS from './droppableLocationIds';\nimport FreeformAnalysisLayout from './FreeformAnalysisLayout';\nimport './FreeformAnalysisLayoutContainer.scss';\nimport getDroppableLocations from './getDroppableLocations';\nimport getSectionsFromDroppableLocations from './getSectionsFromDroppableLocations';\n\nconst FreeformAnalysisLayoutContainer = ({\n  analysisTitle,\n  analysisDescription,\n  tags\n}) => {\n  const [\n    { currentSections, nonLaidOutLibraryItems, locationToAdd },\n    dispatch\n  ] = useSections();\n  const { projectId } = useParams();\n  const laidOutLibraryItems = currentSections.flatMap(section => section.items);\n  const allLibraryItemsToLayOut = [\n    ...nonLaidOutLibraryItems,\n    ...laidOutLibraryItems\n  ];\n  const libraryItemMap = allLibraryItemsToLayOut.reduce(\n    (libraryItemMapByIdObject, libraryItem) => {\n      libraryItemMapByIdObject[libraryItem.id] = cloneDeep(libraryItem);\n      return libraryItemMapByIdObject;\n    },\n    {}\n  );\n\n  const [droppableLocations, setDroppableLocations] = useState(\n    getDroppableLocations(nonLaidOutLibraryItems, currentSections)\n  );\n\n  useEffect(() => {\n    const newDroppableLocations = getDroppableLocations(\n      nonLaidOutLibraryItems,\n      currentSections\n    );\n    setDroppableLocations(newDroppableLocations);\n  }, [currentSections, nonLaidOutLibraryItems]);\n\n  const moveItemWithinColumn = (\n    column,\n    itemId,\n    sourceIndex,\n    destinationIndex\n  ) => {\n    const newItemIds = Array.from(column.libraryItemIds);\n    newItemIds.splice(sourceIndex, 1);\n    const parsedItemId = parseInt(itemId, 10);\n    newItemIds.splice(destinationIndex, 0, parsedItemId);\n\n    return {\n      ...column,\n      libraryItemIds: newItemIds\n    };\n  };\n\n  const removeItemFromColumn = (column, index) => {\n    const startItemIds = Array.from(column.libraryItemIds);\n    startItemIds.splice(index, 1);\n    return {\n      ...column,\n      libraryItemIds: startItemIds\n    };\n  };\n\n  const insertItemIntoColumn = (column, index, itemId) => {\n    const newItemIds = Array.from(column.libraryItemIds);\n    const parsedItemId = parseInt(itemId, 10);\n    newItemIds.splice(index, 0, parsedItemId);\n    return {\n      ...column,\n      libraryItemIds: newItemIds\n    };\n  };\n\n  const isSourceTray = droppableContainer =>\n    droppableContainer.id === DROPPABLE_LOCATION_IDS.SOURCE_TRAY_ID;\n\n  const swapLibraryItems = (start, finish, draggableId) => {\n    const parsedDraggableId = parseInt(draggableId, 10);\n    const oldDestItemId = finish.libraryItemIds[0];\n    const draggableIndexInFinish = finish.libraryItemIds.indexOf(oldDestItemId);\n    const updatedFinishLibItemIds = [...finish.libraryItemIds];\n    updatedFinishLibItemIds.splice(\n      draggableIndexInFinish,\n      1,\n      parsedDraggableId\n    );\n    const updatedFinish = {\n      ...finish,\n      libraryItemIds: updatedFinishLibItemIds\n    };\n    const draggableIndexInStart = start.libraryItemIds.indexOf(\n      parsedDraggableId\n    );\n    const updatedStartLibItemIds = [...start.libraryItemIds];\n    updatedStartLibItemIds.splice(draggableIndexInStart, 1);\n    const updatedStartLibItemIdsLength = updatedStartLibItemIds.length;\n    updatedStartLibItemIds.splice(\n      updatedStartLibItemIdsLength,\n      0,\n      oldDestItemId\n    );\n    const updatedStart = { ...start, libraryItemIds: updatedStartLibItemIds };\n    return {\n      updatedStart,\n      updatedFinish\n    };\n  };\n\n  const handleDragEnd = ({ destination, source, draggableId }) => {\n    dispatch({\n      type: DRAG_AND_DROP_STATE_ACTION.ITEM_DROPPED\n    });\n\n    if (!destination) {\n      return;\n    }\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    const start = droppableLocations[source.droppableId];\n    const finish = droppableLocations[destination.droppableId];\n\n    if (\n      finish.id.includes('text-overflow') &&\n      libraryItemMap[draggableId].type !==\n        Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value\n    ) {\n      return;\n    }\n\n    let newDroppableLocations;\n\n    if (start === finish) {\n      const updatedColumn = moveItemWithinColumn(\n        start,\n        draggableId,\n        source.index,\n        destination.index\n      );\n\n      newDroppableLocations = {\n        ...droppableLocations,\n        [updatedColumn.id]: updatedColumn\n      };\n    } else if (finish.libraryItemIds.length > 0 && !isSourceTray(finish)) {\n      const { updatedStart, updatedFinish } = swapLibraryItems(\n        start,\n        finish,\n        draggableId\n      );\n\n      newDroppableLocations = {\n        ...droppableLocations,\n        [updatedStart.id]: updatedStart,\n        [updatedFinish.id]: updatedFinish\n      };\n    } else {\n      const updatedStart = removeItemFromColumn(start, source.index);\n      const updatedFinish = insertItemIntoColumn(\n        finish,\n        destination.index,\n        draggableId\n      );\n\n      newDroppableLocations = {\n        ...droppableLocations,\n        [updatedStart.id]: updatedStart,\n        [updatedFinish.id]: updatedFinish\n      };\n    }\n\n    const {\n      sections: newSections,\n      nonLaidOutLibraryItems: newNonLaidOutLibraryItems\n    } = getSectionsFromDroppableLocations(\n      newDroppableLocations,\n      libraryItemMap\n    );\n\n    setDroppableLocations(newDroppableLocations);\n    setNonLaidOutLibraryItems(newNonLaidOutLibraryItems, dispatch);\n    setCurrentSections(newSections, dispatch);\n  };\n\n  useEffect(() => {\n    if (locationToAdd && locationToAdd.onSubmit) {\n      const newStructure = {\n        ...droppableLocations,\n        [locationToAdd.id]: {\n          ...droppableLocations[locationToAdd.id],\n          libraryItemIds: [locationToAdd.item.id]\n        }\n      };\n      setDroppableLocations(newStructure);\n\n      const { sections: newSections } = getSectionsFromDroppableLocations(\n        newStructure,\n        libraryItemMap\n      );\n      setCurrentSections(newSections, dispatch);\n      clearAddLibraryLocation(dispatch);\n    }\n  }, [locationToAdd, dispatch, droppableLocations, libraryItemMap]);\n\n  return (\n    <DragAndDropContextProvider value={{ setDroppableLocations }}>\n      <FreeformAnalysisLayout\n        droppableLocations={droppableLocations}\n        libraryItemMap={libraryItemMap}\n        handleDragEnd={handleDragEnd}\n        setDroppableLocations={setDroppableLocations}\n        projectId={projectId}\n        analysisTitle={analysisTitle}\n        analysisDescription={analysisDescription}\n        tags={tags}\n      />\n    </DragAndDropContextProvider>\n  );\n};\n\nexport default FreeformAnalysisLayoutContainer;\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst getLibraryItemTypeDisplayName = libraryItemTypeValue =>\n  Object.values(Constants.LIBRARY_ITEM_TYPES).find(\n    type => type.value === libraryItemTypeValue\n  ).displayName;\n\nexport default getLibraryItemTypeDisplayName;\n","import React from 'react';\nimport { SortUtilities } from '@pwc/pwc-deals-web-common';\nimport { Checkbox } from '@pwc/pwc-deals-ui';\nimport DateCell from '../../../../common/components/DateCell';\nimport LibraryItemDeleteButton from '../../../contentLibrary/LibraryItemDeleteButton/LibraryItemDeleteButton';\nimport getLibraryItemTypeDisplayName from './getLibraryItemTypeDisplayName';\n\nfunction getColumnConfig(\n  setAllItems,\n  setSortColumnName,\n  setSortColumnDirection,\n  setSelectedLibraryItemIds,\n  onDeleteLibraryItem\n) {\n  return [\n    {\n      Header: 'Name',\n      accessor: 'name',\n      className: 'bold-cell title-cell cell',\n      sortType: SortUtilities.caseInsensitiveAlphaSort,\n      Cell: props => {\n        const {\n          row,\n          state: { sortBy }\n        } = props;\n        const { original: libraryItem } = row;\n        const checkboxId = `library-item-checkbox-${libraryItem.id}`;\n        return (\n          <div>\n            <Checkbox\n              // className=\"library-item-checkbox\"\n              id={checkboxId}\n              selected={libraryItem.selected}\n              dataTestId=\"library-item-select-label\"\n              onChange={() => {\n                setSelectedLibraryItemIds(oldSelectedLibraryItemsIds => {\n                  const newSelectedLibraryItemIdSet = new Set(\n                    oldSelectedLibraryItemsIds\n                  );\n                  if (newSelectedLibraryItemIdSet.has(libraryItem.id)) {\n                    newSelectedLibraryItemIdSet.delete(libraryItem.id);\n                  } else {\n                    newSelectedLibraryItemIdSet.add(libraryItem.id);\n                  }\n                  const newSelectedLibraryItemArray = Array.from(\n                    newSelectedLibraryItemIdSet\n                  );\n                  return newSelectedLibraryItemArray;\n                });\n\n                const currentSort = sortBy[0];\n                setSortColumnName(currentSort.id);\n                setSortColumnDirection(currentSort.desc ? 'desc' : 'asc');\n              }}\n              label={libraryItem.name}\n            />\n          </div>\n        );\n      }\n    },\n    {\n      Header: 'Date ingested',\n      accessor: 'dateCreated',\n      Cell: ({ cell }) => {\n        return (\n          <span data-testid=\"item-date-created\">\n            {cell.value ? <DateCell cell={cell} /> : ''}\n          </span>\n        );\n      }\n    },\n    {\n      Header: 'Type',\n      id: 'type',\n      accessor: row => getLibraryItemTypeDisplayName(row.type)\n    },\n    {\n      Header: '',\n      id: 'delete',\n      disableSortBy: true,\n      className: 'right-align-cell cell',\n      Cell: cell => {\n        const { original: libraryItem } = cell.row;\n        return (\n          <LibraryItemDeleteButton\n            projectId={libraryItem.projectId}\n            libraryItemId={libraryItem.id}\n            onDelete={onDeleteLibraryItem}\n            disabled={libraryItem.selected}\n          />\n        );\n      }\n    }\n  ];\n}\n\nexport default getColumnConfig;\n","import React from 'react';\nimport './EmptyLibraryItemsListCard.scss';\n\nconst EmptyLibraryItemsListCard = ({ children }) => {\n  return (\n    <div className=\"empty-library-items-list-card content-container\">\n      <div className=\"empty-library-items-list-text\">\n        Add analysis data to the library using the Junction Excel add-in, or\n        import the content from PowerPoint and Power BI below.\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default EmptyLibraryItemsListCard;\n","import { Banner, Button, Icon, Loader, ProgressSteps } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport ActiveContentHeader from '../../../../common/components/ContentHeaders/ActiveContentHeader';\nimport ContentTable from '../../../../common/components/ContentTable/ContentTable';\nimport { FormLayout } from '../../../../common/components/layouts';\nimport PublishButton from '../../../../common/components/PublishButton';\nimport Separator from '../../../../common/components/Separator';\nimport IngestLibraryItemModal from '../../../contentLibrary/IngestLibraryItemModal/IngestLibraryItemModal';\nimport { getLibraryItems } from '../../../contentLibrary/libraryItemService';\nimport { useSections } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport {\n  setAddLibraryLocation,\n  setCurrentSections\n} from '../FreeformAnalysisForm/FreeformAnalysisFormContextUtils';\nimport getColumnConfig from './columnConfig';\nimport EmptyLibraryItemsListCard from './EmptyLibraryItemsListCard';\nimport getSectionsFromSelectedItems from './getSectionsFromSelectedItems';\nimport getSelectedItemIds from './getSelectedItemIds';\nimport './LibraryItemListContainer.scss';\n\nconst steps = [\n  { title: 'first', description: 'Select data' },\n  { title: 'second', description: 'Edit layout' }\n];\n\nconst LibraryItemListContainer = ({ title, returnUrl, operationType }) => {\n  const [\n    { currentSections, nonLaidOutLibraryItems, locationToAdd },\n    dispatch\n  ] = useSections();\n  const [isLoading, setIsLoading] = useState(true);\n  const [allItems, setAllItems] = useState([]);\n  const [pbiItems, setPbiItems] = useState([]);\n  // const [sortColumnName, setSortColumnName] = useState('name');\n  const [sortColumnDate, setSortColumnDate] = useState('dateCreated');\n  const [sortColumnDirection, setSortColumnDirection] = useState('desc');\n  const [selectedLibraryItemIds, setSelectedLibraryItemIds] = useState(\n    getSelectedItemIds(nonLaidOutLibraryItems, currentSections)\n  );\n  const [\n    isPowerpointIngestionSuccessful,\n    setIsPowerpointIngestionSuccessful\n  ] = useState(false);\n  const { projectId } = useParams();\n  const history = useHistory();\n  const [showStartIngestionModal, setShowStartIngestionModal] = useState(false);\n\n  const refreshList = useCallback(\n    async function refreshList() {\n      const fetchedLibraryItems = await getLibraryItems(projectId);\n      const filteredLibraryItems = fetchedLibraryItems.filter(li => {\n        return (\n          li.type !== Constants.LIBRARY_ITEM_TYPES.RICH_TEXT.value &&\n          li.type !== Constants.LIBRARY_ITEM_TYPES.UNDEFINED.value\n        );\n      });\n      const ingestedPbiItems = fetchedLibraryItems.filter(\n        li => li.type === Constants.LIBRARY_ITEM_TYPES.POWER_BI_REPORT.value\n      );\n      setPbiItems(ingestedPbiItems);\n      setAllItems(filteredLibraryItems);\n      setIsLoading(false);\n    },\n    [projectId]\n  );\n\n  useEffect(() => {\n    setIsLoading(true);\n    refreshList();\n  }, [refreshList]);\n\n  const onDeleteLibraryItem = useCallback(async () => {\n    setIsLoading(true);\n    await refreshList();\n  }, [refreshList]);\n\n  const columns = useMemo(\n    () =>\n      getColumnConfig(\n        setAllItems,\n        setSortColumnDate,\n        setSortColumnDirection,\n        setSelectedLibraryItemIds,\n        onDeleteLibraryItem\n      ),\n    [\n      setAllItems,\n      setSortColumnDate,\n      setSortColumnDirection,\n      setSelectedLibraryItemIds,\n      onDeleteLibraryItem\n    ]\n  );\n\n  const returnToOverview = () => {\n    history.replace(returnUrl);\n  };\n\n  const goToLayout = () => {\n    history.replace(`${returnUrl}`);\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const {\n      sections,\n      nonLaidOutLibraryItems: nonLaidOutLibraryItems2\n    } = getSectionsFromSelectedItems(\n      allItems,\n      selectedLibraryItemIds,\n      currentSections\n    );\n    setCurrentSections(sections, dispatch);\n    setAddLibraryLocation(\n      {\n        ...locationToAdd,\n        onSubmit: true,\n        item: nonLaidOutLibraryItems2[0]\n      },\n      dispatch\n    );\n    goToLayout();\n  }\n\n  return (\n    <form\n      data-testid=\"library-item-list-container-form\"\n      className=\"library-item-list-container\"\n      onSubmit={handleSubmit}\n    >\n      <FormLayout\n        headerComponent={\n          // eslint-disable-next-line react/jsx-wrap-multilines\n          <ActiveContentHeader>\n            <Button\n              className=\"button-link button-theme mx-2 mr-4\"\n              onClick={returnToOverview}\n              data-testid=\"cancel-button-top\"\n              type=\"button\"\n            >\n              {`Back to ${operationType} analysis`}\n            </Button>\n            <PublishButton\n              type=\"submit\"\n              isSaving={false}\n              isValid\n              buttonSize=\"button-small\"\n              buttonPosition=\"top\"\n              onSaveText=\"Adding data to analysis...\"\n              standbyText=\"Add\"\n              data-testid=\"publish-button-top\"\n            />\n          </ActiveContentHeader>\n        }\n      >\n        <h1>{title}</h1>\n        <div className=\"step-indicator-container\">\n          <ProgressSteps current={1} steps={steps} />\n        </div>\n        {allItems.length > 0 && (\n          <>\n            <p className=\"library-item-description twothirds\">\n              Choose pre-ingested data or ingest your own using the Excel\n              add-in. You can also import data from Power BI and PowerPoint.\n            </p>\n            <Button\n              className=\"button button-no-underline button-theme mb-4 mt-3\"\n              data-testid=\"ingest-power-bi-button\"\n              type=\"button\"\n              onClick={() => {\n                setIsPowerpointIngestionSuccessful(false);\n                setShowStartIngestionModal(true);\n              }}\n            >\n              <Icon\n                name=\"upload\"\n                width=\"24\"\n                className=\"fill icon-orange mr-2\"\n              />\n              Import data\n            </Button>\n          </>\n        )}\n        {showStartIngestionModal && (\n          <IngestLibraryItemModal\n            show={showStartIngestionModal}\n            handleCancel={() => setShowStartIngestionModal(false)}\n            handleSuccessfulIngestion={async () => {\n              setIsPowerpointIngestionSuccessful(true);\n              setShowStartIngestionModal(false);\n              await refreshList();\n            }}\n            pbiItems={pbiItems}\n            projectId={projectId}\n            ingestedPowerPointGroups={allItems\n              .filter(\n                li =>\n                  li.type ===\n                  Constants.LIBRARY_ITEM_TYPES.POWER_POINT_GROUP.value\n              )\n              .map(fli => {\n                const libraryItemJson = JSON.parse(fli.data);\n                return {\n                  driveItemId: libraryItemJson.DriveItemId,\n                  slideNumber: libraryItemJson.SlideNumber,\n                  groupName: libraryItemJson.GroupName\n                };\n              })}\n          />\n        )}\n        {isPowerpointIngestionSuccessful && (\n          <Banner\n            notice=\"success\"\n            text=\"Data imported successfully.\"\n            icon=\"checkmark\"\n            data-testid=\"ingest-success-message\"\n          />\n        )}\n\n        {isLoading ? (\n          <Loader dataTestId=\"library-item-loading-indicator\" />\n        ) : (\n          <>\n            <div data-testid=\"library-item-list-container\">\n              {allItems.length === 0 && (\n                <EmptyLibraryItemsListCard>\n                  <Button\n                    className=\"ui-button button-block import-data\"\n                    data-testid=\"ingest-power-bi-button\"\n                    type=\"button\"\n                    onClick={() => {\n                      setIsPowerpointIngestionSuccessful(false);\n                      setShowStartIngestionModal(true);\n                    }}\n                  >\n                    <Icon\n                      name=\"upload\"\n                      width=\"24\"\n                      className=\"fill icon-white mr-2\"\n                    />\n                    Import data\n                  </Button>\n                </EmptyLibraryItemsListCard>\n              )}\n              {allItems.length > 0 && (\n                <ContentTable\n                  data={allItems}\n                  columns={columns}\n                  initialSortColumn={sortColumnDate}\n                  initialSortDirection={sortColumnDirection}\n                  type=\"library-item\"\n                  rowClassFunction={libraryItem => {\n                    return libraryItem.selected ? 'row-selected' : '';\n                  }}\n                />\n              )}\n            </div>\n          </>\n        )}\n\n        <Separator />\n        <div className=\"form-bottom-actions\">\n          <Button\n            className=\"button-link form-cancel-button\"\n            type=\"button\"\n            onClick={returnToOverview}\n            data-testid=\"cancel-button-bottom\"\n          >\n            {`Back to ${operationType} analysis`}\n          </Button>\n          <PublishButton\n            isSaving={false}\n            isValid\n            buttonPosition=\"bottom\"\n            onSaveText=\"Adding data to analysis...\"\n            standbyText=\"Add and continue\"\n          />\n        </div>\n      </FormLayout>\n    </form>\n  );\n};\n\nexport default LibraryItemListContainer;\n","export default function getSelectedItemIds(\n  nonLaidOutLibraryItems,\n  currentSections\n) {\n  const selectedItemIds = [\n    ...nonLaidOutLibraryItems.map(item => item.id),\n    ...currentSections.flatMap(s => s.items).map(item => item.id)\n  ];\n  return selectedItemIds;\n}\n","export default function getSectionsFromSelectedItems(\n  allItems,\n  selectedLibraryItemIds,\n  currentSections\n) {\n  const previouslyLaidOutLibraryItemIds = currentSections\n    .flatMap(s => s.items)\n    .map(item => item.id);\n  const currentlyLaidOutItemIds = selectedLibraryItemIds.filter(\n    selectedItemId => previouslyLaidOutLibraryItemIds.includes(selectedItemId)\n  );\n  const newNonLaidOutLibraryItemIds = selectedLibraryItemIds.filter(\n    selectedItemId => !currentlyLaidOutItemIds.includes(selectedItemId)\n  );\n\n  const newNonLaidOutLibraryItems = allItems.filter(item =>\n    newNonLaidOutLibraryItemIds.includes(item.id)\n  );\n\n  const newSections = currentSections.map(section => {\n    return {\n      ...section,\n      items: [...section.items, ...newNonLaidOutLibraryItems]\n    };\n  });\n\n  return {\n    nonLaidOutLibraryItems: newNonLaidOutLibraryItems,\n    sections: newSections\n  };\n}\n","import isEqual from 'lodash/isEqual';\n\nexport const checkIsValid = errors => {\n  const errorValues = Object.values(errors);\n  for (let index = 0; index < errorValues.length; index += 1) {\n    if (errorValues[index] !== '') {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const validateTitle = value => {\n  let error = '';\n  if (!value || value.trim().length === 0) {\n    error = 'Title is required';\n  }\n  return error;\n};\n\nexport const mapDto = (title, body, tags, sections) => {\n  return {\n    title,\n    body,\n    tags: tags.map(tag => ({\n      text: tag\n    })),\n    sections\n  };\n};\n\nexport const formIsDirty = ({\n  title,\n  body,\n  analysisTitle,\n  analysisBody,\n  tagsDirty,\n  linkedNarrativesChanged,\n  initialSections,\n  currentSections\n}) => {\n  if (title !== analysisTitle) return true;\n  if (body !== analysisBody) return true;\n  if (linkedNarrativesChanged) return true;\n  if (tagsDirty) return true;\n\n  const initialAndCurrentSectionsAreEqual = isEqual(\n    initialSections,\n    currentSections\n  );\n  if (!initialAndCurrentSectionsAreEqual) return true;\n  return false;\n};\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React, { useRef, useState } from 'react';\nimport { noHeadingEditorConfig } from '../RichTextEditor/CKEditorConfig';\nimport RichTextEditor from '../RichTextEditor/RichTextEditor';\nimport './RichTextEditorFormikField.scss';\n\nconst EDIT_ICON_MARGIN = 12;\n\nconst RichTextEditorFormikField = ({\n  field: { value, name },\n  form: { setFieldValue },\n  label,\n  dataTestId = 'rte-formik-field-container',\n  config = noHeadingEditorConfig,\n  lightModeVariant\n}) => {\n  const [focused, setFocused] = useState(false);\n  const labelRef = useRef();\n\n  return (\n    <div\n      className={`rte-formik-field-2 textarea-container rte-textarea-container ${\n        value || focused ? 'label-lifted' : ''\n      } ${focused ? 'focused' : ''}${\n        lightModeVariant ? ' light-mode-variant' : ''\n      }`}\n      data-testid={dataTestId}\n      id=\"description-inline\"\n    >\n      <RichTextEditor\n        richTextData={value}\n        onChange={newValue => {\n          setFieldValue(name, newValue);\n        }}\n        onBlur={() => {\n          setFocused(false);\n        }}\n        onFocus={() => {\n          setFocused(true);\n        }}\n        label={!value ? label : null}\n        config={{ ...config, placeholder: null }}\n        isFocused={focused}\n        labelRef={labelRef}\n      />\n      <span\n        className=\"description-icon\"\n        style={{\n          left:\n            labelRef && labelRef.current\n              ? labelRef.current.offsetWidth + EDIT_ICON_MARGIN\n              : 0\n        }}\n      >\n        <Icon name=\"edit\" className=\"fill icon-gray\" />\n      </span>\n    </div>\n  );\n};\n\nexport default RichTextEditorFormikField;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Formik } from 'formik';\nimport _get from 'lodash/get';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Route, Switch, useParams, useRouteMatch } from 'react-router-dom';\nimport { ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport D3Alert from '../../../../common/components/Alert/D3Alert';\nimport ActiveContentHeader from '../../../../common/components/ContentHeaders/ActiveContentHeader';\nimport { FormLayout } from '../../../../common/components/layouts';\nimport PublishButton from '../../../../common/components/PublishButton';\nimport Separator from '../../../../common/components/Separator';\nimport EditConnectedContent from '../../../narratives/EditConnectedContent/EditConnectedContent';\nimport { getNarratives } from '../../../narratives/narrativesService';\nimport TagEditor from '../../../tagging/common/TagEditor/TagEditor';\nimport AnalysisTextInput from '../../CreateAnalysis/AnalysisTextInput';\nimport FreeformAnalysisLayoutContainer from '../FreeformAnalysisLayout/FreeformAnalysisLayoutContainer';\nimport LibraryItemListContainer from '../LibraryItemListContainer/LibraryItemListContainer';\nimport './FreeformAnalysisForm.scss';\nimport { useSectionsState } from './FreeformAnalysisFormContext';\nimport {\n  checkIsValid,\n  mapDto,\n  validateTitle\n} from './FreeformAnalysisFormUtil/FreeformAnalysisFormUtil';\nimport RichTextEditorFormikField2 from '../../../../common/components/RichTextEditorFormikField2/RichTextEditorFormikField';\nimport { shortIntroHeadingOnlyEditorConfig } from '../../../../common/components/RichTextEditor/CKEditorConfig';\n\nconst FreeformAnalysisForm = ({\n  analysisTitle,\n  analysisBody,\n  publishAction,\n  cancelAction,\n  appliedTags,\n  onSaveText,\n  standbyText,\n  parentContentId,\n  sections,\n  lightModeVariant\n}) => {\n  const [errorType, setErrorType] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [formErrors, setFormErrors] = useState({});\n  const [tags, setTags] = useState(appliedTags || []);\n  const [title, setTitle] = useState(analysisTitle);\n  const [body, setBody] = useState(analysisBody);\n  const [isValid, setIsValid] = useState(false);\n  const { path, url } = useRouteMatch();\n  const { currentSections } = useSectionsState();\n  const [narratives, setNarratives] = useState(null);\n  const { projectId, analysisId } = useParams();\n  const [, setLayoutSaved] = useState(false);\n  const isPublishError = errorType === 'publish';\n\n  const getTitleFieldError = () => {\n    if (!isPublishError) {\n      const fieldName = _get(errorType, 'fieldName', '');\n      if (fieldName && fieldName.toLowerCase() === 'title') {\n        return errorType.apiErrorMessage;\n      }\n      return undefined;\n    }\n    return undefined;\n  };\n\n  const titleFieldError = getTitleFieldError();\n\n  const generalError =\n    isPublishError || !titleFieldError ? errorType : undefined;\n  useEffect(() => {\n    getNarratives(projectId).then(narrs => {\n      if (!analysisId) {\n        setNarratives(narrs);\n        return;\n      }\n\n      const narrativesWithoutThisAnalysis = {\n        ...narrs,\n        analyses: narrs.analyses.filter(\n          a => a.contentThreadId !== parseInt(analysisId, 10)\n        )\n      };\n      setNarratives(narrativesWithoutThisAnalysis);\n    });\n  }, [analysisId, projectId]);\n\n  useEffect(() => {\n    setIsValid(checkIsValid(formErrors));\n  }, [formErrors]);\n\n  const handleTitleValidationChange = useCallback(errorMsg => {\n    setFormErrors(previousFormErrors => ({\n      ...previousFormErrors,\n      title: errorMsg\n    }));\n  }, []);\n\n  const bodyField = {\n    name: 'body',\n    value: body\n  };\n\n  const handlePublish = async () => {\n    setIsSaving(true);\n    try {\n      setErrorType();\n      await publishAction(\n        mapDto(title, body, tags, currentSections),\n        narratives\n      );\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  const handleTagSelect = values => {\n    setTags(values);\n  };\n\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <form\n          onSubmit={async event => {\n            event.preventDefault();\n            await handlePublish();\n          }}\n        >\n          <FormLayout\n            headerComponent={\n              // eslint-disable-next-line react/jsx-wrap-multilines\n              <ActiveContentHeader>\n                <Button\n                  className=\"button-link button-theme mx-2 mr-4\"\n                  onClick={cancelAction}\n                  data-testid=\"cancel-button-top\"\n                  type=\"button\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  className=\"button-link button-theme mx-2 mr-4\"\n                  onClick={cancelAction}\n                  data-testid=\"save-and-preview\"\n                  type=\"button\"\n                >\n                  Preview Report\n                </Button>\n                <PublishButton\n                  isSaving={isSaving}\n                  isValid={isValid}\n                  buttonSize=\"button-small\"\n                  buttonPosition=\"top\"\n                  onSaveText={onSaveText}\n                  standbyText={standbyText}\n                />\n              </ActiveContentHeader>\n            }\n          >\n            <div className=\"form-content-wrapper\">\n              <div\n                className={`${lightModeVariant ? ' light-mode-variant' : ''}`}\n              >\n                <div className=\"input-container\">\n                  <AnalysisTextInput\n                    label=\"Title\"\n                    name=\"title\"\n                    value={title}\n                    validate={validateTitle}\n                    handleValidationChange={handleTitleValidationChange}\n                    handleValueChange={setTitle}\n                    error={titleFieldError}\n                  />\n                  <RichTextEditorFormikField2\n                    field={bodyField}\n                    form={{\n                      setFieldValue: (_, newValue) => {\n                        setBody(newValue);\n                      }\n                    }}\n                    label=\"Description (optional)\"\n                    dataTestId=\"text-area-body\"\n                    config={shortIntroHeadingOnlyEditorConfig}\n                  />\n                </div>\n                <FreeformAnalysisLayoutContainer\n                  goBackUrl={`${url}/library-items`}\n                  basePageUrl={url}\n                  operationType={analysisId ? 'edit' : 'add'}\n                  setLayoutSaved={setLayoutSaved}\n                  initialSections={sections}\n                  analysisTitle={title}\n                  analysisDescription={body}\n                  tags={tags}\n                />\n              </div>\n\n              <div className=\"analysis-form-extras\">\n                <Separator />\n\n                <Formik initialValues={{ tags }} enableReinitialize>\n                  {() => (\n                    <TagEditor\n                      projectId={projectId}\n                      onSelect={handleTagSelect}\n                    />\n                  )}\n                </Formik>\n                <Separator />\n                <EditConnectedContent\n                  projectId={projectId}\n                  parentContentId={parentContentId}\n                  narratives={narratives}\n                  setNarratives={setNarratives}\n                />\n              </div>\n              <Separator />\n              <div className=\"form-bottom-actions\">\n                <Button\n                  className=\"button-link form-cancel-button\"\n                  type=\"button\"\n                  onClick={cancelAction}\n                  data-testid=\"cancel-button-bottom\"\n                >\n                  Cancel\n                </Button>\n                <PublishButton\n                  isSaving={isSaving}\n                  isValid={isValid}\n                  buttonPosition=\"bottom\"\n                  onSaveText={onSaveText}\n                  standbyText={standbyText}\n                />\n              </div>\n            </div>\n\n            {generalError && <D3Alert configType={generalError} />}\n          </FormLayout>\n        </form>\n      </Route>\n      <Route path={`${path}/library-items`}>\n        <LibraryItemListContainer\n          title=\"Add data\"\n          returnUrl={url}\n          operationType={analysisId ? 'edit' : 'add'}\n        />\n      </Route>\n      <Route path={`${path}/layout`}>\n        <FreeformAnalysisLayoutContainer\n          goBackUrl={`${url}/library-items`}\n          basePageUrl={url}\n          operationType={analysisId ? 'edit' : 'add'}\n          setLayoutSaved={setLayoutSaved}\n          initialSections={sections}\n          analysisTitle={title}\n          analysisDescription={body}\n          tags={tags}\n        />\n      </Route>\n    </Switch>\n  );\n};\nexport default FreeformAnalysisForm;\n","import React from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { postAnalysis } from '../../analysesService';\nimport FreeformAnalysisForm from '../FreeformAnalysisForm/FreeformAnalysisForm';\nimport { SectionsProvider } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { viewAnalysisPath2 } from '../../../../common/services/urlService';\nimport { getLinksFromNarratives } from '../../../narratives/narrativesUtilities';\n\nconst parentContentId = -1;\n\nconst CreateFreeformAnalysis = () => {\n  const history = useHistory();\n  const { projectId } = useParams();\n\n  const cancelAndGoBack = () => history.goBack();\n\n  const redirectToAnalysisView = analysisId => {\n    history.replace(viewAnalysisPath2(projectId, analysisId));\n  };\n\n  const publishAction = async (analysisDto, narratives) => {\n    analysisDto.links = getLinksFromNarratives(narratives, parentContentId);\n    const result = await postAnalysis(projectId, analysisDto);\n    redirectToAnalysisView(result);\n  };\n\n  const initialSections = [\n    {\n      order: 1,\n      layoutType: Constants.SECTION_LAYOUT_TYPE.ONE_COLUMN,\n      items: []\n    }\n  ];\n  return (\n    <SectionsProvider value={{ initialSections }}>\n      <FreeformAnalysisForm\n        analysisTitle=\"\"\n        analysisBody=\"\"\n        publishAction={publishAction}\n        cancelAction={cancelAndGoBack}\n        formTitle=\"Add an Analysis\"\n        appliedTags={[]}\n        onSaveText=\"Adding...\"\n        standbyText=\"Add\"\n        sections={initialSections}\n        parentContentId={parentContentId}\n      />\n    </SectionsProvider>\n  );\n};\n\nexport default CreateFreeformAnalysis;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { getLinksFromNarratives } from '../../../narratives/narrativesUtilities';\nimport { getAnalysis, putAnalysis } from '../../analysesService';\nimport FreeformAnalysisForm from '../FreeformAnalysisForm/FreeformAnalysisForm';\nimport { SectionsProvider } from '../FreeformAnalysisForm/FreeformAnalysisFormContext';\nimport { viewAnalysisPath2 } from '../../../../common/services/urlService';\n\nconst EditFreeformAnalysis = () => {\n  const { projectId, analysisId } = useParams();\n  const history = useHistory();\n  const [analysis, setAnalysis] = useState(null);\n\n  useEffect(() => {\n    getAnalysis(projectId, analysisId).then(analysisData => {\n      setAnalysis(analysisData);\n    });\n  }, [projectId, analysisId]);\n\n  const redirectToAnalysisDetailPage = () =>\n    history.replace(viewAnalysisPath2(projectId, analysisId));\n\n  const publishAction = async (analysisDto, narratives) => {\n    analysisDto.links = getLinksFromNarratives(narratives, analysis.contentId);\n    await putAnalysis(projectId, analysisId, analysisDto);\n    redirectToAnalysisDetailPage();\n  };\n  return (\n    analysis && (\n      <SectionsProvider value={{ initialSections: analysis.sections }}>\n        <FreeformAnalysisForm\n          projectId={projectId}\n          analysisTitle={analysis.title}\n          analysisBody={analysis.body}\n          publishAction={publishAction}\n          cancelAction={redirectToAnalysisDetailPage}\n          formTitle=\"Edit Analysis\"\n          appliedTags={analysis.tags ? analysis.tags.map(tag => tag.text) : []}\n          onSaveText=\"Updating...\"\n          standbyText=\"Update\"\n          parentContentId={analysis.contentId}\n          sections={analysis.sections}\n        />\n      </SectionsProvider>\n    )\n  );\n};\n\nexport default EditFreeformAnalysis;\n","import { useCallback, useEffect, useState } from 'react';\nimport { Constants, ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport { useHistory, useParams, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport qs from 'query-string';\nimport _get from 'lodash/get';\nimport { getCalcEngineIsProcessing } from '../../../../../common/engine/reducers/calcEngine';\nimport { getViewClientInfo } from '../../../../../common/helpers/viewClientVersion';\nimport { useApprovalWorkflow } from '../../../../../common/hooks/useApprovalWorkflow';\nimport { showMoreMenuError } from '../../../../../common/redux/errors/errorsSlice';\nimport authorizationService from '../../../../../common/services/security/authorizationService';\nimport {\n  analysesListPath2,\n  editAnalysisPath2,\n  structuredRoutes\n} from '../../../../../common/services/urlService';\nimport { getCommentPanelOpened } from '../../../../comments/commentsSlice';\nimport { getWorkflowStatus } from '../../../../workflow/workflowService';\nimport {\n  deleteStructuredDocument,\n  updateStructuredAnalysisStatus\n} from '../../../../../common/engine/services/structuredAnalysisService';\nimport {\n  getLoadingInProcess,\n  getStructuredAnalysisHasError,\n  ReingestDocumentWithDependencies\n} from '../../../../../common/engine/reducers/StructuredAnalysisSlice';\nimport {\n  getStructuredAnalysisViewDocumentsWithContentForDocument,\n  getStructuredAnalysisViewHasError,\n  getStructuredAnalysisViewLoadingInProcess\n} from '../../../../../common/engine/reducers/structuredAnalysisViewSlice';\nimport { clearDataAndtransformAllIngestedStructuredDocumentsThunk } from '../../../../../common/engine/thunks/clearDataAndtransformAllIngestedStructuredDocumentsThunk';\n\nexport const useStructuredAnalysisContainer = documentCode => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { projectId } = useParams();\n  const searchParams = qs.parse(useLocation().search);\n  const targetAdjustmentType = _get(searchParams, 'adjustmentType', null);\n  const targetAdjustmentName = _get(searchParams, 'adjustmentName', null);\n  const isClientUser = authorizationService.isClientUser();\n\n  const hasIngestionError = useSelector(getStructuredAnalysisHasError);\n  const hasError = useSelector(getStructuredAnalysisViewHasError);\n  const [hasAlreadyLoadedHack, setHasAlreadyLoadedHack] = useState(false);\n\n  const [isConfirmVisible, setIsConfirmVisible] = useState(false);\n  const isCommentPanelOpen = useSelector(getCommentPanelOpened);\n  const isProcessing = useSelector(getCalcEngineIsProcessing);\n  const reIngestingDocuments = useSelector(getLoadingInProcess);\n  const initialViewingAsClient = !!isClientUser;\n  const [viewingAsClient, setViewingAsClient] = useState(\n    initialViewingAsClient\n  );\n  const initializingData = useSelector(\n    getStructuredAnalysisViewLoadingInProcess\n  );\n\n  const analysis = useSelector(\n    getStructuredAnalysisViewDocumentsWithContentForDocument(documentCode)\n  );\n\n  const [chartKey, setChartKey] = useState(1);\n  const incrementChartKey = useCallback(\n    () => setChartKey(chartKeyPrevState => chartKeyPrevState + 1),\n    [setChartKey]\n  );\n\n  useEffect(() => {\n    incrementChartKey();\n  }, [isCommentPanelOpen, incrementChartKey]);\n\n  const fetchAnalysis = useCallback(async () => {\n    await dispatch(\n      clearDataAndtransformAllIngestedStructuredDocumentsThunk(\n        projectId,\n        documentCode,\n        viewingAsClient\n      )\n    );\n    setHasAlreadyLoadedHack(true);\n  }, [dispatch, documentCode, projectId, viewingAsClient]);\n\n  useEffect(() => {\n    fetchAnalysis();\n  }, [fetchAnalysis]);\n\n  const showClientVersion = () => {\n    if (!isProcessing) {\n      setViewingAsClient(true);\n    }\n  };\n\n  const showDraftVersion = () => {\n    if (!isProcessing) {\n      setViewingAsClient(false);\n    }\n  };\n\n  const viewClient = getViewClientInfo(\n    showClientVersion,\n    showDraftVersion,\n    analysis && analysis.versions,\n    analysis && analysis.content.versionNumber,\n    analysis && analysis.content.versionStatus\n  );\n\n  const handleEdit = () => {\n    history.push(editAnalysisPath2(projectId, structuredRoutes[documentCode]));\n  };\n\n  const handleDelete = async () => {\n    await deleteStructuredDocument(projectId, documentCode);\n    history.push(analysesListPath2(projectId));\n  };\n\n  const handleRefresh = async () => {\n    setViewingAsClient(initialViewingAsClient);\n    await dispatch(ReingestDocumentWithDependencies(projectId, documentCode));\n    await fetchAnalysis();\n  };\n\n  const versions = analysis ? analysis.versions : [];\n\n  const workflowActions = useApprovalWorkflow(\n    getWorkflowStatus,\n    async (_projectId, contentId, step) => {\n      try {\n        await updateStructuredAnalysisStatus(_projectId, contentId, step);\n      } catch (e) {\n        if (ErrorUtilities.hasLibraryItemCorruptedError(e)) {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.LIBRARY_ITEM_CORRUPTED\n            })\n          );\n        } else {\n          dispatch(\n            showMoreMenuError({\n              itemId: contentId,\n              moreMenuErrorType:\n                Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE\n            })\n          );\n        }\n        return;\n      }\n      await fetchAnalysis();\n    },\n    projectId,\n    analysis && analysis.content.contentThreadId,\n    analysis && analysis.content,\n    versions\n  );\n\n  const isClientView = isClientUser || viewClient.isOnClientVersion;\n  const hasLoadingError = hasError || hasIngestionError;\n  const isLoading =\n    !hasAlreadyLoadedHack ||\n    initializingData ||\n    isProcessing ||\n    reIngestingDocuments.length > 0;\n\n  const analysisContent = _get(analysis, 'content', undefined);\n\n  return {\n    dispatch,\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError: hasLoadingError,\n    analysis: analysisContent,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    incrementChartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  };\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport './notes-display.scss';\n\nconst NotesDisplay = ({ text }) => (\n  <div className=\"notes-display\" data-testid=\"notes-display\">\n    {text && `Notes: ${text}`}\n  </div>\n);\n\nNotesDisplay.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default NotesDisplay;\n","import React from 'react';\nimport classNames from 'classnames';\nimport Helmet from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Tooltip } from '@pwc/pwc-deals-ui';\nimport resetAllToggles from '../../../../common/engine/actions/resetAllToggles';\nimport { getAreAdjustmentsToggledFromDefault } from '../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport viewingToggledUpdated from '../../../../common/engine/actions/viewingToggledUpdated';\nimport { getIsViewingToggled } from '../../../../common/engine/reducers/calcEngine';\nimport './ClientManipulationBar.scss';\n\nconst ClientManipulationBar = () => {\n  const dispatch = useDispatch();\n  const shouldShow = useSelector(getAreAdjustmentsToggledFromDefault);\n  const defaultTooltip = `Switch to the default\n  figures proposed by PwC`;\n  const yourTooltip = `Switch to your\n  modifications`;\n\n  const isViewingToggled = useSelector(getIsViewingToggled);\n\n  return shouldShow ? (\n    <div\n      className=\"client-manipulation-bar\"\n      data-testid=\"client-manipulation-bar\"\n    >\n      <Helmet>\n        <body data-appbanner={isViewingToggled ? 'open' : 'closed'} />\n      </Helmet>\n      <div className=\"toggles\">\n        <Tooltip\n          direction=\"top\"\n          tip={yourTooltip}\n          dataTestId=\"your-view-tooltip\"\n        >\n          <button\n            className={classNames(isViewingToggled ? 'active your-view' : null)}\n            type=\"button\"\n            data-testid=\"your-view-toggle\"\n            onClick={() => dispatch(viewingToggledUpdated(true))}\n          >\n            Your View\n          </button>\n        </Tooltip>\n        <Tooltip\n          direction=\"top\"\n          tip={defaultTooltip}\n          dataTestId=\"view-default-tooltip\"\n        >\n          <button\n            type=\"button\"\n            className={classNames(\n              !isViewingToggled ? 'active pwc-default' : null\n            )}\n            data-testid=\"view-default-toggle\"\n            onClick={() => dispatch(viewingToggledUpdated(false))}\n          >\n            PwC Default\n          </button>\n        </Tooltip>\n      </div>\n      <button\n        className=\"reset-all\"\n        type=\"button\"\n        data-testid=\"toggle-reset-all\"\n        onClick={() => dispatch(resetAllToggles())}\n      >\n        Reset All\n      </button>\n    </div>\n  ) : null;\n};\n\nexport default ClientManipulationBar;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport ReadOnlyRichTextEditor from '../../../../../common/components/RichTextEditor/ReadOnlyRichTextEditor';\nimport { sanitize } from '../../../../../common/services/sanitizeService';\n\nconst NonEditableTextEditor = ({ richTextData, childrenData }) => {\n  // Shared rich text library items have their child items already pre-rendered and embedded into the richTextData html markup.\n  // CKEditor does not like embedded svgs and charts so this was a work-around\n  const useCKEditor = childrenData.length > 0;\n  return !useCKEditor ? (\n    <div\n      data-testid=\"description-with-innerhtml\"\n      className=\"description-body\"\n      dangerouslySetInnerHTML={{ __html: sanitize(richTextData) }}\n    />\n  ) : (\n    <div className=\"description-body\">\n      <ReadOnlyRichTextEditor\n        richTextData={richTextData}\n        childrenData={childrenData}\n      />\n    </div>\n  );\n};\n\nNonEditableTextEditor.propTypes = {\n  richTextData: PropTypes.string,\n  childrenData: PropTypes.arrayOf(PropTypes.shape({}))\n};\n\nNonEditableTextEditor.defaultProps = {\n  richTextData: '',\n  childrenData: []\n};\n\nexport default NonEditableTextEditor;\n","import { Button, Loader, Icon } from '@pwc/pwc-deals-ui';\nimport { PropTypes } from 'prop-types';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport RichTextEditor from '../../../../../common/components/RichTextEditor/RichTextEditor';\nimport {\n  getAnalysisDescription,\n  saveDocumentDescriptionThunk\n} from '../../../../../common/engine/reducers/structuredDocumentDescriptionSlice';\nimport NonEditableTextEditor from './NonEditableTextEditor';\nimport { getProjectId } from '../../../../project/projectSlice';\n\nimport ShowForPermissions from '../../../../security/ShowForPermissions';\nimport OutsideClickHandler from '../../../../../common/components/OutsideClickHandler';\nimport './AnalysisDescription.scss';\n\nconst AnalysisDescription = ({ isViewingSharedVersion, lightModeVariant }) => {\n  const dispatch = useDispatch();\n  const { header, subheader, content, childrenData, loading } = useSelector(\n    getAnalysisDescription\n  );\n  const projectId = useSelector(getProjectId);\n  const [editMode, setEditMode] = useState(false);\n\n  const hasRichText = content.richText ? content.richText.length > 0 : false;\n\n  const [richText, setRichText] = useState(hasRichText ? content.richText : '');\n  const [focused, setFocused] = useState(false);\n\n  const persistRichText = () => {\n    dispatch(saveDocumentDescriptionThunk(richText));\n    setEditMode(false);\n  };\n\n  const shouldShowEditButton =\n    !loading && !editMode && !isViewingSharedVersion && hasRichText;\n\n  const getComponentBody = () => {\n    if (loading) {\n      return <Loader dataTestId=\"analysis-description-loader\" />;\n    }\n\n    if (!editMode) {\n      return (\n        <NonEditableTextEditor\n          richTextData={content.richText || content.plainText}\n          childrenData={childrenData}\n        />\n      );\n    }\n    return (\n      <>\n        <div className={`${lightModeVariant ? ' light-mode-variant' : ''}`}>\n          <RichTextEditor\n            richTextData={content.richText}\n            onChange={setRichText}\n            label=\"Adjustment Description\"\n            onBlur={(_, editor) => {\n              setFocused(false);\n\n              editor.ui.view.toolbar.element.style.display = 'none';\n            }}\n            onFocus={(_, editor) => {\n              setFocused(true);\n\n              editor.ui.view.toolbar.element.style.display = 'block';\n            }}\n            isFocused={focused}\n          />\n        </div>\n        <div className=\"edit-button-container\">\n          <Button\n            data-testid=\"cancel-button\"\n            className=\"button-link mx-2 mr-4\"\n            onClick={() => setEditMode(false)}\n          >\n            Cancel\n          </Button>\n          <Button\n            data-testid=\"save-button\"\n            className=\"button-block button-small\"\n            onClick={persistRichText}\n          >\n            Update\n          </Button>\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <OutsideClickHandler onClick={() => setEditMode(false)}>\n      <div id=\"analysisDescription\" aria-live=\"polite\">\n        <div className=\"description-header\" role=\"heading\" aria-level=\"3\">\n          {header}\n        </div>\n        {subheader && (\n          <div className=\"description-subheader\" role=\"heading\" aria-level=\"4\">\n            <div>{subheader}</div>\n            <ShowForPermissions\n              projectId={projectId}\n              permissions={['Contribute']}\n            >\n              {shouldShowEditButton && (\n                <Button\n                  className=\"button-menu\"\n                  onClick={() => setEditMode(true)}\n                  data-testid=\"icon-button-edit\"\n                >\n                  <Icon\n                    name=\"pencil\"\n                    width=\"16\"\n                    className=\"sr2 fill icon-orange\"\n                  />\n                </Button>\n              )}\n            </ShowForPermissions>\n          </div>\n        )}\n        {getComponentBody()}\n      </div>\n    </OutsideClickHandler>\n  );\n};\n\nAnalysisDescription.propTypes = {\n  isViewingSharedVersion: PropTypes.bool.isRequired\n};\n\nexport default AnalysisDescription;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './StructuredAnalysisErrorCard.scss';\n\nconst StructuredAnalysisErrorCard = () => {\n  return (\n    <section\n      className=\"structured-analysis-error\"\n      data-testid=\"structured-analysis-error\"\n    >\n      <div>\n        <Icon className=\"fill icon-orange\" width=\"64\" name=\"search-error\" />\n      </div>\n      <div>\n        <h1>Error Loading</h1>\n      </div>\n      <div>\n        <h2>\n          Unable to load data,\n          <br />\n          refresh the page to try again\n        </h2>\n      </div>\n      <div>\n        <button\n          className=\"ui-button\"\n          type=\"button\"\n          onClick={() => window.location.reload()}\n        >\n          Reload Page\n        </button>\n      </div>\n    </section>\n  );\n};\n\nexport default StructuredAnalysisErrorCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTitle from '../../../../../common/components/PageTitle/PageTitle';\nimport { structuredAnalysisShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport StatusContainer from '../../../../../common/components/StatusContainer/StatusContainer';\n\nconst StructuredAnalysisHeader = ({\n  title,\n  projectId,\n  analysis,\n  isOnClientVersion\n}) => {\n  return (\n    <>\n      <PageTitle title={title} />\n      <StatusContainer\n        projectId={projectId}\n        content={analysis}\n        className=\"analysis-pill-container\"\n        allowDraftPill={!isOnClientVersion}\n      />\n    </>\n  );\n};\n\nStructuredAnalysisHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  projectId: PropTypes.string.isRequired,\n  analysis: structuredAnalysisShape.isRequired,\n  isOnClientVersion: PropTypes.bool\n};\n\nStructuredAnalysisHeader.defaultProps = {\n  isOnClientVersion: false\n};\n\nexport default StructuredAnalysisHeader;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Toggle } from '@pwc/pwc-deals-ui';\nimport { adjustmentToggledThunk } from '../../../../common/engine/actions/adjustmentToggled';\n\nconst AdjustmentToggle = ({\n  isActive,\n  disabled,\n  documentCode,\n  adjustmentType,\n  adjustmentKey\n}) => {\n  const dispatch = useDispatch();\n\n  const toggleAdjustment = () => {\n    dispatch(\n      adjustmentToggledThunk(\n        documentCode,\n        adjustmentType,\n        adjustmentKey,\n        !isActive\n      )\n    );\n  };\n\n  return (\n    <Toggle\n      checked={isActive}\n      disabled={disabled}\n      name=\"toggle-adjustment\"\n      dataTestId={`toggle-adjustment-${adjustmentKey}`}\n      onClick={() => toggleAdjustment()}\n    />\n  );\n};\n\nAdjustmentToggle.propTypes = {\n  isActive: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  adjustmentType: PropTypes.string.isRequired,\n  adjustmentKey: PropTypes.string.isRequired\n};\n\nexport default AdjustmentToggle;\n","import classnames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport {\n  COLUMN_HIGHLIGHT_CLASS,\n  EMPTY_DATA_MARKER\n} from '../../../../common/engine/utilities/constants';\nimport { financialValue } from '../../../../common/services/textService';\nimport { getProjectFinancials } from '../../../project/projectSlice';\n\nconst FinancialValue = ({\n  text,\n  emptyDataMarker = EMPTY_DATA_MARKER,\n  showColumnHighlight\n}) => {\n  const cellClassNames = classnames('financial-value', {\n    [COLUMN_HIGHLIGHT_CLASS]: showColumnHighlight\n  });\n\n  const financialsDisplaySettings = useSelector(\n    getProjectFinancials,\n    shallowEqual\n  );\n\n  return (\n    <td role=\"cell\" className={cellClassNames} data-testid=\"financial-value\">\n      <span aria-hidden=\"true\" data-testid=\"visual-content\">\n        {text === ''\n          ? emptyDataMarker\n          : financialValue(text, {\n              decimalCount: financialsDisplaySettings.financialsDecimalCount,\n              formatForScreenReader: false,\n              emptyDataMarker\n            })}\n      </span>\n      <span className=\"visually-hidden\" data-testid=\"screen-reader-content\">\n        {financialValue(text, {\n          decimalCount: financialsDisplaySettings.financialsDecimalCount,\n          formatForScreenReader: true,\n          emptyDataMarker\n        })}\n      </span>\n    </td>\n  );\n};\n\nFinancialValue.propTypes = {\n  text: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.symbol\n  ]),\n  emptyDataMarker: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  showColumnHighlight: PropTypes.bool\n};\n\nFinancialValue.defaultProps = {\n  text: '',\n  emptyDataMarker: '-',\n  showColumnHighlight: false\n};\n\nexport default FinancialValue;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst AdjustmentControlsColumn = ({ role, scope, children }) => (\n  <th\n    data-testid=\"adjustment-controls-column\"\n    role={role}\n    scope={scope}\n    className=\"adjustment-controls-column\"\n  >\n    {children}\n  </th>\n);\n\nAdjustmentControlsColumn.propTypes = {\n  role: PropTypes.oneOf(['columnheader', 'rowheader']),\n  scope: PropTypes.oneOf(['col', 'row']),\n  children: PropTypes.node\n};\n\nAdjustmentControlsColumn.defaultProps = {\n  role: 'rowheader',\n  scope: 'row',\n  children: undefined\n};\n\nexport default AdjustmentControlsColumn;\n","import _uniq from 'lodash/uniq';\nimport _sortBy from 'lodash/sortBy';\nimport _get from 'lodash/get';\nimport _some from 'lodash/some';\nimport {\n  ACTIVE_KEY,\n  STRUCTURED_DISPLAY_NAME_BY_CODE\n} from '../../../../../common/engine/utilities/constants';\n\nexport const convertTextToId = text =>\n  text.replace(/(\\s|\\W)/g, '').toLowerCase();\n\nexport const getAdjustmentIsToggledActive = (\n  adjustmentToggles,\n  groupName,\n  adjustmentName\n) => _get(adjustmentToggles, [groupName, adjustmentName, ACTIVE_KEY], true);\n\nexport const getLinksDescriptor = (links = []) => {\n  const hasLinks = links.length > 0;\n  let hasBrokenLinks = false;\n\n  if (hasLinks) {\n    hasBrokenLinks = _some(links, link => _get(link, 'isBroken', false));\n  }\n\n  return {\n    hasLinks,\n    hasBrokenLinks\n  };\n};\n\nexport const getGroupLinksDescriptor = (groupName, linkedAdjustments) => {\n  const linksForGroup = linkedAdjustments.filter(link => {\n    const linkSourceType = _get(link, ['source', 'adjustmentType'], null);\n    return linkSourceType === groupName;\n  });\n\n  const descriptor = getLinksDescriptor(linksForGroup);\n\n  return descriptor;\n};\n\nexport const getLinksForAdjustment = (\n  groupName,\n  adjustmentDisplayName,\n  linkedAdjustments\n) => {\n  const linksForAdjustment = linkedAdjustments.filter(link => {\n    const linkSourceType = _get(link, ['source', 'adjustmentType'], null);\n    const linkSourceDisplayName = _get(\n      link,\n      ['source', 'adjustmentDisplayName'],\n      null\n    );\n    return (\n      linkSourceType === groupName &&\n      linkSourceDisplayName === adjustmentDisplayName\n    );\n  });\n\n  return linksForAdjustment;\n};\n\nexport const getLinksPopoverData = linkedAdjustments => {\n  const distinctTargetDocuments = _uniq(\n    linkedAdjustments.map(link =>\n      _get(link, ['target', 'documentCode'], 'UNKNOWN')\n    )\n  );\n\n  const popoverData = distinctTargetDocuments.map(targetDoc => {\n    const targetDocLinks = linkedAdjustments.filter(\n      link => _get(link, ['target', 'documentCode'], null) === targetDoc\n    );\n    const sortedTargetDocLinks = _sortBy(targetDocLinks, link =>\n      _get(link, ['target', 'adjustmentNumber'], 0)\n    );\n    const sortedTargetDocLinksForPopover = sortedTargetDocLinks.map(link => ({\n      displayName: _get(link, ['target', 'adjustmentDisplayName'], 'UNKNOWN'),\n      isBroken: link.isBroken,\n      queryString: _get(link, ['target', 'queryString'], null)\n    }));\n\n    return {\n      documentCode: targetDoc,\n      documentDisplayName: STRUCTURED_DISPLAY_NAME_BY_CODE[targetDoc],\n      links: sortedTargetDocLinksForPopover\n    };\n  });\n\n  const sortedByTargetDocPopoverData = _sortBy(\n    popoverData,\n    'documentDisplayName'\n  );\n\n  return sortedByTargetDocPopoverData;\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport classnames from 'classnames';\nimport './LinkedAdjustmentLinkIcon.scss';\n\nexport const LinkedAdjustmentLinkIcon = ({\n  interactive,\n  isSelected,\n  isBroken\n}) => (\n  <div className=\"linked-adjustment-icon-container\">\n    <Icon\n      name={isBroken ? 'link-remove' : 'link'}\n      width=\"18px\"\n      className={classnames('linked-adjustment-icon', {\n        'icon-gray': !interactive,\n        'icon-orange': interactive && !isBroken,\n        'icon-red': interactive && isBroken,\n        fill: isSelected,\n        outline: !isSelected,\n        interactive\n      })}\n    />\n  </div>\n);\n\nLinkedAdjustmentLinkIcon.propTypes = {\n  interactive: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  isBroken: PropTypes.bool\n};\n\nLinkedAdjustmentLinkIcon.defaultProps = {\n  interactive: true,\n  isSelected: false,\n  isBroken: false\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Popover } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { viewStructuredAnalysisPathForDocument } from '../../../../../common/services/urlService';\nimport { getLinksPopoverData } from '../AdjustmentGroup/AdjustmentGroupHelpers';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport './LinkedAdjustmentPopover.scss';\n\nconst LinkedAdjustmentPopover = React.forwardRef(\n  ({ adjustmentLinks, projectId, ...props }, ref) => {\n    const popoverData = getLinksPopoverData(adjustmentLinks);\n\n    return (\n      <Popover\n        id=\"popover-linked-adjustments\"\n        ref={ref}\n        data-testid=\"popover-linked-adjustments\"\n        {...props}\n      >\n        <Popover.Content className=\"popup-menu scrollable\">\n          <div className=\"linked-adjustments-title\">Linked Adjustments</div>\n          {popoverData.map(target => {\n            return (\n              <section\n                className=\"link-target-document\"\n                key={`link-target-${target.documentDisplayName}`}\n              >\n                <div className=\"link-target-document-name\">\n                  {target.documentDisplayName}\n                </div>\n                {target.links.map(link => {\n                  if (link.isBroken) {\n                    return (\n                      <span\n                        className=\"link-target-adjustment-name strikethrough\"\n                        key={`link-target-${link.displayName}`}\n                      >\n                        {link.displayName}\n                      </span>\n                    );\n                  }\n\n                  const targetDocumentUrl = viewStructuredAnalysisPathForDocument(\n                    projectId,\n                    target.documentCode\n                  );\n\n                  return (\n                    <Link\n                      className=\"link-target-adjustment-name\"\n                      to={{\n                        pathname: targetDocumentUrl,\n                        search: link.queryString\n                      }}\n                      key={`link-target-${link.displayName}`}\n                    >\n                      {link.displayName}\n                    </Link>\n                  );\n                })}\n              </section>\n            );\n          })}\n        </Popover.Content>\n      </Popover>\n    );\n  }\n);\n\nLinkedAdjustmentPopover.propTypes = {\n  adjustmentLinks: PropTypes.arrayOf(linkedAdjustmentsShape),\n  projectId: PropTypes.string.isRequired\n};\n\nLinkedAdjustmentPopover.defaultProps = {\n  adjustmentLinks: []\n};\n\nexport default LinkedAdjustmentPopover;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { OverlayTrigger } from 'react-bootstrap';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport { getLinksDescriptor } from '../AdjustmentGroup/AdjustmentGroupHelpers';\nimport { LinkedAdjustmentLinkIcon } from '../LinkedAdjustmentLinkIcon';\nimport LinkedAdjustmentPopover from './LinkedAdjustmentPopover';\nimport './LinkedAdjustmentsOverlayTrigger.scss';\n\nconst AdjustmentLinkOverlayTrigger = ({ adjustmentLinks, projectId }) => {\n  const [selected, setSelected] = useState(false);\n  const linksDescriptor = getLinksDescriptor(adjustmentLinks);\n\n  if (!linksDescriptor.hasLinks) {\n    return null;\n  }\n\n  return (\n    <OverlayTrigger\n      rootClose\n      trigger=\"click\"\n      placement=\"top-end\"\n      overlay={\n        <LinkedAdjustmentPopover\n          adjustmentLinks={adjustmentLinks}\n          projectId={projectId}\n        />\n      }\n      onToggle={visible => setSelected(visible)}\n    >\n      <div className=\"adjustment-link\" data-testid=\"adjustment-link\">\n        <LinkedAdjustmentLinkIcon\n          isSelected={selected}\n          isBroken={linksDescriptor.hasBrokenLinks}\n        />\n      </div>\n    </OverlayTrigger>\n  );\n};\n\nAdjustmentLinkOverlayTrigger.propTypes = {\n  adjustmentLinks: PropTypes.arrayOf(linkedAdjustmentsShape),\n  projectId: PropTypes.string.isRequired\n};\n\nAdjustmentLinkOverlayTrigger.defaultProps = {\n  adjustmentLinks: []\n};\n\nexport default AdjustmentLinkOverlayTrigger;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport classnames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentToggle from '../AdjustmentToggle';\nimport FinancialValue from '../FinancialValue';\nimport {\n  getAnalysisDescription,\n  setDescriptorForAdjustmentThunk\n} from '../../../../../common/engine/reducers/structuredDocumentDescriptionSlice';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport AdjustmentLinkOverlayTrigger from '../LinkedAdjustmentPopover/LinkedAdjustmentsOverlayTrigger';\n\nconst Adjustment = ({\n  projectId,\n  documentCode = Constants.QUALITY_OF_EARNINGS,\n  contentId,\n  contentVersionNumber,\n  adjustmentType,\n  adjustmentKey,\n  adjustment,\n  timePeriods,\n  adjustmentLinks,\n  isActive,\n  showToggle,\n  disableToggle,\n  isPublishMode,\n  isFinalRow\n}) => {\n  const dispatch = useDispatch();\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  const analysisDescription = useSelector(getAnalysisDescription);\n\n  return (\n    <tr\n      role=\"row\"\n      className={classnames('adjustment', {\n        inactive: !isActive,\n        'final-details-row': isFinalRow\n      })}\n      data-testid=\"adjustment\"\n    >\n      <th\n        role=\"rowheader\"\n        scope=\"row\"\n        className={`adjustment__heading ${\n          analysisDescription.selectedAdjustment === adjustmentKey\n            ? 'adjustment-selected'\n            : ''\n        }`}\n      >\n        {isPublishMode ? (\n          <span>{adjustmentKey}</span>\n        ) : (\n          <button\n            className=\"button-avoid-focus adjustment__button\"\n            onClick={() => {\n              dispatch(\n                setDescriptorForAdjustmentThunk(\n                  adjustmentType,\n                  adjustmentKey,\n                  documentCode,\n                  projectId,\n                  contentId,\n                  contentVersionNumber\n                )\n              );\n            }}\n            type=\"button\"\n            data-testid=\"adjustment-header-button\"\n            aria-controls=\"analysisDescription\"\n          >\n            <span>{adjustmentKey}</span>\n            <span\n              data-testid=\"adjustment-button-helper-text\"\n              className=\"visually-hidden\"\n            >\n              . Click for long description\n            </span>\n          </button>\n        )}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={adjustment[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && (\n        <AdjustmentControlsColumn>\n          {showToggle && (\n            <AdjustmentToggle\n              isActive={isActive}\n              disabled={disableToggle}\n              documentCode={documentCode}\n              adjustmentType={adjustmentType}\n              adjustmentKey={adjustmentKey}\n            />\n          )}\n\n          <AdjustmentLinkOverlayTrigger\n            adjustmentLinks={adjustmentLinks}\n            projectId={projectId}\n          />\n        </AdjustmentControlsColumn>\n      )}\n    </tr>\n  );\n};\n\nAdjustment.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  adjustmentType: PropTypes.string.isRequired,\n  adjustmentKey: PropTypes.string.isRequired,\n  adjustment: PropTypes.shape({}).isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  adjustmentLinks: PropTypes.arrayOf(linkedAdjustmentsShape),\n  isActive: PropTypes.bool,\n  showToggle: PropTypes.bool,\n  disableToggle: PropTypes.bool,\n  isPublishMode: PropTypes.bool.isRequired,\n  isFinalRow: PropTypes.bool\n};\n\nAdjustment.defaultProps = {\n  adjustmentLinks: [],\n  isActive: true,\n  showToggle: true,\n  disableToggle: false,\n  isFinalRow: false\n};\n\nexport default Adjustment;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialValue from '../FinancialValue';\n\nconst AdjustmentGroupSummary = ({\n  totals,\n  totalOverrideValue,\n  timePeriods,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  return (\n    <tr role=\"row\" className=\"group-summary\" data-testid=\"group-summary\">\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        Total\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totalOverrideValue || totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nAdjustmentGroupSummary.propTypes = {\n  totals: PropTypes.object.isRequired,\n  totalOverrideValue: PropTypes.string,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  documentCode: PropTypes.string.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupSummary.defaultProps = {\n  totalOverrideValue: '',\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupSummary;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport _keys from 'lodash/keys';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport { TOTALS_KEY } from '../../../../../common/engine/utilities/constants';\nimport Adjustment from '../Adjustment/Adjustment';\nimport {\n  getAdjustmentIsToggledActive,\n  getLinksForAdjustment\n} from './AdjustmentGroupHelpers';\nimport AdjustmentGroupSummary from './AdjustmentGroupSummary';\n\nconst AdjustmentGroupDetails = ({\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  group,\n  groupName,\n  timePeriods,\n  showTotalRow,\n  totalOverrideValue,\n  showToggles,\n  adjustmentToggles,\n  disableAllToggles,\n  linkedAdjustments,\n  isPublishMode\n}) => {\n  const adjustmentNamesInGroup = _keys(group).filter(g => g !== TOTALS_KEY);\n\n  return (\n    <>\n      {adjustmentNamesInGroup.map((adjustmentName, index) => {\n        const isLastAdjustment = index === adjustmentNamesInGroup.length - 1;\n        const isFinalRow = isLastAdjustment && !showTotalRow;\n\n        const isAdjustmentToggledActive = getAdjustmentIsToggledActive(\n          adjustmentToggles,\n          groupName,\n          adjustmentName\n        );\n        const isActive = disableAllToggles ? true : isAdjustmentToggledActive;\n        const adjustment = group[adjustmentName];\n\n        const adjustmentLinks = getLinksForAdjustment(\n          groupName,\n          adjustmentName,\n          linkedAdjustments\n        );\n\n        return (\n          <Adjustment\n            projectId={projectId}\n            key={adjustmentName}\n            documentCode={documentCode}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            adjustmentType={groupName}\n            adjustmentKey={adjustmentName}\n            adjustment={adjustment[TOTALS_KEY]}\n            timePeriods={timePeriods}\n            isActive={isActive}\n            adjustmentLinks={adjustmentLinks}\n            showToggle={showToggles}\n            disableToggle={disableAllToggles}\n            isPublishMode={isPublishMode}\n            isFinalRow={isFinalRow}\n          />\n        );\n      })}\n      {showTotalRow ? (\n        <AdjustmentGroupSummary\n          totals={group[TOTALS_KEY]}\n          totalOverrideValue={totalOverrideValue}\n          timePeriods={timePeriods}\n          documentCode={documentCode}\n          isPublishMode={isPublishMode}\n        />\n      ) : null}\n    </>\n  );\n};\n\nAdjustmentGroupDetails.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  group: PropTypes.object.isRequired,\n  groupName: PropTypes.string.isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showTotalRow: PropTypes.bool.isRequired,\n  totalOverrideValue: PropTypes.string,\n  showToggles: PropTypes.bool,\n  adjustmentToggles: PropTypes.object.isRequired,\n  disableAllToggles: PropTypes.bool.isRequired,\n  linkedAdjustments: PropTypes.arrayOf(linkedAdjustmentsShape).isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupDetails.defaultProps = {\n  totalOverrideValue: undefined,\n  showToggles: true,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupDetails;\n","import classnames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { COLUMN_HIGHLIGHT_CLASS } from '../../../../common/engine/utilities/constants';\n\nconst FinancialSpacer = ({ showColumnHighlight }) => {\n  const cellClassNames = classnames('financial-spacer', {\n    [COLUMN_HIGHLIGHT_CLASS]: showColumnHighlight\n  });\n\n  return <td role=\"cell\" className={cellClassNames} />;\n};\n\nFinancialSpacer.propTypes = {\n  showColumnHighlight: PropTypes.bool\n};\n\nFinancialSpacer.defaultProps = {\n  showColumnHighlight: false\n};\n\nexport default FinancialSpacer;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\n\nconst AdjustmentGroupExpansionButton = ({ title, expanded, onClick }) => (\n  <button\n    type=\"button\"\n    className=\"adjustment-group__toggle-button\"\n    onClick={onClick}\n    data-testid=\"adjustment-rollup-toggle-button\"\n  >\n    <span\n      aria-hidden=\"true\"\n      data-testid=\"expanded-indicator-icon\"\n      className={`icon-expanded ${expanded ? 'asc' : 'desc'}`}\n    >\n      <Icon\n        name=\"desc\"\n        width=\"10\"\n        className=\"fill icon-orange\"\n        viewBox=\"-4 0 32 32\"\n      />\n    </span>\n    <span>{title}</span>\n  </button>\n);\n\nAdjustmentGroupExpansionButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired\n};\n\nexport default AdjustmentGroupExpansionButton;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { LinkedAdjustmentLinkIcon } from '../LinkedAdjustmentLinkIcon';\n\nconst LinkedAdjustmentIconHeader = ({ hasLinks, hasBrokenLinks, expanded }) => {\n  const showLinkIcon = !expanded && hasLinks;\n\n  if (!showLinkIcon) {\n    return null;\n  }\n\n  return (\n    <LinkedAdjustmentLinkIcon interactive={false} isBroken={hasBrokenLinks} />\n  );\n};\n\nLinkedAdjustmentIconHeader.propTypes = {\n  hasLinks: PropTypes.bool.isRequired,\n  hasBrokenLinks: PropTypes.bool.isRequired,\n  expanded: PropTypes.bool.isRequired\n};\n\nexport default LinkedAdjustmentIconHeader;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialSpacer from '../FinancialSpacer';\nimport FinancialValue from '../FinancialValue';\nimport AdjustmentGroupExpansionButton from './AdjustmentGroupExpansionButton';\nimport { convertTextToId } from './AdjustmentGroupHelpers';\nimport LinkedAdjustmentIconHeader from './LinkedAdjustmentIconHeader';\n\nconst AdjustmentGroupHeader = ({\n  documentCode,\n  group,\n  title,\n  expanded,\n  onClick,\n  totalOverrideValue,\n  timePeriods,\n  hasLinks,\n  hasBrokenLinks,\n  isPublishMode\n}) => {\n  const testId = convertTextToId(title);\n  const { totals } = group;\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  return (\n    <tr\n      className={`adjustment-group group-header${expanded ? ' expanded' : ''}`}\n      role=\"row\"\n      data-testid={`adjustment-group-header-${testId}`}\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {isPublishMode && <span>{title}</span>}\n\n        {!isPublishMode && (\n          <AdjustmentGroupExpansionButton\n            onClick={onClick}\n            title={title}\n            expanded={expanded}\n          />\n        )}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        if (expanded) {\n          return (\n            <FinancialSpacer\n              key={timePeriod}\n              showColumnHighlight={showColumnHighlight}\n            />\n          );\n        }\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totalOverrideValue || totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n\n      {!isPublishMode && (\n        <AdjustmentControlsColumn>\n          <div>&nbsp;</div>\n          <LinkedAdjustmentIconHeader\n            expanded={expanded}\n            hasLinks={hasLinks}\n            hasBrokenLinks={hasBrokenLinks}\n          />\n        </AdjustmentControlsColumn>\n      )}\n    </tr>\n  );\n};\n\nAdjustmentGroupHeader.propTypes = {\n  documentCode: PropTypes.string.isRequired,\n  group: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  onClick: PropTypes.func,\n  totalOverrideValue: PropTypes.string,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  hasLinks: PropTypes.bool.isRequired,\n  hasBrokenLinks: PropTypes.bool.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupHeader.defaultProps = {\n  onClick: () => {},\n  totalOverrideValue: undefined,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupHeader;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialValue from '../FinancialValue';\n\nconst AdjustmentGroupEbitdaContribution = ({\n  rowDescription,\n  totals,\n  timePeriods,\n  isTotalsRowStyle,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  return (\n    <tr\n      role=\"row\"\n      className={`group-ebitda-contribution${\n        isTotalsRowStyle ? ' totals-row' : ''\n      }`}\n      data-testid=\"adjustment-group-ebitda-contribution\"\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {rowDescription}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nAdjustmentGroupEbitdaContribution.propTypes = {\n  rowDescription: PropTypes.string,\n  totals: PropTypes.object,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  isTotalsRowStyle: PropTypes.bool,\n  documentCode: PropTypes.string.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupEbitdaContribution.defaultProps = {\n  rowDescription: '',\n  totals: {},\n  isTotalsRowStyle: false,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupEbitdaContribution;\n","/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../../common/services/textService';\nimport AdjustmentControlsColumn from '../AdjustmentControlsColumn';\nimport FinancialValue from '../FinancialValue';\n\nconst AdjustmentGroupWorkingCapitalContribution = ({\n  rowDescription,\n  totals,\n  timePeriods,\n  isTotalsRowStyle,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n  return (\n    <tr\n      role=\"row\"\n      className={`group-capital-contribution${\n        isTotalsRowStyle ? ' totals-row' : ''\n      }`}\n      data-testid=\"adjustment-group-capital-contribution\"\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {rowDescription}\n      </th>\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            key={timePeriod}\n            text={totals[timePeriod]}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nAdjustmentGroupWorkingCapitalContribution.propTypes = {\n  rowDescription: PropTypes.string,\n  totals: PropTypes.object,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  isTotalsRowStyle: PropTypes.bool,\n  documentCode: PropTypes.string.isRequired,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupWorkingCapitalContribution.defaultProps = {\n  rowDescription: '',\n  totals: {},\n  isTotalsRowStyle: false,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupWorkingCapitalContribution;\n","/* eslint-disable react/forbid-prop-types */\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport {\n  LABEL_KEY,\n  TOTALS_KEY\n} from '../../../../../common/engine/utilities/constants';\nimport {\n  descriptionResetToBasisOfPresentation,\n  setDescriptorForAdjustmentThunk\n} from '../../../../../common/engine/reducers/structuredDocumentDescriptionSlice';\nimport { getAreAdjustmentsToggledFromDefault } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport { getIsViewingToggled } from '../../../../../common/engine/reducers/calcEngine';\nimport AdjustmentGroupDetails from './AdjustmentGroupDetails';\nimport { getGroupLinksDescriptor } from './AdjustmentGroupHelpers';\nimport AdjustmentGroupHeader from './AdjustmentGroupHeader';\nimport AdjustmentGroupEbitdaContribution from './AdjustmentGroupEbitdaContribution';\nimport AdjustmentGroupWorkingCapitalContribution from './AdjustmentGroupWorkingCapitalContribution';\n\nconst AdjustmentGroup = ({\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  group,\n  groupName,\n  timePeriods,\n  ebitdaContributions,\n  workingCapitalContributions,\n  totalOverrideValue,\n  linkedAdjustments,\n  showToggles,\n  adjustmentToggles,\n  isLastGroup,\n  showTotalRow,\n  targetAdjustmentType,\n  targetAdjustmentName,\n  nameOfAdjustmentToExpand,\n  isPublishMode\n}) => {\n  const dispatch = useDispatch();\n  const renderCount = useRef(1);\n  const [isExpanded, setIsExpanded] = useState(\n    targetAdjustmentType === groupName ||\n      nameOfAdjustmentToExpand === 'all' ||\n      nameOfAdjustmentToExpand === groupName\n  );\n  const toggleExpanded = () => {\n    if (isExpanded) {\n      dispatch(descriptionResetToBasisOfPresentation());\n    }\n    setIsExpanded(isExpandedPrev => !isExpandedPrev);\n  };\n\n  useEffect(() => {\n    if (isPublishMode) {\n      if (\n        nameOfAdjustmentToExpand === 'all' ||\n        nameOfAdjustmentToExpand === groupName\n      ) {\n        setIsExpanded(true);\n      }\n    }\n  }, [nameOfAdjustmentToExpand, isPublishMode, setIsExpanded, groupName]);\n\n  useEffect(() => {\n    renderCount.current += 1;\n  });\n\n  if (\n    renderCount.current === 1 &&\n    targetAdjustmentType !== null &&\n    targetAdjustmentName !== null\n  ) {\n    dispatch(\n      setDescriptorForAdjustmentThunk(\n        targetAdjustmentType,\n        targetAdjustmentName,\n        documentCode,\n        projectId,\n        contentId,\n        contentVersionNumber\n      )\n    );\n  }\n\n  const groupLinksDescriptor = getGroupLinksDescriptor(\n    groupName,\n    linkedAdjustments\n  );\n\n  const areAdjustmentsToggledFromDefault = useSelector(\n    getAreAdjustmentsToggledFromDefault\n  );\n\n  const isViewingToggled = useSelector(getIsViewingToggled);\n\n  const disableAllToggles =\n    areAdjustmentsToggledFromDefault && !isViewingToggled;\n\n  return (\n    <>\n      <AdjustmentGroupHeader\n        documentCode={documentCode}\n        group={group}\n        title={groupName}\n        expanded={isExpanded}\n        onClick={toggleExpanded}\n        totalOverrideValue={totalOverrideValue}\n        timePeriods={timePeriods}\n        hasLinks={groupLinksDescriptor.hasLinks}\n        hasBrokenLinks={groupLinksDescriptor.hasBrokenLinks}\n        isPublishMode={isPublishMode}\n      />\n      {isExpanded && (\n        <AdjustmentGroupDetails\n          projectId={projectId}\n          documentCode={documentCode}\n          contentId={contentId}\n          contentVersionNumber={contentVersionNumber}\n          group={group}\n          groupName={groupName}\n          showTotalRow={showTotalRow}\n          totalOverrideValue={totalOverrideValue}\n          timePeriods={timePeriods}\n          showToggles={showToggles}\n          adjustmentToggles={adjustmentToggles}\n          disableAllToggles={disableAllToggles}\n          linkedAdjustments={linkedAdjustments}\n          isPublishMode={isPublishMode}\n        />\n      )}\n      {ebitdaContributions[groupName] && (\n        <AdjustmentGroupEbitdaContribution\n          timePeriods={timePeriods}\n          rowDescription={ebitdaContributions[groupName][LABEL_KEY]}\n          totals={ebitdaContributions[groupName][TOTALS_KEY]}\n          isTotalsRowStyle={isLastGroup}\n          documentCode={documentCode}\n          isPublishMode={isPublishMode}\n        />\n      )}\n      {workingCapitalContributions[groupName] && (\n        <AdjustmentGroupWorkingCapitalContribution\n          timePeriods={timePeriods}\n          rowDescription={workingCapitalContributions[groupName][LABEL_KEY]}\n          totals={workingCapitalContributions[groupName][TOTALS_KEY]}\n          isTotalsRowStyle={isLastGroup}\n          documentCode={documentCode}\n          isPublishMode={isPublishMode}\n        />\n      )}\n    </>\n  );\n};\n\nAdjustmentGroup.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  group: PropTypes.object.isRequired,\n  groupName: PropTypes.string.isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  ebitdaContributions: PropTypes.object,\n  workingCapitalContributions: PropTypes.object,\n  totalOverrideValue: PropTypes.string,\n  linkedAdjustments: PropTypes.arrayOf(linkedAdjustmentsShape),\n  showToggles: PropTypes.bool,\n  adjustmentToggles: PropTypes.object,\n  isLastGroup: PropTypes.bool,\n  showTotalRow: PropTypes.bool,\n  isPublishMode: PropTypes.bool,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string\n};\n\nAdjustmentGroup.defaultProps = {\n  ebitdaContributions: {},\n  workingCapitalContributions: {},\n  totalOverrideValue: undefined,\n  linkedAdjustments: [],\n  showToggles: true,\n  adjustmentToggles: {},\n  isLastGroup: false,\n  showTotalRow: true,\n  isPublishMode: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null\n};\n\nexport default AdjustmentGroup;\n","/* eslint-disable react/forbid-prop-types */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { linkedAdjustmentsShape } from '../../../../../common/components/proptypes/commonProptypes';\nimport AdjustmentGroup from './AdjustmentGroup';\n\nconst AdjustmentGroupForMode = ({\n  projectId,\n  documentCode,\n  contentId,\n  contentVersionNumber,\n  group,\n  groupName,\n  timePeriods,\n  ebitdaContributions,\n  workingCapitalContributions,\n  totalOverrideValue,\n  linkedAdjustments,\n  showToggles,\n  adjustmentToggles,\n  isLastGroup,\n  showTotalRow,\n  targetAdjustmentType,\n  targetAdjustmentName,\n  nameOfAdjustmentToExpand,\n  isPublishMode\n}) => {\n  const linkedAdjustmentsForMode = isPublishMode ? [] : linkedAdjustments;\n  const showTogglesForMode = isPublishMode ? false : showToggles;\n  const adjustmentTogglesForMode = isPublishMode ? {} : adjustmentToggles;\n\n  return (\n    <AdjustmentGroup\n      projectId={projectId}\n      documentCode={documentCode}\n      contentId={contentId}\n      contentVersionNumber={contentVersionNumber}\n      group={group}\n      groupName={groupName}\n      timePeriods={timePeriods}\n      ebitdaContributions={ebitdaContributions}\n      workingCapitalContributions={workingCapitalContributions}\n      linkedAdjustments={linkedAdjustmentsForMode}\n      totalOverrideValue={totalOverrideValue}\n      showToggles={showTogglesForMode}\n      adjustmentToggles={adjustmentTogglesForMode}\n      isLastGroup={isLastGroup}\n      showTotalRow={showTotalRow}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n      isPublishMode={isPublishMode}\n    />\n  );\n};\n\nAdjustmentGroupForMode.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  group: PropTypes.object.isRequired,\n  groupName: PropTypes.string.isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  ebitdaContributions: PropTypes.object,\n  workingCapitalContributions: PropTypes.object,\n  totalOverrideValue: PropTypes.string,\n  linkedAdjustments: PropTypes.arrayOf(linkedAdjustmentsShape),\n  showToggles: PropTypes.bool,\n  adjustmentToggles: PropTypes.object,\n  isLastGroup: PropTypes.bool,\n  showTotalRow: PropTypes.bool,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nAdjustmentGroupForMode.defaultProps = {\n  ebitdaContributions: {},\n  workingCapitalContributions: {},\n  totalOverrideValue: undefined,\n  linkedAdjustments: [],\n  showToggles: true,\n  adjustmentToggles: {},\n  isLastGroup: false,\n  showTotalRow: true,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null,\n  isPublishMode: false\n};\n\nexport default AdjustmentGroupForMode;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport classnames from 'classnames';\nimport { COLUMN_HIGHLIGHT_CLASS } from '../../../../common/engine/utilities/constants';\nimport {\n  financialValue,\n  getFinancialScale,\n  isLastNPeriodLabel\n} from '../../../../common/services/textService';\nimport { getProjectFinancials } from '../../../project/projectSlice';\nimport AdjustmentControlsColumn from './AdjustmentControlsColumn';\n\nconst FinancialHeader = ({ text, showColumnHighlight = false }) => {\n  const cellClassNames = classnames('financial-value', {\n    [COLUMN_HIGHLIGHT_CLASS]: showColumnHighlight\n  });\n\n  return (\n    <th\n      role=\"columnheader\"\n      scope=\"col\"\n      className={cellClassNames}\n      data-testid=\"table-header-cell\"\n    >\n      {financialValue(text)}\n    </th>\n  );\n};\n\nconst OverallTableHeader = ({ timePeriods, documentCode, isPublishMode }) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  const financialsDisplaySettings = useSelector(\n    getProjectFinancials,\n    shallowEqual\n  );\n\n  return (\n    <tr className=\"table-headers\" role=\"row\" data-testid=\"table-headers\">\n      <th\n        scope=\"col\"\n        className=\"row-description\"\n        data-testid=\"table-header-cell\"\n        role=\"columnheader\"\n      >\n        {getFinancialScale(financialsDisplaySettings)}\n      </th>\n      {timePeriods.map(period => {\n        const isLastNPeriod = isLastNPeriodLabel(period);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n        return (\n          <FinancialHeader\n            text={period}\n            key={`tph-${period}`}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && (\n        <AdjustmentControlsColumn role=\"columnheader\" scope=\"col\" />\n      )}\n    </tr>\n  );\n};\n\nOverallTableHeader.propTypes = {\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  documentCode: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nOverallTableHeader.defaultProps = {\n  documentCode: '',\n  isPublishMode: false\n};\n\nexport default OverallTableHeader;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { EMPTY_DATA_MARKER } from '../../../../common/engine/utilities/constants';\nimport { isLastNPeriodLabel } from '../../../../common/services/textService';\nimport AdjustmentControlsColumn from './AdjustmentControlsColumn';\nimport FinancialValue from './FinancialValue';\n\nconst ReportedFinancials = ({\n  testId,\n  rowText,\n  financials,\n  timePeriods,\n  className,\n  emptyDataMarker = EMPTY_DATA_MARKER,\n  documentCode,\n  isPublishMode\n}) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  return (\n    <tr\n      role=\"row\"\n      className={`reported-financials ${className}`}\n      data-testid={testId}\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {rowText}\n      </th>\n\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialValue\n            text={financials[timePeriod]}\n            key={`reportedFinancialsColumnValue-${timePeriod}`}\n            emptyDataMarker={emptyDataMarker}\n            showColumnHighlight={showColumnHighlight}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nexport default ReportedFinancials;\n\nReportedFinancials.propTypes = {\n  testId: PropTypes.string,\n  rowText: PropTypes.string.isRequired,\n  financials: PropTypes.shape({}).isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  className: PropTypes.string,\n  emptyDataMarker: PropTypes.string,\n  documentCode: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nReportedFinancials.defaultProps = {\n  testId: 'reported-financials',\n  className: '',\n  emptyDataMarker: EMPTY_DATA_MARKER,\n  documentCode: '',\n  isPublishMode: false\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useSelector } from 'react-redux';\nimport { getLinkedAdjustmentsAsSourceForDdl } from '../../../../../common/engine/selectors/adjustmentLinkSelectors';\nimport {\n  getNetDebtAndDebtLikeForDdl,\n  getNetDebtForDdl,\n  getTableReadyAdjustmentSumsNotParticipatingInCalculationsForDdl,\n  getTableReadyBankDebtAdjustmentSumsForDdl,\n  getTableReadyDebtLikeItemAdjustmentSumsForDdl,\n  getTableReadyLessCashAdjustmentSumsForDdl\n} from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport { getAdjustmentTogglesForDdl } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport { getTimePeriodsForDdl } from '../../../../../common/engine/selectors/timePeriodSelectors';\nimport {\n  NET_DEBT_AND_DEBT_LIKE_KEY,\n  NET_DEBT_KEY,\n  OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT\n} from '../../../../../common/engine/utilities/constants';\nimport AdjustmentGroupForMode from '../../common/AdjustmentGroup/AdjustmentGroupForMode';\nimport OverallTableHeader from '../../common/OverallTableHeader';\nimport ReportedFinancials from '../../common/ReportedFinancials';\n\nconst DebtDebtLikeTable = ({\n  isClientView,\n  contentVersionNumber,\n  contentId,\n  projectId,\n  forUseWithPublishingSSRService,\n  nameOfAdjustmentToExpand,\n  targetAdjustmentType,\n  targetAdjustmentName\n}) => {\n  const ddlFinancialPeriods = useSelector(getTimePeriodsForDdl);\n  const bankDebtAdjustmentSums = useSelector(\n    getTableReadyBankDebtAdjustmentSumsForDdl\n  );\n  const lessCashAdjustmentSums = useSelector(\n    getTableReadyLessCashAdjustmentSumsForDdl\n  );\n  const netDebt = useSelector(getNetDebtForDdl);\n  const debtLikeItemAdjustmentSums = useSelector(\n    getTableReadyDebtLikeItemAdjustmentSumsForDdl\n  );\n  const netDebtAndDebtLike = useSelector(getNetDebtAndDebtLikeForDdl);\n  const notParticipatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsNotParticipatingInCalculationsForDdl\n  );\n  const ddlAdjustmentToggles = useSelector(getAdjustmentTogglesForDdl);\n  const links = useSelector(getLinkedAdjustmentsAsSourceForDdl);\n  const linkedAdjustments = links.filter(\n    link => !isClientView || !link.isBroken\n  );\n  const isPublishMode = forUseWithPublishingSSRService;\n\n  return (\n    <table\n      role=\"table\"\n      className=\"analysis-table\"\n      data-testid=\"structured-analysis-view-DDL\"\n      aria-label=\"Debt and Debt Like\"\n    >\n      <thead>\n        <OverallTableHeader\n          timePeriods={ddlFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n      </thead>\n      <tbody>\n        {bankDebtAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={ddlAdjustmentToggles}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        {lessCashAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={ddlAdjustmentToggles}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        <ReportedFinancials\n          rowText={NET_DEBT_KEY}\n          financials={netDebt}\n          timePeriods={ddlFinancialPeriods}\n          testId=\"net-debt\"\n          className=\"net-debt\"\n          isPublishMode={isPublishMode}\n        />\n        {debtLikeItemAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={ddlAdjustmentToggles}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        <ReportedFinancials\n          rowText={NET_DEBT_AND_DEBT_LIKE_KEY}\n          financials={netDebtAndDebtLike}\n          timePeriods={ddlFinancialPeriods}\n          testId=\"net-debt-and-debt-like\"\n          className=\"net-debt\"\n          isPublishMode={isPublishMode}\n        />\n        {notParticipatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.DEBT_AND_DEBT_LIKE}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={ddlFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            totalOverrideValue={OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT}\n            showToggles={false}\n            showTotalRow={false}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nDebtDebtLikeTable.propTypes = {\n  isClientView: PropTypes.bool,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  forUseWithPublishingSSRService: PropTypes.bool\n};\n\nDebtDebtLikeTable.defaultProps = {\n  isClientView: false,\n  nameOfAdjustmentToExpand: null,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  forUseWithPublishingSSRService: false\n};\n\nexport default DebtDebtLikeTable;\n","/* eslint-disable react/no-this-in-sfc */\nimport React, { useEffect, useState } from 'react';\nimport _keys from 'lodash/keys';\nimport * as Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport highchartsMore from 'highcharts/highcharts-more';\nimport highchartsAccessibility from 'highcharts/modules/accessibility';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { makeDefaultNwcChartOptions } from '../../../../../common/charts/highchart-utilities';\nimport { lineGlobalColors } from '../../../../../common/charts/types/highchartsColorTheme';\nimport { getChartTimePeriodsAdjustedWorkingCapitalForNwc } from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport {\n  financialValue,\n  getFinancialScale\n} from '../../../../../common/services/textService';\nimport { getProjectFinancials } from '../../../../project/projectSlice';\nimport './NetWorkingCapitalChart.scss';\n\nconst NetWorkingCapitalChart = () => {\n  highchartsAccessibility(Highcharts);\n  highchartsMore(Highcharts);\n  Highcharts.setOptions({\n    colors: lineGlobalColors\n  });\n\n  const [chartOptions, setChartOptions] = useState(\n    makeDefaultNwcChartOptions(0)\n  );\n\n  const financialsDisplaySettings = useSelector(\n    getProjectFinancials,\n    shallowEqual\n  );\n  const chartPeriodsAdjustedWorkingCapital = useSelector(\n    getChartTimePeriodsAdjustedWorkingCapitalForNwc\n  );\n\n  useEffect(() => {\n    const seriesData = _keys(chartPeriodsAdjustedWorkingCapital).map(\n      period => ({\n        y: chartPeriodsAdjustedWorkingCapital[period],\n        accessibility: { description: period }\n      })\n    );\n\n    setChartOptions({\n      subtitle: {\n        text: getFinancialScale(financialsDisplaySettings)\n      },\n      xAxis: {\n        categories: _keys(chartPeriodsAdjustedWorkingCapital)\n      },\n      series: [\n        {\n          name: 'Adjusted Working Capital',\n          color: Highcharts.getOptions().colors[3],\n          data: seriesData\n        }\n      ],\n      legend: {\n        enabled: false\n      },\n      tooltip: {\n        enabled: true,\n        useHTML: true,\n        style: {\n          fontFamily: 'Helvetica',\n          lineHeight: '1.4rem'\n        },\n        formatter() {\n          const timePeriod = this.x;\n          const nwcValue = financialValue(this.y, {\n            decimalCount: financialsDisplaySettings.financialsDecimalCount\n          });\n\n          return `${timePeriod}<br/><b>${nwcValue}</b>`;\n        }\n      }\n    });\n  }, [financialsDisplaySettings, chartPeriodsAdjustedWorkingCapital]);\n\n  return (\n    <div data-testid=\"networking-capital-chart\" className=\"nwc-chart-container\">\n      <HighchartsReact highcharts={Highcharts} options={chartOptions} />\n    </div>\n  );\n};\n\nexport default NetWorkingCapitalChart;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { isLastNPeriodLabel } from '../../../../common/services/textService';\nimport AdjustmentControlsColumn from './AdjustmentControlsColumn';\nimport FinancialSpacer from './FinancialSpacer';\n\nconst FinalBorderRow = ({ timePeriods, documentCode, isPublishMode }) => {\n  const isNwcTable = documentCode === Constants.NET_WORKING_CAPITAL;\n\n  return (\n    <tr role=\"row\" className=\"final-border-row\">\n      <td className=\"row-description final-row\" />\n\n      {timePeriods.map(timePeriod => {\n        const isLastNPeriod = isLastNPeriodLabel(timePeriod);\n        const showColumnHighlight = isNwcTable && isLastNPeriod;\n\n        return (\n          <FinancialSpacer\n            showColumnHighlight={showColumnHighlight}\n            key={timePeriod}\n          />\n        );\n      })}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nexport default FinalBorderRow;\n\nFinalBorderRow.propTypes = {\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  documentCode: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nFinalBorderRow.defaultProps = {\n  documentCode: '',\n  isPublishMode: false\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { getLinkedAdjustmentsAsSourceForNwc } from '../../../../../common/engine/selectors/adjustmentLinkSelectors';\nimport {\n  getAdjustmentTypesWorkingCapitalContributionForNwc,\n  getTableReadyAdjustmentSumsParticipatingInCalculationsForNwc,\n  getTableReadyAdjustmentSumsNotParticipatingInCalculationsForNwc\n} from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport { getAdjustmentTogglesForNwc } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport FinalBorderRow from '../../common/FinalBorderRow';\nimport OverallTableHeader from '../../common/OverallTableHeader';\nimport { getActiveTableTimePeriodsForNwc } from '../../../../../common/engine/selectors/timePeriodSelectors';\nimport {\n  CURRENT_ASSETS_KEY,\n  CURRENT_LIABILITIES_KEY,\n  OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT\n} from '../../../../../common/engine/utilities/constants';\nimport ReportedFinancials from '../../common/ReportedFinancials';\nimport {\n  getCurrentAssets,\n  getCurrentLiabilities,\n  getReportedWorkingCapital\n} from '../../../../../common/engine/selectors/factCalculationsSelectors';\nimport AdjustmentGroupForMode from '../../common/AdjustmentGroup/AdjustmentGroupForMode';\n\nconst NetWorkingCapitalTable = ({\n  isClientView,\n  contentVersionNumber,\n  contentId,\n  projectId,\n  forUseWithPublishingSSRService,\n  nameOfAdjustmentToExpand,\n  targetAdjustmentType,\n  targetAdjustmentName\n}) => {\n  const nwcTableViewTimePeriods = useSelector(getActiveTableTimePeriodsForNwc);\n  const participatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsParticipatingInCalculationsForNwc\n  );\n  const notParticipatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsNotParticipatingInCalculationsForNwc\n  );\n  const adjustmentTypesWorkingCapitalContribution = useSelector(\n    getAdjustmentTypesWorkingCapitalContributionForNwc\n  );\n  const currentAssets = useSelector(getCurrentAssets);\n  const currentLiabilities = useSelector(getCurrentLiabilities);\n  const reportedWorkingCapital = useSelector(getReportedWorkingCapital);\n  const nwcAdjustmentToggles = useSelector(getAdjustmentTogglesForNwc);\n  const links = useSelector(getLinkedAdjustmentsAsSourceForNwc);\n  const linkedAdjustments = links.filter(\n    link => !isClientView || !link.isBroken\n  );\n  const isPublishMode = forUseWithPublishingSSRService;\n\n  return (\n    <table\n      role=\"table\"\n      className=\"analysis-table\"\n      data-testid=\"structured-analysis-view-NWC\"\n      aria-label=\"Net Working Capital\"\n    >\n      <thead>\n        <OverallTableHeader\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n      </thead>\n      <tbody>\n        <ReportedFinancials\n          testId=\"current-assets\"\n          rowText={CURRENT_ASSETS_KEY}\n          financials={currentAssets}\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n        <ReportedFinancials\n          testId=\"current-liabilities\"\n          rowText={CURRENT_LIABILITIES_KEY}\n          financials={currentLiabilities}\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n        <ReportedFinancials\n          testId=\"reported-working-capital\"\n          rowText=\"Reported Working Capital\"\n          financials={reportedWorkingCapital}\n          timePeriods={nwcTableViewTimePeriods}\n          className=\"reported-working-capital\"\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n\n        {participatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.NET_WORKING_CAPITAL}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={nwcTableViewTimePeriods}\n            workingCapitalContributions={\n              adjustmentTypesWorkingCapitalContribution\n            }\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={nwcAdjustmentToggles}\n            isLastGroup={adjustmentTypeGroup.isLastGroup}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        {notParticipatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.NET_WORKING_CAPITAL}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={nwcTableViewTimePeriods}\n            linkedAdjustments={linkedAdjustments}\n            totalOverrideValue={OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT}\n            showToggles={false}\n            showTotalRow={false}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n        <FinalBorderRow\n          timePeriods={nwcTableViewTimePeriods}\n          documentCode={Constants.NET_WORKING_CAPITAL}\n          isPublishMode={isPublishMode}\n        />\n      </tbody>\n    </table>\n  );\n};\n\nNetWorkingCapitalTable.propTypes = {\n  isClientView: PropTypes.bool,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  forUseWithPublishingSSRService: PropTypes.bool\n};\n\nNetWorkingCapitalTable.defaultProps = {\n  isClientView: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null,\n  forUseWithPublishingSSRService: false\n};\n\nexport default NetWorkingCapitalTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextUtilities } from '@pwc/pwc-deals-web-common';\nimport { valueAsPercent } from '../../../../../common/services/textService';\nimport { EMPTY_DATA_MARKER } from '../../../../../common/engine/utilities/constants';\nimport AdjustmentControlsColumn from '../../common/AdjustmentControlsColumn';\n\nconst displayAsPercent = (value, emptyDataMarker) =>\n  value ? valueAsPercent(value) : emptyDataMarker;\n\nconst PercentageRow = ({\n  rowText,\n  financials,\n  timePeriods,\n  emptyDataMarker,\n  isPublishMode\n}) => {\n  return (\n    <tr\n      role=\"row\"\n      className=\"percent-of-revenue\"\n      data-testid={`percent-of-${TextUtilities.slugify(rowText)}`}\n    >\n      <th role=\"rowheader\" scope=\"row\" className=\"row-description\">\n        {`As a % of ${rowText}`}\n      </th>\n\n      {timePeriods.map((value, index) => (\n        <td\n          data-testid={`percent-of-${TextUtilities.slugify(\n            rowText\n          )}-column-value`}\n          // eslint-disable-next-line react/no-array-index-key\n          key={`PercentageRowColumnValue-${value}-${index}`}\n          role=\"cell\"\n          className=\"financial-value\"\n        >\n          {displayAsPercent(financials[value], emptyDataMarker)}\n        </td>\n      ))}\n      {!isPublishMode && <AdjustmentControlsColumn />}\n    </tr>\n  );\n};\n\nPercentageRow.propTypes = {\n  rowText: PropTypes.string.isRequired,\n  financials: PropTypes.shape({}).isRequired,\n  timePeriods: PropTypes.arrayOf(PropTypes.string).isRequired,\n  emptyDataMarker: PropTypes.string,\n  isPublishMode: PropTypes.bool\n};\n\nPercentageRow.defaultProps = {\n  emptyDataMarker: EMPTY_DATA_MARKER,\n  isPublishMode: false\n};\n\nexport default PercentageRow;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { getLinkedAdjustmentsAsSourceForQofE } from '../../../../../common/engine/selectors/adjustmentLinkSelectors';\nimport {\n  getAdjustmentTypesEbitdaContributionForQofE,\n  getTableReadyAdjustmentSumsNotParticipatingInCalculationsForQofE,\n  getTableReadyAdjustmentSumsParticipatingInCalculationsForQofE\n} from '../../../../../common/engine/selectors/adjustmentSelectors';\nimport { getAdjustmentTogglesForQofE } from '../../../../../common/engine/selectors/adjustmentTogglesSelectors';\nimport {\n  getPercentOfRevenue,\n  getPercentOfAdjustedRevenue,\n  getAdjustedRevenue\n} from '../../../../../common/engine/selectors/aggregatorSelectors';\nimport {\n  getReportedEbitda,\n  getReportedRevenue\n} from '../../../../../common/engine/selectors/factCalculationsSelectors';\nimport { getTimePeriodsForQofE } from '../../../../../common/engine/selectors/timePeriodSelectors';\nimport {\n  ADJUSTED_REVENUE_KEY,\n  OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT,\n  REPORTED_EBITDA_KEY,\n  REPORTED_REVENUE_KEY\n} from '../../../../../common/engine/utilities/constants';\nimport OverallTableHeader from '../../common/OverallTableHeader';\nimport ReportedFinancials from '../../common/ReportedFinancials';\nimport PercentageRow from './PercentageRow';\nimport AdjustmentGroupForMode from '../../common/AdjustmentGroup/AdjustmentGroupForMode';\n\nconst QofETable = ({\n  isClientView,\n  contentVersionNumber,\n  contentId,\n  projectId,\n  forUseWithPublishingSSRService,\n  nameOfAdjustmentToExpand,\n  targetAdjustmentType,\n  targetAdjustmentName\n}) => {\n  const qofeFinancialPeriods = useSelector(getTimePeriodsForQofE);\n  const reportedRevenue = useSelector(getReportedRevenue);\n  const adjustedRev = useSelector(getAdjustedRevenue);\n  const reportedEbitda = useSelector(getReportedEbitda);\n  const adjustmentTypesEbitdaContribution = useSelector(\n    getAdjustmentTypesEbitdaContributionForQofE\n  );\n  const percentOfRevenue = useSelector(getPercentOfRevenue);\n  const percentOfAdjustedRevenue = useSelector(getPercentOfAdjustedRevenue);\n  const participatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsParticipatingInCalculationsForQofE\n  );\n  const notParticipatingAdjustmentSums = useSelector(\n    getTableReadyAdjustmentSumsNotParticipatingInCalculationsForQofE\n  );\n  const qofeAdjustmentToggles = useSelector(getAdjustmentTogglesForQofE);\n\n  const links = useSelector(getLinkedAdjustmentsAsSourceForQofE);\n  const linkedAdjustments = links.filter(\n    link => !isClientView || !link.isBroken\n  );\n  const isPublishMode = forUseWithPublishingSSRService;\n\n  return (\n    <table\n      role=\"table\"\n      className=\"analysis-table\"\n      data-testid=\"structured-analysis-view-QofE\"\n      aria-label=\"Quality of Earnings\"\n    >\n      <thead>\n        <OverallTableHeader\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n      </thead>\n      <tbody>\n        <ReportedFinancials\n          testId=\"reported-revenue\"\n          rowText={REPORTED_REVENUE_KEY}\n          financials={reportedRevenue}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        <ReportedFinancials\n          testId=\"adjusted-revenue\"\n          rowText={ADJUSTED_REVENUE_KEY}\n          financials={adjustedRev}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        <ReportedFinancials\n          testId=\"reported-ebitda\"\n          rowText={REPORTED_EBITDA_KEY}\n          financials={reportedEbitda}\n          timePeriods={qofeFinancialPeriods}\n          className=\"reported-ebitda\"\n          isPublishMode={isPublishMode}\n        />\n\n        <PercentageRow\n          rowText=\"Reported Revenue\"\n          financials={percentOfRevenue}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        {participatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.QUALITY_OF_EARNINGS}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={qofeFinancialPeriods}\n            ebitdaContributions={adjustmentTypesEbitdaContribution}\n            linkedAdjustments={linkedAdjustments}\n            adjustmentToggles={qofeAdjustmentToggles}\n            isLastGroup={adjustmentTypeGroup.isLastGroup}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n\n        <PercentageRow\n          rowText=\"Adjusted Revenue\"\n          financials={percentOfAdjustedRevenue}\n          timePeriods={qofeFinancialPeriods}\n          isPublishMode={isPublishMode}\n        />\n\n        {notParticipatingAdjustmentSums.map(adjustmentTypeGroup => (\n          <AdjustmentGroupForMode\n            projectId={projectId}\n            documentCode={Constants.QUALITY_OF_EARNINGS}\n            contentId={contentId}\n            contentVersionNumber={contentVersionNumber}\n            key={adjustmentTypeGroup.adjustmentType}\n            group={adjustmentTypeGroup.adjustments}\n            groupName={adjustmentTypeGroup.adjustmentType}\n            timePeriods={qofeFinancialPeriods}\n            linkedAdjustments={linkedAdjustments}\n            totalOverrideValue={OTHER_CONSIDERATIONS_TOTALS_OVERRIDE_TEXT}\n            showToggles={false}\n            showTotalRow={false}\n            targetAdjustmentType={targetAdjustmentType}\n            targetAdjustmentName={targetAdjustmentName}\n            nameOfAdjustmentToExpand={nameOfAdjustmentToExpand}\n            isPublishMode={isPublishMode}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nQofETable.propTypes = {\n  isClientView: PropTypes.bool,\n  contentId: PropTypes.number.isRequired,\n  contentVersionNumber: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  nameOfAdjustmentToExpand: PropTypes.string,\n  forUseWithPublishingSSRService: PropTypes.bool\n};\n\nQofETable.defaultProps = {\n  isClientView: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  nameOfAdjustmentToExpand: null,\n  forUseWithPublishingSSRService: false\n};\n\nexport default QofETable;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport _get from 'lodash/get';\nimport QofEBridgeChart from '../../../../../common/charts/types/QofEBridgeChart';\nimport DebtDebtLikeTable from '../../DebtDebtLike/DebtDebtLikeTable/DebtDebtLikeTable';\nimport NetWorkingCapitalChart from '../../NetWorkingCapital/charts/NetWorkingCapitalChart';\nimport NetWorkingCapitalTable from '../../NetWorkingCapital/NetWorkingCapitalTable/NetWorkingCapitalTable';\nimport QofETable from '../../QofE/QofETable/QofETable';\n\nconst NullComponent = () => null;\nconst tableComponent = 'tableComponent';\nconst chartComponent = 'chartComponent';\n\nconst structuredComponentToDocumentCodeMap = {\n  [Constants.QUALITY_OF_EARNINGS]: {\n    [tableComponent]: QofETable,\n    [chartComponent]: QofEBridgeChart\n  },\n  [Constants.NET_WORKING_CAPITAL]: {\n    [tableComponent]: NetWorkingCapitalTable,\n    [chartComponent]: NetWorkingCapitalChart\n  },\n  [Constants.DEBT_AND_DEBT_LIKE]: {\n    [tableComponent]: DebtDebtLikeTable,\n    [chartComponent]: NullComponent\n  }\n};\n\nexport const tableForDocumentCode = documentCode =>\n  _get(\n    structuredComponentToDocumentCodeMap,\n    [documentCode, tableComponent],\n    NullComponent\n  );\n\nexport const chartForDocumentCode = documentCode =>\n  _get(\n    structuredComponentToDocumentCodeMap,\n    [documentCode, chartComponent],\n    NullComponent\n  );\n","/* eslint-disable react/forbid-prop-types */\nimport { Loader, TriPane } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport ModalConfirmation from '../../../../../common/components/ModalConfirmation';\nimport SourceDisplay from '../../../../../common/components/SourceDisplay/SourceDisplay';\nimport { STRUCTURED_DISPLAY_NAME_BY_CODE } from '../../../../../common/engine/utilities/constants';\nimport ConnectedContent from '../../../../narratives/ConnectedContent/ConnectedContent';\nimport AnalysisControlsHeader from '../../../common/AnalysisControlsHeader';\nimport NotesDisplay from '../../../common/NotesDisplay/NotesDisplay';\nimport TagList from '../../../common/TagList/TagList';\nimport ClientManipulationBar from '../../ClientManipulationBar/ClientManipulationBar';\nimport AnalysisDescription from '../AnalysisDescription/AnalysisDescription';\nimport StructuredAnalysisErrorCard from '../StructuredAnalysisErrorCard/StructuredAnalysisErrorCard';\nimport StructuredAnalysisHeader from '../StructuredAnalysisHeader/StructuredAnalysisHeader';\nimport {\n  chartForDocumentCode,\n  tableForDocumentCode\n} from './structuredComponentToDocumentCodeMap';\nimport './StructuredAnalysisView.scss';\n\nconst StructuredAnalysisView = ({\n  projectId,\n  documentCode,\n  hasError,\n  isLoading,\n  isConfirmVisible,\n  setIsConfirmVisible,\n  handleDelete,\n  chartKey,\n  incrementChartKey,\n  analysis,\n  workflowActions,\n  handleRefresh,\n  handleEdit,\n  versions,\n  viewClient,\n  isClientView,\n  targetAdjustmentType,\n  targetAdjustmentName,\n  initialPaneOneAvailable,\n  initialPaneTwoAvailable,\n  initialPaneThreeAvailable\n}) => {\n  const TableComponent = tableForDocumentCode(documentCode);\n  const ChartComponent = chartForDocumentCode(documentCode);\n\n  if (hasError) {\n    return <StructuredAnalysisErrorCard />;\n  }\n\n  if (isLoading) {\n    return <Loader dataTestId=\"structured-loading-indicator\" />;\n  }\n\n  return analysis ? (\n    <>\n      <ModalConfirmation\n        show={isConfirmVisible}\n        onCancel={() => setIsConfirmVisible(false)}\n        onConfirm={handleDelete}\n        confirmTitle={`Confirm ${STRUCTURED_DISPLAY_NAME_BY_CODE[documentCode]} Delete`}\n        confirmationMessage=\"This Analysis will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <TriPane\n        onChange={incrementChartKey}\n        initialPaneOneAvailable={initialPaneOneAvailable}\n        initialPaneTwoAvailable={initialPaneTwoAvailable}\n        initialPaneThreeAvailable={initialPaneThreeAvailable}\n      >\n        <AnalysisControlsHeader\n          isShared={analysis.shareWithAll}\n          workflowActions={workflowActions}\n          onRefresh={handleRefresh}\n          onEdit={handleEdit}\n          onDelete={() => setIsConfirmVisible(true)}\n          versions={versions}\n          analysis={analysis}\n          viewClient={viewClient}\n        >\n          <TriPane.Controls />\n        </AnalysisControlsHeader>\n\n        <div className=\"structured-analysis-view\">\n          <div className=\"tri-pane-container\" data-testid=\"tri-pane-display\">\n            <TriPane.HeaderContent>\n              <StructuredAnalysisHeader\n                title={STRUCTURED_DISPLAY_NAME_BY_CODE[documentCode]}\n                projectId={projectId}\n                analysis={analysis}\n                isOnClientVersion={viewClient.isOnClientVersion}\n              />\n            </TriPane.HeaderContent>\n            <TriPane.PaneOne>\n              <div className=\"scrollable structured-table\">\n                <TableComponent\n                  isClientView={isClientView}\n                  contentId={analysis.contentThreadId}\n                  contentVersionNumber={analysis.versionNumber}\n                  projectId={projectId}\n                  targetAdjustmentType={targetAdjustmentType}\n                  targetAdjustmentName={targetAdjustmentName}\n                />\n              </div>\n            </TriPane.PaneOne>\n            <TriPane.PaneTwo>\n              <ChartComponent key={chartKey} />\n            </TriPane.PaneTwo>\n            <TriPane.PaneThree>\n              <AnalysisDescription\n                isViewingSharedVersion={\n                  analysis.versionStatus ===\n                  Constants.VERSION_STATUS.SHARED.value\n                }\n                lightModeVariant\n              />\n            </TriPane.PaneThree>\n            <TriPane.SourceContent>\n              <SourceDisplay sourceText={analysis.source} />\n              <NotesDisplay text={analysis.notes} />\n              <TagList tags={analysis.tags} testId=\"analysis-tag-list\" />\n            </TriPane.SourceContent>\n          </div>\n        </div>\n      </TriPane>\n      <ConnectedContent\n        classModifier=\"structured-analysis\"\n        projectId={projectId}\n        contentId={analysis.contentId}\n      />\n      <ClientManipulationBar />\n    </>\n  ) : null;\n};\n\nStructuredAnalysisView.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  documentCode: PropTypes.string.isRequired,\n  hasError: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  isConfirmVisible: PropTypes.bool.isRequired,\n  setIsConfirmVisible: PropTypes.func.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  chartKey: PropTypes.number.isRequired,\n  incrementChartKey: PropTypes.func,\n  analysis: PropTypes.object,\n  workflowActions: PropTypes.array.isRequired,\n  handleRefresh: PropTypes.func.isRequired,\n  handleEdit: PropTypes.func.isRequired,\n  versions: PropTypes.array,\n  viewClient: PropTypes.object.isRequired,\n  isClientView: PropTypes.bool,\n  targetAdjustmentType: PropTypes.string,\n  targetAdjustmentName: PropTypes.string,\n  initialPaneOneAvailable: PropTypes.bool,\n  initialPaneTwoAvailable: PropTypes.bool,\n  initialPaneThreeAvailable: PropTypes.bool\n};\n\nStructuredAnalysisView.defaultProps = {\n  hasError: false,\n  isLoading: false,\n  analysis: undefined,\n  isClientView: false,\n  targetAdjustmentType: null,\n  targetAdjustmentName: null,\n  initialPaneOneAvailable: true,\n  initialPaneTwoAvailable: true,\n  initialPaneThreeAvailable: true,\n  versions: null,\n  incrementChartKey: () => {}\n};\n\nexport default StructuredAnalysisView;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useStructuredAnalysisContainer } from '../../common/hooks/useStructuredAnalysisContainer';\nimport StructuredAnalysisView from '../../common/StructuredAnalysisView/StructuredAnalysisView';\nimport '../../../common/analysis-detail-screen.scss';\n\nconst DebtDebtLikeContainer = () => {\n  const {\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError,\n    analysis,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  } = useStructuredAnalysisContainer(Constants.DEBT_AND_DEBT_LIKE);\n\n  return (\n    <StructuredAnalysisView\n      projectId={projectId}\n      documentCode={Constants.DEBT_AND_DEBT_LIKE}\n      hasError={hasError}\n      isLoading={isLoading}\n      analysis={analysis}\n      viewClient={viewClient}\n      isClientView={isClientView}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      versions={versions}\n      workflowActions={workflowActions}\n      handleEdit={handleEdit}\n      handleRefresh={handleRefresh}\n      handleDelete={handleDelete}\n      isConfirmVisible={isConfirmVisible}\n      setIsConfirmVisible={setIsConfirmVisible}\n      initialPaneTwoAvailable={false}\n      chartKey={chartKey}\n    />\n  );\n};\n\nexport default DebtDebtLikeContainer;\n","import React from 'react';\nimport { Select } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport ClearableDisplayPill from '../../../../../common/components/Pills/ClearableDisplayPill';\nimport { keyParser } from '../../../../../common/engine/utilities/linkedAdjustmentsUtilities';\n\nconst getLabelFromOptions = (options, selectedValue) => {\n  return (\n    options.find(x => x.value === selectedValue) || {\n      label: null\n    }\n  ).label;\n};\n\nconst getSourcePillText = (adjustmentNumber, adjustmentName) => {\n  return `${adjustmentNumber} ${adjustmentName}`;\n};\n\nconst SelectablePill = ({\n  editMode,\n  name,\n  onChange,\n  onDelete,\n  options,\n  value,\n  placeholder\n}) => {\n  const selectedLabel = getLabelFromOptions(options, value);\n\n  const adjustmentKey = keyParser(value);\n  const pillText = getSourcePillText(adjustmentKey.number, adjustmentKey.name);\n  const isAdjustmentBroken = !selectedLabel;\n\n  return editMode ? (\n    <Select\n      selectTestId={`select-input-${name}`}\n      value={value}\n      options={options}\n      onChange={event => onChange(event.target.value)}\n      placeholder={placeholder}\n      maxWidth=\"240px\"\n    />\n  ) : (\n    <div className=\"pill-container\">\n      <ClearableDisplayPill\n        onClearClick={onDelete}\n        tag={pillText}\n        index={name}\n        iconName={isAdjustmentBroken ? 'link-remove' : null}\n      />\n    </div>\n  );\n};\n\nSelectablePill.propTypes = {\n  editMode: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  value: PropTypes.string,\n  placeholder: PropTypes.string\n};\n\nSelectablePill.defaultProps = {\n  options: [],\n  value: '',\n  placeholder: ''\n};\n\nexport default SelectablePill;\n","import React from 'react';\nimport { Select } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport ClearablePill from '../../../../../common/components/Pills/ClearableDisplayPill';\nimport { keyParser } from '../../../../../common/engine/utilities/linkedAdjustmentsUtilities';\n\nconst getLabelFromOptions = (options, selectedValue) => {\n  return (\n    options.find(x => x.value === selectedValue) || {\n      label: null\n    }\n  ).label;\n};\n\nconst getTaregtPillText = (documentValue, adjustmentNumber, adjustmentName) => {\n  return `${documentValue} / ${adjustmentNumber} ${adjustmentName}`;\n};\n\nconst DocumentAndAdjustmentPill = ({\n  editMode,\n  name,\n  onDocumentChange,\n  onAdjustmentChange,\n  onDelete,\n  documentOptions,\n  adjustmentOptions,\n  documentValue,\n  adjustmentValue\n}) => {\n  const selectedDocumentLabel = getLabelFromOptions(\n    documentOptions,\n    documentValue\n  );\n  const selectedAdjustmentLabel = getLabelFromOptions(\n    adjustmentOptions,\n    adjustmentValue\n  );\n  const adjustmentKey = keyParser(adjustmentValue);\n  const pillText = getTaregtPillText(\n    selectedDocumentLabel,\n    adjustmentKey.number,\n    adjustmentKey.name\n  );\n  const isAdjustmentBroken = !selectedDocumentLabel || !selectedAdjustmentLabel;\n\n  return (\n    <div\n      data-testid=\"document-and-adjustment-selection\"\n      className=\"document-row\"\n    >\n      <div className=\"link-to\">Link to</div>\n      {editMode ? (\n        <>\n          <Select\n            selectTestId={`select-input-target-document-${name}`}\n            value={documentValue}\n            options={documentOptions}\n            onChange={event => onDocumentChange(event.target.value)}\n            placeholder=\"Select analyses\"\n            maxWidth=\"240px\"\n          />\n          <Select\n            selectTestId={`select-input-target-adjustment-${name}`}\n            value={adjustmentValue}\n            options={adjustmentOptions}\n            onChange={event => onAdjustmentChange(event.target.value)}\n            placeholder=\"Select Adjustment\"\n            maxWidth=\"240px\"\n          />\n        </>\n      ) : (\n        <div\n          data-testid=\"document-and-adjustment-pill\"\n          className=\"pill-container\"\n        >\n          <ClearablePill\n            onClearClick={onDelete}\n            tag={pillText}\n            index={`target-document-and-adjustment-pill-${name}`}\n            iconName={isAdjustmentBroken ? 'link-remove' : null}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nDocumentAndAdjustmentPill.propTypes = {\n  editMode: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  onDocumentChange: PropTypes.func.isRequired,\n  onAdjustmentChange: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  documentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  adjustmentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  documentValue: PropTypes.string,\n  adjustmentValue: PropTypes.string\n};\n\nDocumentAndAdjustmentPill.defaultProps = {\n  documentOptions: [],\n  documentValue: '',\n  adjustmentOptions: [],\n  adjustmentValue: ''\n};\n\nexport default DocumentAndAdjustmentPill;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport React, { useState, useEffect } from 'react';\n\nimport SelectablePill from './SelectablePill';\nimport { keyParser } from '../../../../../common/engine/utilities/linkedAdjustmentsUtilities';\nimport DocumentAndAdjustmentPill from './DocumentAndAdjustmentPill';\nimport './LinkedAdjustments.scss';\n\nconst LinkedAdjustment = ({\n  documentCode,\n  value,\n  name,\n  editMode,\n  adjustmentOptions,\n  targetDocumentOptions,\n  onToggleEditMode,\n  onChange,\n  onDelete\n}) => {\n  const targetItems = keyParser(value.targetAdjustment);\n\n  const [targetDocument, setTargetDocument] = useState(targetItems.code || '');\n\n  const [sourceAdjustmentName, setSourceAdjustmentName] = useState(\n    value.sourceAdjustment || ''\n  );\n  const [targetAdjustmentName, setTargetAdjustmentName] = useState(\n    value.targetAdjustment || ''\n  );\n  const [targetAdjustmentOptions, setTargetAdjustmentOptions] = useState([]);\n\n  useEffect(() => {\n    setTargetAdjustmentOptions(adjustmentOptions[targetDocument] || []);\n  }, [adjustmentOptions, targetDocument]);\n\n  const isAddButtonDisabled = () => {\n    const isValueEmpty = v => v === undefined || v === '';\n    return (\n      isValueEmpty(sourceAdjustmentName) ||\n      isValueEmpty(targetAdjustmentName) ||\n      isValueEmpty(targetDocument)\n    );\n  };\n\n  const onAddHandler = () => {\n    onToggleEditMode();\n    onChange({\n      sourceAdjustment: sourceAdjustmentName,\n      targetAdjustment: targetAdjustmentName\n    });\n  };\n\n  return (\n    <div\n      data-testid=\"linked-adjustment\"\n      className={classnames(\n        'linked-adjustment-row',\n        editMode ? 'editable' : 'viewing'\n      )}\n    >\n      <SelectablePill\n        editMode={editMode}\n        name={`source-adjustment-${name}`}\n        onChange={setSourceAdjustmentName}\n        onDelete={onDelete}\n        options={adjustmentOptions[documentCode]}\n        value={sourceAdjustmentName}\n        placeholder=\"Select Adjustment\"\n      />\n\n      <DocumentAndAdjustmentPill\n        editMode={editMode}\n        name={name}\n        onDocumentChange={setTargetDocument}\n        onAdjustmentChange={setTargetAdjustmentName}\n        onDelete={onDelete} // Note: When we get to \"grouping\" the right side, this will have to have more smarts than \"delete the row\"\n        documentOptions={targetDocumentOptions}\n        adjustmentOptions={targetAdjustmentOptions}\n        documentValue={targetDocument}\n        adjustmentValue={targetAdjustmentName}\n      />\n\n      {editMode && (\n        <div className=\"linked-adjustment-row-actions\">\n          <Button\n            type=\"button\"\n            className={`button-outline ${isAddButtonDisabled()}`}\n            data-testid={`button-add-${name}`}\n            onClick={onAddHandler}\n            disabled={isAddButtonDisabled()}\n          >\n            Add\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nLinkedAdjustment.propTypes = {\n  documentCode: PropTypes.string.isRequired,\n  adjustmentOptions: PropTypes.shape({\n    QofE: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    NWC: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    DDL: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    )\n  }),\n  targetDocumentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  editMode: PropTypes.bool.isRequired,\n  onToggleEditMode: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  value: PropTypes.shape({\n    sourceAdjustment: PropTypes.string,\n    targetDocument: PropTypes.string\n  }),\n  name: PropTypes.string.isRequired\n};\n\nLinkedAdjustment.defaultProps = {\n  adjustmentOptions: { QofE: [], NWC: [], DDL: [] },\n  targetDocumentOptions: [],\n  value: {\n    sourceAdjustment: '',\n    targetDocument: ''\n  }\n};\n\nexport default LinkedAdjustment;\n","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\nimport { v4 as uuidv4 } from 'uuid';\nimport LinkedAdjustment from './LinkedAdjustment';\nimport Separator from '../../../../../common/components/Separator';\nimport './LinkedAdjustments.scss';\n\nconst nameBuilder = index => `linkedAdjustments[${index}]`;\n\nconst LinkedAdjustments = ({\n  documentCode,\n  adjustmentOptions,\n  formValues,\n  targetDocumentOptions,\n  setFieldValue\n}) => {\n  const [\n    enableAddNewLinkedAdjustment,\n    setEnableAddNewLinkedAdjustment\n  ] = useState(false);\n\n  const addNewInProgressLinkedAdjustment = () => {\n    setEnableAddNewLinkedAdjustment(true);\n  };\n\n  const finishAddingNewLinkedAdjustment = adjustmentToAdd => {\n    setFieldValue('linkedAdjustments', [\n      ...formValues,\n      { newId: uuidv4(), ...adjustmentToAdd }\n    ]);\n\n    setEnableAddNewLinkedAdjustment(false);\n  };\n\n  const isAddNewAdjustmentLinkDisabled = () =>\n    enableAddNewLinkedAdjustment === undefined;\n\n  const onDelete = valueToDelete => {\n    const adjustmentsForUpdate = formValues.filter(\n      adj => adj.id !== valueToDelete.id || adj.newId !== valueToDelete.newId\n    );\n\n    setFieldValue('linkedAdjustments', adjustmentsForUpdate);\n  };\n\n  return (\n    <>\n      <div\n        className=\"linked-adjustment-container\"\n        data-testid=\"linked-adjustments-container\"\n      >\n        <div className=\"linked-adjustments-title\">\n          <Icon\n            name=\"link\"\n            width={21}\n            className=\"icon fill connect-content-icon\"\n          />\n          Link Adjustments\n        </div>\n        {formValues.length === 0 && (\n          <div className=\"linked-adjustment-description helper-text\">\n            <Icon\n              name=\"information\"\n              className=\"fill icon-yellow helper-icon\"\n              width={18}\n              data-testid=\"no-linked-adjustments\"\n            />{' '}\n            &nbsp;No analysis adjustments have been linked\n          </div>\n        )}\n\n        {(enableAddNewLinkedAdjustment || formValues.length > 0) && (\n          <Separator />\n        )}\n\n        {formValues.map((value, index) => (\n          // fragment shorthand does not permit specifying a key prop.\n          <React.Fragment key={nameBuilder(index)}>\n            <LinkedAdjustment\n              documentCode={documentCode}\n              name={nameBuilder(index)}\n              key={value.id || value.newId}\n              value={value}\n              adjustmentOptions={adjustmentOptions}\n              targetDocumentOptions={targetDocumentOptions}\n              editMode={false}\n              onToggleEditMode={() => undefined}\n              onDelete={() => onDelete(value)}\n              onChange={updatedValue =>\n                finishAddingNewLinkedAdjustment(index, updatedValue)\n              }\n            />\n            <Separator key={`separator-${nameBuilder(index)}`} />\n          </React.Fragment>\n        ))}\n        {enableAddNewLinkedAdjustment && (\n          // fragment shorthand does not permit specifying a key prop.\n          <React.Fragment key={nameBuilder(formValues.length + 1)}>\n            <LinkedAdjustment\n              documentCode={documentCode}\n              name={nameBuilder(formValues.length + 1)}\n              value={undefined}\n              adjustmentOptions={adjustmentOptions}\n              targetDocumentOptions={targetDocumentOptions}\n              editMode\n              onToggleEditMode={() => undefined}\n              onDelete={() => undefined}\n              onChange={updatedValue =>\n                finishAddingNewLinkedAdjustment(updatedValue)\n              }\n            />\n            <Separator\n              key={`separator-${nameBuilder(formValues.length + 1)}`}\n            />\n          </React.Fragment>\n        )}\n      </div>\n      <Button\n        type=\"button\"\n        data-testid=\"add-new-linked-adjustment\"\n        className=\"add-link button-link\"\n        onClick={() => addNewInProgressLinkedAdjustment()}\n        disabled={isAddNewAdjustmentLinkDisabled()}\n      >\n        <Icon name=\"add\" className=\"fill icon-orange helper-icon\" width={21} />\n        <span className=\"menu-item-title\">New Link</span>\n      </Button>\n    </>\n  );\n};\n\nLinkedAdjustments.propTypes = {\n  documentCode: PropTypes.string.isRequired,\n  adjustmentOptions: PropTypes.shape({\n    QofE: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    NWC: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    ),\n    DDL: PropTypes.arrayOf(\n      PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n    )\n  }),\n  formValues: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      newId: PropTypes.string, // Used to track if a value was added but not Published\n      sourceAdjustment: PropTypes.string,\n      targetDocument: PropTypes.string\n    })\n  ),\n  targetDocumentOptions: PropTypes.arrayOf(\n    PropTypes.shape({ label: PropTypes.string, value: PropTypes.string })\n  ),\n  setFieldValue: PropTypes.func.isRequired\n};\n\nLinkedAdjustments.defaultProps = {\n  adjustmentOptions: { QofE: [], NWC: [], DDL: [] },\n  targetDocumentOptions: [],\n  formValues: []\n};\n\nexport default LinkedAdjustments;\n","import React from 'react';\nimport { TextArea } from '@pwc/pwc-deals-ui';\n\nconst NotesInput = ({ field }) => {\n  return (\n    <div data-testid=\"notes-input-container\">\n      <TextArea\n        name=\"notes\"\n        field={field}\n        label=\"Notes (optional)\"\n        placeholder=\"Add notes\"\n        maxLength={250}\n        basic\n      />\n    </div>\n  );\n};\n\nexport default NotesInput;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Field, Form } from 'formik';\nimport React from 'react';\n\nimport D3Alert from '../../../common/components/Alert/D3Alert';\nimport ActiveContentDraftHeader from '../../../common/components/ContentHeaders/ActiveContentDraftHeader';\nimport FormLayout from '../../../common/components/layouts/FormLayout';\nimport PublishButton from '../../../common/components/PublishButton';\nimport RichTextEditorFormikField from '../../../common/components/RichTextEditorFormikField/RichTextEditorFormikField';\nimport SourceInput from '../../../common/components/SourceInput';\nimport TitleFieldset from '../../../common/components/TitleFieldset/TitleFieldset';\nimport LibraryItemSelect from '../../contentLibrary/LibraryItemSelect/LibraryItemSelect';\nimport EditConnectedContent from '../../narratives/EditConnectedContent/EditConnectedContent';\nimport TagEditor from '../../tagging/common/TagEditor/TagEditor';\nimport LinkedAdjustments from '../structured-analysis/common/LinkedAdjustments/LinkedAdjustments';\nimport NotesInput from './NotesInput';\nimport './AnalysisForm.scss';\nimport Separator from '../../../common/components/Separator';\n\nconst AnalysisForm = ({\n  documentCode = '',\n  onCancel,\n  isSaving,\n  errorType,\n  errors,\n  touched,\n  isValid,\n  children,\n  values,\n  setFieldValue,\n  canEditTitle = true,\n  showLibraryItemPicker = true,\n  showLinkedAdjustments = false,\n  showNotes = false,\n  projectId,\n  parentContentId,\n  narratives,\n  setNarratives,\n  adjustmentOptions,\n  targetDocumentOptions,\n  dirty: _dirty,\n  onSaveText,\n  standbyText,\n  ...rest\n}) => {\n  const validateTitle = value => {\n    let error;\n    if (!value || value.trim().length === 0) {\n      error = 'Title cannot be blank';\n    }\n    return error;\n  };\n\n  return (\n    <FormLayout\n      headerComponent={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <ActiveContentDraftHeader\n          onCancel={onCancel}\n          isSaving={isSaving}\n          errors={errors}\n          touched={touched}\n          isValid={isValid}\n          dirty\n          onSaveText={onSaveText}\n          standbyText={standbyText}\n        />\n      }\n    >\n      {children}\n\n      <Form\n        data-testid=\"analysis-form\"\n        className=\"analysis-form mt-5\"\n        {...rest}\n      >\n        {errors.title && touched.title && <div>{errors.title}</div>}\n        <div className=\"form-fields\">\n          <div className=\"input-container\">\n            <Field\n              name=\"title\"\n              component={TitleFieldset}\n              label=\"Title\"\n              placeholder=\"Start typing here to give your new Analysis a title\"\n              className=\"title-fieldset\"\n              disabled={!canEditTitle}\n              validate={validateTitle}\n            />\n\n            <Field\n              name=\"body\"\n              component={RichTextEditorFormikField}\n              label=\"Description (optional)\"\n              dataTestId=\"text-area-body\"\n            />\n\n            <div className=\"analysis-form-extras\">\n              <Field name=\"source\" component={SourceInput} />\n\n              {showNotes && <Field name=\"notes\" component={NotesInput} />}\n\n              {showLibraryItemPicker && (\n                <Field name=\"libraryItemId\" component={LibraryItemSelect} />\n              )}\n\n              {showLinkedAdjustments && (\n                <LinkedAdjustments\n                  adjustmentOptions={adjustmentOptions}\n                  targetDocumentOptions={targetDocumentOptions}\n                  formValues={values.linkedAdjustments}\n                  setFieldValue={setFieldValue}\n                  documentCode={documentCode}\n                />\n              )}\n              <TagEditor projectId={projectId} />\n            </div>\n          </div>\n        </div>\n\n        <EditConnectedContent\n          projectId={projectId}\n          parentContentId={parentContentId}\n          narratives={narratives}\n          setNarratives={setNarratives}\n        />\n\n        <Separator />\n\n        <div className=\"form-bottom-actions\">\n          <Button\n            className=\"button-link form-cancel-button\"\n            type=\"button\"\n            onClick={onCancel}\n            data-testid=\"cancel-button-bottom\"\n          >\n            Cancel\n          </Button>\n          <PublishButton\n            isSaving={isSaving}\n            isValid={isValid}\n            buttonPosition=\"bottom\"\n            onSaveText=\"Updating...\"\n            standbyText=\"Update\"\n          />\n        </div>\n        {errorType && <D3Alert configType={errorType} />}\n      </Form>\n    </FormLayout>\n  );\n};\n\nexport default AnalysisForm;\n","import * as Yup from 'yup';\n\nexport const emptyAnalysis = () => ({\n  title: '',\n  body: '',\n  tags: [],\n  linkedAdjustments: []\n});\n\nexport const analysisSchema = Yup.object().shape({\n  title: Yup.string().required('Title is required')\n});\n","import { Loader } from '@pwc/pwc-deals-ui';\nimport { Constants, ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport { Formik } from 'formik';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { getCalcEngineIsProcessing } from '../../../common/engine/reducers/calcEngine';\nimport {\n  getAdjustmentOptionsForDdl,\n  getAdjustmentOptionsForNwc,\n  getAdjustmentOptionsForQofE\n} from '../../../common/engine/selectors/adjustmentSelectors';\nimport { getLinkedAdjustmentsByCode } from '../../../common/engine/selectors/linkedAdjustmentsByDocument';\nimport { clearDataAndtransformAllIngestedStructuredDocumentsThunk } from '../../../common/engine/thunks/clearDataAndtransformAllIngestedStructuredDocumentsThunk';\nimport { getNarratives } from '../../narratives/narrativesService';\nimport { getLinksFromNarratives } from '../../narratives/narrativesUtilities';\nimport AnalysisForm from '../common/AnalysisForm';\nimport { analysisSchema, emptyAnalysis } from '../common/analysisModel';\nimport { saveLinkedAdjustments } from '../../../common/engine/services/structuredAnalysisLinkedAdjustmentsService';\nimport {\n  getStructuredAnalysisDocumentsWithData,\n  putStructuredAnalyses,\n  searchAnalyses\n} from '../../../common/engine/services/structuredAnalysisService';\nimport { getStructuredAnalysisViewLoadingInProcess } from '../../../common/engine/reducers/structuredAnalysisViewSlice';\n\nconst EditStructuredAnalysis = ({\n  type,\n  title,\n  getReturnPath,\n  showLinkedAdjustments,\n  documentCode\n}) => {\n  const dispatch = useDispatch();\n  const { projectId } = useParams();\n  const history = useHistory();\n  const [analysis, setAnalysis] = useState(emptyAnalysis());\n  const [currentTags, setCurrentTags] = useState([]);\n  const [tagsUpdated, setTagsUpdated] = useState(false);\n  const [\n    structuredAnalysisDocumentsWithData,\n    setStructuredAnalysisDocumentsWithData\n  ] = useState([]);\n  const [errorType, setErrorType] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n  const [narratives, setNarratives] = useState(null);\n  const [docsWithDataFetchStatus, setDocsWithDataFetchStatus] = useState('');\n  const [analysisFetchStatus, setAnalysisFetchStatus] = useState('');\n  const isProcessing = useSelector(getCalcEngineIsProcessing);\n  const initializingData = useSelector(\n    getStructuredAnalysisViewLoadingInProcess\n  );\n  const initialLinkedAdjustments = useSelector(\n    getLinkedAdjustmentsByCode(documentCode)\n  );\n\n  const defaultStatusValue = 300;\n  const gotoViewChart = () => history.replace(getReturnPath(projectId));\n\n  const adjustmentOptions = {\n    [Constants.QUALITY_OF_EARNINGS]: useSelector(getAdjustmentOptionsForQofE),\n    [Constants.NET_WORKING_CAPITAL]: useSelector(getAdjustmentOptionsForNwc),\n    [Constants.DEBT_AND_DEBT_LIKE]: useSelector(getAdjustmentOptionsForDdl)\n  };\n\n  useEffect(() => {\n    if (projectId) {\n      setDocsWithDataFetchStatus('loading');\n      getStructuredAnalysisDocumentsWithData(projectId).then(\n        structuredDocumentsResponse => {\n          const targetDocumentOptions = structuredDocumentsResponse\n            .filter(\n              document =>\n                document.hasDetailView === true &&\n                document.code !== documentCode\n            )\n            .map(structuredAnalysisDocument => ({\n              value: structuredAnalysisDocument.code,\n              label: structuredAnalysisDocument.displayName\n            }));\n\n          setStructuredAnalysisDocumentsWithData(() => targetDocumentOptions);\n          setDocsWithDataFetchStatus('');\n        }\n      );\n    }\n  }, [projectId, documentCode]);\n\n  useEffect(() => {\n    const fetch = async () => {\n      setAnalysisFetchStatus('loading');\n      const response = await searchAnalyses(projectId, type);\n\n      if (!response.length) {\n        history.push('/unauthorized');\n      } else {\n        const returnedAnalysis = response[0];\n\n        returnedAnalysis.title = title;\n        setAnalysis(returnedAnalysis);\n\n        if (returnedAnalysis.contentThreadId) {\n          const allContent = await getNarratives(projectId);\n          setNarratives({\n            ...allContent,\n            analyses: allContent.analyses.filter(\n              i =>\n                i.contentThreadId.toString() !==\n                returnedAnalysis.contentThreadId.toString()\n            )\n          });\n        }\n        setAnalysisFetchStatus('');\n      }\n    };\n    fetch();\n  }, [projectId, title, type, history, documentCode, dispatch]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        dispatch(\n          clearDataAndtransformAllIngestedStructuredDocumentsThunk(\n            projectId,\n            documentCode,\n            false\n          )\n        );\n        // eslint-disable-next-line no-empty\n      } catch (_) {}\n    };\n\n    if (projectId) {\n      fetchData();\n    }\n  }, [dispatch, projectId, documentCode]);\n\n  const handleSave = async ({\n    body,\n    tags,\n    linkedAdjustments,\n    source,\n    notes\n  }) => {\n    setIsSaving(true);\n    try {\n      const links = getLinksFromNarratives(narratives, analysis.contentId);\n      setCurrentTags(tags);\n      setTagsUpdated(true);\n      await putStructuredAnalyses(projectId, {\n        contentThreadId: analysis.contentThreadId,\n        contentId: analysis.contentId,\n        contentSubType: analysis.contentSubType,\n        title,\n        body,\n        source,\n        notes,\n        tags,\n        links\n      });\n\n      await saveLinkedAdjustments(\n        projectId,\n        initialLinkedAdjustments,\n        linkedAdjustments,\n        dispatch\n      );\n\n      setErrorType();\n      gotoViewChart();\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  const initialFormTags = (() => {\n    const tagsFromAnalysis = (analysis.tags || []).map(tag => tag.text);\n    return tagsUpdated ? currentTags : tagsFromAnalysis;\n  })();\n\n  const initialFormValues = {\n    title: analysis.title,\n    body: analysis.body || '',\n    status: analysis.status || defaultStatusValue,\n    source: analysis.source || '',\n    notes: analysis.notes || '',\n    tags: initialFormTags,\n    linkedAdjustments: [...initialLinkedAdjustments]\n  };\n\n  const isLoading =\n    docsWithDataFetchStatus !== '' ||\n    analysisFetchStatus !== '' ||\n    isProcessing ||\n    initializingData;\n\n  if (isLoading) {\n    return <Loader dataTestId=\"structured-loading-indicator\" />;\n  }\n\n  return (\n    <Formik\n      initialValues={initialFormValues}\n      enableReinitialize\n      onSubmit={handleSave}\n      validationSchema={analysisSchema}\n      validateOnChange\n    >\n      {({ errors, touched, isValid, values, setFieldValue }) => (\n        <AnalysisForm\n          documentCode={documentCode}\n          onCancel={gotoViewChart}\n          isSaving={isSaving}\n          errorType={errorType}\n          errors={errors}\n          touched={touched}\n          isValid={isValid}\n          values={values}\n          setFieldValue={setFieldValue}\n          canEditTitle={false}\n          showLibraryItemPicker={false}\n          showLinkedAdjustments={showLinkedAdjustments}\n          showNotes\n          projectId={projectId}\n          parentContentId={analysis.contentId || 0}\n          narratives={narratives}\n          setNarratives={setNarratives}\n          adjustmentOptions={adjustmentOptions}\n          onSaveText=\"Updating...\"\n          standbyText=\"Update\"\n          targetDocumentOptions={structuredAnalysisDocumentsWithData}\n        >\n          <h1>Edit Analysis</h1>\n        </AnalysisForm>\n      )}\n    </Formik>\n  );\n};\n\nEditStructuredAnalysis.propTypes = {\n  type: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  getReturnPath: PropTypes.func.isRequired,\n  showLinkedAdjustments: PropTypes.bool\n};\n\nEditStructuredAnalysis.defaultProps = {\n  showLinkedAdjustments: false\n};\nexport default EditStructuredAnalysis;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { AnalysisTypes } from '../../../analysesService';\nimport EditStructuredAnalysis from '../../../EditAnalysis/EditStructuredAnalysis';\nimport { viewDebtAndDebtLikePath } from '../../../../../common/services/urlService';\n\nconst DebtDebtLikeForm = () => (\n  <EditStructuredAnalysis\n    getReturnPath={viewDebtAndDebtLikePath}\n    title=\"Debt and Debt Like\"\n    type={AnalysisTypes[Constants.DEBT_AND_DEBT_LIKE]}\n    documentCode={Constants.DEBT_AND_DEBT_LIKE}\n    showLinkedAdjustments\n  />\n);\n\nexport default DebtDebtLikeForm;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useStructuredAnalysisContainer } from '../../common/hooks/useStructuredAnalysisContainer';\nimport StructuredAnalysisView from '../../common/StructuredAnalysisView/StructuredAnalysisView';\nimport '../../../common/analysis-detail-screen.scss';\n\nconst NetWorkingCapitalContainer = () => {\n  const {\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError,\n    analysis,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    incrementChartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  } = useStructuredAnalysisContainer(Constants.NET_WORKING_CAPITAL);\n\n  return (\n    <StructuredAnalysisView\n      projectId={projectId}\n      documentCode={Constants.NET_WORKING_CAPITAL}\n      hasError={hasError}\n      isLoading={isLoading}\n      analysis={analysis}\n      viewClient={viewClient}\n      isClientView={isClientView}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      versions={versions}\n      workflowActions={workflowActions}\n      handleEdit={handleEdit}\n      handleRefresh={handleRefresh}\n      handleDelete={handleDelete}\n      isConfirmVisible={isConfirmVisible}\n      setIsConfirmVisible={setIsConfirmVisible}\n      incrementChartKey={incrementChartKey}\n      chartKey={chartKey}\n    />\n  );\n};\n\nexport default NetWorkingCapitalContainer;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { viewNetWorkingCapitalPath } from '../../../../../common/services/urlService';\nimport { AnalysisTypes } from '../../../analysesService';\nimport EditStructuredAnalysis from '../../../EditAnalysis/EditStructuredAnalysis';\n\nconst NetWorkingCapitalEditForm = () => (\n  <EditStructuredAnalysis\n    getReturnPath={viewNetWorkingCapitalPath}\n    title=\"Net Working Capital\"\n    type={AnalysisTypes[Constants.NET_WORKING_CAPITAL]}\n    documentCode={Constants.NET_WORKING_CAPITAL}\n    showLinkedAdjustments\n  />\n);\n\nexport default NetWorkingCapitalEditForm;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useStructuredAnalysisContainer } from '../../common/hooks/useStructuredAnalysisContainer';\nimport StructuredAnalysisView from '../../common/StructuredAnalysisView/StructuredAnalysisView';\nimport '../../../common/analysis-detail-screen.scss';\n\nconst QofEContainer = () => {\n  const {\n    projectId,\n    targetAdjustmentType,\n    targetAdjustmentName,\n    hasError,\n    analysis,\n    isConfirmVisible,\n    setIsConfirmVisible,\n    isLoading,\n    versions,\n    chartKey,\n    incrementChartKey,\n    viewClient,\n    handleEdit,\n    handleDelete,\n    handleRefresh,\n    workflowActions,\n    isClientView\n  } = useStructuredAnalysisContainer(Constants.QUALITY_OF_EARNINGS);\n\n  return (\n    <StructuredAnalysisView\n      projectId={projectId}\n      documentCode={Constants.QUALITY_OF_EARNINGS}\n      hasError={hasError}\n      isLoading={isLoading}\n      analysis={analysis}\n      viewClient={viewClient}\n      isClientView={isClientView}\n      targetAdjustmentType={targetAdjustmentType}\n      targetAdjustmentName={targetAdjustmentName}\n      versions={versions}\n      workflowActions={workflowActions}\n      handleEdit={handleEdit}\n      handleRefresh={handleRefresh}\n      handleDelete={handleDelete}\n      isConfirmVisible={isConfirmVisible}\n      setIsConfirmVisible={setIsConfirmVisible}\n      incrementChartKey={incrementChartKey}\n      chartKey={chartKey}\n    />\n  );\n};\n\nexport default QofEContainer;\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { viewQualityOfEarningsPath } from '../../../../../common/services/urlService';\nimport { AnalysisTypes } from '../../../analysesService';\nimport EditStructuredAnalysis from '../../../EditAnalysis/EditStructuredAnalysis';\n\nconst QofEEditForm = () => {\n  return (\n    <EditStructuredAnalysis\n      getReturnPath={viewQualityOfEarningsPath}\n      title=\"Quality of Earnings\"\n      type={AnalysisTypes[Constants.QUALITY_OF_EARNINGS]}\n      documentCode={Constants.QUALITY_OF_EARNINGS}\n      showLinkedAdjustments\n    />\n  );\n};\n\nexport default QofEEditForm;\n","import { getLocation } from 'connected-react-router';\nimport { createSelector } from 'reselect';\nimport { getIsViewingToggled } from '../../../../common/engine/reducers/calcEngine';\nimport { structuredRoutes } from '../../../../common/services/urlService';\n\nconst getIsCurrentRouteAStructuredAnalysisRoute = createSelector(\n  getLocation,\n  currentLocation => {\n    return (\n      Object.keys(structuredRoutes).filter(key => {\n        const currentKeyPath = structuredRoutes[key];\n        return currentLocation.pathname.endsWith(currentKeyPath);\n      }).length > 0\n    );\n  }\n);\n\nexport const getAppBannerConfig = createSelector(\n  getIsViewingToggled,\n  getIsCurrentRouteAStructuredAnalysisRoute,\n  (isViewingToggled, isStructuredAnalysisLocation) => {\n    return {\n      showBanner: isViewingToggled && isStructuredAnalysisLocation\n    };\n  }\n);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { AppBanner, Button } from '@pwc/pwc-deals-ui';\nimport { getAppBannerConfig } from './structuredAnalysisBannerSelectors';\n\nconst StructuredAnalysisViewingToggledDataBanner = ({\n  showDisclaimerModal\n}) => {\n  const config = useSelector(getAppBannerConfig);\n  return (\n    <AppBanner\n      showBanner={config.showBanner}\n      dataTestId=\"viewing-toggled-data-banner\"\n    >\n      <div data-testid=\"disclaimer-warning-text\">\n        You are outside of the PwC default view. Your data selections may not be\n        consistent with the commentary and/or observations presented on this\n        screen. Information should be viewed in conjunction with the\n        following&nbsp;\n        <Button\n          className=\"button-link\"\n          key=\"project-disclaimer\"\n          data-testid=\"project-disclaimer-link\"\n          onClick={() => showDisclaimerModal(true)}\n        >\n          disclaimer.\n        </Button>\n      </div>\n    </AppBanner>\n  );\n};\n\nexport default StructuredAnalysisViewingToggledDataBanner;\n","import React, { useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport StructuredAnalysisViewingToggledDataBanner from '../StructuredAnalysisViewingToggledDataBanner/StructuredAnalysisViewingToggledDataBanner';\nimport './StructuredAnalysisContainer.scss';\n\nexport const withStructuredContainer = WrappedStructuredContainer => () => (\n  <StructuredAnalysisContainer>\n    <WrappedStructuredContainer />\n  </StructuredAnalysisContainer>\n);\n\nconst ToggledDisclaimerModal = ({ showModal, closeModal }) => {\n  const toggledDisclaimerTitle = 'Visual Interactive Disclaimer';\n  const toggledDisclaimerMessage =\n    'Any adjustments to the output prepared by PwC are at your discretion and for your convenience and general information purposes only. PwC accepts no liability to you or anyone else in connection with the results.';\n\n  return (\n    <Modal\n      show={showModal}\n      onHide={() => closeModal(false)}\n      className=\"disclaimer-modal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title className=\"disclaimer-modal-title\">\n          <h4>{toggledDisclaimerTitle}</h4>\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body className=\"scrollable disclaimer-modal-body\">\n        <div\n          data-testid=\"project-disclaimer-content\"\n          className=\"project-disclaimer-content\"\n        >\n          {toggledDisclaimerMessage}\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nconst StructuredAnalysisContainer = ({ children }) => {\n  const [showModal, openModal] = useState(false);\n\n  return (\n    <>\n      <StructuredAnalysisViewingToggledDataBanner\n        showDisclaimerModal={openModal}\n      />\n      <ToggledDisclaimerModal showModal={showModal} closeModal={openModal} />\n      {children}\n    </>\n  );\n};\n\nexport default StructuredAnalysisContainer;\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { createReportPath } from '../../../../common/services/urlService';\nimport './ReportBuilderLink.scss';\n\nconst ReportBuilderLink = ({ projectId }) => {\n  return (\n    <Link to={createReportPath(projectId)} className=\"report-builder-link\">\n      <Icon\n        name=\"report\"\n        width={24}\n        className=\"report-builder-link__icon fill icon-orange\"\n      />\n      Go to Report Builder\n    </Link>\n  );\n};\n\nexport default ReportBuilderLink;\n","import { ReportingApiClient } from '../../../../common/services/httpClient';\n\nconst baseServicePath = (projectId, contentId, versionStatus) =>\n  ['projects', projectId, 'preview', 'content', contentId, versionStatus].join(\n    '/'\n  );\n\nexport const getReportPreview = async (\n  projectId,\n  contentId,\n  version,\n  cancelRequestFn = undefined\n) => {\n  const response = await ReportingApiClient.get(\n    baseServicePath(projectId, contentId, version),\n    undefined,\n    undefined,\n    cancelRequestFn\n  );\n\n  return response.data.previewImage;\n};\n","import { Icon, Loader } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport qs from 'query-string';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport '../analysis-top-bar-container.scss';\nimport './AnalysisReportPreview.scss';\nimport { getCurrentAnalysis, resetAnalysis } from '../../analysisSlice';\nimport {\n  loadAnalysisThunk,\n  loadStructuredAnalysisThunk\n} from '../../analysisSliceThunk';\nimport ReportBuilderLink from './ReportBuilderLink';\nimport { getReportPreview } from './AnalysisReportService';\nimport StatusContainer from '../../../../common/components/StatusContainer/StatusContainer';\nimport {\n  viewAnalysisPath,\n  viewStructuredAnalysisPathForSubType\n} from '../../../../common/services/urlService';\n\nconst AnalysisReportPreview = () => {\n  const { projectId, analysisId, version } = useParams();\n  const location = useLocation();\n  const [reportData, setReportData] = useState([]);\n  const [isReportLoading, setIsReportLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n\n  const dispatch = useDispatch();\n  const analysis = useSelector(getCurrentAnalysis);\n\n  const { isUnStructured } = qs.parse(location.search);\n\n  useEffect(() => {\n    async function fetchReportPreview() {\n      try {\n        const reportPreview = await getReportPreview(\n          projectId,\n          analysisId,\n          version\n        );\n        setReportData(reportPreview);\n      } catch (e) {\n        setHasError(true);\n      } finally {\n        setIsReportLoading(false);\n      }\n    }\n\n    fetchReportPreview();\n  }, [analysisId, projectId, version]);\n\n  useEffect(() => {\n    const analysisVersion =\n      version === 'shared' ? Constants.VERSION_STATUS.SHARED.value : '';\n    if (isUnStructured === 'false') {\n      dispatch(\n        loadStructuredAnalysisThunk(projectId, analysisId, analysisVersion)\n      );\n    } else {\n      dispatch(loadAnalysisThunk(projectId, analysisId, analysisVersion));\n    }\n    return () => dispatch(resetAnalysis());\n  }, [dispatch, projectId, analysisId, version, isUnStructured]);\n\n  const analysisLink = analysis.isUnStructured\n    ? viewAnalysisPath(projectId, analysis.contentThreadId)\n    : viewStructuredAnalysisPathForSubType(projectId, analysis.contentSubType);\n\n  return (\n    <div className=\"analysis-report-preview\">\n      <div className=\"analysis-top-bar-container\">\n        <div className=\"analysis-top-bar\">\n          {analysis.contentId && (\n            <Link\n              to={analysisLink}\n              className=\"analysis-report-preview__back-link\"\n            >\n              <Icon\n                name=\"left-chevron\"\n                width={14}\n                className=\"analysis-report-preview__back-icon fill icon-orange\"\n              />\n              Back to working view\n            </Link>\n          )}\n        </div>\n      </div>\n\n      <div className=\"analysis-report-preview-container\">\n        <div className=\"analysis-report-preview__inner\">\n          <div className=\"analysis-report-preview__inner__status\">\n            {analysis.contentId && (\n              <StatusContainer\n                projectId={projectId}\n                content={analysis}\n                className=\"analysis-pill-container\"\n                allowDraftPill\n              />\n            )}\n          </div>\n\n          <div className=\"analysis-report-preview__inner__builder-link\">\n            <ReportBuilderLink projectId={projectId} />\n          </div>\n        </div>\n        {hasError && <div>Failed to load content</div>}\n        <>\n          {isReportLoading || analysis.isLoading ? (\n            <Loader dataTestId=\"loading-spinner\" />\n          ) : (\n            reportData.map(image => {\n              return (\n                <img\n                  className=\"preview-image\"\n                  key={image}\n                  src={image}\n                  alt=\"report preview\"\n                />\n              );\n            })\n          )}\n        </>\n      </div>\n    </div>\n  );\n};\n\nexport default AnalysisReportPreview;\n","import _get from 'lodash/get';\nimport React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport { structuredRoutes } from '../../common/services/urlService';\nimport ProjectPermissionRoute from '../security/ProjectPermissionRoute';\nimport AddAnalysisFromTemplate from './AddAnalysisFromTemplate/AddAnalysisFromTemplate';\nimport AddAnalysisType from './AddAnalysisType/AddAnalysisType';\nimport AnalysesContainer from './AnalysesContainer/AnalysesContainer';\nimport AnalysisDetailScreenContainer from './AnalysesScreen/AnalysisDetailScreen/AnalysisDetailScreenContainer';\nimport CreateFreeformAnalysis from './Freeform/CreateFreeformAnalysis/CreateFreeformAnalysis';\nimport EditFreeformAnalysis from './Freeform/EditFreeformAnalysis/EditFreeformAnalysis';\nimport DebtDebtLikeContainer from './structured-analysis/DebtDebtLike/DebtDebtLikeContainer/DebtDebtLikeContainer';\nimport DebtDebtLikeForm from './structured-analysis/DebtDebtLike/DebtDebtLikeForm/DebtDebtLikeForm';\nimport NetWorkingCapitalContainer from './structured-analysis/NetWorkingCapital/NetWorkingCapitalContainer/NetWorkingCapitalContainer';\nimport NetWorkingCapitalEditForm from './structured-analysis/NetWorkingCapital/NetWorkingCapitalEditForm/NetWorkingCapitalEditForm';\nimport QofEContainer from './structured-analysis/QofE/QofEContainer/QofEContainer';\nimport QofEEditForm from './structured-analysis/QofE/QofEEditForm/QofEEditForm';\nimport { withStructuredContainer } from './structured-analysis/StructuredAnalysisContainer/StructuredAnalysisContainer';\nimport AnalysisReportPreview from './common/AnalysisReportPreview/AnalysisReportPreview';\n\nconst basePath = '/projects/:projectId/analyses2/';\n\nconst qofEContainer = withStructuredContainer(QofEContainer);\nconst nwcContainer = withStructuredContainer(NetWorkingCapitalContainer);\nconst ddlContainer = withStructuredContainer(DebtDebtLikeContainer);\n\nconst AnalysesContentRouter2 = () => {\n  const routes = [\n    { path: '', component: AnalysesContainer },\n    {\n      path: structuredRoutes[Constants.NET_WORKING_CAPITAL],\n      component: nwcContainer\n    },\n    {\n      path: structuredRoutes[Constants.QUALITY_OF_EARNINGS],\n      component: qofEContainer\n    },\n    {\n      path: structuredRoutes[Constants.DEBT_AND_DEBT_LIKE],\n      component: ddlContainer\n    },\n    { path: ':analysisId/view', component: AnalysisDetailScreenContainer }\n  ];\n\n  const projectPermissionRoutes = [\n    { path: 'add-type', component: AddAnalysisType },\n    { path: 'create', exact: false, component: CreateFreeformAnalysis },\n    { path: 'add-from-template', component: AddAnalysisFromTemplate },\n    {\n      path: `${structuredRoutes[Constants.DEBT_AND_DEBT_LIKE]}/edit`,\n      component: DebtDebtLikeForm\n    },\n    {\n      path: `${structuredRoutes[Constants.NET_WORKING_CAPITAL]}/edit`,\n      component: NetWorkingCapitalEditForm\n    },\n    {\n      path: `${structuredRoutes[Constants.QUALITY_OF_EARNINGS]}/edit`,\n      component: QofEEditForm\n    },\n    { path: ':analysisId/edit', exact: false, component: EditFreeformAnalysis },\n    {\n      path: ':analysisId/report-preview/:version(latest|shared)',\n      exact: true,\n      component: AnalysisReportPreview\n    }\n  ];\n\n  return (\n    <Switch>\n      {routes.map(route => (\n        <Route\n          key={route.path}\n          exact={_get(route, 'exact', true)}\n          path={`${basePath}${route.path}`}\n          component={route.component}\n        />\n      ))}\n\n      {projectPermissionRoutes.map(route => (\n        <ProjectPermissionRoute\n          key={route.path}\n          exact={_get(route, 'exact', true)}\n          permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n          isAuthorized={authorizationService.hasValidToken}\n          path={`${basePath}${route.path}`}\n          component={route.component}\n        />\n      ))}\n\n      <Route\n        path={basePath}\n        render={({ match }) => (\n          <Redirect to={`/projects/${match.params.projectId}/analyses/`} />\n        )}\n      />\n    </Switch>\n  );\n};\n\nexport default AnalysesContentRouter2;\n","export const validate = {\n  questionRadio(userAnswer) {\n    return {\n      isValid: userAnswer !== null\n    };\n  },\n  questionPercent(userAnswer) {\n    if (userAnswer === null) {\n      return {\n        isValid: false\n      };\n    }\n    const isValid = userAnswer >= 0 && userAnswer <= 100;\n    return {\n      isValid,\n      errorMessage: !isValid\n        ? 'Please enter a number between 0 and 100.'\n        : undefined\n    };\n  },\n  questionMultiselect(userAnswer) {\n    return {\n      isValid: (userAnswer && userAnswer.length > 0) || false\n    };\n  }\n};\n\nexport const getFirstQuestionInSection = (questions, sectionId) =>\n  questions\n    .filter(q => q.sectionId === sectionId)\n    .sort((a, b) => a.order - b.order)[0];\n\nexport const SURVEY_DIRECTION = {\n  NEXT: 'next',\n  PREVIOUS: 'previous'\n};\n","import { SURVEY_DIRECTION } from './common/services/utilities/surveyUtility';\n\nexport const CONTENT_TYPE_SURVEY = 'survey';\n\nexport const contentResponsesRoute =\n  '/projects/:projectId/divestiture-diagnostic/:content/responses';\nexport const surveyRoute = `/projects/:projectId/divestiture-diagnostic/${CONTENT_TYPE_SURVEY}`;\nexport const surveySectionRoute = `${surveyRoute}/:sectionPath`;\nexport const surveyQuestionRoute = `${surveySectionRoute}/:questionId`;\n\nexport const nextRoute = `${surveyRoute}/${SURVEY_DIRECTION.NEXT}`;\nexport const previousRoute = `${surveyRoute}/${SURVEY_DIRECTION.PREVIOUS}`;\n\nexport const formatContentResponsesRoute = (projectId, content) =>\n  contentResponsesRoute\n    .replace(':projectId', projectId)\n    .replace(':content', content);\n\nexport const formatSurveyRoute = projectId =>\n  surveyRoute.replace(':projectId', projectId);\n\nexport const formatSurveySectionRoute = (projectId, sectionPath) =>\n  surveySectionRoute\n    .replace(':projectId', projectId)\n    .replace(':sectionPath', sectionPath);\n\nexport const formatSurveyQuestionRoute = (projectId, sectionPath, questionId) =>\n  surveyQuestionRoute\n    .replace(':projectId', projectId)\n    .replace(':sectionPath', sectionPath)\n    .replace(':questionId', questionId);\n\nexport const formatNextRoute = projectId =>\n  nextRoute.replace(':projectId', projectId);\n\nexport const formatPreviousRoute = projectId =>\n  previousRoute.replace(':projectId', projectId);\n","const { createAction } = require('@reduxjs/toolkit');\n\nconst httpAction = createAction('httpAction');\n\nexport default httpAction;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { matchPath } from 'react-router-dom';\n\nimport { SurveyServiceClient } from '../../common/services/httpClient';\nimport {\n  fetchDivestitureDiagnosticResultsPath,\n  resetDivestitureDiagnosticResultsPath,\n  saveCategoriesPath,\n  saveOverallComplexityPath\n} from '../../common/services/urlService';\nimport httpAction from '../../Survey/httpAction';\nimport { contentResponsesRoute } from '../../Survey/routes';\n\nexport const DD_REDUCER = 'divestitureDiagnostic/';\n\nexport const coerceDivestitureDiagnosticResults = divestitureDiagnosticResults =>\n  Object.keys(divestitureDiagnosticResults).length\n    ? divestitureDiagnosticResults\n    : null;\n\nexport const initialState = {\n  fetchDivestitureDiagnosticResultsStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  resetDivestitureDiagnosticResultsStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  saveCategoriesStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  saveOverallComplexityStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  divestitureDiagnosticResults: null,\n  editMode: false\n};\n\nexport const reducers = {\n  resetDivestitureDiagnostic: () => initialState,\n  fetchDivestitureDiagnosticResultsBegan: state => {\n    return {\n      ...state,\n      fetchDivestitureDiagnosticResultsStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  fetchDivestitureDiagnosticResultsSuccess: (\n    state,\n    { payload: divestitureDiagnosticResults }\n  ) => {\n    return {\n      ...state,\n      fetchDivestitureDiagnosticResultsStatus: {\n        pending: false,\n        success: true,\n        error: false\n      },\n      divestitureDiagnosticResults: coerceDivestitureDiagnosticResults(\n        divestitureDiagnosticResults\n      )\n    };\n  },\n  fetchDivestitureDiagnosticResultsError: (state, { payload: error }) => {\n    return {\n      ...state,\n      fetchDivestitureDiagnosticResultsStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  resetDivestitureDiagnosticResultsBegan: state => {\n    return {\n      ...state,\n      resetDivestitureDiagnosticResultsStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  resetDivestitureDiagnosticResultsSuccess: state => {\n    return {\n      ...state,\n      resetDivestitureDiagnosticResultsStatus: {\n        pending: false,\n        success: true,\n        error: false\n      },\n      divestitureDiagnosticResults: null\n    };\n  },\n  resetDivestitureDiagnosticResultsError: (state, { payload: error }) => {\n    return {\n      ...state,\n      resetDivestitureDiagnosticResultsStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  saveCategoriesBegan: state => {\n    return {\n      ...state,\n      saveCategoriesStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  saveCategoriesSuccess: state => {\n    return {\n      ...state,\n      saveCategoriesStatus: {\n        pending: false,\n        success: true,\n        error: false\n      }\n    };\n  },\n  saveCategoriesError: (state, { payload: error }) => {\n    return {\n      ...state,\n      saveCategoriesStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  saveOverallComplexityBegan: state => {\n    return {\n      ...state,\n      saveOverallComplexityStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  saveOverallComplexitySuccess: state => {\n    return {\n      ...state,\n      saveOverallComplexityStatus: {\n        pending: false,\n        success: true,\n        error: false\n      }\n    };\n  },\n  saveOverallComplexityError: (state, { payload: error }) => {\n    return {\n      ...state,\n      saveOverallComplexityStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  setEditMode: (state, action) => {\n    return {\n      ...state,\n      editMode: action.payload\n    };\n  },\n  resetSaveCategoriesStatus: state => {\n    return {\n      ...state,\n      saveCategoriesStatus: {\n        pending: false,\n        success: false,\n        error: false\n      }\n    };\n  },\n  resetSaveOverallComplexityStatus: state => {\n    return {\n      ...state,\n      saveOverallComplexityStatus: {\n        pending: false,\n        success: false,\n        error: false\n      }\n    };\n  }\n};\n\nexport const setupDivestitureDiagnosticSlice = () => {\n  const divestitureDiagnosticSlice = createSlice({\n    name: 'divestitureDiagnostic',\n    initialState,\n    reducers\n  });\n  return divestitureDiagnosticSlice;\n};\n\nconst { reducer, actions } = setupDivestitureDiagnosticSlice();\n\n// httpActions\nexport const fetchDivestitureDiagnosticResults = projectId =>\n  httpAction({\n    reducer: `${DD_REDUCER}fetchDivestitureDiagnosticResults`,\n    endpoint: fetchDivestitureDiagnosticResultsPath(projectId),\n    verb: 'GET',\n    httpClient: SurveyServiceClient(projectId)\n  });\n\nexport const resetDivestitureDiagnosticResults = projectId =>\n  httpAction({\n    reducer: `${DD_REDUCER}resetDivestitureDiagnosticResults`,\n    endpoint: resetDivestitureDiagnosticResultsPath(projectId),\n    verb: 'DELETE',\n    httpClient: SurveyServiceClient(projectId)\n  });\n\nexport const saveCategories = (projectId, subcategories) =>\n  httpAction({\n    reducer: `${DD_REDUCER}saveCategories`,\n    endpoint: saveCategoriesPath(projectId),\n    verb: 'PUT',\n    httpClient: SurveyServiceClient(projectId),\n    body: subcategories\n  });\n\nexport const saveOverallComplexity = (projectId, overallComplexity) =>\n  httpAction({\n    reducer: `${DD_REDUCER}saveOverallComplexity`,\n    endpoint: saveOverallComplexityPath(projectId),\n    verb: 'PUT',\n    httpClient: SurveyServiceClient(projectId),\n    body: overallComplexity\n  });\n\n// Actions\nexport const {\n  setEditMode,\n  resetDivestitureDiagnostic,\n  resetSaveCategoriesStatus,\n  resetSaveOverallComplexityStatus\n} = actions;\n\n// Selectors\nexport const getFetchDivestitureDiagnosticResultsStatus = state =>\n  state.divestitureDiagnostic.fetchDivestitureDiagnosticResultsStatus;\nexport const getDivestitureDiagnosticResults = state =>\n  state.divestitureDiagnostic.divestitureDiagnosticResults;\nexport const getResetDivestitureDiagnosticResultsStatus = state =>\n  state.divestitureDiagnostic.resetDivestitureDiagnosticResultsStatus;\nexport const getEditMode = state => state.divestitureDiagnostic.editMode;\nexport const getSaveCategoriesStatus = state =>\n  state.divestitureDiagnostic.saveCategoriesStatus;\nexport const getSaveOverallComplexityStatus = state =>\n  state.divestitureDiagnostic.saveOverallComplexityStatus;\nexport const getCurrentContentTypeFromURL = state => {\n  const { pathname } = state.router.location;\n  const { params } = matchPath(pathname, {\n    path: contentResponsesRoute\n  });\n  return params.content;\n};\n\nexport default reducer;\n","import { DivestitureDiagnosticUtility } from '@pwc/pwc-deals-web-common';\nimport React from 'react';\nimport './Score.scss';\n\nconst Score = ({ value, scoreType, minified }) => (\n  <span className=\"diagnostic-category-score\">\n    {`${DivestitureDiagnosticUtility.calculateScoreText(\n      value,\n      minified\n    )}${DivestitureDiagnosticUtility.getScoreTitle(scoreType)}: ${value}`}\n  </span>\n);\n\nexport default Score;\n","import React from 'react';\n\nimport Score from '../Score/Score';\n\nconst ScoreView = ({ category }) => {\n  if (category.value === category.initialValue) {\n    return <Score key={category.title} value={category.value} />;\n  }\n  return (\n    <div className=\"diagnostic-category-score\">\n      <Score\n        key={`${category.title}-initial`}\n        value={category.initialValue}\n        scoreType=\"Initial\"\n      />\n      <Score\n        key={`${category.title}-adjusted`}\n        value={category.value}\n        scoreType=\"Adjusted\"\n      />\n    </div>\n  );\n};\n\nexport default ScoreView;\n","import React from 'react';\n\nimport Score from '../Score/Score';\n\nimport './Header.scss';\nimport ScoreView from '../ScoreView/ScoreView';\n\nconst Header = ({ category, minified, isActive, isTitleBold }) => (\n  <div\n    className={`diagnostic-category-container ${\n      isActive ? 'category-active-container' : ''\n    }`}\n    key={category.title}\n  >\n    <div\n      className={`diagnostic-category-title ${\n        isTitleBold ? 'diagnostic-category-title-bold' : ''\n      }`}\n    >\n      {category.title}\n    </div>\n    {minified && <Score value={category.value} minified />}\n    {!minified && <ScoreView category={category} />}\n  </div>\n);\n\nexport default Header;\n","import React from 'react';\n\nimport './SidebarNavItem.scss';\nimport { NavLink } from 'react-router-dom';\n\nconst SidebarNavItem = ({ path, children }) => (\n  <NavLink\n    to={path}\n    className=\"sidebar-link\"\n    activeClassName=\"active-sidebar-link\"\n  >\n    {children}\n  </NavLink>\n);\n\nexport default SidebarNavItem;\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { formatContentResponsesRoute } from '../../../../../Survey/routes';\nimport SidebarNavItem from '../../SidebarNavItem/SidebarNavItem';\n\nconst ReviewResponsesNavItem = ({ content, navText }) => {\n  const { projectId } = useParams();\n\n  const reviewResponsesPath = formatContentResponsesRoute(projectId, content);\n\n  return <SidebarNavItem path={reviewResponsesPath}>{navText}</SidebarNavItem>;\n};\n\nexport default ReviewResponsesNavItem;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getDivestitureDiagnosticResults } from '../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport Header from '../../DivestitureDiagnosticResults/Category/Header/Header';\nimport SidebarNavItem from '../SidebarNavItem/SidebarNavItem';\nimport ReviewResponsesNavItem from '../SurveySidebar/ReviewResponsesNavItem/ReviewResponsesNavItem';\nimport './ResultsSidebar.scss';\n\nconst ResultsSidebar = () => {\n  const results = useSelector(getDivestitureDiagnosticResults);\n  const overallDealComplexity = results && results.overallDealComplexity;\n\n  return (\n    <>\n      {results && (\n        <div className=\"results-sidebar-container\">\n          <div className=\"results-sidebar-header\">Diagnostic Questionnaire</div>\n          <SidebarNavItem path={overallDealComplexity.path}>\n            <Header category={overallDealComplexity} isTitleBold minified />\n          </SidebarNavItem>\n          {results.data\n            .filter(cat => cat.parentId === undefined)\n            .map(cat => (\n              <SidebarNavItem key={cat.categoryId} path={cat.path}>\n                <Header key={cat.title} category={cat} minified />\n              </SidebarNavItem>\n            ))}\n          <div className=\"review-responses-nav-item\">\n            <ReviewResponsesNavItem\n              content=\"results\"\n              navText=\"Questionnaire Responses\"\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ResultsSidebar;\n","const endSlash = new RegExp(/\\/$/);\nconst startSlash = new RegExp(/^\\//);\n\nconst assembleUrl = base => path => {\n  const cleanBase = base.replace(endSlash, '');\n  const cleanPath = path.replace(startSlash, '');\n\n  return `${cleanBase}/${cleanPath}`;\n};\n\nconst buildUrl = (base, path) => assembleUrl(base)(path);\n\nexport { buildUrl };\n\nexport const nextQuestionPath = (projectId, orderNumber = null) =>\n  `/projects/${projectId}/questions/next${\n    orderNumber !== null ? `?order=${orderNumber}` : ''\n  }`;\n\nexport const submitAnswerPath = projectId => `/projects/${projectId}/answers`;\n\nexport const submitAnswerBatchPath = projectId =>\n  `/projects/${projectId}/answers/batch`;\n\nexport const fetchSurveyResponsesPath = projectId =>\n  `/projects/${projectId}/survey`;\n\nexport const resetAnswersPath = projectId =>\n  `/projects/${projectId}/answers/reset`;\n\nexport const postResponsesPath = projectId =>\n  `/projects/${projectId}/diagnostics/finalize`;\n\nexport const previousQuestionPath = (projectId, orderNumber = null) =>\n  `/projects/${projectId}/questions/previous${\n    orderNumber !== null ? `?order=${orderNumber}` : ''\n  }`;\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport { SurveyServiceClient } from '../common/services/httpClient';\nimport {\n  fetchSurveyResponsesPath,\n  nextQuestionPath,\n  submitAnswerPath,\n  resetAnswersPath,\n  postResponsesPath,\n  submitAnswerBatchPath,\n  previousQuestionPath\n} from './common/services/urlService';\nimport httpAction from './httpAction';\n\nexport const SURVEY_REDUCER = 'survey/';\n\nexport const isSurveyComplete = nextAnswer => !nextAnswer;\n\nexport const initialState = {\n  fetchQuestionStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  postAnswerStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  putAnswerStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  submitAnswerStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  fetchSurveyResponsesStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  resetAnswersStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  postResponsesStatus: {\n    pending: false,\n    success: false,\n    error: false\n  },\n  question: null,\n  surveyComplete: false,\n  surveyResponses: null\n};\n\nexport const reducers = {\n  fetchQuestionBegan: state => {\n    return {\n      ...state,\n      fetchQuestionStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  fetchQuestionSuccess: (state, { payload: question }) => {\n    return {\n      ...state,\n      fetchQuestionStatus: {\n        pending: false,\n        success: true,\n        error: false\n      },\n      question,\n      surveyComplete: isSurveyComplete(question)\n    };\n  },\n  fetchQuestionError: (state, { payload: error }) => {\n    return {\n      ...state,\n      fetchQuestionStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  postAnswerBegan: state => {\n    return {\n      ...state,\n      postAnswerStatus: {\n        pending: true,\n        success: false,\n        error: false\n      },\n      submitAnswerStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  postAnswerSuccess: state => {\n    return {\n      ...state,\n      postAnswerStatus: {\n        pending: false,\n        success: true,\n        error: false\n      },\n      submitAnswerStatus: {\n        pending: false,\n        success: true,\n        error: false\n      }\n    };\n  },\n  postAnswerError: (state, { payload: error }) => {\n    return {\n      ...state,\n      postAnswerStatus: {\n        pending: false,\n        success: false,\n        error\n      },\n      submitAnswerStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  putAnswerBegan: state => {\n    return {\n      ...state,\n      putAnswerStatus: {\n        pending: true,\n        success: false,\n        error: false\n      },\n      submitAnswerStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  putAnswerSuccess: state => {\n    return {\n      ...state,\n      putAnswerStatus: {\n        pending: false,\n        success: true,\n        error: false\n      },\n      submitAnswerStatus: {\n        pending: false,\n        success: true,\n        error: false\n      }\n    };\n  },\n  putAnswerError: (state, { payload: error }) => {\n    return {\n      ...state,\n      putAnswerStatus: {\n        pending: false,\n        success: false,\n        error\n      },\n      submitAnswerStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  resetSubmitAnswerStatus: state => {\n    return {\n      ...state,\n      submitAnswerStatus: {\n        pending: false,\n        success: false,\n        error: false\n      }\n    };\n  },\n  fetchSurveyResponsesBegan: state => {\n    return {\n      ...state,\n      fetchSurveyResponsesStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  fetchSurveyResponsesSuccess: (state, { payload: surveyResponses }) => {\n    return {\n      ...state,\n      fetchSurveyResponsesStatus: {\n        pending: false,\n        success: true,\n        error: false\n      },\n      surveyResponses\n    };\n  },\n  fetchSurveyResponsesError: (state, { payload: error }) => {\n    return {\n      ...state,\n      fetchSurveyResponsesStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  resetAnswersBegan: state => {\n    return {\n      ...state,\n      resetAnswersStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  resetAnswersSuccess: state => {\n    return {\n      ...state,\n      resetAnswersStatus: {\n        pending: false,\n        success: true,\n        error: false\n      },\n      question: null,\n      surveyComplete: false,\n      surveyResponses: null\n    };\n  },\n  resetAnswersError: (state, { payload: error }) => {\n    return {\n      ...state,\n      resetAnswersStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  postResponsesBegan: state => {\n    return {\n      ...state,\n      postResponsesStatus: {\n        pending: true,\n        success: false,\n        error: false\n      }\n    };\n  },\n  postResponsesSuccess: state => {\n    return {\n      ...state,\n      postResponsesStatus: {\n        pending: false,\n        success: true,\n        error: false\n      }\n    };\n  },\n  postResponsesError: (state, { payload: error }) => {\n    return {\n      ...state,\n      postResponsesStatus: {\n        pending: false,\n        success: false,\n        error\n      }\n    };\n  },\n  resetFetchSurveyResponsesStatus: state => {\n    return {\n      ...state,\n      fetchSurveyResponsesStatus: {\n        pending: false,\n        success: false,\n        error: false\n      }\n    };\n  },\n  getQuestionById: (state, { payload: questionId }) => {\n    const { surveyResponses } = state;\n    const questions = surveyResponses && surveyResponses.questions;\n    const question = questions && questions.find(q => q.id === +questionId);\n    return {\n      ...state,\n      question\n    };\n  },\n  resetFetchQuestionStatus: state => {\n    return {\n      ...state,\n      fetchQuestionStatus: {\n        pending: false,\n        success: false,\n        error: false\n      }\n    };\n  },\n  resetQuestion: state => {\n    return {\n      ...state,\n      question: null\n    };\n  },\n  resetPostResponsesStatus: state => {\n    return {\n      ...state,\n      postResponsesStatus: {\n        pending: false,\n        success: false,\n        error: false\n      }\n    };\n  },\n  resetResetAnswersStatus: state => {\n    return {\n      ...state,\n      resetAnswersStatus: {\n        pending: false,\n        success: false,\n        error: false\n      }\n    };\n  }\n};\n\nexport const setupSurveySlice = () => {\n  const surveySlice = createSlice({\n    name: 'survey',\n    initialState,\n    reducers\n  });\n  return surveySlice;\n};\n\nconst { reducer, actions } = setupSurveySlice();\n\nexport const {\n  fetchQuestionBegan: getQuestionBegan,\n  fetchQuestionSuccess: getQuestionSuccess,\n  fetchQuestionError: getQuestionError,\n  postAnswerBegan,\n  postAnswerSuccess,\n  postAnswerError,\n  resetSubmitAnswerStatus,\n  resetFetchSurveyResponsesStatus,\n  getQuestionById,\n  resetFetchQuestionStatus,\n  resetQuestion,\n  resetPostResponsesStatus,\n  resetResetAnswersStatus\n} = actions;\n\n// httpActions\nexport const fetchNextQuestion = (projectId, orderNumber = null) =>\n  httpAction({\n    reducer: `${SURVEY_REDUCER}fetchQuestion`,\n    endpoint: nextQuestionPath(projectId, orderNumber),\n    verb: 'GET',\n    httpClient: SurveyServiceClient(projectId)\n  });\n\nexport const postAnswer = (projectId, answer) => {\n  const body = answer.length\n    ? answer.map(ans => ({\n        projectId,\n        ...ans\n      }))\n    : { projectId, ...answer };\n\n  const endpoint = answer.length\n    ? submitAnswerBatchPath(projectId)\n    : submitAnswerPath(projectId);\n\n  return httpAction({\n    reducer: `${SURVEY_REDUCER}postAnswer`,\n    endpoint,\n    verb: 'POST',\n    httpClient: SurveyServiceClient(projectId),\n    body\n  });\n};\n\nexport const putAnswer = (projectId, answer) =>\n  httpAction({\n    reducer: `${SURVEY_REDUCER}putAnswer`,\n    endpoint: submitAnswerPath(projectId),\n    verb: 'PUT',\n    httpClient: SurveyServiceClient(projectId),\n    body: { projectId, ...answer }\n  });\n\nexport const fetchSurveyResponses = projectId =>\n  httpAction({\n    reducer: `${SURVEY_REDUCER}fetchSurveyResponses`,\n    endpoint: fetchSurveyResponsesPath(projectId),\n    verb: 'GET',\n    httpClient: SurveyServiceClient(projectId)\n  });\n\nexport const resetAnswers = projectId =>\n  httpAction({\n    reducer: `${SURVEY_REDUCER}resetAnswers`,\n    endpoint: resetAnswersPath(projectId),\n    verb: 'DELETE',\n    httpClient: SurveyServiceClient(projectId)\n  });\n\nexport const postResponses = (projectId, additionalComment) =>\n  httpAction({\n    reducer: `${SURVEY_REDUCER}postResponses`,\n    endpoint: postResponsesPath(projectId),\n    verb: 'POST',\n    httpClient: SurveyServiceClient(projectId),\n    body: { comment: additionalComment }\n  });\n\nexport const fetchPreviousQuestion = (projectId, orderNumber = null) =>\n  httpAction({\n    reducer: `${SURVEY_REDUCER}fetchQuestion`,\n    endpoint: previousQuestionPath(projectId, orderNumber),\n    verb: 'GET',\n    httpClient: SurveyServiceClient(projectId)\n  });\n\n// Selectors\nexport const getQuestion = state => state.survey.question;\nexport const getPostAnswerStatus = state => state.survey.postAnswerStatus;\nexport const getSurveyComplete = state => state.survey.surveyComplete;\nexport const getSurveyResponses = state => state.survey.surveyResponses;\nexport const getResetAnswersStatus = state => state.survey.resetAnswersStatus;\nexport const getPostResponsesStatus = state => state.survey.postResponsesStatus;\nexport const getFetchQuestionStatus = state => state.survey.fetchQuestionStatus;\nexport const getFetchSurveyResponsesStatus = state =>\n  state.survey.fetchSurveyResponsesStatus;\nexport const getSubmitAnswerStatus = state => state.survey.submitAnswerStatus;\nexport const getSurveyResponsesCompleted = state =>\n  state.survey.surveyResponses && state.survey.surveyResponses.completed;\n\nexport default reducer;\n","import { ProgressCircle } from '@pwc/pwc-deals-ui/';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport SidebarNavItem from '../../SidebarNavItem/SidebarNavItem';\nimport { formatSurveySectionRoute } from '../../../../../Survey/routes';\nimport './SectionNav.scss';\n\nconst SectionNav = ({ section }) => {\n  const { projectId } = useParams();\n  const fullSectionPath = formatSurveySectionRoute(projectId, section.path);\n  const inProgress =\n    section.numQuestionsAnswered > 0 &&\n    section.numQuestionsAnswered !== section.numQuestionsTotal;\n\n  return (\n    <SidebarNavItem path={fullSectionPath}>\n      <span className=\"progress-ph nowrap\">\n        <ProgressCircle\n          label={section.title}\n          current={section.numQuestionsAnswered}\n          total={section.numQuestionsTotal}\n          displaySteps={inProgress}\n        />\n      </span>\n    </SidebarNavItem>\n  );\n};\n\nexport default SectionNav;\n","const diagnostic =\n  (process.env.REACT_APP_DIVESTITURE_DIAGNOSTIC || '').replace(/\\W/g, '') !==\n  'false';\n\nconst diagnosticDebuggingControls = !!(\n  process.env.REACT_APP_ENVIRONMENT_NAMESPACE.match(/dev$/) ||\n  process.env.REACT_APP_ENVIRONMENT_NAMESPACE.match(/qa$/) ||\n  process.env.REACT_APP_ENVIRONMENT_NAMESPACE.match(/test$/) ||\n  process.env.REACT_APP_ENVIRONMENT_NAMESPACE.match(/uat$/)\n);\n\nexport default { diagnostic, diagnosticDebuggingControls };\n","import { Button } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport _ from 'lodash';\n\nimport {\n  fetchSurveyResponses,\n  getSurveyResponses\n} from '../../../../Survey/surveySlice';\nimport SectionNav from './SectionNav/SectionNav';\n\nimport './SurveySidebar.scss';\nimport { SurveyServiceClient } from '../../../services/httpClient';\nimport {\n  CONTENT_TYPE_SURVEY,\n  formatContentResponsesRoute\n} from '../../../../Survey/routes';\nimport ReviewResponsesNavItem from './ReviewResponsesNavItem/ReviewResponsesNavItem';\nimport featureFlags from '../../../helpers/featureFlags';\n\nconst addCompletionStatuses = (sections, sectionCompletionStatus) =>\n  sections.map(section => {\n    const completionStatuses = sectionCompletionStatus;\n    const completionStatus = completionStatuses.find(\n      cs => cs.sectionId === section.id\n    );\n    return { ...section, ...completionStatus };\n  });\n\nconst SurveySideBar = () => {\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n\n  const surveyResponses = useSelector(getSurveyResponses);\n\n  const [sections, setSections] = useState([]);\n  const [prefillSurveyError, setPrefillSurveyError] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (surveyResponses) {\n      const sectionsWithCompletionStatus = addCompletionStatuses(\n        surveyResponses.sections,\n        surveyResponses.sectionCompletionStatus\n      );\n      setSections(sectionsWithCompletionStatus);\n    }\n  }, [surveyResponses]);\n\n  const prefillSurvey = async () => {\n    try {\n      await SurveyServiceClient(projectId).post(\n        `/projects/${projectId}/answers/prefill`\n      );\n      setPrefillSurveyError(null);\n      dispatch(fetchSurveyResponses(projectId));\n\n      const expectedRoute = formatContentResponsesRoute(\n        projectId,\n        CONTENT_TYPE_SURVEY\n      );\n\n      history.push(expectedRoute);\n    } catch (err) {\n      setPrefillSurveyError('Unable to prefill survey');\n    }\n  };\n\n  const sortedSections = _.sortBy(sections, 'order');\n\n  return (\n    <div className=\"survey-sidebar-container\">\n      <div className=\"survey-sidebar-header\">Diagnostic Questionnaire</div>\n      {sortedSections.map(section => (\n        <SectionNav key={section.id} section={section} />\n      ))}\n      <div className=\"response-results\">\n        <ReviewResponsesNavItem content=\"survey\" navText=\"Review Responses\" />\n      </div>\n      {featureFlags.diagnosticDebuggingControls && (\n        <div className=\"prefill-survey-container\">\n          <Button className=\"prefill-survey-button\" onClick={prefillSurvey}>\n            Prefill Survey\n          </Button>\n          {prefillSurveyError && (\n            <span className=\"prefill-survey-error\">{prefillSurveyError}</span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SurveySideBar;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { resultsRoute } from '../../../features/divestitureDiagnostic/routes';\nimport { surveySectionRoute } from '../../../Survey/routes';\nimport ResultsSidebar from './ResultsSidebar/ResultsSidebar';\nimport SurveySideBar from './SurveySidebar/SurveySidebar';\n\nimport './DivestitureDiagnosticSidebarRouter.scss';\n\nconst DivestitureDiagnosticSidebarRouter = () => {\n  return (\n    <div className=\"divestiture-diagnostic-sidebar\">\n      <Route path={surveySectionRoute}>\n        <SurveySideBar />\n      </Route>\n      <Route path={resultsRoute}>\n        <ResultsSidebar />\n      </Route>\n    </div>\n  );\n};\n\nexport default DivestitureDiagnosticSidebarRouter;\n","import { Loader } from '@pwc/pwc-deals-ui';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { SURVEY_DIRECTION } from '../../common/services/utilities/surveyUtility';\nimport {\n  formatSurveyQuestionRoute,\n  formatContentResponsesRoute\n} from '../../routes';\nimport {\n  fetchNextQuestion,\n  fetchPreviousQuestion,\n  fetchSurveyResponses,\n  getFetchQuestionStatus,\n  getFetchSurveyResponsesStatus,\n  getQuestion,\n  getSurveyResponses\n} from '../../surveySlice';\n\nconst SurveyProceed = ({ direction }) => {\n  const { success: fetchQuestionSuccess } = useSelector(getFetchQuestionStatus);\n  const { success: fetchSurveyResponsesSuccess } = useSelector(\n    getFetchSurveyResponsesStatus\n  );\n  const question = useSelector(getQuestion);\n  const surveyResponses = useSelector(getSurveyResponses);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { projectId } = useParams();\n\n  const isReadyToProceed = fetchQuestionSuccess && fetchSurveyResponsesSuccess;\n\n  useEffect(() => {\n    if (!fetchQuestionSuccess) {\n      const questionOrder = question ? question.order : null;\n      const navigateForward = direction === SURVEY_DIRECTION.NEXT;\n      const navigateBackward = direction === SURVEY_DIRECTION.PREVIOUS;\n\n      if (navigateForward) {\n        dispatch(fetchNextQuestion(projectId, questionOrder));\n      }\n      if (navigateBackward) {\n        dispatch(fetchPreviousQuestion(projectId, questionOrder));\n      }\n      dispatch(fetchSurveyResponses(projectId));\n    }\n  }, [dispatch, projectId, question, fetchQuestionSuccess, direction]);\n\n  useEffect(() => {\n    if (isReadyToProceed) {\n      let redirectPath;\n      if (question) {\n        const section = surveyResponses.sections.find(\n          s => s.id === question.sectionId\n        );\n        redirectPath = formatSurveyQuestionRoute(\n          projectId,\n          section.path,\n          question.id\n        );\n      } else {\n        redirectPath = formatContentResponsesRoute(projectId, 'survey');\n      }\n      history.replace(redirectPath);\n    }\n  }, [question, isReadyToProceed, history, projectId, surveyResponses]);\n\n  return <div>{!fetchQuestionSuccess && <Loader />}</div>;\n};\n\nexport default SurveyProceed;\n","const formatAnswer = (projectId, question, answer) => {\n  if (question.type === 'radio') {\n    return {\n      projectId,\n      sectionId: question.sectionId,\n      questionId: question.id,\n      type: 'radio',\n      value: question.options.find(option => option.id === answer).value,\n      optionId: answer\n    };\n  }\n  if (question.type === 'multiselect') {\n    return answer.map(optionId => ({\n      projectId,\n      sectionId: question.sectionId,\n      questionId: question.id,\n      type: 'multiselect',\n      value: question.options.find(option => option.id === optionId).value,\n      optionId\n    }));\n  }\n  if (question.type === 'percent') {\n    return {\n      projectId,\n      sectionId: question.sectionId,\n      questionId: question.id,\n      type: 'percent',\n      value: answer\n    };\n  }\n  return null;\n};\n\nexport default formatAnswer;\n","import { xor } from 'lodash';\n\nconst compareNewAnswerToExistingAnswer = (answer, allAnswers) => {\n  if (answer.length) {\n    const existingAnswers = allAnswers\n      .filter(\n        ans =>\n          ans.sectionId === answer[0].sectionId &&\n          ans.questionId === answer[0].questionId\n      )\n      .map(ans => ans.optionId);\n\n    return (\n      xor(\n        existingAnswers,\n        answer.map(ans => ans.optionId)\n      ).length === 0\n    );\n  }\n  const existingAnswer = allAnswers.find(\n    ans =>\n      ans.sectionId === answer.sectionId && ans.questionId === answer.questionId\n  );\n  if (existingAnswer) {\n    if (answer.type === 'radio') {\n      return existingAnswer.optionId === answer.optionId;\n    }\n    if (answer.type === 'percent') {\n      return existingAnswer.value === answer.value;\n    }\n  }\n  return false;\n};\n\nexport default compareNewAnswerToExistingAnswer;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getSurveyResponses } from '../../../surveySlice';\n\nimport './QuestionSectionHeader.scss';\n\nconst QuestionSectionHeader = ({ sectionId }) => {\n  const surveyResponses = useSelector(getSurveyResponses);\n\n  const section =\n    surveyResponses && surveyResponses.sections.find(s => s.id === sectionId);\n\n  return (\n    surveyResponses && (\n      <div className=\"question-section-header\">\n        <div className=\"section-title\">{section.title}</div>\n        <p className=\"section-description\">{section.description}</p>\n      </div>\n    )\n  );\n};\n\nexport default QuestionSectionHeader;\n","import { CheckboxGroup } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { getSurveyResponses } from '../../../surveySlice';\nimport { validate } from '../../../common/services/utilities/surveyUtility';\n\nconst toggleOption = (selectedOption, options) => {\n  return options.map(option => {\n    const currentOption = { ...option };\n    currentOption.selected =\n      currentOption.value === selectedOption.value\n        ? !currentOption.selected\n        : currentOption.selected;\n    return currentOption;\n  });\n};\n\nconst formatOptions = options =>\n  options\n    ? options.map(option => ({\n        label: option.text,\n        value: `${option.id}`,\n        selected: false\n      }))\n    : [];\n\nconst QuestionMultiselect = ({\n  question,\n  userAnswer,\n  setUserAnswer,\n  setIsAnswerValid\n}) => {\n  const [options, setOptions] = useState([]);\n\n  const responses = useSelector(getSurveyResponses);\n\n  useEffect(() => {\n    const answers =\n      responses &&\n      responses.answers.filter(ans => ans.questionId === question.id);\n    let tempOptions = formatOptions(question.options);\n    if (answers.length) {\n      answers.forEach(answer => {\n        const selectedOption = tempOptions.find(\n          option => +option.value === answer.optionId\n        );\n        tempOptions = toggleOption(selectedOption, tempOptions);\n      });\n    }\n    setOptions(tempOptions);\n  }, [setUserAnswer, responses, question.id, question.options]);\n\n  useEffect(() => {\n    const { isValid } = validate.questionMultiselect(userAnswer);\n    setIsAnswerValid(isValid);\n  }, [userAnswer, setIsAnswerValid, setUserAnswer]);\n\n  useEffect(() => {\n    const selectedOptionValues = options\n      .filter(option => option.selected)\n      .map(option => +option.value);\n    setUserAnswer(selectedOptionValues);\n  }, [options, setUserAnswer]);\n\n  return (\n    options && (\n      <CheckboxGroup\n        name={`multiselect-${question.id}`}\n        label={question.text}\n        options={options}\n        onChange={selectedOption => {\n          const updatedOptions = toggleOption(selectedOption, [...options]);\n          setOptions(updatedOptions);\n        }}\n      />\n    )\n  );\n};\n\nexport default QuestionMultiselect;\n","import { TextInput } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { getSurveyResponses } from '../../../surveySlice';\n\nimport { validate } from '../../../common/services/utilities/surveyUtility';\n\nimport './QuestionPercent.scss';\n\nconst QuestionPercent = ({\n  question,\n  userAnswer,\n  setUserAnswer,\n  setIsAnswerValid\n}) => {\n  const [errorMsg, setErrorMsg] = useState('');\n\n  const responses = useSelector(getSurveyResponses);\n\n  useEffect(() => {\n    const answer =\n      responses &&\n      responses.answers.find(ans => ans.questionId === question.id);\n    if (answer) {\n      setUserAnswer(answer.value);\n    } else {\n      setUserAnswer(null);\n    }\n  }, [question.id, setUserAnswer, responses]);\n\n  useEffect(() => {\n    const { isValid, errorMessage } = validate.questionPercent(userAnswer);\n    setIsAnswerValid(isValid);\n    setErrorMsg(errorMessage || '');\n  }, [userAnswer, setIsAnswerValid]);\n\n  const field = {\n    value: userAnswer,\n    onChange: event => {\n      setUserAnswer(`${+event.target.value}`);\n    }\n  };\n\n  return (\n    <div className=\"survey-percent-container\">\n      <p>{question.text}</p>\n      <TextInput\n        className=\"survey-percent-input\"\n        field={field}\n        error={errorMsg}\n        type=\"number\"\n        min={0}\n        max={100}\n      />\n    </div>\n  );\n};\n\nexport default QuestionPercent;\n","import { RadioGroup } from '@pwc/pwc-deals-ui';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { getSurveyResponses } from '../../../surveySlice';\nimport { validate } from '../../../common/services/utilities/surveyUtility';\n\nconst QuestionRadio = ({\n  question,\n  userAnswer,\n  setUserAnswer,\n  setIsAnswerValid\n}) => {\n  const responses = useSelector(getSurveyResponses);\n\n  useEffect(() => {\n    const answer =\n      responses &&\n      responses.answers.find(ans => ans.questionId === question.id);\n    if (answer) {\n      setUserAnswer(answer.optionId);\n    } else {\n      setUserAnswer(null);\n    }\n  }, [question.id, setUserAnswer, responses]);\n\n  useEffect(() => {\n    const { isValid } = validate.questionRadio(userAnswer);\n    setIsAnswerValid(isValid);\n  }, [userAnswer, setIsAnswerValid]);\n\n  const options = question.options\n    ? question.options.map(option => ({\n        label: option.text,\n        value: option.id\n      }))\n    : [];\n\n  const field = {\n    value: userAnswer && `${userAnswer}`,\n    onChange: event => setUserAnswer(+event.target.value)\n  };\n\n  return <RadioGroup label={question.text} options={options} field={field} />;\n};\n\nexport default QuestionRadio;\n","import React from 'react';\n\nimport QuestionMultiselect from '../QuestionMultiselect/QuestionMultiselect';\nimport QuestionPercent from '../QuestionPercent/QuestionPercent';\nimport QuestionRadio from '../QuestionRadio/QuestionRadio';\n\nconst QuestionType = ({\n  question,\n  userAnswer,\n  setUserAnswer,\n  setIsAnswerValid\n}) => {\n  if (!question) {\n    return null;\n  }\n\n  let QuestionComponent;\n  switch (question.type) {\n    case 'radio':\n      QuestionComponent = QuestionRadio;\n      break;\n    case 'percent':\n      QuestionComponent = QuestionPercent;\n      break;\n    case 'multiselect':\n      QuestionComponent = QuestionMultiselect;\n      break;\n    default:\n      return null;\n  }\n\n  return (\n    <QuestionComponent\n      question={question}\n      userAnswer={userAnswer}\n      setUserAnswer={setUserAnswer}\n      setIsAnswerValid={setIsAnswerValid}\n    />\n  );\n};\n\nexport default QuestionType;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './QuestionFooter.scss';\n\nconst QuestionFooter = ({\n  onNext,\n  onPrevious,\n  skipPath,\n  isNextDisabled,\n  isBackDisabled\n}) => (\n  <div className=\"question-footer\">\n    <Button\n      className={`button-link question-back ${\n        isBackDisabled ? 'inactive' : 'active'\n      }`}\n      disabled={isBackDisabled}\n      onClick={onPrevious}\n    >\n      <Icon\n        name=\"left-chevron\"\n        width=\"16px\"\n        className={`fill ${\n          isBackDisabled ? 'icon-grey-medium' : 'icon-orange'\n        } back`}\n      />\n      Back\n    </Button>\n    <div>\n      <Link className=\"answer-later button-link\" to={skipPath}>\n        Answer Later\n      </Link>\n      <Button\n        className=\"next-button\"\n        onClick={onNext}\n        disabled={isNextDisabled}\n      >\n        Next\n      </Button>\n    </div>\n  </div>\n);\n\nexport default QuestionFooter;\n","import { ProgressBar } from '@pwc/pwc-deals-ui';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport {\n  SURVEY_DIRECTION,\n  validate\n} from '../../common/services/utilities/surveyUtility';\nimport formatAnswer from './utility/formatAnswer';\nimport compareNewAnswerToExistingAnswer from './utility/compareNewAnswerToExistingAnswer';\nimport { formatNextRoute, formatPreviousRoute } from '../../routes';\nimport {\n  getFetchQuestionStatus,\n  postAnswer,\n  putAnswer,\n  resetFetchQuestionStatus,\n  resetFetchSurveyResponsesStatus,\n  resetSubmitAnswerStatus,\n  getSubmitAnswerStatus,\n  getSurveyResponses\n} from '../../surveySlice';\n\nimport QuestionSectionHeader from './QuestionSectionHeader/QuestionSectionHeader';\n\nimport './Question.scss';\nimport QuestionType from './QuestionType/QuestionType';\nimport QuestionFooter from './QuestionFooter/QuestionFooter';\n\nconst proceedPath = (direction, projectId) =>\n  direction === SURVEY_DIRECTION.PREVIOUS\n    ? formatPreviousRoute(projectId)\n    : formatNextRoute(projectId);\nconst navigateToNextQuestion = (direction, history, projectId) =>\n  history.push(proceedPath(direction, projectId));\n\nconst Question = ({ question }) => {\n  const [userAnswer, setUserAnswer] = useState(null);\n  const [isAnswerValid, setIsAnswerValid] = useState();\n  const [totalSteps, setTotalSteps] = useState(0);\n  const [totalAnswered, setTotalAnswered] = useState(0);\n  const [surveyDirection, setSurveyDirection] = useState(SURVEY_DIRECTION.NEXT);\n  const [isConditionalQuestion, setIsConditionalQuestion] = useState(false);\n\n  const history = useHistory();\n\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n\n  const { pending: fetchQuestionPending } = useSelector(getFetchQuestionStatus);\n  const {\n    success: submitAnswerSuccess,\n    pending: submitAnswerPending\n  } = useSelector(getSubmitAnswerStatus);\n  const surveyResponses = useSelector(getSurveyResponses);\n\n  const isNextDisabled = submitAnswerPending || !isAnswerValid;\n  const isFirstQuestion = question && question.order === 1;\n\n  useEffect(() => {\n    dispatch(resetFetchQuestionStatus());\n    dispatch(resetFetchSurveyResponsesStatus());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (surveyResponses) {\n      setTotalSteps(\n        surveyResponses.sectionCompletionStatus.reduce(\n          (prev, cur) => prev + cur.numQuestionsTotal,\n          0\n        )\n      );\n      setTotalAnswered(\n        surveyResponses.sectionCompletionStatus.reduce(\n          (prev, cur) => prev + cur.numQuestionsAnswered,\n          0\n        )\n      );\n\n      setIsConditionalQuestion(question && question.conditions);\n    }\n  }, [surveyResponses, question]);\n\n  const showProgressBar = totalAnswered > 0;\n\n  useEffect(() => {\n    if (submitAnswerSuccess) {\n      dispatch(resetSubmitAnswerStatus());\n      navigateToNextQuestion(surveyDirection, history, projectId);\n    }\n  }, [submitAnswerSuccess, history, projectId, surveyDirection, dispatch]);\n\n  const getAnswerId = answer => {\n    const foundAnswer = surveyResponses.answers.find(\n      ans => ans.questionId === answer.questionId\n    );\n    if (foundAnswer) {\n      return foundAnswer.id;\n    }\n    return null;\n  };\n\n  const submitAnswer = answer => {\n    if (answer.length) {\n      dispatch(postAnswer(projectId, answer));\n    } else {\n      const answerId = getAnswerId(answer);\n      if (answerId) {\n        dispatch(putAnswer(projectId, { ...answer, id: answerId }));\n      } else {\n        dispatch(postAnswer(projectId, answer));\n      }\n    }\n  };\n\n  const validateAnswer = answer => {\n    if (question.type === 'radio') {\n      return validate.questionRadio(answer);\n    }\n    if (question.type === 'percent') {\n      return validate.questionPercent(answer);\n    }\n    if (question.type === 'multiselect') {\n      return validate.questionMultiselect(answer);\n    }\n    return null;\n  };\n\n  const onProceed = direction => {\n    setSurveyDirection(direction);\n\n    const { isValid } = validateAnswer(userAnswer);\n    if (isValid) {\n      const formattedAnswer = formatAnswer(projectId, question, userAnswer);\n      const doesAnswerMatch = compareNewAnswerToExistingAnswer(\n        formattedAnswer,\n        surveyResponses.answers\n      );\n      if (!doesAnswerMatch) {\n        return submitAnswer(formattedAnswer);\n      }\n    }\n    return navigateToNextQuestion(direction, history, projectId);\n  };\n\n  const onPrevious = () => onProceed(SURVEY_DIRECTION.PREVIOUS);\n\n  const onNext = () => onProceed(SURVEY_DIRECTION.NEXT);\n\n  const skipPath = proceedPath(SURVEY_DIRECTION.NEXT, projectId);\n\n  return (\n    !fetchQuestionPending && (\n      <>\n        {showProgressBar && (\n          <>\n            <ProgressBar total={totalSteps} current={totalAnswered} />\n            <hr />\n          </>\n        )}\n        <div className=\"diagnostic-content\">\n          <QuestionSectionHeader sectionId={question.sectionId} />\n          <div\n            className={`dd-question-wrapper card-container ${isConditionalQuestion &&\n              'conditional-question'}`}\n          >\n            <QuestionType\n              question={question}\n              userAnswer={userAnswer}\n              setUserAnswer={setUserAnswer}\n              setIsAnswerValid={setIsAnswerValid}\n            />\n            <QuestionFooter\n              onNext={onNext}\n              onPrevious={onPrevious}\n              skipPath={skipPath}\n              isNextDisabled={isNextDisabled}\n              isBackDisabled={isFirstQuestion}\n            />\n          </div>\n        </div>\n      </>\n    )\n  );\n};\n\nexport default Question;\n","import { Loader } from '@pwc/pwc-deals-ui';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  fetchSurveyResponses,\n  getQuestion,\n  getQuestionById,\n  getSurveyResponses,\n  getResetAnswersStatus,\n  resetResetAnswersStatus\n} from '../../surveySlice';\nimport Question from '../Question/Question';\n\nconst SurveySection = ({ questionId }) => {\n  const dispatch = useDispatch();\n  const { projectId } = useParams();\n\n  const question = useSelector(getQuestion);\n  const surveyResponses = useSelector(getSurveyResponses);\n  const { success: resetAnswerSuccess } = useSelector(getResetAnswersStatus);\n\n  useEffect(() => {\n    if (!surveyResponses) {\n      dispatch(fetchSurveyResponses(projectId));\n    }\n  }, [dispatch, projectId, surveyResponses]);\n\n  useEffect(() => {\n    if (surveyResponses && (!question || question.id !== questionId)) {\n      dispatch(getQuestionById(questionId));\n    }\n  }, [questionId, dispatch, question, surveyResponses]);\n\n  useEffect(() => {\n    if (resetAnswerSuccess) {\n      dispatch(resetResetAnswersStatus());\n    }\n  }, [dispatch, resetAnswerSuccess]);\n\n  return (\n    <>\n      {surveyResponses && question && <Question question={question} />}\n      {(!surveyResponses || !question) && <Loader />}\n    </>\n  );\n};\n\nexport default SurveySection;\n","import React, { useEffect, useState } from 'react';\n\nimport { useParams, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport { fetchSurveyResponses, getSurveyResponses } from '../../../surveySlice';\nimport { getFirstQuestionInSection } from '../../../common/services/utilities/surveyUtility';\nimport { formatSurveyQuestionRoute, formatNextRoute } from '../../../routes';\n\nconst SurveyRedirectToQuestionInSection = ({ sectionPath }) => {\n  const dispatch = useDispatch();\n  const { projectId } = useParams();\n\n  const [redirectPath, setRedirectPath] = useState();\n\n  const surveyResponses = useSelector(getSurveyResponses);\n\n  useEffect(() => {\n    if (!surveyResponses) {\n      dispatch(fetchSurveyResponses(projectId));\n    } else {\n      const { sections, questions } = surveyResponses;\n      const section = sections.find(s => s.path === sectionPath);\n      let path;\n\n      if (section) {\n        const { id: firstQuestionId } = getFirstQuestionInSection(\n          questions,\n          section.id\n        );\n        path = formatSurveyQuestionRoute(\n          projectId,\n          sectionPath,\n          firstQuestionId\n        );\n      } else {\n        path = formatNextRoute(projectId);\n      }\n      setRedirectPath(path);\n    }\n  }, [dispatch, projectId, surveyResponses, sectionPath]);\n\n  return (\n    <>\n      {redirectPath && <Redirect to={redirectPath} />}\n      {!redirectPath && <Loader />}\n    </>\n  );\n};\n\nexport default SurveyRedirectToQuestionInSection;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams, Redirect } from 'react-router-dom';\nimport { formatResultsRoute } from '../../../../features/divestitureDiagnostic/routes';\n\nimport { getDivestitureDiagnosticResults } from '../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\n\nconst RedirectIfDivestitureResults = () => {\n  const { projectId } = useParams();\n  const divestitureDiagnosticResults = useSelector(\n    getDivestitureDiagnosticResults\n  );\n\n  return (\n    divestitureDiagnosticResults && (\n      <Redirect to={formatResultsRoute(projectId)} />\n    )\n  );\n};\n\nexport default RedirectIfDivestitureResults;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { SURVEY_DIRECTION } from '../../common/services/utilities/surveyUtility';\nimport {\n  nextRoute,\n  previousRoute,\n  surveyQuestionRoute,\n  surveySectionRoute\n} from '../../routes';\nimport SurveyProceed from '../SurveyProceed/SurveyProceed';\nimport SurveySection from '../SurveySection/SurveySection';\nimport SurveyRedirectToQuestionInSection from './SurveyRedirectToQuestionInSection/SurveyRedirectToQuestionInSection';\nimport RedirectIfDivestitureResults from './RedirectIfDivestitureResults/RedirectIfDivestitureResults';\n\nconst SurveyRouter = () => {\n  const renderSurveySection = ({ match }) => {\n    const { questionId } = match.params;\n\n    return <SurveySection questionId={+questionId} />;\n  };\n\n  const renderSurveyRedirect = ({ match }) => {\n    const { sectionPath } = match.params;\n\n    return (\n      <SurveyRedirectToQuestionInSection sectionPath={sectionPath || null} />\n    );\n  };\n\n  return (\n    <>\n      <RedirectIfDivestitureResults />\n      <Switch>\n        <Route exact strict path={nextRoute}>\n          <SurveyProceed direction={SURVEY_DIRECTION.NEXT} />\n        </Route>\n        <Route exact strict path={previousRoute}>\n          <SurveyProceed direction={SURVEY_DIRECTION.PREVIOUS} />\n        </Route>\n        <Route path={surveyQuestionRoute} render={renderSurveySection} />\n        <Route path={surveySectionRoute} render={renderSurveyRedirect} />\n        <Route render={renderSurveyRedirect} />\n      </Switch>\n    </>\n  );\n};\n\nexport default SurveyRouter;\n","import React, { useState, useEffect } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { Route } from 'react-router-dom';\n\nimport './SurveyWelcomeModal.scss';\nimport { useSelector } from 'react-redux';\nimport { getSurveyResponses } from '../../surveySlice';\nimport { surveyRoute } from '../../routes';\n\nconst SurveyWelcomeModal = () => {\n  const [show, setShow] = useState(true);\n  const surveyResponses = useSelector(getSurveyResponses);\n  const [questionBasedText, setQuestionBasedText] = useState('');\n\n  useEffect(() => {\n    if (surveyResponses) {\n      if (surveyResponses.answers.length) {\n        setQuestionBasedText('Continue Questionnaire');\n      } else {\n        setQuestionBasedText('Start Questionnaire');\n      }\n    }\n  }, [surveyResponses]);\n\n  return (\n    <Route path={surveyRoute}>\n      <Modal\n        show={show}\n        onHide={() => setShow(false)}\n        centered\n        dialogClassName=\"survey-welcome-modal\"\n        backdrop=\"static\"\n      >\n        <Modal.Header closeButton />\n        <Modal.Title>\n          <h1>Welcome,</h1>\n        </Modal.Title>\n        <Modal.Body>\n          The Diagnostic Questionnaire is the first step of a divestiture\n          deal&apos;s process, which creates a holistic business overview ahead\n          of a deal.\n          <br />\n          <br />\n          This questionnaire is intelligent and will update to fit your unique\n          scenario. It should take you around 10 minutes to complete.\n          <br />\n          <br />\n          The completed questionnaire will provide us with an overview of\n          Financial and Operations with a series of cross functional layers\n          underneath them that help to understand business performance,\n          regulatory requirements, and how entangled it is with the rest of the\n          company.\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            onClick={() => {\n              setShow(false);\n            }}\n          >\n            {questionBasedText}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Route>\n  );\n};\n\nexport default SurveyWelcomeModal;\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { noHeadingEditorConfig } from '../../../RichTextEditor/CKEditorConfig';\n\nimport RichTextEditor from '../../../RichTextEditor/RichTextEditor';\nimport { getEditMode } from '../../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport './Description.scss';\nimport { sanitize } from '../../../../services/sanitizeService';\n\nconst Description = ({\n  description,\n  onDescriptionChange,\n  isDescriptionEditable\n}) => {\n  const isEditMode = useSelector(getEditMode);\n  const [focused, setFocused] = useState(false);\n\n  const isEditable = isDescriptionEditable && isEditMode;\n\n  return (\n    <div className=\"category-description-wrapper\">\n      {!isEditable && (\n        <div\n          className=\"category-description dangerously-set\"\n          dangerouslySetInnerHTML={{ __html: sanitize(description) }}\n        />\n      )}\n      {isEditable && (\n        <div className=\"category-description\">\n          <RichTextEditor\n            richTextData={description}\n            onChange={value => {\n              onDescriptionChange(value === '' ? '<ul></ul>' : value);\n            }}\n            onBlur={(_, editor) => {\n              setFocused(false);\n              editor.ui.view.toolbar.element.style.display = 'none';\n            }}\n            onFocus={(_, editor) => {\n              setFocused(true);\n              editor.ui.view.toolbar.element.style.display = 'block';\n            }}\n            isFocused={focused}\n            config={noHeadingEditorConfig}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Description;\n","import React, { useState } from 'react';\nimport { TextInput } from '@pwc/pwc-deals-ui';\n\nconst ScoreTextInput = ({ category, onScoreChange }) => {\n  const [error, setError] = useState('');\n  const errorMessage = 'Invalid value. Enter a number between 1 and 10.';\n\n  return (\n    <TextInput\n      type=\"number\"\n      error={error}\n      field={{\n        name: `${category.categoryId}`,\n        value: `${category.value}`,\n        onChange: event => {\n          const newValue = +event.target.value;\n          if (newValue < 0 || newValue > 10) {\n            setError(errorMessage);\n          } else {\n            setError('');\n          }\n          onScoreChange(newValue);\n        }\n      }}\n    />\n  );\n};\n\nexport default ScoreTextInput;\n","import React from 'react';\nimport { ComplexityScale } from '@pwc/pwc-deals-ui';\n\nconst ComplexityScaleWrapper = ({\n  initial,\n  modified,\n  highLow,\n  showTooltip,\n  backgroundColor\n}) => {\n  const isModified = initial !== modified;\n\n  return (\n    <ComplexityScale\n      originalValue={initial}\n      originalLabel=\"Initial\"\n      modifiedValue={isModified ? modified : null}\n      modifiedLabel=\"Adjusted\"\n      backgroundColor={backgroundColor}\n      highLow={highLow}\n      showTooltip={showTooltip && isModified}\n    />\n  );\n};\n\nexport default ComplexityScaleWrapper;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { DivestitureDiagnosticUtility } from '@pwc/pwc-deals-web-common';\nimport {\n  getDivestitureDiagnosticResults,\n  getEditMode\n} from '../../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport Description from '../Description/Description';\n\nimport './Overview.scss';\nimport ScoreView from '../ScoreView/ScoreView';\nimport ScoreTextInput from '../../ScoreTextInput/ScoreTextInput';\nimport ComplexityScaleWrapper from '../../ComplexityScaleWrapper/ComplexityScaleWrapper';\n\nconst Overview = ({\n  category,\n  children,\n  onScoreChange,\n  onDescriptionChange\n}) => {\n  const isEditMode = useSelector(getEditMode);\n\n  const results = useSelector(getDivestitureDiagnosticResults);\n  const categoriesWithOverall = [\n    results.overallDealComplexity,\n    ...results.data\n  ];\n  const thisCategory = categoriesWithOverall.find(\n    cat => cat.categoryId === category.categoryId\n  );\n\n  return (\n    <>\n      <div className=\"category-overview-caption\">\n        <p className=\"dd-category-title\">{category.title}</p>\n        <Description description={category.categoryCaption} />\n      </div>\n      <div className=\"category-overview-score-wrapper\">\n        <div className=\"dd-category-score\">\n          {!isEditMode && <ScoreView category={category} />}\n          {isEditMode && (\n            <>\n              <span className=\"dd-category-score-text\">\n                {DivestitureDiagnosticUtility.calculateScoreText(\n                  category.value\n                )}\n              </span>\n              <ScoreTextInput\n                category={category}\n                onScoreChange={onScoreChange}\n              />\n            </>\n          )}\n        </div>\n        {thisCategory && (\n          <ComplexityScaleWrapper\n            initial={thisCategory.initialValue}\n            modified={thisCategory.value}\n            backgroundColor=\"color-page-background\"\n            highLow\n            showTooltip\n          />\n        )}\n        <Description\n          description={category.description}\n          onDescriptionChange={onDescriptionChange}\n          isDescriptionEditable\n        />\n      </div>\n      {children && <div className=\"category-overview-content\">{children}</div>}\n    </>\n  );\n};\n\nexport default Overview;\n","import React from 'react';\n\nimport Header from '../Category/Header/Header';\nimport Overview from '../Category/Overview/Overview';\n\nimport './DealComplexityOverview.scss';\n\nconst DealComplexityOverview = ({ selectedCategory, categories, onChange }) => (\n  <Overview\n    category={selectedCategory}\n    onScoreChange={newValue =>\n      onChange(selectedCategory.categoryId, { value: newValue })\n    }\n    onDescriptionChange={newDescription =>\n      onChange(selectedCategory.categoryId, { description: newDescription })\n    }\n  >\n    {categories\n      .filter(cat => cat.parentId === undefined)\n      .map(category => (\n        <div className=\"category\" key={`${category.title}-div`}>\n          <Header key={category.title} category={category} />\n        </div>\n      ))}\n  </Overview>\n);\n\nexport default DealComplexityOverview;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  getEditMode,\n  setEditMode\n} from '../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\n\nimport './ResultsHeader.scss';\n\nconst ResultsHeader = ({\n  saveDisabled,\n  editDisabled,\n  cancelDisabled,\n  onSave\n}) => {\n  const dispatch = useDispatch();\n  const isEditMode = useSelector(getEditMode);\n\n  return (\n    <div className=\"results-header-wrapper\">\n      {!isEditMode && (\n        <Button\n          className=\"results-edit-button button-small\"\n          onClick={() => dispatch(setEditMode(true))}\n          disabled={editDisabled}\n        >\n          Edit\n        </Button>\n      )}\n      {isEditMode && (\n        <>\n          <Button\n            className=\"results-cancel-button button-link\"\n            onClick={() => dispatch(setEditMode(false))}\n            disabled={cancelDisabled}\n          >\n            Cancel\n          </Button>\n          <Button\n            className=\"results-save-button button-small\"\n            onClick={onSave}\n            disabled={saveDisabled}\n          >\n            Save\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ResultsHeader;\n","import React, { useState } from 'react';\nimport './InitialDescription.scss';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\nimport { sanitize } from '../../../services/sanitizeService';\n\nconst InitialDescription = ({ initialDescription }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  return (\n    <div className=\"initial-description-wrapper\">\n      <Button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"button-no-underline\"\n      >\n        <Icon name={isExpanded ? 'desc' : 'asc'} />\n        <span className=\"initial-description-button-text\">\n          Initial response\n        </span>\n      </Button>\n      {isExpanded && (\n        <>\n          <br />\n          <div\n            className=\"category-description\"\n            dangerouslySetInnerHTML={{ __html: sanitize(initialDescription) }}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default InitialDescription;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport {\n  getEditMode,\n  getDivestitureDiagnosticResults\n} from '../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport './Subcategory.scss';\nimport ScoreView from '../Category/ScoreView/ScoreView';\nimport ScoreTextInput from '../ScoreTextInput/ScoreTextInput';\nimport Description from '../Category/Description/Description';\nimport InitialDescription from '../InitialDescription/InitialDescription';\nimport ComplexityScaleWrapper from '../ComplexityScaleWrapper/ComplexityScaleWrapper';\n\nconst getIsDescriptionAdjusted = (\n  editableSubcategoryId,\n  originalCategories\n) => {\n  const originalSubcategory = originalCategories.find(\n    originalCategory => originalCategory.categoryId === editableSubcategoryId\n  );\n  return (\n    originalSubcategory.description !== originalSubcategory.initialDescription\n  );\n};\n\nconst Subcategory = ({ subcategory, onScoreChange, onDescriptionChange }) => {\n  const isEditMode = useSelector(getEditMode);\n\n  const { data: originalCategories } = useSelector(\n    getDivestitureDiagnosticResults\n  );\n\n  const thisCategory = originalCategories.find(\n    cat => cat.categoryId === subcategory.categoryId\n  );\n\n  const isDescriptionAdjusted = getIsDescriptionAdjusted(\n    subcategory.categoryId,\n    originalCategories\n  );\n\n  return (\n    <div className=\"subcategory-wrapper\">\n      <div className=\"subcategory-title-wrapper\">\n        <span className=\"subcategory-title\">{subcategory.title}</span>\n        {isEditMode && (\n          <ScoreTextInput\n            category={subcategory}\n            onScoreChange={onScoreChange}\n          />\n        )}\n        {!isEditMode && <ScoreView category={subcategory} />}\n      </div>\n      <ComplexityScaleWrapper\n        initial={thisCategory.initialValue}\n        modified={thisCategory.value}\n      />\n      <div className=\"description-wrapper\">\n        <br />\n        <Description\n          description={subcategory.description}\n          onDescriptionChange={onDescriptionChange}\n          isDescriptionEditable\n        />\n        {isDescriptionAdjusted && (\n          <InitialDescription\n            initialDescription={subcategory.initialDescription}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Subcategory;\n","import React from 'react';\n\nimport Overview from '../Category/Overview/Overview';\nimport Subcategory from '../Subcategory/Subcategory';\n\nimport './TopLevelCategoryOverview.scss';\n\nconst TopLevelCategoryOverview = ({\n  selectedCategory,\n  subcategories,\n  onChange\n}) => {\n  return (\n    <>\n      <Overview\n        category={selectedCategory}\n        onScoreChange={newValue =>\n          onChange(selectedCategory.categoryId, { value: newValue })\n        }\n        onDescriptionChange={newDescription =>\n          onChange(selectedCategory.categoryId, { description: newDescription })\n        }\n      />\n      <div className=\"category-content\">\n        {subcategories.map(sub => (\n          <Subcategory\n            key={sub.categoryId}\n            subcategory={sub}\n            onScoreChange={newValue =>\n              onChange(sub.categoryId, { value: newValue })\n            }\n            onDescriptionChange={newDescription =>\n              onChange(sub.categoryId, { description: newDescription })\n            }\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default TopLevelCategoryOverview;\n","const validateScore = value => {\n  if (value < 1) {\n    return false;\n  }\n  if (value > 10) {\n    return false;\n  }\n  return true;\n};\n\nexport default validateScore;\n","import validateScore from './validateScore';\n\nconst validateCategoryOnChange = (\n  immutableCategory,\n  editableCategory,\n  immutableSubcategories,\n  editableSubcategories\n) => {\n  let isValid = true;\n  let hasChanged = false;\n  const performValidation = (immutable, editable) => {\n    if (\n      editable.value !== immutable.value ||\n      editable.description !== immutable.description\n    ) {\n      hasChanged = true;\n    }\n    if (!validateScore(editable.value)) {\n      isValid = false;\n    }\n  };\n\n  performValidation(immutableCategory, editableCategory);\n\n  editableSubcategories.forEach(sub => {\n    const originalSubcategory = immutableSubcategories.find(\n      original => original.categoryId === sub.categoryId\n    );\n    performValidation(originalSubcategory, sub);\n  });\n  return isValid && hasChanged;\n};\n\nexport default validateCategoryOnChange;\n","import { Button, Loader } from '@pwc/pwc-deals-ui';\nimport { xor } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  getEditMode,\n  getResetDivestitureDiagnosticResultsStatus,\n  getSaveCategoriesStatus,\n  resetDivestitureDiagnosticResults,\n  saveCategories,\n  fetchDivestitureDiagnosticResults,\n  resetSaveCategoriesStatus,\n  getFetchDivestitureDiagnosticResultsStatus,\n  setEditMode,\n  saveOverallComplexity,\n  getSaveOverallComplexityStatus,\n  resetSaveOverallComplexityStatus,\n  getDivestitureDiagnosticResults\n} from '../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport DealComplexityOverview from './DealComplexityOverview/DealComplexityOverview';\nimport ResultsHeader from './ResultsHeader/ResultsHeader';\nimport TopLevelCategoryOverview from './TopLevelCategoryOverview/TopLevelCategoryOverview';\n\nimport './DivestitureDiagnosticResults.scss';\nimport authorizationService from '../../services/security/authorizationService';\nimport { resetPostResponsesStatus } from '../../../Survey/surveySlice';\nimport validateCategoryOnChange from './DivestitureDiagnosticUtils/validateCategoryOnChange';\nimport featureFlags from '../../helpers/featureFlags';\n\nconst matchCategories = (previousCats, newCats) =>\n  xor(\n    previousCats.map(cat => cat.categoryId),\n    newCats.map(cat => cat.categoryId)\n  ).length === 0;\n\nconst filterSubCategories = (categories, selectedCategory) =>\n  categories.filter(cat => cat.parentId === selectedCategory.categoryId);\n\nconst DivestitureDiagnosticResults = ({ category }) => {\n  const [saveDisabled, setSaveDisabled] = useState(true);\n  const dispatch = useDispatch();\n  const { pending } = useSelector(getResetDivestitureDiagnosticResultsStatus);\n  const { projectId } = useParams();\n\n  const divestitureDiagnosticResults = useSelector(\n    getDivestitureDiagnosticResults\n  );\n\n  const [editableSelectedCategory, setEditableSelectedCategory] = useState(\n    category\n  );\n\n  const editMode = useSelector(getEditMode);\n  const { pending: isFetchDDResultsPending } = useSelector(\n    getFetchDivestitureDiagnosticResultsStatus\n  );\n  const {\n    pending: isSaveCategoriesPending,\n    success: isSaveCategoriesSuccessful\n  } = useSelector(getSaveCategoriesStatus);\n  const {\n    pending: isSaveOverallPending,\n    success: isSaveOverallSuccessful\n  } = useSelector(getSaveOverallComplexityStatus);\n  const isSavePending = isSaveCategoriesPending || isSaveOverallPending;\n  const isSaveSuccessful =\n    isSaveCategoriesSuccessful || isSaveOverallSuccessful;\n\n  const [subcategories, setSubcategories] = useState(\n    divestitureDiagnosticResults\n      ? filterSubCategories(divestitureDiagnosticResults.data, category)\n      : []\n  );\n\n  useEffect(() => {\n    if (divestitureDiagnosticResults && !editMode) {\n      setEditableSelectedCategory(category);\n      setSubcategories(\n        filterSubCategories(divestitureDiagnosticResults.data, category)\n      );\n    }\n  }, [category, divestitureDiagnosticResults, editMode]);\n\n  useEffect(() => {\n    const originalSubcategories = filterSubCategories(\n      (divestitureDiagnosticResults && divestitureDiagnosticResults.data) || [],\n      category\n    );\n    if (editMode && matchCategories(originalSubcategories, subcategories)) {\n      const isSavable = validateCategoryOnChange(\n        category,\n        editableSelectedCategory,\n        originalSubcategories,\n        subcategories\n      );\n      setSaveDisabled(!isSavable);\n    }\n  }, [\n    subcategories,\n    category,\n    divestitureDiagnosticResults,\n    editMode,\n    editableSelectedCategory\n  ]);\n\n  useEffect(() => {\n    if (isSaveSuccessful) {\n      dispatch(resetSaveOverallComplexityStatus());\n      dispatch(resetSaveCategoriesStatus());\n      dispatch(setEditMode(false));\n      dispatch(fetchDivestitureDiagnosticResults(projectId));\n    }\n  }, [isSaveSuccessful, dispatch, projectId]);\n\n  useEffect(() => {\n    dispatch(setEditMode(false));\n  }, [category, dispatch]);\n\n  const updateCategory = (editedCategoryId, update) => {\n    const categoryToEdit = [...subcategories, editableSelectedCategory].find(\n      cat => cat.categoryId === editedCategoryId\n    );\n    const updatedCategory = {\n      ...categoryToEdit,\n      ...update\n    };\n\n    if (updatedCategory.categoryId === editableSelectedCategory.categoryId) {\n      setEditableSelectedCategory(updatedCategory);\n    } else {\n      const updatedSubcategories = subcategories.map(cat =>\n        cat.categoryId === editedCategoryId ? updatedCategory : cat\n      );\n      setSubcategories(updatedSubcategories);\n    }\n  };\n\n  const handleOnSave = () => {\n    if (\n      category.categoryId ===\n      divestitureDiagnosticResults.overallDealComplexity.categoryId\n    ) {\n      dispatch(saveOverallComplexity(projectId, editableSelectedCategory));\n    } else {\n      dispatch(\n        saveCategories(projectId, [...subcategories, editableSelectedCategory])\n      );\n    }\n  };\n\n  const overallDealComplexity =\n    divestitureDiagnosticResults &&\n    divestitureDiagnosticResults.overallDealComplexity;\n\n  return (\n    <>\n      {divestitureDiagnosticResults && editableSelectedCategory && (\n        <div className=\"dd-results-wrapper\">\n          {!authorizationService.isClientUser() && (\n            <ResultsHeader\n              saveDisabled={saveDisabled || isSavePending}\n              editDisabled={isFetchDDResultsPending}\n              cancelDisabled={isSavePending}\n              onSave={handleOnSave}\n            />\n          )}\n          {(isSavePending || isFetchDDResultsPending) && <Loader />}\n          {!isSavePending && !isFetchDDResultsPending && (\n            <div className=\"divestiture-diagnostic-category-wrapper\">\n              {category.categoryId === overallDealComplexity.categoryId && (\n                <DealComplexityOverview\n                  selectedCategory={editableSelectedCategory}\n                  categories={divestitureDiagnosticResults.data}\n                  onChange={updateCategory}\n                />\n              )}\n              {category.categoryId !== overallDealComplexity.categoryId && (\n                <TopLevelCategoryOverview\n                  onChange={updateCategory}\n                  selectedCategory={editableSelectedCategory}\n                  subcategories={subcategories}\n                />\n              )}\n              {featureFlags.diagnosticDebuggingControls && (\n                <div className=\"dd-reset-results-btn\">\n                  <Button\n                    className=\"reset-dd-results-button\"\n                    onClick={() => {\n                      dispatch(resetPostResponsesStatus());\n                      dispatch(resetDivestitureDiagnosticResults(projectId));\n                    }}\n                    disabled={pending}\n                  >\n                    Reset Divestiture Diagnostic Results\n                  </Button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default DivestitureDiagnosticResults;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport { getDivestitureDiagnosticResults } from '../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport {\n  categoryPathRoute,\n  formatCategoryPathRoute\n} from '../../../../features/divestitureDiagnostic/routes';\nimport DivestitureDiagnosticResults from '../DivestitureDiagnosticResults';\n\nconst Category = () => {\n  const results = useSelector(getDivestitureDiagnosticResults);\n\n  const renderResults = ({ match }) => {\n    const allCategories = [results.overallDealComplexity, ...results.data];\n    const category = allCategories.find(\n      c => c.path === match.params.categoryPath\n    );\n    return category && <DivestitureDiagnosticResults category={category} />;\n  };\n\n  const renderComplexityOverview = ({ match }) => {\n    const { projectId } = match.params;\n    const overallComplexityPath = results.overallDealComplexity.path;\n    return (\n      <Redirect\n        to={formatCategoryPathRoute(projectId, overallComplexityPath)}\n      />\n    );\n  };\n\n  return (\n    <Switch>\n      <Route path={categoryPathRoute} render={renderResults} />\n      <Route render={renderComplexityOverview} />\n    </Switch>\n  );\n};\n\nexport default Category;\n","import { Loader } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport { formatSurveyRoute } from '../../Survey/routes';\nimport {\n  getDivestitureDiagnosticResults,\n  getFetchDivestitureDiagnosticResultsStatus\n} from './divestitureDiagnosticSlice';\nimport Category from '../../common/components/DivestitureDiagnosticResults/Category/Category';\n\nconst ResultsRouter = () => {\n  const { projectId } = useParams();\n  const results = useSelector(getDivestitureDiagnosticResults);\n  const { pending: fetchingResults, success: fetchDDSuccess } = useSelector(\n    getFetchDivestitureDiagnosticResultsStatus\n  );\n\n  return (\n    <>\n      {fetchingResults && <Loader />}\n      {!fetchingResults && fetchDDSuccess && (\n        <>\n          {!results && <Redirect to={formatSurveyRoute(projectId)} />}\n          {results && <Category />}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default ResultsRouter;\n","import React from 'react';\nimport './Response.scss';\n\nconst renderAnswer = (questionType, answer) => {\n  if (questionType === 'multiselect') {\n    return (\n      <ul className=\"multiselect-answers\">\n        {answer.map(ans => (\n          <li key={`${ans.id}-${ans.text}`}>{ans.text}</li>\n        ))}\n      </ul>\n    );\n  }\n  return answer ? answer.text : '';\n};\n\nconst shouldRenderResponse = question => {\n  if (question.conditions && question.conditions.length > 0) {\n    return question.answer;\n  }\n\n  return true;\n};\n\nconst Response = ({ question }) => {\n  return (\n    shouldRenderResponse(question) && (\n      <tr className=\"response-wrapper\">\n        <td className=\"question-cell\">{question.text}</td>\n        <td className=\"answer-cell\">\n          {renderAnswer(question.type, question.answer)}\n        </td>\n      </tr>\n    )\n  );\n};\n\nexport default Response;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { getCurrentContentTypeFromURL } from '../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport { CONTENT_TYPE_RESULTS } from '../../../features/divestitureDiagnostic/routes';\nimport Response from '../Response/Response';\n\nimport './ResponseSection.scss';\n\nconst ResponseSection = ({ section }) => {\n  const { sectionTitle, questions, sectionPath } = section;\n  const contentType = useSelector(getCurrentContentTypeFromURL);\n\n  const isResultsRoute = contentType === CONTENT_TYPE_RESULTS;\n\n  return (\n    <div className=\"response-section-container\">\n      <table>\n        <thead>\n          <tr>\n            <th>{sectionTitle}</th>\n            {!isResultsRoute && (\n              <th className=\"response-section-button-header\">\n                <Link to={sectionPath} className=\"ui-button button-outline\">\n                  Amend\n                </Link>\n              </th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {questions.map(question => (\n            <Response key={question.id} question={question} />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default ResponseSection;\n","import React, { useState } from 'react';\nimport { noHeadingEditorConfig } from '../../../../../common/components/RichTextEditor/CKEditorConfig';\n\nimport RichTextEditor from '../../../../../common/components/RichTextEditor/RichTextEditor';\n\nconst AdditionalCommentsForm = ({\n  additionalComments,\n  onChange,\n  lightModeVariant\n}) => {\n  const [focused, setFocused] = useState(false);\n  return (\n    <div\n      className={`additional-comments${\n        lightModeVariant ? ' light-mode-variant' : ''\n      }`}\n    >\n      <p>\n        If you would like to add any comments in association to this section,\n        please mention below.\n      </p>\n      <p className=\"additional-comments-label\">Additional Comments</p>\n      <RichTextEditor\n        richTextData={additionalComments}\n        onChange={onChange}\n        config={noHeadingEditorConfig}\n        onBlur={(_, editor) => {\n          setFocused(false);\n          editor.ui.view.toolbar.element.style.display = 'none';\n        }}\n        onFocus={(_, editor) => {\n          setFocused(true);\n          editor.ui.view.toolbar.element.style.display = 'block';\n        }}\n        isFocused={focused}\n      />\n\n      <p>\n        When you are happy with your responses please submit to allow use to\n        proceed.\n      </p>\n    </div>\n  );\n};\n\nexport default AdditionalCommentsForm;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { sanitize } from '../../../../../common/services/sanitizeService';\n\nimport { getDivestitureDiagnosticResults } from '../../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\n\nconst AdditionalCommentsView = () => {\n  const { comment } = useSelector(getDivestitureDiagnosticResults);\n  const noCommentVerbiage = 'No additional comments entered.';\n  const commentOrDefault = comment || noCommentVerbiage;\n\n  return (\n    <div className=\"response-section-container\">\n      <table>\n        <thead>\n          <tr>\n            <th>Additional Comments</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              <div\n                className=\"additional-comments-rich-text\"\n                dangerouslySetInnerHTML={{ __html: sanitize(commentOrDefault) }}\n              />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AdditionalCommentsView;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { getCurrentContentTypeFromURL } from '../../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport { CONTENT_TYPE_SURVEY } from '../../../routes';\nimport { CONTENT_TYPE_RESULTS } from '../../../../features/divestitureDiagnostic/routes';\nimport AdditionalCommentsForm from './AdditionalCommentsForm/AdditionalCommentsForm';\nimport AdditionalCommentsView from './AdditionalCommentsView/AdditionalCommentsView';\n\nconst AdditionalCommentsSection = ({ additionalComments, onChange }) => {\n  const contentType = useSelector(getCurrentContentTypeFromURL);\n\n  return (\n    <>\n      {contentType === CONTENT_TYPE_SURVEY && (\n        <AdditionalCommentsForm\n          onChange={onChange}\n          additionalComments={additionalComments}\n        />\n      )}\n      {contentType === CONTENT_TYPE_RESULTS && <AdditionalCommentsView />}\n    </>\n  );\n};\n\nexport default AdditionalCommentsSection;\n","import { Button, Loader } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport {\n  fetchSurveyResponses,\n  getFetchSurveyResponsesStatus,\n  getPostResponsesStatus,\n  getResetAnswersStatus,\n  getSurveyResponses,\n  getSurveyResponsesCompleted,\n  postResponses,\n  resetAnswers,\n  resetQuestion\n} from '../../surveySlice';\nimport ResponseSection from '../ResponseSection/ResponseSection';\n\nimport './ReviewResponses.scss';\nimport { formatResultsRoute } from '../../../features/divestitureDiagnostic/routes';\nimport {\n  fetchDivestitureDiagnosticResults,\n  getCurrentContentTypeFromURL\n} from '../../../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport userTokenService from '../../../common/services/security/userTokenService';\nimport { CONTENT_TYPE_SURVEY } from '../../routes';\nimport AdditionalCommentsSection from './AdditionalCommentsSection/AdditionalCommentsSection';\nimport featureFlags from '../../../common/helpers/featureFlags';\n\nconst formatAnswer = (answers, section, question) => {\n  const formatRadioAnswer = foundAnswer => {\n    const foundOption = question.options.find(\n      option => option.id === foundAnswer.optionId\n    );\n    return {\n      ...foundAnswer,\n      text: foundOption && foundOption.text\n    };\n  };\n  const formatTextAnswer = foundAnswer => ({\n    ...foundAnswer,\n    text: foundAnswer.value\n  });\n  const formatMultiselectAnswer = foundAnswer =>\n    foundAnswer.map(answer => {\n      const foundOption = question.options.find(\n        option => option.id === answer.optionId\n      );\n      return {\n        ...answer,\n        text: foundOption && foundOption.text\n      };\n    });\n\n  const formatFoundAnswer = ans => {\n    switch (question.type) {\n      case 'radio':\n        return formatRadioAnswer(ans);\n      case 'percent':\n        return formatTextAnswer(ans);\n      case 'multiselect':\n        return formatMultiselectAnswer(ans);\n      default:\n        return formatTextAnswer(ans);\n    }\n  };\n\n  const foundAnswer = answers[\n    question.type === 'multiselect' ? 'filter' : 'find'\n  ](\n    answer =>\n      answer.sectionId === section.id && answer.questionId === question.id\n  );\n\n  if (foundAnswer) {\n    return formatFoundAnswer(foundAnswer);\n  }\n  return null;\n};\n\nexport const formatSurveyResponses = surveyResponses =>\n  surveyResponses && surveyResponses.sections\n    ? surveyResponses.sections.map(section => ({\n        sectionId: section.id,\n        sectionPath: section.path,\n        sectionTitle: section.title,\n        questions: surveyResponses.questions\n          .filter(question => question.sectionId === section.id)\n          .map(question => ({\n            ...question,\n            id: question.id,\n            sectionId: question.sectionId,\n            text: question.text,\n            answer: formatAnswer(surveyResponses.answers, section, question)\n          }))\n      }))\n    : [];\n\nconst ReviewResponses = ({ isSurveySubmitted }) => {\n  const dispatch = useDispatch();\n  const { projectId } = useParams();\n  const history = useHistory();\n\n  const surveyResponses = useSelector(getSurveyResponses);\n  const { pending: resetAnswersPending } = useSelector(getResetAnswersStatus);\n  const {\n    pending: postResponsesPending,\n    success: postResponsesSuccess\n  } = useSelector(getPostResponsesStatus);\n  const fetchSurveyResponseStatus = useSelector(getFetchSurveyResponsesStatus);\n  const surveyResponsesCompleted = useSelector(getSurveyResponsesCompleted);\n  const contentType = useSelector(getCurrentContentTypeFromURL);\n\n  const [isClient, setIsClient] = useState(false);\n  const [hasPermission, setHasPermission] = useState(false);\n  const [additionalComments, setAdditionalComment] = useState('');\n\n  const isSurveyRoute = contentType === CONTENT_TYPE_SURVEY;\n\n  useEffect(() => {\n    if (!surveyResponses) {\n      dispatch(fetchSurveyResponses(projectId));\n    }\n  }, [dispatch, projectId, surveyResponses]);\n\n  useEffect(() => {\n    if (isSurveyRoute && postResponsesSuccess) {\n      dispatch(resetQuestion());\n      dispatch(fetchDivestitureDiagnosticResults(projectId));\n      history.push(formatResultsRoute(projectId));\n    }\n  }, [postResponsesSuccess, history, projectId, dispatch, isSurveyRoute]);\n\n  useEffect(() => {\n    let isMounted = true;\n    const userRole = userTokenService.getProjectTokenProperty(\n      projectId,\n      'role'\n    );\n    const approverPermission = userTokenService.hasProjectPermission(\n      projectId,\n      ['Approve']\n    );\n\n    if (isMounted) {\n      setIsClient(Constants.USER_ROLE_GROUPS.CLIENT.includes(userRole));\n      setHasPermission(approverPermission);\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [setIsClient, setHasPermission, projectId, dispatch]);\n\n  return (\n    <>\n      {surveyResponses && (\n        <div className=\"review-responses-container\">\n          {surveyResponses.sections &&\n            formatSurveyResponses(surveyResponses).map(res => (\n              <ResponseSection\n                projectId={projectId}\n                section={res}\n                key={res.sectionId}\n              />\n            ))}\n          <AdditionalCommentsSection\n            additionalComments={additionalComments}\n            onChange={value => setAdditionalComment(value)}\n          />\n          {isSurveyRoute && (\n            <div className=\"responses-footer\">\n              <Button\n                className=\"submit-responses-button\"\n                onClick={() =>\n                  dispatch(postResponses(projectId, additionalComments))\n                }\n                disabled={\n                  !surveyResponsesCompleted ||\n                  postResponsesPending ||\n                  isSurveySubmitted ||\n                  (!isClient && !hasPermission)\n                }\n              >\n                Submit Responses\n              </Button>\n              {featureFlags.diagnosticDebuggingControls && (\n                <Button\n                  className=\"reset-answers-button\"\n                  onClick={() => dispatch(resetAnswers(projectId))}\n                  disabled={resetAnswersPending || isSurveySubmitted}\n                >\n                  Reset Answers\n                </Button>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n      {fetchSurveyResponseStatus.pending && <Loader />}\n    </>\n  );\n};\n\nexport default ReviewResponses;\n","import React from 'react';\nimport { useParams, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport { formatSurveySectionRoute } from '../../Survey/routes';\nimport {\n  getResetAnswersStatus,\n  getSurveyResponses\n} from '../../Survey/surveySlice';\n\nconst ResetAnswersRedirect = () => {\n  const { projectId } = useParams();\n\n  const surveyResponses = useSelector(getSurveyResponses);\n  const { success: resetAnswerSuccess } = useSelector(getResetAnswersStatus);\n\n  const sectionPath = surveyResponses && surveyResponses.sections[0].path;\n\n  return (\n    resetAnswerSuccess &&\n    surveyResponses && (\n      <Redirect to={formatSurveySectionRoute(projectId, sectionPath)} />\n    )\n  );\n};\n\nexport default ResetAnswersRedirect;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport ReviewResponses from '../../Survey/components/ReviewResponses/ReviewResponses';\nimport {\n  CONTENT_TYPE_SURVEY,\n  formatContentResponsesRoute\n} from '../../Survey/routes';\nimport {\n  getCurrentContentTypeFromURL,\n  getDivestitureDiagnosticResults\n} from './divestitureDiagnosticSlice';\nimport ResetAnswersRedirect from './ResetAnswersRedirect';\nimport { CONTENT_TYPE_RESULTS } from './routes';\n\nconst ResponsesRouter = () => {\n  const { projectId } = useParams();\n\n  const divestitureDiagnosticResults = useSelector(\n    getDivestitureDiagnosticResults\n  );\n  const contentType = useSelector(getCurrentContentTypeFromURL);\n\n  const isSurveyRoute = contentType === CONTENT_TYPE_SURVEY;\n\n  return (\n    <>\n      <ResetAnswersRedirect />\n      {isSurveyRoute && divestitureDiagnosticResults && (\n        <Redirect\n          to={formatContentResponsesRoute(projectId, CONTENT_TYPE_RESULTS)}\n        />\n      )}\n      {!isSurveyRoute && !divestitureDiagnosticResults && (\n        <Redirect\n          to={formatContentResponsesRoute(projectId, CONTENT_TYPE_SURVEY)}\n        />\n      )}\n      <ReviewResponses isSurveySubmitted={!!divestitureDiagnosticResults} />\n    </>\n  );\n};\n\nexport default ResponsesRouter;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, Route, Switch, useParams } from 'react-router-dom';\nimport { Loader } from '@pwc/pwc-deals-ui';\n\nimport DivestitureDiagnosticSidebarRouter from '../../common/components/DivestitureDiagnosticSidebar/DivestitureDiagnosticSidebarRouter';\nimport SurveyRouter from '../../Survey/components/SurveyRouter/SurveyRouter';\nimport {\n  surveyRoute,\n  contentResponsesRoute,\n  formatSurveyRoute\n} from '../../Survey/routes';\nimport {\n  getDivestitureDiagnosticResults,\n  getFetchDivestitureDiagnosticResultsStatus,\n  fetchDivestitureDiagnosticResults\n} from './divestitureDiagnosticSlice';\nimport { resultsRoute, formatResultsRoute } from './routes';\nimport SurveyWelcomeModal from '../../Survey/components/SurveyWelcomeModal/SurveyWelcomeModal';\nimport './DivestitureDiagnosticContent.scss';\nimport ResultsRouter from './ResultsRouter';\nimport ResponsesRouter from './ResponsesRouter';\nimport { resetQuestion } from '../../Survey/surveySlice';\n\nconst DivestitureDiagnosticContent = () => {\n  const dispatch = useDispatch();\n  const { projectId } = useParams();\n\n  const divestitureDiagnosticResults = useSelector(\n    getDivestitureDiagnosticResults\n  );\n  const { pending: fetchDDPending } = useSelector(\n    getFetchDivestitureDiagnosticResultsStatus\n  );\n\n  useEffect(() => {\n    dispatch(fetchDivestitureDiagnosticResults(projectId));\n    return () => dispatch(resetQuestion());\n  }, [dispatch, projectId]);\n\n  return (\n    <>\n      {fetchDDPending && <Loader />}\n      <div className=\"divestiture-diagnostic-content-wrapper\">\n        {!fetchDDPending && (\n          <>\n            <SurveyWelcomeModal />\n            <DivestitureDiagnosticSidebarRouter />\n            <Switch>\n              <Route path={contentResponsesRoute} exact>\n                <div className=\"diagnostic-content-container\">\n                  <ResponsesRouter />\n                </div>\n              </Route>\n              <Route path={resultsRoute}>\n                <ResultsRouter />\n              </Route>\n              <Route path={surveyRoute}>\n                <div className=\"diagnostic-content-container\">\n                  <SurveyRouter />\n                </div>\n              </Route>\n              <Route>\n                {!divestitureDiagnosticResults && (\n                  <Redirect to={formatSurveyRoute(projectId)} />\n                )}\n                {divestitureDiagnosticResults && (\n                  <Redirect to={formatResultsRoute(projectId)} />\n                )}\n              </Route>\n            </Switch>\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default DivestitureDiagnosticContent;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport DivestitureDiagnosticContent from './DivestitureDiagnosticContent';\n\nimport './DivestitureDiagnosticContentRouter.scss';\nimport { divestitureRoute } from './routes';\n\nconst DivestitureDiagnosticContentRouter = () => (\n  <Route path={divestitureRoute}>\n    <DivestitureDiagnosticContent />\n  </Route>\n);\n\nexport default DivestitureDiagnosticContentRouter;\n","import { Field, Form } from 'formik';\nimport _get from 'lodash/get';\nimport React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport RichTextEditorFormikField from '../../../common/components/RichTextEditorFormikField/RichTextEditorFormikField';\nimport Separator from '../../../common/components/Separator';\nimport TitleFieldset from '../../../common/components/TitleFieldset/TitleFieldset';\nimport PublishButton from '../../../common/components/PublishButton/PublishButton';\nimport FormLayout from '../../../common/components/layouts/FormLayout';\nimport ActiveContentDraftHeader from '../../../common/components/ContentHeaders/ActiveContentDraftHeader';\nimport D3Alert from '../../../common/components/Alert/D3Alert';\nimport EditConnectedContent from '../../narratives/EditConnectedContent/EditConnectedContent';\nimport TagEditor from '../../tagging/common/TagEditor/TagEditor';\nimport { introHeadingOnlyEditorConfig } from '../../../common/components/RichTextEditor/CKEditorConfig';\nimport './HypothesisForm.scss';\n\nconst HypothesisForm = props => {\n  const {\n    onCancel,\n    isSaving,\n    errorType, // API error\n    errors, // Formik errors\n    touched,\n    isValid,\n    children,\n    projectId,\n    parentContentId,\n    narratives,\n    setNarratives,\n    dirty,\n    onSaveText,\n    standbyText,\n    ...rest\n  } = props;\n\n  const isPublishError = errorType === 'publish';\n\n  const titleFieldError =\n    !isPublishError &&\n    _get(errorType, 'fieldName', '').toLowerCase() === 'title'\n      ? errorType.apiErrorMessage\n      : undefined;\n\n  const generalError =\n    isPublishError || !titleFieldError ? errorType : undefined;\n\n  return (\n    <FormLayout\n      headerComponent={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <ActiveContentDraftHeader\n          onCancel={onCancel}\n          isSaving={isSaving}\n          errors={errors}\n          touched={touched}\n          isValid={isValid}\n          dirty={dirty}\n          onSaveText={onSaveText}\n          standbyText={standbyText}\n        />\n      }\n    >\n      {children}\n\n      <Form data-testid=\"hypothesis-form\" className=\"mt-5\" {...rest}>\n        <div className=\"form-fields\">\n          <div className=\"input-container\">\n            <Field\n              name=\"title\"\n              component={TitleFieldset}\n              className=\"title-fieldset fill icon-grey-alt-lighter\"\n              label=\"Title\"\n              error={titleFieldError}\n              placeholder=\"Start typing here to give your new Key Focus Area a title\"\n            />\n\n            <Field\n              name=\"body\"\n              component={RichTextEditorFormikField}\n              label=\"Description (optional)\"\n              dataTestId=\"text-area-body\"\n              config={introHeadingOnlyEditorConfig}\n            />\n\n            <Field\n              name=\"conclusion\"\n              className=\"test\"\n              component={RichTextEditorFormikField}\n              label=\"PwC View (optional)\"\n              dataTestId=\"text-area-conclusion\"\n              config={introHeadingOnlyEditorConfig}\n            />\n          </div>\n\n          <Separator />\n\n          <TagEditor projectId={projectId} />\n        </div>\n\n        <EditConnectedContent\n          projectId={projectId}\n          parentContentId={parentContentId}\n          narratives={narratives}\n          setNarratives={setNarratives}\n        />\n\n        <Separator />\n\n        <div className=\"form-bottom-actions\">\n          <Button\n            className=\"button-link form-cancel-button\"\n            type=\"button\"\n            onClick={onCancel}\n            data-testid=\"cancel-button-bottom\"\n          >\n            Cancel\n          </Button>\n          <PublishButton\n            isSaving={isSaving}\n            isValid={isValid}\n            buttonPosition=\"bottom\"\n            dirty={dirty}\n            onSaveText={onSaveText}\n            standbyText={standbyText}\n          />\n        </div>\n        {generalError && <D3Alert configType={generalError} />}\n      </Form>\n    </FormLayout>\n  );\n};\n\nexport default HypothesisForm;\n","import * as Yup from 'yup';\n\nexport const emptyHypothesis = () => ({\n  title: '',\n  body: '',\n  conclusion: '',\n  tags: []\n});\n\nexport const hypothesisSchema = Yup.object().shape({\n  title: Yup.string()\n    .trim()\n    .required('Title is required')\n});\n","import { Formik } from 'formik';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport { viewHypothesisPath } from '../../../common/services/urlService';\nimport HypothesisForm from '../common/HypothesisForm';\nimport { emptyHypothesis, hypothesisSchema } from '../common/hypothesisModel';\nimport { postHypothesis } from '../hypothesesService';\nimport './create-hypothesis.scss';\nimport { getNarratives } from '../../narratives/narrativesService';\nimport { getLinksFromNarratives } from '../../narratives/narrativesUtilities';\n\nconst parentContentId = -1;\n\nconst CreateHypothesis = () => {\n  const history = useHistory();\n  const { projectId } = useParams();\n  const formikRef = useRef();\n\n  const [errorType, setErrorType] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n  const [defaultHypothesis] = useState(emptyHypothesis());\n  const [narratives, setNarratives] = useState(null);\n\n  useEffect(() => {\n    if (formikRef.current) {\n      formikRef.current.resetForm();\n      formikRef.current.validateForm(defaultHypothesis);\n    }\n  }, [history.location, formikRef, defaultHypothesis]);\n\n  useEffect(() => {\n    (async () => {\n      getNarratives(projectId).then(setNarratives);\n    })();\n  }, [projectId]);\n\n  const cancelAndGoBack = () => history.goBack();\n\n  const gotoHypothesisView = contentId => {\n    history.replace(viewHypothesisPath(projectId, contentId));\n  };\n\n  const handlePublish = async hypothesis => {\n    setIsSaving(true);\n    try {\n      const links = getLinksFromNarratives(narratives, parentContentId);\n      const contentId = await postHypothesis(projectId, {\n        ...hypothesis,\n        title: hypothesis.title.trim(),\n        body: hypothesis.body.trim(),\n        conclusion: hypothesis.conclusion.trim(),\n        tags: hypothesis.tags.map(tag => ({\n          text: tag\n        })),\n        links\n      });\n      setErrorType();\n      gotoHypothesisView(contentId);\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        ...defaultHypothesis\n      }}\n      enableReinitialize\n      onSubmit={handlePublish}\n      validationSchema={hypothesisSchema}\n      validateOnMount\n      validateOnChange\n      innerRef={formikRef}\n    >\n      {({ errors, touched, isValid }) => (\n        <HypothesisForm\n          onCancel={cancelAndGoBack}\n          isSaving={isSaving}\n          errorType={errorType}\n          errors={errors}\n          touched={touched}\n          isValid={isValid}\n          projectId={projectId}\n          parentContentId={parentContentId}\n          narratives={narratives}\n          setNarratives={setNarratives}\n          onSaveText=\"Adding...\"\n          standbyText=\"Add\"\n        >\n          <h1>Add a Key Focus Area</h1>\n        </HypothesisForm>\n      )}\n    </Formik>\n  );\n};\n\nexport default CreateHypothesis;\n","import { useState, useEffect } from 'react';\n\nconst useLinkedNarratives = (narratives, contentId) => {\n  const [linkedNarrativesChanged, setLinkedNarrativesChanged] = useState(false);\n  const [originalNarratives, setOriginalNarratives] = useState(null);\n\n  useEffect(() => {\n    if (narratives && contentId) {\n      const filterByIsConnectedToParent = narrative => {\n        return narrative.links.some(\n          link =>\n            link.id === parseInt(contentId, 10) &&\n            (link.linked === undefined || link.linked === true)\n        );\n      };\n\n      const narrativeCompositeKey = narrativesToTransform =>\n        Object.values(narrativesToTransform)\n          .flat()\n          .filter(narrative => filterByIsConnectedToParent(narrative))\n          .map(narrative => narrative.contentThreadId)\n          .sort()\n          .join(',');\n\n      const newNarratives = narratives ? narrativeCompositeKey(narratives) : '';\n\n      if (originalNarratives === null) {\n        setOriginalNarratives(narrativeCompositeKey(narratives));\n      } else if (newNarratives !== originalNarratives) {\n        setLinkedNarrativesChanged(true);\n      } else {\n        setLinkedNarrativesChanged(false);\n      }\n    }\n  }, [narratives, contentId, originalNarratives]);\n\n  return linkedNarrativesChanged;\n};\n\nexport default useLinkedNarratives;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport HypothesisForm from '../common/HypothesisForm';\nimport { getHypothesis, putHypothesis } from '../hypothesesService';\nimport { hypothesisSchema } from '../common/hypothesisModel';\nimport { viewHypothesisPath } from '../../../common/services/urlService';\nimport { getNarratives } from '../../narratives/narrativesService';\nimport useLinkedNarratives from '../../narratives/EditConnectedContent/useLinkedNarratives';\nimport {\n  getLinksFromNarratives,\n  getTopicLinksForContent\n} from '../../narratives/narrativesUtilities';\n\nconst EditHypothesis = () => {\n  const { projectId, hypothesisId: hypothesisContentThreadId } = useParams();\n  const history = useHistory();\n\n  const [hypothesis, setHypothesis] = useState(null);\n  const [narratives, setNarratives] = useState(null);\n  const [errorType, setErrorType] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n\n  const gotoHypothesisView = () =>\n    history.replace(viewHypothesisPath(projectId, hypothesisContentThreadId));\n\n  useEffect(() => {\n    getHypothesis(projectId, hypothesisContentThreadId).then(value =>\n      setHypothesis({\n        ...value,\n        body: value.body || '',\n        conclusion: value.conclusion || ''\n      })\n    );\n  }, [projectId, hypothesisContentThreadId]);\n\n  useEffect(() => {\n    (async () => {\n      getNarratives(projectId).then(allContent => {\n        setNarratives({\n          ...allContent,\n          hypotheses: allContent.hypotheses.filter(\n            h => h.contentThreadId.toString() !== hypothesisContentThreadId\n          )\n        });\n      });\n    })();\n  }, [projectId, hypothesisContentThreadId]);\n\n  const handleSave = async values => {\n    setIsSaving(true);\n    try {\n      const links = getLinksFromNarratives(narratives, hypothesis.contentId);\n      const topicLinks = getTopicLinksForContent(narratives, hypothesis.links);\n\n      await putHypothesis(projectId, {\n        contentThreadId: hypothesis.contentThreadId,\n        contentId: hypothesis.contentId,\n        title: values.title,\n        body: values.body,\n        conclusion: values.conclusion,\n        impact: values.impact,\n        tags: values.tags.map(tag => ({\n          text: tag\n        })),\n        links: [...links, ...topicLinks]\n      });\n      setErrorType();\n      gotoHypothesisView();\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  const linkedNarrativesChanged = useLinkedNarratives(\n    narratives,\n    hypothesis ? hypothesis.contentId : null\n  );\n\n  return hypothesis ? (\n    <Formik\n      initialValues={{\n        ...hypothesis,\n        title: hypothesis.title || '',\n        tags: hypothesis.tags ? hypothesis.tags.map(tag => tag.text) : []\n      }}\n      enableReinitialize\n      onSubmit={handleSave}\n      validationSchema={hypothesisSchema}\n      validateOnChange\n    >\n      {({ errors, touched, isValid, dirty }) => (\n        <HypothesisForm\n          className=\"mt-5\"\n          onCancel={gotoHypothesisView}\n          isSaving={isSaving}\n          errorType={errorType}\n          errors={errors}\n          touched={touched}\n          isValid={isValid}\n          projectId={projectId}\n          parentContentId={hypothesis.contentId}\n          narratives={narratives}\n          dirty={dirty || linkedNarrativesChanged}\n          setNarratives={setNarratives}\n          onSaveText=\"Updating...\"\n          standbyText=\"Update\"\n        >\n          <h1>Edit Key Focus Area</h1>\n        </HypothesisForm>\n      )}\n    </Formik>\n  ) : null;\n};\n\nexport default EditHypothesis;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport MoreMenu from '../../../common/components/ContentActions/MoreMenu';\nimport FormLayout from '../../../common/components/layouts/FormLayout';\nimport ModalConfirmation from '../../../common/components/ModalConfirmation';\nimport PageContentLabel from '../../../common/components/PageContentLabel/PageContentLabel';\nimport PageSection from '../../../common/components/PageSection';\nimport PageTitle from '../../../common/components/PageTitle/PageTitle';\nimport { getViewClientInfo } from '../../../common/helpers/viewClientVersion';\nimport { useApprovalWorkflow } from '../../../common/hooks/useApprovalWorkflow';\nimport {\n  editHypothesisPath,\n  hypothesesListPath\n} from '../../../common/services/urlService';\nimport TagList from '../../analyses/common/TagList/TagList';\nimport { entitySharedStatusUpdateSuccess } from '../../comments/commentsSlice';\nimport ConnectedContent from '../../narratives/ConnectedContent/ConnectedContent';\nimport EnableForProjectState from '../../security/EnableForProjectState';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport ShowForRole from '../../security/ShowForRole';\nimport { getWorkflowStatus } from '../../workflow/workflowService';\nimport {\n  deleteHypothesis,\n  getHypothesisVersions,\n  updateHypothesisStatus\n} from '../hypothesesService';\nimport {\n  getCurrentHypothesis,\n  getHypothesisLoading,\n  loadHypothesisThunk,\n  resetHypothesis\n} from '../hypothesisSlice';\nimport './view-hypothesis.scss';\nimport { showMoreMenuError } from '../../../common/redux/errors/errorsSlice';\nimport StatusContainer from '../../../common/components/StatusContainer/StatusContainer';\n\nconst ViewHypothesis = () => {\n  const { projectId, hypothesisId: hypothesisContentThreadId } = useParams();\n  const [versions, setVersions] = useState(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState(false);\n  const hypothesis = useSelector(getCurrentHypothesis);\n  const isLoading = useSelector(getHypothesisLoading);\n\n  useEffect(() => {\n    if (hypothesis && !hypothesis.hasError) {\n      getHypothesisVersions(projectId, hypothesisContentThreadId).then(data =>\n        setVersions(data)\n      );\n    }\n  }, [hypothesis, projectId, hypothesisContentThreadId]);\n\n  const handleDeleteHypothesis = async () => {\n    setShowDeleteConfirmation(false);\n    const success = await deleteHypothesis(\n      projectId,\n      hypothesisContentThreadId\n    );\n    if (success) {\n      history.replace(hypothesesListPath(projectId));\n    }\n  };\n\n  useEffect(() => {\n    dispatch(loadHypothesisThunk(projectId, hypothesisContentThreadId));\n\n    return () => dispatch(resetHypothesis());\n  }, [dispatch, projectId, hypothesisContentThreadId]);\n\n  const gotoEditHypothesis = () =>\n    history.push(editHypothesisPath(projectId, hypothesisContentThreadId));\n\n  const workflowActions = useApprovalWorkflow(\n    getWorkflowStatus,\n    async (_projectId, contentId, step) => {\n      try {\n        await updateHypothesisStatus(_projectId, `${contentId}`, step);\n      } catch (e) {\n        dispatch(\n          showMoreMenuError({\n            itemId: contentId,\n            moreMenuErrorType: Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE\n          })\n        );\n        return;\n      }\n      dispatch(loadHypothesisThunk(projectId, hypothesisContentThreadId));\n    },\n    projectId,\n    hypothesisContentThreadId,\n    hypothesis,\n    versions\n  );\n\n  const showClientVersion = () => {\n    if (!isLoading)\n      dispatch(\n        loadHypothesisThunk(\n          projectId,\n          hypothesisContentThreadId,\n          Constants.VERSION_STATUS.SHARED.value\n        )\n      );\n  };\n  const showDraftVersion = () => {\n    if (!isLoading)\n      dispatch(loadHypothesisThunk(projectId, hypothesisContentThreadId));\n  };\n\n  const viewClient = getViewClientInfo(\n    showClientVersion,\n    showDraftVersion,\n    versions,\n    hypothesis && hypothesis.versionNumber,\n    hypothesis && hypothesis.versionStatus\n  );\n\n  useEffect(() => {\n    if (hypothesis) {\n      dispatch(entitySharedStatusUpdateSuccess(hypothesis.shareWithAll));\n    }\n  }, [dispatch, hypothesis]);\n\n  const headerComponent = (\n    <>\n      {hypothesis && (\n        <div className=\"hypothesis-top-bar-container\">\n          <div className=\"hypothesis-top-bar\">\n            <div />\n            <div>\n              <ShowForPermissions\n                projectId={projectId}\n                permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n              >\n                <EnableForProjectState projectId={projectId}>\n                  {({ isProjectDisabled }) => (\n                    <Button\n                      data-testid=\"edit-button\"\n                      type=\"button\"\n                      onClick={gotoEditHypothesis}\n                      className=\"button-block button-small mr-3\"\n                      disabled={\n                        isProjectDisabled || viewClient.isOnClientVersion\n                      }\n                    >\n                      Edit\n                    </Button>\n                  )}\n                </EnableForProjectState>\n                <MoreMenu\n                  itemId={hypothesisContentThreadId}\n                  onDelete={() => setShowDeleteConfirmation(true)}\n                  workflowActions={workflowActions}\n                  viewClient={viewClient}\n                />\n              </ShowForPermissions>\n            </div>\n          </div>\n        </div>\n      )}\n      <ModalConfirmation\n        show={showDeleteConfirmation}\n        onCancel={() => setShowDeleteConfirmation(false)}\n        onConfirm={handleDeleteHypothesis}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Key Focus Area will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n    </>\n  );\n\n  return (\n    projectId && (\n      <FormLayout headerComponent={headerComponent}>\n        <div\n          className=\"hypothesis-main-content\"\n          data-testid=\"hypothesis-detail-page\"\n        >\n          <PageContentLabel cssLabel=\"key-focus-area\" label=\"Key Focus Area\" />\n          <StatusContainer\n            projectId={projectId}\n            content={hypothesis}\n            allowDraftPill={!viewClient.isOnClientVersion}\n          />\n          <ShowForRole\n            projectId={projectId}\n            roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n          >\n            <div className=\"section-name\">Title</div>\n          </ShowForRole>\n\n          <PageTitle title={hypothesis.title} />\n\n          <PageSection label=\"Description\" value={hypothesis.body} />\n\n          <ShowForRole\n            projectId={projectId}\n            roles={Constants.USER_ROLE_GROUPS.CLIENT}\n          >\n            {hypothesis.conclusion ? (\n              <div\n                className=\"client-view-conclusion\"\n                data-testid=\"client-view-conclusion\"\n              >\n                <div className=\"section-name\">PwC View</div>\n                <PageSection\n                  sectionId=\"conclusion\"\n                  label=\"PwC View\"\n                  value={hypothesis.conclusion}\n                />\n              </div>\n            ) : null}\n          </ShowForRole>\n          <ShowForRole\n            projectId={projectId}\n            roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n          >\n            <PageSection\n              sectionId=\"conclusion\"\n              label=\"PwC View\"\n              value={hypothesis.conclusion}\n            />\n          </ShowForRole>\n        </div>\n\n        <ConnectedContent\n          projectId={projectId}\n          contentId={hypothesis.contentId}\n        />\n        {hypothesis.tags && hypothesis.tags.length > 0 && (\n          <TagList tags={hypothesis.tags} testId=\"hypothesis-tag-list\" />\n        )}\n      </FormLayout>\n    )\n  );\n};\n\nexport default ViewHypothesis;\n","import React, { useState } from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './Accordion.scss';\n\nconst Accordion = ({ children, title }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className={`accordion accordion-${isOpen ? 'open' : 'closed'}`}>\n      <button\n        type=\"button\"\n        onClick={() => {\n          setIsOpen(!isOpen);\n        }}\n        className=\"accordion-toggle\"\n        data-testid=\"accordion-toggle\"\n      >\n        {title}\n        <Icon\n          name={isOpen ? 'desc' : 'asc'}\n          width={21}\n          className=\"fill icon-orange-theme\"\n        />\n      </button>\n      {isOpen && children}\n    </div>\n  );\n};\n\nexport default Accordion;\n","import React from 'react';\nimport {\n  viewHypothesisPath,\n  viewInsightPath\n} from '../../../common/services/urlService';\nimport Accordion from '../../../common/components/Accordion/Accordion';\nimport NarrativeSection from '../NarrativeSection/NarrativeSection';\nimport './AccordionConnectedContent.scss';\nimport { analysisLinkBuilder } from '../../analyses/common/analysisUrlHelper';\n\nconst AccordionConnectedContent = ({\n  narratives,\n  projectId,\n  index,\n  showBody = false\n}) => {\n  const hasInsights = narratives.insights.length > 0;\n  const hasAnalyses = narratives.analyses.length > 0;\n  const hasKeyFocusAreas = narratives.hypotheses.length > 0;\n  const hasNarratives = hasInsights || hasAnalyses || hasKeyFocusAreas;\n\n  return hasNarratives ? (\n    <div\n      className=\"accordion-connected-content\"\n      data-testid={`accordion-connected-content-${index}`}\n    >\n      <Accordion title=\"Connected content\">\n        {hasInsights && (\n          <NarrativeSection\n            title=\"Insights\"\n            narratives={narratives.insights}\n            getViewPath={insightId => viewInsightPath(projectId, insightId)}\n            index={index}\n            showBody={showBody}\n            truncate={false}\n          />\n        )}\n        {hasAnalyses && (\n          <NarrativeSection\n            title=\"Analyses\"\n            narratives={narratives.analyses}\n            getViewPath={analysisLinkBuilder(narratives.analyses, projectId)}\n            index={index}\n            showBody={showBody}\n            truncate={false}\n          />\n        )}\n        {hasKeyFocusAreas && (\n          <NarrativeSection\n            title=\"Key Focus Areas\"\n            narratives={narratives.hypotheses}\n            getViewPath={hypothesisId =>\n              viewHypothesisPath(projectId, hypothesisId)\n            }\n            index={index}\n            showBody={showBody}\n            truncate={false}\n          />\n        )}\n      </Accordion>\n    </div>\n  ) : null;\n};\n\nexport default AccordionConnectedContent;\n","import PropTypes from 'prop-types';\n\nexport const DisplayableContent = {\n  contentId: PropTypes.number.isRequired,\n  contentThreadId: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  body: PropTypes.string\n};\n\nexport const InsightWithConnectedAnalyses = {\n  ...DisplayableContent,\n  connectedAnalyses: PropTypes.arrayOf(PropTypes.shape(DisplayableContent))\n    .isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { getViewPathForAnalysis } from '../../analyses/common/analysisUrlHelper';\nimport { DisplayableContent } from './ConnectedKfaPropTypes';\n\nexport const AnalysisTitleLink = ({ analysis, projectId, testId }) => {\n  return (\n    <h5 key={analysis.contentId} className=\"analysis-title-heading\">\n      <Link\n        to={getViewPathForAnalysis(projectId, analysis)}\n        data-testid={testId}\n        className=\"analysis-title-link\"\n      >\n        {analysis.title}\n      </Link>\n    </h5>\n  );\n};\n\nAnalysisTitleLink.propTypes = {\n  analysis: PropTypes.shape(DisplayableContent).isRequired,\n  projectId: PropTypes.string.isRequired,\n  testId: PropTypes.string.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { InsightWithConnectedAnalyses } from './ConnectedKfaPropTypes';\nimport { sanitize } from '../../../common/services/sanitizeService';\nimport { viewInsightPath } from '../../../common/services/urlService';\nimport { AnalysisTitleLink } from './AnalysisTitleLink';\n\nexport const InsightsTableRow = ({\n  projectId,\n  insight,\n  hypothesisIndex,\n  insightIndex\n}) => {\n  const insightUrl = viewInsightPath(projectId, insight.contentThreadId);\n  return (\n    <tr\n      className=\"insights-table-row\"\n      key={insight.contentThreadId}\n      data-testid={`insight-table-row-${insight.contentThreadId}`}\n    >\n      <td\n        className=\"connected-insight-cell\"\n        data-testid=\"connected-insight-cell\"\n      >\n        <h4\n          className=\"kfa-connected-insight-title\"\n          data-testid=\"kfa-connected-insight-heading\"\n        >\n          <Link\n            to={insightUrl}\n            key={insight.contentId}\n            className=\"kfa-connected-insight-title-link\"\n            data-testid={`kfa-connected-insight-title-${hypothesisIndex}-${insightIndex}`}\n          >\n            {insight.title}\n          </Link>\n        </h4>\n        {insight.body && (\n          <div\n            className=\"kfa-connected-insight-body\"\n            data-testid={`kfa-connected-insight-body-${hypothesisIndex}-${insightIndex}`}\n            dangerouslySetInnerHTML={{\n              __html: sanitize(insight.body)\n            }}\n          />\n        )}\n      </td>\n      <td\n        className=\"kfa-connected-analysis-title-cell analyses-connected-to-insight-cell\"\n        data-testid=\"analyses-connected-to-insight-cell\"\n      >\n        {insight.connectedAnalyses.map((analysis, index) => (\n          <AnalysisTitleLink\n            key={analysis.contentId}\n            analysis={analysis}\n            projectId={projectId}\n            testId={`kfa-connected-insight-analysis-title-${hypothesisIndex}-${insightIndex}-${index}`}\n          />\n        ))}\n      </td>\n    </tr>\n  );\n};\n\nInsightsTableRow.propTypes = {\n  insight: PropTypes.shape(InsightWithConnectedAnalyses).isRequired,\n  hypothesisIndex: PropTypes.number.isRequired,\n  insightIndex: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DisplayableContent } from './ConnectedKfaPropTypes';\nimport { AnalysisTitleLink } from './AnalysisTitleLink';\n\nexport const AnalysesTableRow = ({ analyses, hypothesisIndex, projectId }) => {\n  return (\n    analyses.length > 0 && (\n      <tr\n        className=\"kfa-directly-connected-analyses-row\"\n        data-testid={`analyses-row-${hypothesisIndex}`}\n      >\n        <td className=\"kfa-connected-analysis-empty-cell\" />\n        <td\n          className=\"kfa-connected-analysis-title-cell\"\n          data-testid={`kfa-connected-analysis-title-cell-${hypothesisIndex}`}\n        >\n          {analyses.map((analysis, index) => (\n            <AnalysisTitleLink\n              key={analysis.contentId}\n              analysis={analysis}\n              projectId={projectId}\n              testId={`kfa-connected-analysis-title-${hypothesisIndex}-${index}`}\n            />\n          ))}\n        </td>\n      </tr>\n    )\n  );\n};\n\nAnalysesTableRow.propTypes = {\n  analyses: PropTypes.arrayOf(PropTypes.shape(DisplayableContent)).isRequired,\n  hypothesisIndex: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired\n};\n","import React from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { InsightsTableRow } from './InsightsTableRow';\nimport { AnalysesTableRow } from './AnalysesTableRow';\nimport {\n  DisplayableContent,\n  InsightWithConnectedAnalyses\n} from './ConnectedKfaPropTypes';\nimport './AnalysesAndInsightsTable.scss';\n\nexport const AnalysesAndInsightsTable = ({\n  hypothesis,\n  hypothesisIndex,\n  projectId\n}) => {\n  const allInsightConnectedAnalyses = hypothesis.connectedInsights.flatMap(\n    insight => insight.connectedAnalyses\n  );\n\n  const distinctDirectlyConnectedAnalyses = hypothesis.connectedAnalyses.filter(\n    connectedAnalysis => {\n      const isAnalysisDisplayedForInsight = allInsightConnectedAnalyses.find(\n        analysis =>\n          analysis.contentThreadId === connectedAnalysis.contentThreadId &&\n          analysis.contentId === connectedAnalysis.contentId\n      );\n\n      return !isAnalysisDisplayedForInsight;\n    }\n  );\n\n  const totalAnalysesCount =\n    distinctDirectlyConnectedAnalyses.length +\n    allInsightConnectedAnalyses.length;\n  const hasConnectedInsights = hypothesis.connectedInsights.length > 0;\n  const hasConnectedAnalyses = totalAnalysesCount > 0;\n  return (\n    <div\n      className=\"analyses-and-insights-details\"\n      data-testid=\"analyses-and-insights-details\"\n    >\n      <table\n        className=\"analyses-and-insights-table\"\n        data-testid=\"analyses-and-insights-table\"\n      >\n        <thead className=\"analyses-and-insights-table-header\">\n          <tr\n            data-testid=\"analyses-and-insights-header-row\"\n            className=\"analyses-and-insights-header-row\"\n          >\n            <th\n              data-testid=\"insights-header-cell\"\n              className=\"insights-header-cell\"\n            >\n              <span\n                data-testid=\"insights-header\"\n                className={classnames(\n                  'connected-content-heading',\n                  'insights-header',\n                  hasConnectedInsights ? 'orange' : null\n                )}\n              >\n                Insights\n              </span>\n            </th>\n            <th\n              data-testid=\"analyses-header-cell\"\n              className=\"analyses-header-cell\"\n            >\n              <span\n                data-testid=\"analyses-header\"\n                className={classnames(\n                  'connected-content-heading',\n                  'analyses-header',\n                  hasConnectedAnalyses ? 'orange' : null\n                )}\n              >\n                Analyses\n              </span>\n            </th>\n          </tr>\n        </thead>\n        <tbody className=\"analyses-and-insights-table-body\">\n          {hypothesis.connectedInsights.map((insight, insightIndex) => (\n            <InsightsTableRow\n              projectId={projectId}\n              key={insight.contentThreadId}\n              insight={insight}\n              hypothesisIndex={hypothesisIndex}\n              insightIndex={insightIndex}\n            />\n          ))}\n          <AnalysesTableRow\n            projectId={projectId}\n            analyses={distinctDirectlyConnectedAnalyses}\n            hypothesisIndex={hypothesisIndex}\n          />\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nAnalysesAndInsightsTable.propTypes = {\n  hypothesisIndex: PropTypes.number.isRequired,\n  projectId: PropTypes.string.isRequired,\n  hypothesis: PropTypes.shape({\n    ...DisplayableContent,\n    connectedInsights: PropTypes.arrayOf(\n      PropTypes.shape(InsightWithConnectedAnalyses)\n    ).isRequired,\n    connectedAnalyses: PropTypes.arrayOf(PropTypes.shape(DisplayableContent))\n      .isRequired\n  }).isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { viewHypothesisPath } from '../../../common/services/urlService';\nimport { DisplayableContent } from './ConnectedKfaPropTypes';\nimport './ConnectedKfasSection.scss';\n\nconst ConnectedKfasSection = ({\n  primaryKfaIndex,\n  connectedKfas,\n  projectId\n}) => {\n  return (\n    connectedKfas.length > 0 && (\n      <div\n        className=\"connected-kfas-section\"\n        data-testid=\"connected-kfas-section\"\n      >\n        <h4\n          className=\"connected-kfas-section-heading\"\n          data-testid=\"connected-kfas-section-heading\"\n        >\n          Connected Key Focus Areas\n        </h4>\n        {connectedKfas.map((connectedKfa, connectedKfaIndex) => (\n          <h5\n            data-testid={`kfa-connected-kfa-title-${primaryKfaIndex}-${connectedKfaIndex}`}\n            className=\"kfa-connected-kfa-title\"\n            key={connectedKfa.contentId}\n          >\n            <Link\n              data-testid={`kfa-connected-kfa-link-${primaryKfaIndex}-${connectedKfaIndex}`}\n              to={viewHypothesisPath(projectId, connectedKfa.contentThreadId)}\n              className=\"kfa-connected-kfa-link\"\n            >\n              {connectedKfa.title}\n            </Link>\n          </h5>\n        ))}\n      </div>\n    )\n  );\n};\n\nConnectedKfasSection.propTypes = {\n  primaryKfaIndex: PropTypes.number.isRequired,\n  connectedKfas: PropTypes.arrayOf(PropTypes.shape(DisplayableContent))\n    .isRequired,\n  projectId: PropTypes.string.isRequired\n};\nexport default ConnectedKfasSection;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ContentActionsRowMenu from '../../../common/components/ContentActions/ContentActionsRowMenu';\nimport { viewHypothesisPath } from '../../../common/services/urlService';\nimport AccordionConnectedContent from '../../narratives/AccordionConnectedContent/AccordionConnectedContent';\nimport TagList from '../../analyses/common/TagList/TagList';\nimport PillContainer from '../../../common/components/Pills/PillContainer';\nimport { sanitize } from '../../../common/services/sanitizeService';\nimport { AnalysesAndInsightsTable } from './AnalysesAndInsightsTable';\nimport ConnectedKfasSection from './ConnectedKfasSection';\nimport './HypothesisGridCard.scss';\n\nconst HypothesisGridCard = ({\n  hypothesis,\n  projectId,\n  onEditMenuClick,\n  onDeleteMenuClick,\n  index\n}) => {\n  const narrativesForAccordion = {\n    insights: hypothesis.connectedInsights,\n    analyses: hypothesis.connectedAnalyses,\n    hypotheses: hypothesis.connectedKfas\n  };\n\n  return (\n    <div className=\"card-container\" data-testid={`card-container-${index}`}>\n      <div\n        className=\"hypothesis-card-contents\"\n        data-testid=\"hypothesis-card-contents\"\n      >\n        <div className=\"card-details\" data-testid=\"kfa-card-details\">\n          <div className=\"card-title\" data-testid=\"kfa-card-title\">\n            <Link\n              to={viewHypothesisPath(projectId, hypothesis.contentThreadId)}\n              data-testid={`hypothesis-detail-grid-link-${index}`}\n              aria-label=\"View Key Focus Area\"\n            >\n              <h2>{hypothesis.title}</h2>\n            </Link>\n          </div>\n          <div\n            className=\"card-description\"\n            data-testid={`hypothesis-description-${index}`}\n            dangerouslySetInnerHTML={{ __html: sanitize(hypothesis.body) }}\n          />\n          <ConnectedKfasSection\n            primaryKfaIndex={index}\n            connectedKfas={hypothesis.connectedKfas}\n            projectId={projectId}\n          />\n        </div>\n        <AnalysesAndInsightsTable\n          projectId={projectId}\n          hypothesis={hypothesis}\n          hypothesisIndex={index}\n        />\n\n        <div className=\"card-narrative-mobile\">\n          <AccordionConnectedContent\n            narratives={narrativesForAccordion}\n            projectId={projectId}\n            index={index}\n            showBody\n          />\n        </div>\n      </div>\n\n      <div\n        className=\"hypothesis-grid-card-footer\"\n        data-testid=\"hypothesis-grid-card-footer\"\n      >\n        <PillContainer\n          className=\"align-center\"\n          projectId={projectId}\n          content={hypothesis}\n          allowDraftPill\n        />\n        <div className=\"right\">\n          <ContentActionsRowMenu\n            projectId={projectId}\n            itemId={hypothesis.contentThreadId}\n            onEditMenuClick={onEditMenuClick}\n            onDeleteMenuClick={onDeleteMenuClick}\n            direction=\"left\"\n          />\n        </div>\n      </div>\n      {hypothesis.tags && hypothesis.tags.length > 0 && (\n        <TagList tags={hypothesis.tags} testId=\"hypothesis-tag-list\" />\n      )}\n    </div>\n  );\n};\n\nexport default HypothesisGridCard;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport EmptyHypothesesCard from '../EmptyHypotheses/EmptyHypothesesCard';\nimport ModalConfirmation from '../../../common/components/ModalConfirmation';\nimport { editHypothesisPath } from '../../../common/services/urlService';\nimport HypothesisGridCard from '../HypothesisGridCard/HypothesisGridCard';\nimport NoContentForTagsCard from '../../../common/components/ContentActions/NoContentForTagsCard/NoContentForTagsCard';\n\nconst HypothesesGrid = ({\n  kfasFilteredByTags,\n  onDelete,\n  projectId,\n  projectHasKfas\n}) => {\n  const history = useHistory();\n  const noop = () => {};\n  const [\n    isDeleteConfirmationVisible,\n    setIsDeleteConfirmationVisible\n  ] = useState(false);\n  const [processDeleteFn, setProcessDeleteFn] = useState(() => noop);\n  const handleHideConfirmation = () => setIsDeleteConfirmationVisible(false);\n\n  const handleEditHypothesis = hypothesisId =>\n    history.push(editHypothesisPath(projectId, hypothesisId));\n\n  const handleDeleteConfirmation = id => {\n    const processConfirmedDeleteForId = () => {\n      setIsDeleteConfirmationVisible(false);\n      onDelete(id);\n    };\n    setProcessDeleteFn(() => processConfirmedDeleteForId);\n    setIsDeleteConfirmationVisible(true);\n  };\n\n  const hasDataForTagFilters = kfasFilteredByTags.length > 0;\n  return (\n    <>\n      <ModalConfirmation\n        show={isDeleteConfirmationVisible}\n        onCancel={handleHideConfirmation}\n        onConfirm={processDeleteFn}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Key Focus Area will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <div className=\"list-grid list-grid-hypotheses\" data-testid=\"list-grid\">\n        {!projectHasKfas && <EmptyHypothesesCard projectId={projectId} />}\n        {!hasDataForTagFilters && projectHasKfas && <NoContentForTagsCard />}\n        {hasDataForTagFilters && (\n          <>\n            {kfasFilteredByTags.map((h, i) => (\n              <HypothesisGridCard\n                hypothesis={h}\n                projectId={projectId}\n                onEditMenuClick={handleEditHypothesis}\n                onDeleteMenuClick={handleDeleteConfirmation}\n                index={i}\n                key={`content-grid-card-${h.contentThreadId}`}\n              />\n            ))}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default HypothesesGrid;\n","import React, { useState, useEffect } from 'react';\nimport { Formik } from 'formik';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport { contentTypeHypotheses } from '../../common/components/proptypes/commonProptypes';\nimport ContentList from '../contentList/ContentList';\nimport HypothesesGrid from './HypothesesGrid/HypothesesGrid';\nimport ToggleGridList from '../../common/components/ToggleGridList/ToggleGridList';\nimport {\n  deleteHypothesis,\n  getHypothesesWithConnectedData,\n  updateHypothesesOrder\n} from './hypothesesService';\nimport './HypothesesListContainer.scss';\nimport TagEditor from '../tagging/common/TagEditor/TagEditor';\nimport {\n  getUserSettingsSelector,\n  setUserSettings\n} from '../../common/redux/userSettings/userSettingsSlice';\n\nconst HypothesesListContainer = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n\n  const { projectId } = useParams();\n  const [\n    kfasWithHierarchicalConnectedContent,\n    setKfasWithHierarchicalConnectedContent\n  ] = useState([]);\n  const [tagFilters, setTagFilters] = useState([]);\n  const userSettings = useSelector(getUserSettingsSelector);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetch = () => {\n      setIsError(false);\n      setIsLoading(true);\n\n      getHypothesesWithConnectedData(projectId)\n        .then(projectKfasWithHierarchicalConnectedContent => {\n          setKfasWithHierarchicalConnectedContent(\n            projectKfasWithHierarchicalConnectedContent\n          );\n          setIsLoading(false);\n        })\n        .catch(() => {\n          setIsError(true);\n          setIsLoading(false);\n        });\n    };\n\n    fetch();\n  }, [projectId]);\n\n  const handleDeleteHypothesis = async hypothesisId => {\n    const success = await deleteHypothesis(projectId, hypothesisId);\n    if (success) {\n      const data = await getHypothesesWithConnectedData(projectId);\n      setKfasWithHierarchicalConnectedContent(data);\n    }\n  };\n\n  const handleReorder = orderedHypotheses => {\n    setKfasWithHierarchicalConnectedContent(orderedHypotheses);\n  };\n\n  const toggleView = () => {\n    dispatch(\n      setUserSettings({\n        viewGrid: !userSettings.settings.viewGrid\n      })\n    );\n  };\n\n  const updateTags = values => {\n    setTagFilters(values);\n  };\n\n  const kfasFilteredByTags = kfasWithHierarchicalConnectedContent.filter(\n    hypothesis => {\n      const hypothesisTags = new Set(\n        (hypothesis.tags || []).map(tag => tag.text)\n      );\n      return tagFilters.length\n        ? tagFilters.some(tag => hypothesisTags.has(tag))\n        : true;\n    }\n  );\n\n  return (\n    <>\n      <div className=\"hypothesis-list-container\">\n        <div className=\"list-container-header\">\n          <h2 className=\"list-container-h2\">Key Focus Areas</h2>\n          {isError && <div>You don&amp;t have access to this content</div>}\n          <ToggleGridList\n            viewGrid={userSettings.settings.viewGrid}\n            onClick={toggleView}\n          />\n        </div>\n\n        <div className=\"tag-editor-container\">\n          <Formik initialValues={{ tags: [] }}>\n            {() => (\n              <TagEditor\n                projectId={projectId}\n                onSelect={updateTags}\n                tagsRight\n                title={false}\n                subtitle={false}\n                allowCreateTags={false}\n                placeholderText=\"Filter by tag\"\n              />\n            )}\n          </Formik>\n        </div>\n\n        {isLoading ? (\n          <Loader dataTestId=\"loader\" />\n        ) : (\n          <>\n            {userSettings.settings.viewGrid === true ? (\n              <HypothesesGrid\n                projectId={projectId}\n                kfasFilteredByTags={kfasFilteredByTags}\n                projectHasKfas={!!kfasWithHierarchicalConnectedContent.length}\n                onDelete={handleDeleteHypothesis}\n              />\n            ) : (\n              <ContentList\n                contentType={contentTypeHypotheses}\n                projectId={projectId}\n                contentItems={kfasFilteredByTags}\n                projectHasContent={\n                  !!kfasWithHierarchicalConnectedContent.length\n                }\n                onDelete={({ contentThreadId }) =>\n                  handleDeleteHypothesis(contentThreadId)\n                }\n                onReorder={handleReorder}\n                updateSortOrderApiCall={updateHypothesesOrder}\n                isFiltered={tagFilters.length > 0}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default HypothesesListContainer;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport CreateHypothesis from './CreateHypothesis/CreateHypothesis';\nimport EditHypothesis from './EditHypothesis/EditHypothesis';\nimport ViewHypothesis from './ViewHypothesis/ViewHypothesis';\nimport HypothesesListContainer from './HypothesesListContainer';\nimport ProjectPermissionRoute from '../security/ProjectPermissionRoute';\nimport authorizationService from '../../common/services/security/authorizationService';\n\nconst HypothesesContentRouter = () => {\n  return (\n    <Switch>\n      <Route\n        exact\n        path=\"/projects/:projectId/key-focus-areas\"\n        component={HypothesesListContainer}\n      />\n\n      <Route\n        exact\n        path=\"/projects/:projectId/key-focus-areas/:hypothesisId/view\"\n        component={ViewHypothesis}\n      />\n\n      <ProjectPermissionRoute\n        exact\n        permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n        isAuthorized={authorizationService.hasValidToken}\n        path=\"/projects/:projectId/key-focus-areas/create\"\n        component={CreateHypothesis}\n      />\n\n      <ProjectPermissionRoute\n        exact\n        permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n        isAuthorized={authorizationService.hasValidToken}\n        path=\"/projects/:projectId/key-focus-areas/:hypothesisId/edit\"\n        component={EditHypothesis}\n      />\n    </Switch>\n  );\n};\n\nexport default HypothesesContentRouter;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Separator from '../../../common/components/Separator';\nimport ContentActionsRowMenu from '../../../common/components/ContentActions/ContentActionsRowMenu';\nimport { viewInsightPath } from '../../../common/services/urlService';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport AccordionConnectedContent from '../../narratives/AccordionConnectedContent/AccordionConnectedContent';\nimport './InsightsGridCard.scss';\nimport TagList from '../../analyses/common/TagList/TagList';\nimport PillContainer from '../../../common/components/Pills/PillContainer';\nimport { sanitize } from '../../../common/services/sanitizeService';\n\nconst InsightsGridCard = ({\n  insight,\n  narratives,\n  projectId,\n  onEditMenuClick,\n  onDeleteMenuClick,\n  index\n}) => {\n  return (\n    <div className=\"card-container\">\n      <div className=\"row\">\n        <div className=\"col down\">\n          <div className=\"card-title\">\n            <Link\n              to={viewInsightPath(projectId, insight.contentThreadId)}\n              data-testid={`insight-detail-grid-link-${index}`}\n              aria-label=\"View Insight\"\n            >\n              <h2>{insight.title}</h2>\n            </Link>\n          </div>\n          <span\n            className=\"card-description\"\n            data-testid={`insight-description-${index}`}\n            dangerouslySetInnerHTML={{ __html: sanitize(insight.body) }}\n          />\n\n          <AccordionConnectedContent\n            narratives={narratives}\n            projectId={projectId}\n            index={index}\n          />\n        </div>\n      </div>\n\n      <Separator />\n\n      <div className=\"card-action-footer\">\n        <PillContainer projectId={projectId} content={insight} allowDraftPill />\n        <div className=\"card-actions\">\n          <ShowForPermissions\n            projectId={projectId}\n            permissions={['Contribute']}\n          >\n            <ContentActionsRowMenu\n              projectId={projectId}\n              itemId={insight.contentThreadId}\n              onEditMenuClick={onEditMenuClick}\n              onDeleteMenuClick={onDeleteMenuClick}\n            />\n          </ShowForPermissions>\n        </div>\n      </div>\n      <div className=\"row\">\n        {insight.tags && insight.tags.length > 0 && (\n          <TagList tags={insight.tags} testId=\"insights-tag-list\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default InsightsGridCard;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport EmptyInsightsCard from '../EmptyInsights/EmptyInsightsCard';\nimport ModalConfirmation from '../../../common/components/ModalConfirmation';\nimport { editInsightPath } from '../../../common/services/urlService';\nimport InsightsGridCard from '../InsightsGridCard/InsightsGridCard';\nimport { filterNarrativesForContent } from '../../narratives/narrativesUtilities';\nimport NoContentForTagsCard from '../../../common/components/ContentActions/NoContentForTagsCard/NoContentForTagsCard';\nimport './InsightsGrid.scss';\n\nconst InsightsGrid = ({\n  data,\n  narratives,\n  onDelete,\n  projectId,\n  hasContent\n}) => {\n  const history = useHistory();\n  const noop = () => {};\n  const [\n    isDeleteConfirmationVisible,\n    setIsDeleteConfirmationVisible\n  ] = useState(false);\n  const [processDeleteFn, setProcessDeleteFn] = useState(() => noop);\n  const handleHideConfirmation = () => setIsDeleteConfirmationVisible(false);\n  const handleEditInsight = id => history.push(editInsightPath(projectId, id));\n\n  const handleDeleteConfirmation = id => {\n    const processConfirmedDeleteForId = () => {\n      setIsDeleteConfirmationVisible(false);\n      onDelete(id);\n    };\n    setProcessDeleteFn(() => processConfirmedDeleteForId);\n    setIsDeleteConfirmationVisible(true);\n  };\n\n  const hasInsights = data.length > 0;\n\n  return (\n    <>\n      <ModalConfirmation\n        show={isDeleteConfirmationVisible}\n        onCancel={handleHideConfirmation}\n        onConfirm={processDeleteFn}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Insight will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n\n      <div className=\"insights-grid-container\">\n        {hasInsights && (\n          <div className=\"grid-cards list-grid\" data-testid=\"list-grid\">\n            {data.map((insight, i) => (\n              <InsightsGridCard\n                insight={insight}\n                narratives={filterNarrativesForContent(\n                  narratives,\n                  insight.contentId\n                )}\n                projectId={projectId}\n                onEditMenuClick={handleEditInsight}\n                onDeleteMenuClick={handleDeleteConfirmation}\n                index={i}\n                key={`content-grid-card-${insight.contentThreadId}`}\n              />\n            ))}\n          </div>\n        )}\n        {!hasInsights && !hasContent && (\n          <EmptyInsightsCard projectId={projectId} />\n        )}\n        {!hasInsights && hasContent && <NoContentForTagsCard />}\n      </div>\n    </>\n  );\n};\n\nexport default InsightsGrid;\n","import React, { useState, useLayoutEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport { Formik } from 'formik';\nimport { contentTypeInsights } from '../../common/components/proptypes/commonProptypes';\nimport ContentList from '../contentList/ContentList';\nimport InsightsGrid from './InsightsGrid/InsightsGrid';\nimport ToggleGridList from '../../common/components/ToggleGridList/ToggleGridList';\nimport {\n  getInsights,\n  deleteInsight,\n  updateInsightsOrder\n} from './insightsService';\nimport { getNarratives } from '../narratives/narrativesService';\nimport TagEditor from '../tagging/common/TagEditor/TagEditor';\nimport {\n  getUserSettingsSelector,\n  setUserSettings\n} from '../../common/redux/userSettings/userSettingsSlice';\n\nconst InsightsListContainer = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n\n  const { projectId } = useParams();\n  const [insights, setInsights] = useState([]);\n  const [tagFilters, setTagFilters] = useState([]);\n  const [narratives, setNarratives] = useState({});\n  const userSettings = useSelector(getUserSettingsSelector);\n  const dispatch = useDispatch();\n\n  useLayoutEffect(() => {\n    const fetch = async () => {\n      setIsError(false);\n      setIsLoading(true);\n\n      Promise.all([getInsights(projectId), getNarratives(projectId)])\n        .then(([projectInsights, projectNarratives]) => {\n          setInsights(projectInsights);\n          setNarratives(projectNarratives);\n          setIsLoading(false);\n        })\n        .catch(() => {\n          setIsError(true);\n          setIsLoading(false);\n        });\n    };\n    fetch();\n  }, [projectId]);\n\n  const handleDeleteInsight = async insightId => {\n    const success = await deleteInsight(projectId, insightId);\n    if (success) {\n      const data = await getInsights(projectId);\n      setInsights(data);\n    }\n  };\n\n  const handleReorder = orderedInsights => {\n    setInsights(orderedInsights);\n  };\n\n  const toggleView = () =>\n    dispatch(\n      setUserSettings({\n        viewGrid: !userSettings.settings.viewGrid\n      })\n    );\n\n  const updateTags = values => {\n    setTagFilters(values);\n  };\n\n  const filteredInsights = insights.filter(insight => {\n    const insightTags = new Set((insight.tags || []).map(tag => tag.text));\n    return tagFilters.length\n      ? tagFilters.some(tag => insightTags.has(tag))\n      : true;\n  });\n\n  return (\n    <>\n      <div className=\"insights-list-container\">\n        <div className=\"list-container-header\">\n          <h2 className=\"insights-list-h2\">Insights</h2>\n          <ToggleGridList\n            viewGrid={userSettings.settings.viewGrid}\n            onClick={toggleView}\n          />\n        </div>\n\n        {isError && <div>You don&apos;t have access to this content</div>}\n        <div className=\"tag-editor-container\">\n          <Formik initialValues={{ tags: [] }}>\n            {() => (\n              <TagEditor\n                projectId={projectId}\n                onSelect={updateTags}\n                tagsRight\n                title={false}\n                subtitle={false}\n                allowCreateTags={false}\n                placeholderText=\"Filter by tag\"\n              />\n            )}\n          </Formik>\n        </div>\n        {isLoading ? (\n          <Loader dataTestId=\"loader\" />\n        ) : (\n          <>\n            {userSettings.settings.viewGrid === true ? (\n              <InsightsGrid\n                projectId={projectId}\n                data={filteredInsights}\n                hasContent={!!insights.length}\n                narratives={narratives}\n                onDelete={handleDeleteInsight}\n              />\n            ) : (\n              <ContentList\n                contentType={contentTypeInsights}\n                projectId={projectId}\n                contentItems={filteredInsights}\n                projectHasContent={!!insights.length}\n                onDelete={({ contentThreadId }) =>\n                  handleDeleteInsight(contentThreadId)\n                }\n                onReorder={handleReorder}\n                updateSortOrderApiCall={updateInsightsOrder}\n                isFiltered={tagFilters.length > 0}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default InsightsListContainer;\n","import React from 'react';\nimport _get from 'lodash/get';\nimport { Field, Form } from 'formik';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { FormLayout } from '../../../common/components/layouts';\nimport TitleFieldset from '../../../common/components/TitleFieldset/TitleFieldset';\nimport Separator from '../../../common/components/Separator';\nimport PublishButton from '../../../common/components/PublishButton';\nimport ActiveContentDraftHeader from '../../../common/components/ContentHeaders/ActiveContentDraftHeader';\nimport D3Alert from '../../../common/components/Alert/D3Alert';\nimport EditConnectedContent from '../../narratives/EditConnectedContent/EditConnectedContent';\nimport TagEditor from '../../tagging/common/TagEditor/TagEditor';\nimport RichTextEditorFormikField from '../../../common/components/RichTextEditorFormikField/RichTextEditorFormikField';\nimport { shortIntroHeadingOnlyEditorConfig } from '../../../common/components/RichTextEditor/CKEditorConfig';\nimport './InsightForm.scss';\n\nconst InsightForm = ({\n  isSaving,\n  errorType,\n  isValid,\n  errors,\n  touched,\n  onCancel,\n  children,\n  projectId,\n  parentContentId,\n  narratives,\n  setNarratives,\n  dirty,\n  onSaveText,\n  standbyText,\n  ...rest\n}) => {\n  const isPublishError = errorType === 'publish';\n\n  const titleFieldError =\n    !isPublishError &&\n    _get(errorType, 'fieldName', '').toLowerCase() === 'title'\n      ? errorType.apiErrorMessage\n      : undefined;\n\n  const generalError =\n    isPublishError || !titleFieldError ? errorType : undefined;\n  return (\n    <FormLayout\n      headerComponent={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <ActiveContentDraftHeader\n          onCancel={onCancel}\n          isSaving={isSaving}\n          isValid={isValid}\n          errors={errors}\n          touched={touched}\n          dirty={dirty}\n          onSaveText={onSaveText}\n          standbyText={standbyText}\n        />\n      }\n    >\n      {children}\n\n      <Form data-testid=\"insight-form\" className=\"mt-5 insight-form\" {...rest}>\n        <div className=\"form-fields\">\n          <div className=\"input-container\">\n            <Field\n              name=\"title\"\n              component={TitleFieldset}\n              label=\"Title\"\n              className=\"title-fieldset\"\n              error={titleFieldError}\n            />\n            <Field\n              name=\"body\"\n              component={RichTextEditorFormikField}\n              label=\"Description (optional)\"\n              config={shortIntroHeadingOnlyEditorConfig}\n              dataTestId=\"text-area-body\"\n            />\n          </div>\n\n          <TagEditor projectId={projectId} />\n        </div>\n\n        <EditConnectedContent\n          projectId={projectId}\n          parentContentId={parentContentId}\n          narratives={narratives}\n          setNarratives={setNarratives}\n        />\n\n        <Separator />\n\n        <div className=\"form-bottom-actions\">\n          <Button\n            className=\"button-link form-cancel-button\"\n            type=\"button\"\n            onClick={onCancel}\n            data-testid=\"cancel-button-bottom\"\n          >\n            Cancel\n          </Button>\n          <PublishButton\n            isValid={isValid}\n            isSaving={isSaving}\n            buttonPosition=\"bottom\"\n            dirty={dirty}\n            onSaveText={onSaveText}\n            standbyText={standbyText}\n          />\n        </div>\n        {generalError && <D3Alert configType={generalError} />}\n      </Form>\n    </FormLayout>\n  );\n};\n\nexport default InsightForm;\n","import * as Yup from 'yup';\n\nexport const emptyInsight = () => ({\n  title: '',\n  body: '',\n  tags: []\n});\n\nexport const insightSchema = Yup.object().shape({\n  title: Yup.string()\n    .trim()\n    .required('Title is required')\n    .max(350)\n});\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Formik } from 'formik';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport InsightForm from '../common/InsightForm';\nimport { insightSchema, emptyInsight } from '../common/insightModel';\nimport { postInsight } from '../insightsService';\nimport { viewInsightPath } from '../../../common/services/urlService';\nimport { getNarratives } from '../../narratives/narrativesService';\nimport { getLinksFromNarratives } from '../../narratives/narrativesUtilities';\n\nconst parentContentId = -1;\n\nconst CreateInsight = () => {\n  const { projectId } = useParams();\n  const history = useHistory();\n  const formikRef = useRef();\n\n  const [defaultInsight] = useState(emptyInsight());\n  const [errorType, setErrorType] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n  const [narratives, setNarratives] = useState(null);\n\n  useEffect(() => {\n    if (formikRef.current) {\n      formikRef.current.resetForm();\n      formikRef.current.validateForm(defaultInsight);\n    }\n  }, [history.location, formikRef, defaultInsight]);\n\n  useEffect(() => {\n    (async () => {\n      getNarratives(projectId).then(setNarratives);\n    })();\n  }, [projectId]);\n\n  const cancelAndGoBack = () => history.goBack();\n  const gotoInsightsView = contentId =>\n    history.replace(viewInsightPath(projectId, contentId));\n\n  const handlePublish = async insight => {\n    setIsSaving(true);\n    try {\n      const links = getLinksFromNarratives(narratives, parentContentId);\n      const contentId = await postInsight(projectId, {\n        ...insight,\n        title: insight.title.trim(),\n        body: insight.body.trim(),\n        tags: insight.tags.map(tag => ({\n          text: tag\n        })),\n        links\n      });\n      setErrorType();\n      gotoInsightsView(contentId);\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={defaultInsight}\n      onSubmit={handlePublish}\n      validationSchema={insightSchema}\n      validateOnMount\n      validateOnChange\n      enableReinitialize\n      innerRef={formikRef}\n    >\n      {({ errors, touched, isValid }) => (\n        <InsightForm\n          onCancel={cancelAndGoBack}\n          isSaving={isSaving}\n          isValid={isValid}\n          errorType={errorType}\n          errors={errors}\n          touched={touched}\n          projectId={projectId}\n          parentContentId={parentContentId}\n          narratives={narratives}\n          setNarratives={setNarratives}\n          onSaveText=\"Adding...\"\n          standbyText=\"Add\"\n        >\n          <h1>Add an Insight</h1>\n        </InsightForm>\n      )}\n    </Formik>\n  );\n};\n\nexport default CreateInsight;\n","import React, { useEffect, useState } from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EnableForProjectState from '../../security/EnableForProjectState';\nimport {\n  getCurrentInsight,\n  getInsightLoading,\n  loadInsightThunk,\n  resetInsight\n} from '../insightSlice';\nimport {\n  deleteInsight,\n  getInsightVersions,\n  updateInsightStatus\n} from '../insightsService';\nimport { FormLayout } from '../../../common/components/layouts';\nimport PageTitle from '../../../common/components/PageTitle/PageTitle';\nimport ModalConfirmation from '../../../common/components/ModalConfirmation';\nimport {\n  editInsightPath,\n  insightsListPath\n} from '../../../common/services/urlService';\nimport PageSection from '../../../common/components/PageSection';\nimport './ViewInsight.scss';\nimport PageContentLabel from '../../../common/components/PageContentLabel/PageContentLabel';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport ShowForRole from '../../security/ShowForRole';\nimport ConnectedContent from '../../narratives/ConnectedContent/ConnectedContent';\nimport { getWorkflowStatus } from '../../workflow/workflowService';\nimport { useApprovalWorkflow } from '../../../common/hooks/useApprovalWorkflow';\nimport TagList from '../../analyses/common/TagList/TagList';\nimport MoreMenu from '../../../common/components/ContentActions/MoreMenu';\nimport { getViewClientInfo } from '../../../common/helpers/viewClientVersion';\nimport { entitySharedStatusUpdateSuccess } from '../../comments/commentsSlice';\nimport { showMoreMenuError } from '../../../common/redux/errors/errorsSlice';\nimport StatusContainer from '../../../common/components/StatusContainer/StatusContainer';\n\nconst ViewInsight = () => {\n  const { projectId, insightId: insightContentThreadId } = useParams();\n  const dispatch = useDispatch();\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState(false);\n  const [versions, setVersions] = useState(null);\n  const history = useHistory();\n  const insight = useSelector(getCurrentInsight);\n  const isLoading = useSelector(getInsightLoading);\n\n  const handleDeleteInsight = async () => {\n    setShowDeleteConfirmation(false);\n    const success = await deleteInsight(projectId, insightContentThreadId);\n    if (success) {\n      history.replace(insightsListPath(projectId));\n    }\n  };\n\n  useEffect(() => {\n    dispatch(loadInsightThunk(projectId, insightContentThreadId));\n\n    return () => dispatch(resetInsight());\n  }, [dispatch, projectId, insightContentThreadId]);\n\n  useEffect(() => {\n    if (insight) {\n      dispatch(entitySharedStatusUpdateSuccess(insight.shareWithAll));\n    }\n  }, [dispatch, insight]);\n\n  useEffect(() => {\n    if (insight && !insight.hasError) {\n      getInsightVersions(\n        projectId,\n        insightContentThreadId\n      ).then(insightVersions => setVersions(insightVersions));\n    }\n  }, [insight, projectId, insightContentThreadId]);\n\n  const workflowActions = useApprovalWorkflow(\n    getWorkflowStatus,\n    async (_projectId, contentId, step) => {\n      try {\n        await updateInsightStatus(_projectId, `${contentId}`, step);\n      } catch (e) {\n        dispatch(\n          showMoreMenuError({\n            itemId: contentId,\n            moreMenuErrorType: Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE\n          })\n        );\n        return;\n      }\n\n      dispatch(loadInsightThunk(projectId, insightContentThreadId));\n    },\n    projectId,\n    insightContentThreadId,\n    insight,\n    versions\n  );\n\n  const gotoEditInsight = () =>\n    history.push(editInsightPath(projectId, insightContentThreadId));\n\n  const showClientVersion = () => {\n    if (!isLoading) {\n      dispatch(\n        loadInsightThunk(\n          projectId,\n          insightContentThreadId,\n          Constants.VERSION_STATUS.SHARED.value\n        )\n      );\n    }\n  };\n  const showDraftVersion = () => {\n    if (!isLoading) {\n      dispatch(loadInsightThunk(projectId, insightContentThreadId));\n    }\n  };\n\n  const viewClient = getViewClientInfo(\n    showClientVersion,\n    showDraftVersion,\n    versions,\n    insight && insight.versionNumber,\n    insight && insight.versionStatus\n  );\n\n  const headerComponent = (\n    <>\n      {insight && (\n        <div className=\"insight-top-bar-container\">\n          <div className=\"insight-top-bar\">\n            <div />\n            <div>\n              <ShowForPermissions\n                projectId={projectId}\n                permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n              >\n                <EnableForProjectState projectId={projectId}>\n                  {({ isProjectDisabled }) => (\n                    <Button\n                      data-testid=\"edit-button\"\n                      type=\"button\"\n                      onClick={gotoEditInsight}\n                      className=\"button-block button-small mr-3\"\n                      disabled={\n                        isProjectDisabled || viewClient.isOnClientVersion\n                      }\n                    >\n                      Edit\n                    </Button>\n                  )}\n                </EnableForProjectState>\n                <MoreMenu\n                  projectId={projectId}\n                  itemId={insightContentThreadId}\n                  onDelete={() => setShowDeleteConfirmation(true)}\n                  workflowActions={workflowActions}\n                  viewClient={viewClient}\n                />\n              </ShowForPermissions>\n            </div>\n          </div>\n        </div>\n      )}\n      <ModalConfirmation\n        show={showDeleteConfirmation}\n        onCancel={() => setShowDeleteConfirmation(false)}\n        onConfirm={handleDeleteInsight}\n        confirmTitle=\"Are you sure you want to delete?\"\n        confirmationMessage=\"This Insight will be permanently deleted and any connections to other content will be removed.\"\n        confirmButtonText=\"Yes, delete\"\n      />\n    </>\n  );\n\n  return (\n    <FormLayout headerComponent={headerComponent}>\n      <div className=\"insight-content\">\n        <PageContentLabel cssLabel=\"insight\" label=\"Insight\" />\n        <StatusContainer\n          projectId={projectId}\n          content={insight}\n          allowDraftPill={!viewClient.isOnClientVersion}\n        />\n        <ShowForRole\n          projectId={projectId}\n          roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n        >\n          <div className=\"section-name\">Title</div>\n        </ShowForRole>\n        <PageTitle title={insight.title} />\n        <PageSection label=\"Description\" value={insight.body} />\n      </div>\n      <ConnectedContent projectId={projectId} contentId={insight.contentId} />\n      {insight.tags && insight.tags.length > 0 && (\n        <TagList tags={insight.tags} testId=\"insight-tag-list\" />\n      )}\n    </FormLayout>\n  );\n};\n\nexport default ViewInsight;\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { Formik } from 'formik';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport InsightForm from '../common/InsightForm';\nimport { insightSchema } from '../common/insightModel';\nimport { putInsight, getInsight } from '../insightsService';\nimport {\n  insightsListPath,\n  viewInsightPath\n} from '../../../common/services/urlService';\nimport { getNarratives } from '../../narratives/narrativesService';\nimport useLinkedNarratives from '../../narratives/EditConnectedContent/useLinkedNarratives';\nimport { getLinksFromNarratives } from '../../narratives/narrativesUtilities';\n\nconst EditInsight = () => {\n  const { projectId, insightId: insightContentThreadId } = useParams();\n  const history = useHistory();\n\n  const [insight, setInsight] = useState(null);\n  const [narratives, setNarratives] = useState(null);\n  const [errorType, setErrorType] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n\n  const gotoInsightsList = useMemo(\n    () => () => history.replace(insightsListPath(projectId)),\n    [history, projectId]\n  );\n\n  const gotoInsightView = () =>\n    history.push(viewInsightPath(projectId, insightContentThreadId));\n\n  useEffect(() => {\n    getInsight(projectId, insightContentThreadId).then(value =>\n      setInsight({\n        ...value,\n        body: value.body || ''\n      })\n    );\n    getNarratives(projectId).then(allContent => {\n      setNarratives({\n        ...allContent,\n        insights: allContent.insights.filter(\n          i => i.contentThreadId.toString() !== insightContentThreadId\n        )\n      });\n    });\n  }, [projectId, insightContentThreadId, gotoInsightsList]);\n\n  const handlePublish = async values => {\n    setIsSaving(true);\n    try {\n      const links = getLinksFromNarratives(narratives, insight.contentId);\n\n      await putInsight(projectId, {\n        ...insight,\n        title: values.title.trim(),\n        body: values.body.trim(),\n        tags: values.tags.map(tag => ({\n          text: tag\n        })),\n        links\n      });\n      setErrorType();\n      gotoInsightView();\n    } catch (e) {\n      setIsSaving(false);\n      setErrorType(ErrorUtilities.getContentErrorType(e));\n    }\n  };\n\n  const linkedNarrativesChanged = useLinkedNarratives(\n    narratives,\n    insight ? insight.contentId : null\n  );\n\n  return insight ? (\n    <Formik\n      initialValues={{\n        ...insight,\n        tags: insight.tags ? insight.tags.map(tag => tag.text) : []\n      }}\n      onSubmit={handlePublish}\n      validationSchema={insightSchema}\n      validateOnChange\n      enableReinitialize\n    >\n      {({ errors, touched, isValid, dirty }) => (\n        <InsightForm\n          className=\"mt-5\"\n          onCancel={gotoInsightView}\n          isSaving={isSaving}\n          isValid={isValid}\n          errorType={errorType}\n          errors={errors}\n          touched={touched}\n          projectId={projectId}\n          parentContentId={insight.contentId}\n          narratives={narratives}\n          setNarratives={setNarratives}\n          dirty={dirty || linkedNarrativesChanged}\n          onSaveText=\"Updating...\"\n          standbyText=\"Update\"\n        >\n          <h1>Edit Insight</h1>\n        </InsightForm>\n      )}\n    </Formik>\n  ) : null;\n};\n\nexport default EditInsight;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport InsightsListContainer from './InsightsListContainer';\nimport CreateInsight from './CreateInsight/CreateInsight';\nimport ViewInsight from './ViewInsight/ViewInsight';\nimport EditInsight from './EditInsight/EditInsight';\nimport ProjectPermissionRoute from '../security/ProjectPermissionRoute';\nimport authorizationService from '../../common/services/security/authorizationService';\n\nconst InsightsContentRouter = () => {\n  const path = '/projects/:projectId/insights';\n\n  return (\n    <Switch>\n      <Route exact path={path} component={InsightsListContainer} />\n\n      <Route exact path={`${path}/:insightId/view`} component={ViewInsight} />\n\n      <ProjectPermissionRoute\n        exact\n        permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n        isAuthorized={authorizationService.hasValidToken}\n        path={`${path}/create`}\n        component={CreateInsight}\n      />\n\n      <ProjectPermissionRoute\n        exact\n        permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n        isAuthorized={authorizationService.hasValidToken}\n        path={`${path}/:insightId/edit`}\n        component={EditInsight}\n      />\n    </Switch>\n  );\n};\n\nexport default InsightsContentRouter;\n","import { NotificationComponent } from '@pwc/pwc-deals-notification-ui';\nimport React from 'react';\nimport { Route } from 'react-router-dom';\n\nconst NotificationsContentRouter = () => (\n  <Route\n    path=\"/projects/:projectid/notifications/\"\n    component={NotificationComponent}\n  />\n);\n\nexport default NotificationsContentRouter;\n","import { ProjectHttpClient } from '../../common/services/httpClient';\n\nexport const getProjectDisclaimer = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/projectDisclaimer`\n  );\n  return response.data;\n};\n\nexport const setProjectUserAccepted = async projectId => {\n  const response = await ProjectHttpClient.post(\n    `projects/${projectId}/projectUser`\n  );\n  return response.data;\n};\n\nexport const updateProjectDisclaimer = async (projectId, disclaimerText) => {\n  const response = await ProjectHttpClient.put(\n    `projects/${projectId}/projectDisclaimer`,\n    { disclaimerHtml: disclaimerText, hasAccepted: true }\n  );\n  return response.data;\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport {\n  getProjectDisclaimer,\n  setProjectUserAccepted,\n  updateProjectDisclaimer\n} from './projectDisclaimerService';\n\nexport const initialState = {};\n\nconst projectDisclaimersSlice = createSlice({\n  name: 'projectDisclaimers',\n  initialState,\n  reducers: {\n    setDisclaimer: (state, action) => ({\n      ...state,\n      [action.payload.projectId]: {\n        ...action.payload.disclaimer,\n        isLoading: false\n      }\n    }),\n    acceptDisclaimer: (state, action) => ({\n      ...state,\n      [action.payload.projectId]: {\n        ...(state[action.payload.projectId] || {}),\n        hasAccepted: true\n      }\n    }),\n    setIsLoadingDisclaimer: (state, action) => ({\n      ...state,\n      [action.payload.projectId]: {\n        ...(state[action.payload.projectId] || {}),\n        isLoading: true\n      }\n    })\n  }\n});\nexport default projectDisclaimersSlice.reducer;\n\n// Actions\nconst {\n  setDisclaimer,\n  acceptDisclaimer,\n  setIsLoadingDisclaimer\n} = projectDisclaimersSlice.actions;\n\nexport const setProjectDisclaimer = (projectId, disclaimer) =>\n  setDisclaimer({ projectId, disclaimer });\n\nexport const acceptProjectDisclaimer = projectId =>\n  acceptDisclaimer({ projectId });\n\nexport const setProjectDisclaimerIsLoading = projectId =>\n  setIsLoadingDisclaimer({ projectId });\n\n// Selectors\nexport const getProjectDisclaimerSelector = projectId => state =>\n  state.projectDisclaimers[projectId];\n\n// Thunks\nexport const loadProjectDisclaimerThunk = projectId => async dispatch => {\n  try {\n    dispatch(setProjectDisclaimerIsLoading(projectId));\n    const disclaimer = await getProjectDisclaimer(projectId);\n    dispatch(setProjectDisclaimer(projectId, disclaimer));\n    // eslint-disable-next-line no-empty\n  } catch (error) {}\n};\n\nexport const acceptProjectDisclaimerThunk = projectId => async dispatch => {\n  try {\n    dispatch(acceptProjectDisclaimer(projectId));\n    await setProjectUserAccepted(projectId);\n    // eslint-disable-next-line no-empty\n  } catch (error) {}\n};\n\nexport const updateProjectDisclaimerThunk = (\n  projectId,\n  disclaimerText\n) => async dispatch => {\n  try {\n    const updatedDisclaimer = await updateProjectDisclaimer(\n      projectId,\n      disclaimerText\n    );\n    dispatch(setProjectDisclaimer(projectId, updatedDisclaimer));\n    // eslint-disable-next-line no-empty\n  } catch (error) {}\n};\n","export const getDistanceLeftToScroll = element => {\n  return element.scrollHeight - element.scrollTop - element.clientHeight;\n};\n\nexport const getDistanceLeftToScrollFromWindow = element => {\n  return (\n    element.offsetHeight +\n    element.offsetTop -\n    window.scrollY -\n    window.innerHeight\n  );\n};\n\nexport const getScrollableAmount = element =>\n  element.scrollHeight - element.offsetHeight;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport React, {\n  useState,\n  useMemo,\n  useEffect,\n  useRef,\n  useLayoutEffect\n} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport {\n  getProjectDisclaimerSelector,\n  acceptProjectDisclaimerThunk\n} from './projectDisclaimerSlice';\nimport './ProjectDisclaimerView.scss';\nimport {\n  getDistanceLeftToScroll,\n  getDistanceLeftToScrollFromWindow,\n  getScrollableAmount\n} from '../../common/services/scrollDataService';\nimport Separator from '../../common/components/Separator';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport { sanitize } from '../../common/services/sanitizeService';\n\nconst ProjectDisclaimerView = () => {\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const projectDisclaimer = useSelector(\n    getProjectDisclaimerSelector(projectId)\n  );\n  const [hasScrolledToBottom, setHasScrolledToBottom] = useState(false);\n  const [hasScrollableText, setHasScrollableText] = useState(false);\n  const [\n    waitingForDisclaimerAcceptanceCall,\n    setWaitingForDisclaimerAcceptanceCall\n  ] = useState(false);\n  const textRef = useRef(null);\n\n  const handleTextScroll = useMemo(() => {\n    return e => {\n      const acceptableMarginOfError = 5;\n      const distanceLeftToScroll = getDistanceLeftToScroll(e.target);\n      if (\n        hasScrollableText &&\n        distanceLeftToScroll <= acceptableMarginOfError\n      ) {\n        setHasScrolledToBottom(true);\n      }\n    };\n  }, [hasScrollableText]);\n\n  const handleTextScrollMobile = useMemo(() => {\n    return () => {\n      if (\n        !hasScrollableText &&\n        getDistanceLeftToScrollFromWindow(textRef.current) <= 0\n      ) {\n        setHasScrolledToBottom(true);\n      }\n    };\n  }, [hasScrollableText]);\n\n  const updateHasScrollableText = useMemo(() => {\n    return () => {\n      const acceptableMarginOfError = 50;\n      const amountCanScroll = getScrollableAmount(textRef.current);\n      setHasScrollableText(amountCanScroll > acceptableMarginOfError);\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    if (textRef.current) {\n      updateHasScrollableText();\n      window.addEventListener('resize', updateHasScrollableText);\n      return () =>\n        window.removeEventListener('resize', updateHasScrollableText);\n    }\n    return undefined;\n  }, [updateHasScrollableText]);\n\n  useEffect(() => {\n    if (textRef.current) {\n      window.addEventListener('scroll', handleTextScrollMobile);\n      return () => window.removeEventListener('scroll', handleTextScrollMobile);\n    }\n    return undefined;\n  }, [handleTextScrollMobile]);\n\n  useEffect(() => {\n    const acceptableMarginOfError = 5;\n\n    if (\n      textRef &&\n      textRef.current &&\n      getDistanceLeftToScroll(textRef.current) < acceptableMarginOfError\n    ) {\n      setHasScrolledToBottom(true);\n    }\n  }, [textRef, projectDisclaimer]);\n\n  useEffect(() => {\n    if (waitingForDisclaimerAcceptanceCall && projectDisclaimer.hasAccepted) {\n      const to = history.location.state\n        ? history.location.state.from\n        : `/projects/${projectId}`;\n\n      history.replace(to);\n    }\n  }, [\n    waitingForDisclaimerAcceptanceCall,\n    projectDisclaimer,\n    history,\n    projectId\n  ]);\n\n  if (waitingForDisclaimerAcceptanceCall) {\n    return null;\n  }\n\n  const acceptDisclaimer = () => {\n    dispatch(acceptProjectDisclaimerThunk(projectId));\n    setWaitingForDisclaimerAcceptanceCall(true);\n  };\n\n  return projectDisclaimer && !projectDisclaimer.isLoading ? (\n    <div className=\"project-disclaimer-container\">\n      <div\n        className=\"project-disclaimer-title\"\n        data-testid=\"project-disclaimer-title\"\n      >\n        Project Disclaimer\n      </div>\n      <div\n        data-testid=\"project-disclaimer\"\n        className=\"project-disclaimer\"\n        ref={textRef}\n        onScroll={handleTextScroll}\n      >\n        {projectDisclaimer &&\n          !projectDisclaimer.hasAccepted &&\n          authorizationService.isClientUser() && (\n            <>\n              <div className=\"project-disclaimer-prompt\">\n                Before you can access your project page you&apos;ll need to\n                agree to the project disclaimer below. Please read it carefully\n                before accepting.\n              </div>\n              <Separator />\n            </>\n          )}\n        <div\n          data-testid=\"project-disclaimer-content\"\n          className=\"project-disclaimer-content\"\n          dangerouslySetInnerHTML={{\n            __html: sanitize(projectDisclaimer.disclaimerHtml)\n          }}\n        />\n      </div>\n      {authorizationService.isClientUser() && !projectDisclaimer.hasAccepted && (\n        <div className=\"project-disclaimer-actions\">\n          <Link to=\"/projects\" data-testid=\"cancel-button\">\n            Cancel\n          </Link>\n          <Button\n            data-testid=\"accept-button\"\n            type=\"button\"\n            disabled={!hasScrolledToBottom}\n            onClick={acceptDisclaimer}\n          >\n            Accept and proceed\n          </Button>\n        </div>\n      )}\n    </div>\n  ) : null;\n};\n\nexport default ProjectDisclaimerView;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProjectDisclaimerView from './ProjectDisclaimerView';\n\nconst ProjectDisclaimerRouter = () => {\n  return (\n    <Switch>\n      <Route\n        exact\n        path=\"/projects/:projectId/project-disclaimer\"\n        component={ProjectDisclaimerView}\n      />\n    </Switch>\n  );\n};\n\nexport default ProjectDisclaimerRouter;\n","import { get as _get } from 'lodash';\nimport { ReportComponent } from '@pwc/pwc-deals-report-ui';\nimport { Route } from 'react-router-dom';\nimport React from 'react';\nimport {\n  isProjectArchived,\n  isProjectInactive\n} from '../../common/helpers/projectStatusesUtils';\nimport {\n  getProjectStatus,\n  useProjectsStatuses\n} from '../../common/hooks/useProjectsStatuses';\n\nconst ReportsContentRouter = () => {\n  const projectsStates = useProjectsStatuses();\n\n  return (\n    <Route\n      path=\"/projects/:projectid/reports/\"\n      render={props => {\n        const projectId = _get(props, ['match', 'params', 'projectid']);\n\n        const projectStatus = getProjectStatus(projectsStates, projectId);\n        const isProjectDisabled =\n          projectId &&\n          (isProjectInactive(projectStatus) ||\n            isProjectArchived(projectStatus));\n\n        return (\n          <ReportComponent {...props} isProjectDisabled={isProjectDisabled} />\n        );\n      }}\n    />\n  );\n};\n\nexport default ReportsContentRouter;\n","import React, { Fragment } from 'react';\nimport { Checkbox } from '@pwc/pwc-deals-ui';\n\nconst CheckboxFormikField = ({ field, label, dataTestId, disabled }) => {\n  return (\n    // We have to actually destroy the checkbox when the value changes programmatically\n    <Fragment key={field.value}>\n      <Checkbox\n        dataTestId={dataTestId}\n        selected={field.value}\n        id={field.name}\n        label={label}\n        onChange={field.onChange}\n        onBlur={field.onBlur}\n        disabled={disabled}\n      />\n    </Fragment>\n  );\n};\n\nexport default CheckboxFormikField;\n","import React from 'react';\nimport { RadioGroup } from '@pwc/pwc-deals-ui';\n\nconst RadioGroupFieldset = ({\n  field,\n  options,\n  label,\n  direction,\n  className,\n  disabled\n}) => {\n  return (\n    <>\n      <RadioGroup\n        field={field}\n        options={options}\n        label={label}\n        direction={direction}\n        className={className}\n        disabled={disabled}\n      />\n    </>\n  );\n};\n\nexport default RadioGroupFieldset;\n","export const isContainsMatchBuilder = searchText => {\n  const split = searchText\n    .trim()\n    .toLowerCase()\n    .split(' ');\n  const isMatchFunc = optionLabel => {\n    const lowercaseLabel = optionLabel.toLowerCase();\n    let allPartialsFound = true;\n    split.forEach(partial => {\n      allPartialsFound =\n        allPartialsFound && lowercaseLabel.indexOf(partial) > -1;\n    });\n    return allPartialsFound;\n  };\n  return optionLabel => isMatchFunc(optionLabel);\n};\n\nexport const isStartsWithMatchBuilder = searchText => {\n  const lowercaseSearchText = searchText.trim().toLowerCase();\n  return optionLabel =>\n    optionLabel.toLowerCase().indexOf(lowercaseSearchText) === 0;\n};\n\nconst getMatchingOptions = (searchText, options, isMatch) => {\n  return options.filter(option => isMatch(option.label));\n};\n\nexport const findMatches = (\n  searchText,\n  options,\n  selections,\n  isMatchFuncBuilder\n) => {\n  const updatedMatches = [];\n\n  const isMatchFunc = isMatchFuncBuilder(searchText);\n\n  const matchingOptions = getMatchingOptions(searchText, options, isMatchFunc);\n\n  matchingOptions.forEach(option => {\n    const selected = (selections || []).find(\n      selection => selection.value === option.value\n    );\n    updatedMatches.push({ ...option, selected });\n  });\n\n  return updatedMatches;\n};\n\nfunction removeUnselectedMatches(selections, unselectedMatches) {\n  const updatedSelections = selections.filter(\n    selection =>\n      unselectedMatches.filter(match => match.value === selection.value)\n        .length === 0\n  );\n\n  return updatedSelections;\n}\n\nfunction addSelectedMatches(selectedMatches, updatedSelections) {\n  selectedMatches.forEach(match => {\n    if (\n      !updatedSelections.filter(selection => selection.value === match.value)\n        .length > 0\n    ) {\n      updatedSelections.push({ label: match.label, value: match.value });\n    }\n  });\n}\n\nfunction sortByLabel() {\n  return (a, b) => (a.label > b.label ? 1 : -1);\n}\n\nexport const applySelectedMatches = (selections, matches) => {\n  if (matches === null || matches.length === 0) return selections;\n  const unselectedMatches = matches.filter(match => !match.selected);\n  const selectedMatches = matches.filter(match => match.selected);\n\n  const updatedSelections = removeUnselectedMatches(\n    selections,\n    unselectedMatches\n  );\n  addSelectedMatches(selectedMatches, updatedSelections);\n\n  return updatedSelections.sort(sortByLabel());\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { TextInput, Button } from '@pwc/pwc-deals-ui';\nimport ClearableDisplayPill from '../Pills/ClearableDisplayPill';\nimport OutsideClickHandler from '../OutsideClickHandler';\nimport {\n  findMatches,\n  applySelectedMatches,\n  isContainsMatchBuilder\n} from './selectMultipleHelpers';\nimport './SelectMultiple.scss';\n\nexport {\n  isContainsMatchBuilder,\n  isStartsWithMatchBuilder\n} from './selectMultipleHelpers';\n\nconst SelectMultiple = props => {\n  const {\n    fieldName,\n    label,\n    placeholder = '',\n    options,\n    selections,\n    onChange, // Note: parameter is an an array of updated selections (not event)\n    onBlur = () => {},\n    error = '',\n    isMatchBuilder = isContainsMatchBuilder, // Note: searchText => optionLabel => isMatch\n    minimumSearchStringLength = 1,\n    noMatchElement = null, // Note: could be used for a \"Create Tag\"\n    disabled\n  } = props;\n\n  const [searchText, setSearchText] = useState('');\n  const [matches, setMatches] = useState(null);\n  const [shouldShowApply, setShouldShowApply] = useState(false);\n\n  const resetSearch = () => {\n    setMatches(null);\n    setSearchText('');\n    setShouldShowApply(false);\n  };\n\n  const onBlurSearchText = () => {\n    if (matches === null) {\n      setSearchText('');\n      onBlur();\n    } else {\n      // Not a \"real\" blur. The blur event on the search box was due to a user clicking in the displayed matches\n    }\n  };\n\n  const onSearchTextChange = event => {\n    const updatedSearchText = event.target.value;\n\n    setMatches(\n      updatedSearchText.length < minimumSearchStringLength\n        ? null\n        : findMatches(updatedSearchText, options, selections, isMatchBuilder)\n    );\n\n    setSearchText(updatedSearchText);\n  };\n\n  const onClick = option => {\n    const updatedMatches = matches.map(match => {\n      const updatedMatch = { ...match };\n      if (match.value === option.value) {\n        updatedMatch.selected = !updatedMatch.selected;\n      }\n      return updatedMatch;\n    });\n    setMatches(updatedMatches);\n    setShouldShowApply(true);\n  };\n\n  const onApplyClick = () => {\n    const updatedSelections = applySelectedMatches(selections, matches);\n    onChange(updatedSelections);\n    resetSearch();\n  };\n\n  const onSelectionRemoved = option => {\n    const updatedSelections = selections.filter(\n      selection => selection.value !== option.value\n    );\n\n    onChange(updatedSelections);\n    resetSearch();\n  };\n\n  const onOutsideClick = () => {\n    resetSearch();\n  };\n\n  const pills =\n    selections &&\n    selections.length > 0 &&\n    selections.map((o, i) => {\n      return (\n        <ClearableDisplayPill\n          onClearClick={() => onSelectionRemoved(o)}\n          tag={o.label}\n          index={i}\n          key={o.value}\n        />\n      );\n    });\n\n  const displayedOptions =\n    matches &&\n    matches.map(m => (\n      <div key={m.label}>\n        <input\n          className=\"item-checkbox\"\n          id={m.label}\n          data-testid={m.label}\n          type=\"checkbox\"\n          name={m.label}\n          checked={m.selected || false}\n          onChange={() => {\n            onClick(m);\n          }}\n        />\n        <label htmlFor={m.label}>{m.label}</label>\n      </div>\n    ));\n\n  return (\n    <div className=\"select-multiple\">\n      <TextInput\n        basic\n        label={label}\n        field={{\n          name: fieldName,\n          value: searchText,\n          onChange: onSearchTextChange\n        }}\n        autoComplete=\"off\"\n        error={matches !== null ? '' : error}\n        onBlur={onBlurSearchText}\n        placeholder={placeholder}\n        iconLeft=\"search\"\n        disabled={disabled}\n      />\n      {matches && matches.length > 0 && (\n        <OutsideClickHandler onClick={onOutsideClick}>\n          <div>\n            <div className=\"input-field-container\">\n              <div\n                className=\"multi-select-container\"\n                data-testid=\"multi-select-container\"\n              >\n                <div className=\"scrollable\">\n                  {displayedOptions}\n                  {shouldShowApply && (\n                    <div className=\"action-button-container\">\n                      <Button\n                        data-testid=\"apply-selections-button\"\n                        onClick={onApplyClick}\n                        type=\"button\"\n                      >\n                        Apply\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </OutsideClickHandler>\n      )}\n      {matches && matches.length === 0 && noMatchElement != null && (\n        <div>{noMatchElement}</div>\n      )}\n\n      {pills && <div className=\"pills\">{pills}</div>}\n    </div>\n  );\n};\n\nSelectMultiple.propTypes = {\n  fieldName: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  options: PropTypes.arrayOf(\n    PropTypes.exact({\n      value: PropTypes.any,\n      label: PropTypes.string\n    })\n  ).isRequired,\n  selections: PropTypes.arrayOf(\n    PropTypes.exact({\n      value: PropTypes.any,\n      label: PropTypes.string\n    })\n  ).isRequired,\n  onChange: PropTypes.func.isRequired,\n  onBlur: PropTypes.func,\n  error: PropTypes.string,\n  isMatchBuilder: PropTypes.func,\n  minimumSearchStringLength: PropTypes.number,\n  noMatchElement: PropTypes.element\n};\n\nSelectMultiple.defaultProps = {\n  placeholder: '',\n  onBlur: () => {},\n  error: '',\n  isMatchBuilder: isContainsMatchBuilder,\n  minimumSearchStringLength: 1,\n  noMatchElement: null\n};\n\nexport default SelectMultiple;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextArea } from '@pwc/pwc-deals-ui';\n\nconst TextAreaFieldset = ({\n  field,\n  maxLength,\n  label,\n  error,\n  className,\n  basic,\n  placeholder,\n  helperText,\n  helperIcon,\n  helperIconColor,\n  disabled\n}) => {\n  return (\n    <>\n      <TextArea\n        error={error}\n        label={label}\n        field={field}\n        basic={basic}\n        className={className}\n        maxLength={maxLength}\n        placeholder={placeholder}\n        helperText={helperText}\n        helperIcon={helperIcon}\n        helperIconColor={helperIconColor}\n        disabled={disabled}\n      />\n    </>\n  );\n};\n\nTextAreaFieldset.propTypes = {\n  label: PropTypes.string,\n  error: PropTypes.string,\n  maxLength: PropTypes.number\n};\n\nTextAreaFieldset.defaultProps = {\n  error: '',\n  maxLength: 1000,\n  label: ''\n};\n\nexport default TextAreaFieldset;\n","import React from 'react';\nimport { TextInput } from '@pwc/pwc-deals-ui';\nimport './TextInputFieldset.scss';\n\nconst TextInputFieldset = ({\n  field,\n  form,\n  label,\n  error,\n  disabled,\n  basic,\n  size,\n  className,\n  type,\n  helperText,\n  helperIcon,\n  helperIconColor,\n  placeholder\n}) => {\n  return (\n    <>\n      <TextInput\n        error={error || ''}\n        label={label}\n        form={form}\n        field={field}\n        size={size}\n        basic={basic}\n        type={type}\n        className={className}\n        disabled={disabled}\n        helperText={helperText}\n        helperIcon={helperIcon}\n        helperIconColor={helperIconColor}\n        placeholder={placeholder}\n      />\n    </>\n  );\n};\n\nexport default TextInputFieldset;\n","import { useEffect, useState } from 'react';\nimport { getProjectOptions } from '../services/projectService';\n\nconst getIndustryOptions = (projectOptions = {}) =>\n  (projectOptions.industry || []).map(({ id, name }) => ({\n    value: `${id}`,\n    label: name\n  }));\n\nconst getServiceOptions = (projectOptions = {}) =>\n  (projectOptions.service || []).map(({ id, name }) => ({\n    value: `${id}`,\n    label: name\n  }));\n\nexport const useProjectOptionsFromApi = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [projectOptions, setProjectOptions] = useState(undefined);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getProjectOptions()\n      .then(opts => {\n        setProjectOptions(opts);\n        setHasError(false);\n        setIsLoading(false);\n      })\n      .catch(() => {\n        setHasError(true);\n        setIsLoading(false);\n      });\n  }, [setIsLoading, setProjectOptions]);\n\n  return {\n    isLoading,\n    hasError,\n    industryOptions: getIndustryOptions(projectOptions),\n    serviceOptions: getServiceOptions(projectOptions)\n  };\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nexport const dealOptions = [\n  { label: 'Buy (Acquisitions)', value: 1 },\n  { label: 'Sell (Divestitures)', value: 2 }\n];\n\nexport const defaultRestrictionOption = { label: 'C2', value: 3 };\nexport const restrictionOptions = [\n  { label: 'C1', value: 1 },\n  { label: 'C1A', value: 2 },\n  defaultRestrictionOption\n];\n\nexport const financialMagnitudeOptions = [\n  { label: 'Thousands', value: 'Thousands' },\n  { label: 'Millions', value: 'Millions', default: true }\n];\n\nexport const currencyOptions = [\n  {\n    label: 'US Dollar ($)',\n    value: 'Dollar',\n    default: Constants.TERRITORIES.UNITED_STATES\n  },\n  {\n    label: 'Pound Sterling (£)',\n    value: 'Pound',\n    default: Constants.TERRITORIES.UNITED_KINGDOM\n  },\n  { label: 'Euro (€)', value: 'Euro' }\n];\n\nexport const financialsDecimalCountOptions = [\n  { label: 'Hide', value: '0' },\n  { label: 'Show', value: '1', default: true }\n];\n\nconst codeToDisplayName = (arrayOfObjects, code) => {\n  const target = arrayOfObjects.filter(o => o.value === code);\n  return target.length !== 0 ? target[0].label : 'Undefined';\n};\n\nexport const dealCodeToName = code => codeToDisplayName(dealOptions, code);\nexport const restrictionCodeToName = code =>\n  codeToDisplayName(restrictionOptions, code);\n\nexport const projectType = {\n  buy: { id: 1, text: 'Buy side' },\n  sell: { id: 2, text: 'Sell side' }\n};\nexport const getProjectType = type =>\n  type === projectType.buy.id ? projectType.buy.text : projectType.sell.text;\n\nexport const getDefaultValue = (options, defaultWhere = true) =>\n  (options.find(o => o.default === defaultWhere) || options[0]).value;\n\nexport const consentLevelOptions = [\n  { label: 'None', value: 'None' },\n  { label: 'Partial', value: 'Partial' },\n  { label: 'Full', value: 'Full' }\n];\n","import * as Yup from 'yup';\nimport { consentLevelOptions } from './projectOptions';\n\nexport const emptyProject = () => ({\n  type: 0,\n  name: '',\n  clientName: '',\n  restriction: 0,\n  target: '',\n  industry: undefined,\n  industryId: undefined,\n  users: []\n});\n\nconst step1Schema = {\n  type: Yup.number()\n    .moreThan(0, 'Deal type is required')\n    .required('Deal type is required'),\n  clientName: Yup.string()\n    .trim()\n    .required('Client name is required'),\n  name: Yup.string()\n    .trim()\n    .required('The project name is required'),\n  restriction: Yup.number()\n    .moreThan(0, 'Restriction is required')\n    .required('Restriction is required'),\n  consentLevel: Yup.string().oneOf(consentLevelOptions.map(opt => opt.value))\n};\n\nexport const projectSchemaStep1 = Yup.object().shape(step1Schema);\n\nconst User = Yup.object().shape({\n  role: Yup.string().required(),\n  email: Yup.string()\n    .required()\n    .email()\n});\n\nconst step2Schema = {\n  users: Yup.array().of(User)\n};\n\nexport const projectSchemaStep2 = Yup.object().shape(step2Schema);\n\nexport const projectSettingsSchema = Yup.object().shape({\n  ...step1Schema,\n  type: undefined\n});\n\nexport const getUserByRole = (project, role) => {\n  if (project && project.users) {\n    return (\n      project.users.find(user => {\n        return !!user.roles.find(\n          r => r.name === role && r.projectId === project.id\n        );\n      }) || {}\n    );\n  }\n  return {};\n};\n\nexport const getUsersByRole = (project, role) => {\n  if (project && project.users) {\n    return (\n      project.users.filter(user => {\n        return !!user.roles.find(r => r.name === role);\n      }) || []\n    );\n  }\n  return [];\n};\n","import { Icon, Button, Select, Loader } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Field, Form, Formik } from 'formik';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport D3Alert from '../../common/components/Alert/D3Alert';\nimport CheckboxFormikField from '../../common/components/Checkbox/CheckboxFormikField';\nimport PublishButton from '../../common/components/PublishButton';\nimport RadioGroupFieldset from '../../common/components/RadioGroup/RadioGroupFieldset';\nimport SelectMultiple from '../../common/components/SelectMultiple/SelectMultiple';\nimport Separator from '../../common/components/Separator';\nimport TextAreaFieldset from '../../common/components/TextAreaFieldset/TextAreaFieldset';\nimport TextInputFieldset from '../../common/components/TextInputFieldset/TextInputFieldset';\nimport featureFlags from '../../common/helpers/featureFlags';\nimport { useProjectOptionsFromApi } from '../../common/hooks/useProjectOptionsFromApi';\nimport { updateProjectDetails } from '../../common/services/projectService';\nimport { projectSettingsSchema } from '../project/common/ProjectModel';\nimport {\n  defaultRestrictionOption,\n  financialMagnitudeOptions,\n  restrictionOptions,\n  currencyOptions,\n  financialsDecimalCountOptions,\n  dealOptions,\n  consentLevelOptions,\n  projectType\n} from '../project/common/projectOptions';\nimport {\n  getProject,\n  loadProjectThunk,\n  updateProjectSettingsThunk\n} from '../project/projectSlice';\nimport EnableForProjectState from '../security/EnableForProjectState';\nimport ShowForPermissions from '../security/ShowForPermissions';\n\nconst ProjectDetails = () => {\n  const { projectId } = useParams();\n  const [hasError, setHasError] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n\n  const project = useSelector(getProject);\n\n  const dispatch = useDispatch();\n  const handleSubmit = async updatedFormValues => {\n    const {\n      financialsMagnitude,\n      currency,\n      financialsDecimalCount,\n      consentLevel\n    } = updatedFormValues;\n\n    try {\n      setIsSaving(true);\n      setHasError(false);\n\n      const projectForUpdate = {\n        ...project,\n        ...updatedFormValues,\n        serviceIds: updatedFormValues.services.map(_ => _.value),\n        services: undefined\n      };\n\n      if (!featureFlags.diagnostic) {\n        delete projectForUpdate.showDiagnostic;\n      }\n\n      await updateProjectDetails(projectForUpdate);\n      await dispatch(\n        updateProjectSettingsThunk(project.id, {\n          financialsMagnitude,\n          currency,\n          financialsDecimalCount,\n          consentLevel\n        })\n      );\n\n      await dispatch(loadProjectThunk(project.id));\n    } catch (e) {\n      setHasError(true);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // RadioGroupFieldset require the value to be strings.\n  const asString = value => `${value}`;\n\n  // TODO: in the future defaulting client type will probably not be a thing\n  const clientTypeRestriction = project.restriction\n    ? project.restriction\n    : defaultRestrictionOption.value;\n\n  const {\n    isLoading,\n    industryOptions,\n    serviceOptions\n  } = useProjectOptionsFromApi();\n\n  if (isLoading) {\n    return <Loader data-testid=\"project-options-loading\" />;\n  }\n\n  const initialValues = {\n    territory: project.territory || Constants.TERRITORIES.UNITED_STATES,\n    type: `${project.type}`,\n    restriction: asString(clientTypeRestriction),\n    name: project.name,\n    clientName: project.clientName,\n    target: project.target,\n    description: project.description,\n    industryId: `${project.industryId}`,\n    currency: project.currency,\n    financialsMagnitude: project.financialsMagnitude,\n    consentLevel: project.consentLevel,\n    financialsDecimalCount: asString(project.financialsDecimalCount),\n    services: project.serviceIds.map(_ =>\n      serviceOptions.find(s => s.value === `${_}`)\n    ),\n    showDiagnostic: project.showDiagnostic\n  };\n\n  return (\n    project.id && (\n      <EnableForProjectState projectId={projectId}>\n        {({ isProjectDisabled }) => (\n          <ShowForPermissions\n            projectId={project.id}\n            permissions={[Constants.USER_PERMISSIONS.MANAGE_USERS]} // TODO: Change this to the proper permission when it's available\n          >\n            <div className=\"settings-container\" data-testid=\"projectSettings\">\n              <div className=\"settings-description\">\n                Edit the project details here, or you can change the currency\n                format and how the data appears in the project. Any changes you\n                make will apply for all users.\n              </div>\n\n              <Separator />\n              <Formik\n                initialValues={initialValues}\n                enableReinitialize\n                onSubmit={handleSubmit}\n                validateOnMount\n                validateOnChange\n                validationSchema={projectSettingsSchema}\n              >\n                {({ isValid, dirty, values, setFieldValue, resetForm }) => (\n                  <Form\n                    data-testid=\"project-settings-form\"\n                    className=\"project-settings-form-container\"\n                  >\n                    <div className=\"form-fields\">\n                      <Field\n                        name=\"territory\"\n                        label=\"Territory\"\n                        component={TextInputFieldset}\n                        basic\n                        disabled\n                      />\n                      <Field\n                        name=\"type\"\n                        component={({ field: formikField }) => {\n                          const field = {\n                            ...formikField,\n                            onChange: e => {\n                              if (`${projectType.buy.id}` === e.target.value) {\n                                setFieldValue('showDiagnostic', false);\n                              } else if (\n                                `${projectType.sell.id}` === e.target.value\n                              ) {\n                                setFieldValue('showDiagnostic', true);\n                              }\n\n                              formikField.onChange(e);\n                            }\n                          };\n                          return (\n                            <RadioGroupFieldset\n                              field={field}\n                              options={dealOptions}\n                              direction=\"row\"\n                              label=\"Deal type\"\n                              disabled={isProjectDisabled}\n                            />\n                          );\n                        }}\n                      />\n                      {featureFlags.diagnostic &&\n                        values.type === `${projectType.sell.id}` && (\n                          <Field\n                            name=\"showDiagnostic\"\n                            component={CheckboxFormikField}\n                            direction=\"row\"\n                            label=\"Show Diagnostic Questionnaire\"\n                            dataTestId=\"show-diagnostic-questionnaire\"\n                            disabled={isProjectDisabled}\n                          />\n                        )}\n                      <Field\n                        name=\"restriction\"\n                        component={RadioGroupFieldset}\n                        options={restrictionOptions}\n                        direction=\"row\"\n                        label=\"Client type\"\n                        disabled={isProjectDisabled}\n                      />\n                      <SelectMultiple\n                        matchOnStartsWith={false}\n                        minimumSearchStringLength={2}\n                        fieldName=\"services\"\n                        label=\"Services / Products\"\n                        placeholder=\"Search for services and products\"\n                        options={serviceOptions}\n                        selections={values.services || []}\n                        onChange={selections =>\n                          setFieldValue('services', selections)\n                        }\n                        noMatchElement={null}\n                        disabled={isProjectDisabled}\n                      />\n                      <Field\n                        name=\"name\"\n                        label=\"Project name\"\n                        component={TextInputFieldset}\n                        basic\n                        disabled={isProjectDisabled}\n                      />\n                      <Field\n                        name=\"clientName\"\n                        label=\"Client name\"\n                        component={TextInputFieldset}\n                        basic\n                        disabled={isProjectDisabled}\n                      />\n                      <Field\n                        name=\"target\"\n                        label=\"Target (optional)\"\n                        component={TextInputFieldset}\n                        basic\n                        disabled={isProjectDisabled}\n                      />\n                      <Field\n                        name=\"description\"\n                        label=\"Description (optional)\"\n                        component={TextAreaFieldset}\n                        basic\n                        disabled={isProjectDisabled}\n                      />\n                      <Select\n                        data-testid=\"industry-select\"\n                        basic\n                        options={industryOptions}\n                        label=\"Industry (optional)\"\n                        onChange={event =>\n                          setFieldValue('industryId', event.target.value, true)\n                        }\n                        value={values.industryId}\n                        placeholder=\"Please select the client's industry\"\n                        disabled={isProjectDisabled}\n                      />\n                      <Field\n                        name=\"consentLevel\"\n                        component={RadioGroupFieldset}\n                        options={consentLevelOptions}\n                        direction=\"row\"\n                        label=\"Data Use Consent Level\"\n                        disabled={isProjectDisabled}\n                      />\n                      <h2>Format details</h2>\n                      <p\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center'\n                        }}\n                      >\n                        <Icon\n                          name=\"information\"\n                          className=\"fill icon-yellow\"\n                          width={16}\n                          style={{\n                            marginRight: '0.5rem'\n                          }}\n                        />\n                        Automated for structured analysis only\n                      </p>\n                      <Field\n                        name=\"currency\"\n                        component={RadioGroupFieldset}\n                        options={currencyOptions}\n                        direction=\"row\"\n                        label=\"Currency\"\n                        disabled={isProjectDisabled}\n                      />\n                      <Field\n                        name=\"financialsMagnitude\"\n                        component={RadioGroupFieldset}\n                        options={financialMagnitudeOptions}\n                        direction=\"row\"\n                        label=\"Number format\"\n                        disabled={isProjectDisabled}\n                      />\n                      <Field\n                        name=\"financialsDecimalCount\"\n                        component={RadioGroupFieldset}\n                        options={financialsDecimalCountOptions}\n                        direction=\"row\"\n                        label=\"Decimals\"\n                        disabled={isProjectDisabled}\n                      />\n                    </div>\n\n                    <Separator />\n\n                    <div className=\"form-bottom-actions\">\n                      <Button\n                        className=\"button-link form-cancel-button\"\n                        onClick={() => resetForm()}\n                        type=\"button\"\n                        data-testid=\"cancel-button-bottom\"\n                      >\n                        Cancel\n                      </Button>\n                      <PublishButton\n                        isSaving={isSaving}\n                        isValid={isValid && dirty}\n                        buttonSize=\"sm\"\n                        onSaveText=\"Saving...\"\n                        standbyText=\"Save Changes\"\n                        buttonPosition=\"bottom\"\n                      />\n                    </div>\n                    {hasError && <D3Alert configType=\"publish\" />}\n                  </Form>\n                )}\n              </Formik>\n            </div>\n          </ShowForPermissions>\n        )}\n      </EnableForProjectState>\n    )\n  );\n};\nexport default ProjectDetails;\n","import React from 'react';\nimport { MiniLoader } from '@pwc/pwc-deals-ui';\nimport './ProjectLoader.scss';\n\nconst ProjectLoader = () => {\n  return (\n    <div className=\"project-loader\" data-testid=\"project-loader\">\n      <MiniLoader dataTestId=\"loading-spinner\" />\n    </div>\n  );\n};\n\nexport default ProjectLoader;\n","import { ProjectStateManagementHttpClient } from '../../common/services/httpClient';\n\nexport const getProjectApproval = async (projectId, userId) => {\n  try {\n    const response = await ProjectStateManagementHttpClient().get(\n      `approval/${projectId}?userid=${userId}`\n    );\n\n    return response.data;\n  } catch (error) {\n    // eslint-disable-next-line\n    console.log(error);\n    return error;\n  }\n};\n\n// Pausing\n\nexport const callPauseEndpoint = async (\n  action,\n  projectId,\n  userId,\n  approvalId\n) => {\n  try {\n    const response = await ProjectStateManagementHttpClient().post(\n      `pause/${projectId}/${action}`,\n      {\n        userId,\n        approvalId: approvalId || ''\n      }\n    );\n\n    return response.data;\n  } catch (error) {\n    // eslint-disable-next-line\n    console.log(error);\n    return error;\n  }\n};\n\nexport const callPauseApprovalEndpoint = async (\n  action,\n  projectId,\n  userId,\n  approvalId\n) => {\n  try {\n    const response = await ProjectStateManagementHttpClient().post(\n      `approval/${projectId}/pause/${action}`,\n      {\n        userId,\n        approvalId: String(approvalId) || ''\n      }\n    );\n\n    return response.data;\n  } catch (error) {\n    // eslint-disable-next-line\n    console.log(error);\n    return error;\n  }\n};\n\nexport const callReactivateApprovalEndpoint = async (\n  action,\n  projectId,\n  userId,\n  approvalId\n) => {\n  try {\n    const response = await ProjectStateManagementHttpClient().post(\n      `approval/${projectId}/unpause/${action}`,\n      {\n        userId,\n        approvalId: String(approvalId) || ''\n      }\n    );\n\n    return response.data;\n  } catch (error) {\n    // eslint-disable-next-line\n    console.log(error);\n    return error;\n  }\n};\n\n// Archiving\n\nexport const archiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Archive project');\n};\n\nexport const requestArchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Request Archive project');\n};\n\nexport const approveRequestArchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Approve Request Archive project');\n};\n\nexport const declineRequestArchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Decline Request Archive project');\n};\n\nexport const cancelRequestArchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Cancel Request Archive project');\n};\n\nexport const unarchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Unarchive project');\n};\n\nexport const requestUnarchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Request Unarchive project');\n};\n\nexport const approveRequestUnarchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Approve Request Unarchive project');\n};\n\nexport const declineRequestUnarchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Decline Request Unarchive project');\n};\n\nexport const cancelRequestUnarchiveProject = async () => {\n  // eslint-disable-next-line\n  console.log('[action] Cancel Request Unarchive project');\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport * as service from './projectStateChangeService';\n\nexport const initialState = {};\n\nconst projectDisclaimersSlice = createSlice({\n  name: 'projectApprovals',\n  initialState,\n  reducers: {\n    setProjectStatus: (state, action) => ({\n      ...state,\n      [action.payload.projectId]: {\n        approvals: action.payload.approvals\n      }\n    })\n  }\n});\n\nexport default projectDisclaimersSlice.reducer;\n\n// Actions\nconst { setProjectStatus } = projectDisclaimersSlice.actions;\n\n// Selectors\nexport const getProjectApprovals = projectId => state =>\n  state.projectApprovals[projectId] &&\n  state.projectApprovals[projectId].approvals;\n\nexport const getProjectApprovalsChart = projectId => state => {\n  const approvals = getProjectApprovals(projectId)(state);\n\n  const approvalsChart = {\n    isRequestedToBePaused: false,\n    pauseApprovalId: null,\n    isRequestedToBeArchived: false,\n    archiveApprovalId: null,\n    isRequestedToBeReactivated: false,\n    reactivateApprovalId: null,\n    isRequestedToBeUnarchived: false,\n    unarchiveApprovalId: null\n  };\n\n  if (approvals) {\n    approvals.forEach(approval => {\n      if (approval.approvalType === 1) {\n        approvalsChart.isRequestedToBePaused = true;\n        approvalsChart.pauseApprovalId = approval.requestId;\n      }\n      if (approval.approvalType === 4) {\n        approvalsChart.isRequestedToBeReactivated = true;\n        approvalsChart.reactivateApprovalId = approval.requestId;\n      }\n      if (approval.approvalType === 2) {\n        approvalsChart.isRequestedToBeArchived = true;\n        approvalsChart.archiveApprovalId = approval.requestId;\n      }\n    });\n  }\n\n  return approvalsChart;\n};\n\n// Thunks\n\n// Pause & Reactivation\nexport const pauseProject = ({ projectId, userId }) => () =>\n  service.callPauseEndpoint('enable', projectId, userId);\n\nexport const reactivateProject = ({ projectId, userId }) => () =>\n  service.callPauseEndpoint('disable', projectId, userId);\n\n// Approvals\nexport const fetchProjectApprovals = ({\n  projectId,\n  userId\n}) => async dispatch => {\n  try {\n    const approvals = await service.getProjectApproval(projectId, userId);\n    dispatch(setProjectStatus({ projectId, approvals }));\n    // eslint-disable-next-line no-empty\n  } catch (error) {}\n};\n\nexport const requestPauseProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callPauseApprovalEndpoint('request', projectId, userId, approvalId);\n\nexport const approveRequestPauseProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callPauseApprovalEndpoint('approve', projectId, userId, approvalId);\n\nexport const declineRequestPauseProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callPauseApprovalEndpoint('reject', projectId, userId, approvalId);\n\nexport const cancelRequestPauseProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callPauseApprovalEndpoint('delete', projectId, userId, approvalId);\n\nexport const requestReactivateProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callReactivateApprovalEndpoint(\n    'request',\n    projectId,\n    userId,\n    approvalId\n  );\n\nexport const approveRequestReactivateProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callReactivateApprovalEndpoint(\n    'approve',\n    projectId,\n    userId,\n    approvalId\n  );\n\nexport const declineRequestReactivateProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callReactivateApprovalEndpoint(\n    'reject',\n    projectId,\n    userId,\n    approvalId\n  );\n\nexport const cancelRequestReactivateProject = ({\n  approvalId,\n  projectId,\n  userId\n}) => async () =>\n  service.callReactivateApprovalEndpoint(\n    'delete',\n    projectId,\n    userId,\n    approvalId\n  );\n\n// Archiving\nexport const archiveProject = () => async () => {};\n\nexport const requestArchiveProject = (projectId, userId) =>\n  archiveProject(projectId, userId, true);\n\nexport const approveRequestArchiveProject = (projectId, userId) =>\n  service.approveRequestArchiveProject(projectId, userId);\n\nexport const declineRequestArchiveProject = (projectId, userId) =>\n  service.declineRequestArchiveProject(projectId, userId);\n\nexport const cancelRequestArchiveProject = (projectId, userId) =>\n  service.cancelRequestArchiveProject(projectId, userId);\n\nexport const unarchiveProject = () => async () => {};\n\nexport const requestUnarchiveProject = (projectId, userId) =>\n  unarchiveProject(projectId, userId, true);\n\nexport const approveRequestUnarchiveProject = () =>\n  service.approveRequestUnarchiveProject();\n\nexport const declineRequestUnarchiveProject = (projectId, userId) =>\n  service.declineRequestUnarchiveProject(projectId, userId);\n\nexport const cancelRequestUnarchiveProject = () =>\n  service.cancelRequestUnarchiveProject();\n","import { PROJECT_STATUS_CODES } from '../../common/constants/ProjectStatus';\nimport * as service from './projectStatusChangeSlice';\n\nconst cards = {\n  inactivate: {\n    overview: {\n      header: 'Pause project',\n      text: 'Pausing will set the status of the project to inactive.',\n      secondaryText:\n        'Editing functionality will be disabled and all users (PwC and client) will have read-only access.',\n      rightButton: 'Pause'\n    },\n    request: {\n      header: 'Confirming your pause request',\n      text:\n        'The Engagement Lead and Engagement Manger will be notified to approve the request.',\n      secondaryText:\n        'Upon approval, this will change the project to read-only until it is reactivated',\n      leftButton: 'Cancel',\n      rightButton: 'Confirm'\n    },\n    confirmation: {\n      header: 'Are you sure?',\n      text:\n        'This will change the project to read-only until it is reactivated.',\n      leftButton: 'Cancel',\n      rightButton: 'Yes, pause'\n    }\n  },\n  archive: {\n    overview: {\n      header: 'Archive project',\n      text: \"Archiving will store the project in Junction's digital archive.\",\n      secondaryText:\n        'Editing functionality will be disabled, PwC users will have read-only access and all client access will be removed.',\n      rightButton: 'Archive'\n    },\n    request: {\n      header: 'Confirming your archive request',\n      text:\n        'The Engagement Lead and Engagement Manger will be notified to approve the request.',\n      secondaryText:\n        'Upon approval, this will move the project to the archive and all client access will be removed.',\n      leftButton: 'Cancel',\n      rightButton: 'Confirm'\n    },\n    confirmation: {\n      header: 'Are you sure?',\n      text:\n        'This will move the project to the archive and all client access will be removed.',\n      leftButton: 'Cancel',\n      rightButton: 'Yes, archive'\n    }\n  },\n  reactivate: {\n    overview: {\n      header: 'Reactivate project',\n      text:\n        'Editing functionality will be enabled and PwC users will have permissions re-enabled based on their role in Junction',\n      rightButton: 'Reactivate'\n    },\n    request: {\n      header: 'Confirming your reactivation request',\n      text:\n        'The Engagement Lead and Engagement Manger will be notified to approve the request.',\n      secondaryText:\n        'Upon approval, this will move the project to the active and PwC users will have access re-enabled.',\n      leftButton: 'Cancel',\n      rightButton: 'Confirm'\n    },\n    confirmation: {\n      header: 'Are you sure?',\n      text:\n        'Editing functionality will be enabled and all users (PwC and client) will have permissions re-enabled based on their role in Junction.',\n      leftButton: 'Cancel',\n      rightButton: 'Yes, reactivate'\n    }\n  },\n  unarchive: {\n    overview: {\n      header: 'Unarchive project',\n      text:\n        'Editing functionality will be enabled and PwC users have permissions re-enabled based on their role in Junction.',\n      rightButton: 'Unarchive'\n    },\n    request: {\n      header: 'Confirming your unarchive request',\n      text:\n        'The Engagement Lead and Engagement Manger will be notified to approve the request.',\n      secondaryText: '',\n      leftButton: 'Cancel',\n      rightButton: 'Confirm'\n    },\n    confirmation: {\n      header: 'Are you sure?',\n      text:\n        'Editing functionality will be enabled and all users (PwC and client) will have permissions re-enabled based on their role in Junction.',\n      leftButton: 'Cancel',\n      rightButton: 'Yes, archive'\n    }\n  }\n};\n\nconst warnings = {\n  inactivePending: {\n    approveRequest: {\n      text: 'A user has requested to pause the project and make it inactive.',\n      secondaryText: 'Approval will change the project to read-only.',\n      leftButton: 'Decline',\n      rightButton: 'Approve'\n    },\n    cancelRequest: {\n      text: 'The project has a pending pause request to make it inactive.',\n      secondaryText:\n        'A notification has been sent to the Engagement Lead and Engagement Manager.',\n      leftButton: 'Cancel request'\n    }\n  },\n  reactivatePending: {\n    approveRequest: {\n      text: 'A user has requested to reactivate the project.',\n      secondaryText:\n        'Approval will move the project to active and editing functionality will be enabled.',\n      leftButton: 'Decline',\n      rightButton: 'Approve'\n    },\n    cancelRequest: {\n      text: 'The project has a pending reactivation request.',\n      secondaryText:\n        'A notification has been sent to the Engagement Lead and Engagement Manager.',\n      leftButton: 'Cancel request'\n    }\n  },\n  archivePending: {\n    approveRequest: {\n      text: 'A user has requested to archive the project.',\n      secondaryText: 'Approval will move the project to archive.',\n      leftButton: 'Decline',\n      rightButton: 'Approve'\n    },\n    cancelRequest: {\n      text: 'The project has a pending archiving request.',\n      secondaryText:\n        'A notification has been sent to the Engagement Lead and Engagement Manager.',\n      leftButton: 'Cancel request'\n    }\n  },\n  unarchivePending: {\n    approveRequest: {\n      text: 'A user has requested to unarchive the project.',\n      secondaryText: 'Approval will move the project to active.',\n      leftButton: 'Decline',\n      rightButton: 'Approve'\n    },\n    cancelRequest: {\n      text: 'The project has a pending unarchive request.',\n      secondaryText:\n        'A notification has been sent to the Engagement Lead and Engagement Manager.',\n      leftButton: 'Cancel request'\n    }\n  }\n};\n\nexport const getScenarioCards = (\n  userEmail,\n  projectId,\n  projectStatus,\n  approvals,\n  canApprove,\n  canRequest\n) => {\n  const cardsToDisplay = {\n    leftCard: null,\n    rightCard: null,\n    leftCardConfirm: null,\n    rightCardConfirm: null,\n    leftCardAction: null,\n    rightCardAction: null,\n    leftCardNextState: null,\n    rightCardNextState: null,\n    warningCard: null,\n    warningCardApproveAction: null,\n    warningCardCancelAction: null\n  };\n\n  const isUserPrivilegedToApprove = canApprove;\n  const isUserPrivilegedToRequest = canApprove ? false : canRequest;\n\n  const pauseParams = {\n    projectId,\n    userId: userEmail\n  };\n\n  const approvalParams = {\n    approvalId: null,\n    projectId,\n    userId: userEmail\n  };\n\n  if (!isUserPrivilegedToApprove && !isUserPrivilegedToRequest) {\n    return {};\n  }\n\n  if (approvals.isRequestedToBePaused) {\n    approvalParams.approvalId = approvals.pauseApprovalId;\n\n    if (isUserPrivilegedToApprove) {\n      cardsToDisplay.warningCard = warnings.inactivePending.approveRequest;\n      cardsToDisplay.warningCardApproveAction = service.approveRequestPauseProject(\n        approvalParams\n      );\n      cardsToDisplay.warningCardCancelAction = service.declineRequestPauseProject(\n        approvalParams\n      );\n    } else if (isUserPrivilegedToRequest) {\n      cardsToDisplay.warningCard = warnings.inactivePending.cancelRequest;\n      cardsToDisplay.warningCardCancelAction = service.cancelRequestPauseProject(\n        approvalParams\n      );\n    }\n  } else if (approvals.isRequestedToBeArchived) {\n    approvalParams.approvalId = approvals.archiveApprovalId;\n    if (isUserPrivilegedToApprove) {\n      cardsToDisplay.warningCard = warnings.archivePending.approveRequest;\n      cardsToDisplay.warningCardApproveAction = () => null;\n      cardsToDisplay.warningCardCancelAction = () => null;\n    } else if (isUserPrivilegedToRequest) {\n      cardsToDisplay.warningCard = warnings.archivePending.cancelRequest;\n      cardsToDisplay.warningCardCancelAction = () => null;\n    }\n  } else if (approvals.isRequestedToBeReactivated) {\n    if (isUserPrivilegedToApprove) {\n      cardsToDisplay.warningCard = warnings.reactivatePending.approveRequest;\n      cardsToDisplay.warningCardApproveAction = service.approveRequestReactivateProject(\n        approvalParams\n      );\n      cardsToDisplay.warningCardCancelAction = service.declineRequestReactivateProject(\n        approvalParams\n      );\n    } else if (isUserPrivilegedToRequest) {\n      cardsToDisplay.warningCard = warnings.reactivatePending.cancelRequest;\n      cardsToDisplay.warningCardCancelAction = service.cancelRequestReactivateProject(\n        approvalParams\n      );\n    }\n  } else if (approvals.isRequestedToBeUnarchived) {\n    if (isUserPrivilegedToApprove) {\n      cardsToDisplay.warningCard = warnings.unarchivePending.approveRequest;\n      cardsToDisplay.warningCardApproveAction = service.approveRequestUnarchiveProject(\n        approvalParams\n      );\n      cardsToDisplay.warningCardCancelAction = service.declineRequestUnarchiveProject(\n        approvalParams\n      );\n    } else if (isUserPrivilegedToRequest) {\n      cardsToDisplay.warningCard = warnings.unarchivePending.cancelRequest;\n      cardsToDisplay.warningCardCancelAction = service.cancelRequestUnarchiveProject(\n        approvalParams\n      );\n    }\n  } else {\n    switch (projectStatus) {\n      case PROJECT_STATUS_CODES.COMPLETED:\n      case PROJECT_STATUS_CODES.REACTIVE_PENDING_IN_PROGRESS:\n      case PROJECT_STATUS_CODES.UNARCHIVING_PENDING_IN_PROGRESS:\n        approvalParams.approvalId = approvals.pauseApprovalId;\n\n        cardsToDisplay.leftCard = cards.inactivate.overview;\n        cardsToDisplay.rightCard = cards.archive.overview;\n\n        if (isUserPrivilegedToApprove) {\n          cardsToDisplay.leftCardConfirm = cards.inactivate.confirmation;\n          cardsToDisplay.rightCardConfirm = cards.archive.confirmation;\n          cardsToDisplay.leftCardAction = service.pauseProject(pauseParams);\n          cardsToDisplay.rightCardAction = service.archiveProject(pauseParams);\n        } else if (isUserPrivilegedToRequest) {\n          cardsToDisplay.leftCardConfirm = cards.inactivate.request;\n          cardsToDisplay.rightCardConfirm = cards.archive.request;\n          cardsToDisplay.leftCardAction = service.requestPauseProject(\n            approvalParams\n          );\n          cardsToDisplay.rightCardAction = service.requestArchiveProject(\n            approvalParams\n          );\n        }\n\n        break;\n\n      case PROJECT_STATUS_CODES.INACTIVE:\n      case PROJECT_STATUS_CODES.INACTIVE_PENDING_IN_PROGRESS:\n        approvalParams.approvalId = approvals.reactivateApprovalId;\n\n        cardsToDisplay.leftCard = cards.reactivate.overview;\n        cardsToDisplay.rightCard = cards.archive.overview;\n\n        if (isUserPrivilegedToApprove) {\n          cardsToDisplay.leftCardConfirm = cards.reactivate.confirmation;\n          cardsToDisplay.rightCardConfirm = cards.archive.confirmation;\n\n          cardsToDisplay.leftCardAction = service.reactivateProject(\n            pauseParams\n          );\n          cardsToDisplay.rightCardAction = service.archiveProject(pauseParams);\n        } else if (isUserPrivilegedToRequest) {\n          cardsToDisplay.leftCardConfirm = cards.reactivate.request;\n          cardsToDisplay.rightCardConfirm = cards.archive.request;\n\n          cardsToDisplay.leftCardAction = service.requestReactivateProject(\n            approvalParams\n          );\n          cardsToDisplay.rightCardAction = service.requestArchiveProject(\n            approvalParams\n          );\n        }\n        break;\n\n      case PROJECT_STATUS_CODES.ARCHIVED:\n      case PROJECT_STATUS_CODES.ARCHIVING_PENDING_IN_PROGRESS:\n        approvalParams.approvalId = approvals.unarchiveApprovalId;\n\n        cardsToDisplay.leftCard = cards.unarchive.overview;\n        if (isUserPrivilegedToApprove) {\n          cardsToDisplay.leftCardConfirm = cards.unarchive.confirmation;\n          cardsToDisplay.leftCardAction = service.unarchiveProject;\n\n          cardsToDisplay.leftCardNextState =\n            PROJECT_STATUS_CODES.UNARCHIVING_PENDING_IN_PROGRESS;\n        } else if (isUserPrivilegedToRequest) {\n          cardsToDisplay.leftCardConfirm = cards.unarchive.request;\n          cardsToDisplay.leftCardAction = service.requestUnarchiveProject(\n            approvalParams\n          );\n\n          cardsToDisplay.leftCardNextState =\n            PROJECT_STATUS_CODES.UNARCHIVING_PENDING_NEEDS_APPROVAL;\n        }\n        break;\n\n      default:\n    }\n  }\n\n  return cardsToDisplay;\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport { chain as _chain } from 'lodash';\n\nconst checkIfUserHasRole = (user, role) => {\n  if (user && user.roles) {\n    return !_chain(user.roles)\n      .find(_role => _role.name === role)\n      .isEmpty()\n      .value();\n  }\n  return false;\n};\n\nexport const canUserApproveChange = user => {\n  if (!user) {\n    return false;\n  }\n\n  return (\n    checkIfUserHasRole(user, Constants.USER_ROLES.ENGAGEMENT_LEAD) ||\n    checkIfUserHasRole(user, Constants.USER_ROLES.ENGAGEMENT_MANAGER)\n  );\n};\n\nexport const canUserRequestChange = user => {\n  if (!user) {\n    return false;\n  }\n\n  return (\n    checkIfUserHasRole(user, Constants.USER_ROLES.APPROVER) ||\n    checkIfUserHasRole(user, Constants.USER_ROLES.TEAM_MEMBER) ||\n    checkIfUserHasRole(user, Constants.USER_ROLES.PROJECT_ADMIN)\n  );\n};\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\n\nconst WarningCard = ({\n  warning: { text, secondaryText, leftButton, rightButton },\n  onAccept,\n  onCancel\n}) => {\n  return (\n    <div className=\"project-state-change\">\n      <div className=\"project-state-change-warning\">\n        <div className=\"project-state-change-warning--body\">\n          <Icon className=\"fill icon-yellow\" width=\"24\" name=\"alert\" />\n          <div className=\"project-state-change-warning--text-container\">\n            <div\n              className=\"project-state-change-warning--text-area\"\n              data-testid=\"warning-card-text\"\n            >\n              {text}\n            </div>\n            <div\n              className=\"project-state-change-warning--text-area\"\n              data-testid=\"warning-card-secondary-text\"\n            >\n              {secondaryText}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"project-state-change--buttons\">\n        <Button\n          className=\"transparent-button\"\n          onClick={onCancel}\n          data-testid=\"warning-card-cancel-button\"\n        >\n          {leftButton}\n        </Button>\n        {rightButton && (\n          <Button data-testid=\"warning-card-approve-button\" onClick={onAccept}>\n            {rightButton}\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WarningCard;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport classnames from 'classnames';\nimport React from 'react';\n\nconst StateChangeCard = ({ flow, isDisabled, onAccept, onCancel }) => {\n  return (\n    <div className=\"project-state-change-card-container\" disabled={isDisabled}>\n      <div\n        className={classnames('state-change-card--header', {\n          'state-change-card--header__disabled': isDisabled\n        })}\n        data-testid=\"state-change-card-header\"\n        /* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */\n        tabIndex={0}\n      >\n        {flow.header}\n      </div>\n      <div className=\"state-change-card--text-container\">\n        <div\n          className={classnames('state-change-card--text-area', {\n            'state-change-card--text-area__disabled': isDisabled\n          })}\n          data-testid=\"state-change-card-text\"\n          /* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */\n          tabIndex={0}\n        >\n          {flow.text}\n        </div>\n        {flow.secondaryText && (\n          <div\n            className={classnames('state-change-card--text-area', {\n              'state-change-card--text-area__disabled': isDisabled\n            })}\n            data-testid=\"state-change-card-secondary-text\"\n            /* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */\n            tabIndex={0}\n          >\n            {flow.secondaryText}\n          </div>\n        )}\n      </div>\n      <div className=\"state-change-card--button-container\">\n        {flow.leftButton && (\n          <Button\n            className=\"ui-button button-link form-cancel-button\"\n            onClick={onCancel}\n            data-testid=\"state-change-card-cancel-button\"\n          >\n            {flow.leftButton}\n          </Button>\n        )}\n        <Button\n          disabled={isDisabled}\n          onClick={onAccept}\n          data-testid=\"state-change-card-approve-button\"\n        >\n          {flow.rightButton}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default StateChangeCard;\n","import { find as _find, isEmpty as _isEmpty } from 'lodash';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport './ProjectStateChangeCards.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getProjectStatus,\n  useProjectsStatuses\n} from '../../common/hooks/useProjectsStatuses';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport { getProject } from '../project/projectSlice';\nimport { getScenarioCards } from './ProjectStateChangeCardsTypes';\nimport * as service from './projectStatusChangeSlice';\nimport {\n  canUserApproveChange,\n  canUserRequestChange\n} from './ProjectUsersUtils';\nimport { isProjectInPendingState } from '../../common/helpers/projectStatusesUtils';\nimport { loadProjectsThunk } from '../projects/projectsSlice';\n\nimport WarningCard from './WarningCard';\nimport StateChangeCard from './StateChangeCard';\n\nconst ProjectStateChangeCards = ({ projectId }) => {\n  const dispatch = useDispatch();\n  const { users } = useSelector(getProject);\n  const approvals = useSelector(service.getProjectApprovalsChart(projectId));\n  const projectsStates = useProjectsStatuses();\n  const projectStatus = getProjectStatus(projectsStates, projectId);\n  const isPendingState = isProjectInPendingState(projectStatus);\n\n  const userEmail = authorizationService.getEmail();\n  const [isLeftCardClicked, setIsLeftCardClicked] = useState(false);\n  const [isRightCardClicked, setIsRightCardClicked] = useState(false);\n  const user = _find(users, _user => _user.email === userEmail);\n\n  const isUserPrivilegedToApprove = canUserApproveChange(user);\n  const isUserPrivilegedToRequest = canUserRequestChange(user);\n\n  const cards = getScenarioCards(\n    userEmail,\n    projectId,\n    projectStatus,\n    approvals,\n    isUserPrivilegedToApprove,\n    isUserPrivilegedToRequest\n  );\n\n  useEffect(() => {\n    if (userEmail) {\n      dispatch(service.fetchProjectApprovals({ projectId, userId: userEmail }));\n    }\n  }, [dispatch, projectId, userEmail]);\n\n  const refetchProjectsAndApprovals = useCallback(() => {\n    dispatch(loadProjectsThunk());\n    dispatch(service.fetchProjectApprovals({ projectId, userId: userEmail }));\n  }, [dispatch, projectId, userEmail]);\n\n  const handleOnLeftCardClick = useCallback(async () => {\n    if (!isLeftCardClicked) {\n      setIsLeftCardClicked(true);\n    } else {\n      await cards.leftCardAction();\n      refetchProjectsAndApprovals();\n      setIsLeftCardClicked(false);\n    }\n  }, [cards, isLeftCardClicked, refetchProjectsAndApprovals]);\n\n  const handleOnRightCardClick = useCallback(async () => {\n    if (!isRightCardClicked) {\n      setIsRightCardClicked(true);\n    } else {\n      await cards.rightCardAction();\n      refetchProjectsAndApprovals();\n      setIsLeftCardClicked(false);\n    }\n  }, [cards, isRightCardClicked, refetchProjectsAndApprovals]);\n\n  const handleOnCancelClick = () => {\n    setIsLeftCardClicked(false);\n    setIsRightCardClicked(false);\n  };\n\n  const handleOnApprove = async () => {\n    await cards.warningCardApproveAction();\n    refetchProjectsAndApprovals();\n  };\n\n  const handleOnDecline = async () => {\n    await cards.warningCardCancelAction();\n    refetchProjectsAndApprovals();\n  };\n\n  if (_isEmpty(projectsStates)) {\n    return null;\n  }\n\n  /*\n   * Since Archiving is not yet finished on backend side, right card is disabled\n   */\n  const rightCardEnabled = false;\n\n  return (\n    <>\n      {(cards.leftCard || cards.rightCard) && (\n        <div className=\"project-state-change-cards\">\n          {cards.leftCard && (\n            <StateChangeCard\n              onAccept={handleOnLeftCardClick}\n              onCancel={handleOnCancelClick}\n              flow={!isLeftCardClicked ? cards.leftCard : cards.leftCardConfirm}\n              isDisabled={isPendingState || isRightCardClicked}\n            />\n          )}\n\n          {rightCardEnabled && cards.rightCard && (\n            <StateChangeCard\n              onAccept={handleOnRightCardClick}\n              onCancel={handleOnCancelClick}\n              flow={\n                !isRightCardClicked ? cards.rightCard : cards.rightCardConfirm\n              }\n              isDisabled={isPendingState || isLeftCardClicked}\n            />\n          )}\n        </div>\n      )}\n      {cards.warningCard && (\n        <WarningCard\n          warning={cards.warningCard}\n          onAccept={handleOnApprove}\n          onCancel={handleOnDecline}\n        />\n      )}\n    </>\n  );\n};\n\nProjectStateChangeCards.propTypes = {\n  projectId: PropTypes.number.isRequired\n};\n\nexport default ProjectStateChangeCards;\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport {\n  getProjectStatus,\n  useProjectsStatuses\n} from '../../common/hooks/useProjectsStatuses';\nimport ProjectLoader from '../projects/ProjectLoader';\nimport ProjectStatePill from '../projectStatePill/ProjectStatePill';\nimport ProjectStateChangeCards from '../projectStateChangeCards/ProjectStateChangeCards';\nimport {\n  isProjectInPendingState,\n  isProjectActive\n} from '../../common/helpers/projectStatusesUtils';\n\nconst description =\n  'You can request to change the status of the project here. Any changes ' +\n  ' of the project will apply for all users.';\nconst projectStatusHeader = 'Current status';\nconst projectStatusDisabledDescription =\n  'Editing functionality is disabled and all users (PwC and client) has read-only access.';\nconst projectStatusEnabledDescription =\n  'Editing functionality is enabled and all users (PwC and client) have permissions based on their role in Junction.';\nconst resetLink = 'Reset Archive countdown';\n\nconst ResetLink = ({ onResetCountdown, isSpinnerVisible, isLinkVisible }) => {\n  const refreshIconSize = 24;\n  return (\n    <div className=\"reset-link-container\">\n      {isSpinnerVisible && <ProjectLoader />}\n      {isLinkVisible && (\n        <>\n          <Icon\n            name=\"refresh\"\n            className=\"fill icon-orange\"\n            width={refreshIconSize}\n            height={refreshIconSize}\n          />\n          <button\n            type=\"button\"\n            data-testid=\"reset-link\"\n            className=\"reset-link\"\n            onClick={onResetCountdown}\n          >\n            {resetLink}\n          </button>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst ProjectStatus = ({ projectId }) => {\n  const projectsStates = useProjectsStatuses();\n  const projectState = getProjectStatus(projectsStates, projectId);\n\n  return (\n    <>\n      <div className=\"settings-description\">{description}</div>\n      <div className=\"separator\" />\n      <div className=\"project-settings-form-container\">\n        <div className=\"project-current-status-container\">\n          <span data-testid=\"status-header\">{projectStatusHeader}</span>\n          <div className=\"status-container\">\n            <ProjectStatePill projectId={projectId} showPendingStatus />\n            <ResetLink\n              onResetCountdown={() => {}}\n              isSpinnerVisible={isProjectInPendingState(projectState)}\n              isLinkVisible={false}\n            />\n          </div>\n          <span className=\"description\" data-testid=\"project-status\">\n            {isProjectActive(projectState)\n              ? projectStatusEnabledDescription\n              : projectStatusDisabledDescription}\n          </span>\n          <ProjectStateChangeCards projectId={projectId} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ProjectStatus;\n","import React from 'react';\nimport { Icon, Toggle } from '@pwc/pwc-deals-ui';\nimport './ProjectRoleUserPill.scss';\nimport authorizationService from '../../services/security/authorizationService';\n\nexport const ProjectRoleUserPill = ({\n  user,\n  showEmail,\n  onClearClick,\n  onTogglePending = undefined\n}) => {\n  const userTypeClass = authorizationService.getUserTypeClass(user.email);\n  const withToggleCLass = onTogglePending ? 'with-toggle' : '';\n  const pendingClass = user.wasPending || user.newlyAdded ? 'pending' : '';\n  const pendingApprovedClass =\n    user.wasPending && !user.pendingApproval ? 'pending-approved' : '';\n  const pendingApprovalClass = user.pendingApproval ? 'pending-approval' : '';\n  const iconColorClass =\n    userTypeClass === 'pwc-user' && !pendingClass ? 'icon-white' : 'icon-black';\n  return (\n    <div\n      className={`project-role-user-pill ${userTypeClass} ${pendingClass} ${withToggleCLass} ${pendingApprovalClass} ${pendingApprovedClass}`}\n      data-testid={`project-role-user-pill-${user.pillId}`}\n    >\n      <Icon\n        name={user.pendingApproval ? 'clock' : 'avatar'}\n        height={16}\n        className={`fill ${iconColorClass}`}\n      />\n      {onTogglePending ? (\n        <Toggle\n          checked={!user.pendingApproval}\n          onClick={onTogglePending}\n          name={`project-role-user-pill-toggle-${user.pillId}`}\n          dataTestId={`project-role-user-pill-toggle-${user.pillId}`}\n        />\n      ) : null}\n      <span className=\"pill-text\">\n        {`${user.firstName} ${user.lastName}${\n          showEmail ? ` / ${user.email}` : ''\n        }`}\n      </span>\n      <button\n        type=\"button\"\n        onClick={onClearClick}\n        data-testid={`project-role-user-pill-x-${user.pillId}`}\n      >\n        <Icon\n          name=\"close\"\n          className={`fill ${iconColorClass}`}\n          height={11}\n          data-testid=\"close-icon\"\n        />\n      </button>\n    </div>\n  );\n};\n\nexport default ProjectRoleUserPill;\n","import { ProjectManagementHttpClient } from './httpClient';\n\nconst url = 'userValidation/search';\n\nconst getUserSearchServiceConfig = () => {\n  return {\n    timeoutSeconds: process.env.SEARCH_USER_API_SEARCH_TIMEOUT_IN_SECONDS || 30\n  };\n};\n\nexport const userSearchService = (role, maxResultCount) => {\n  let userSearchServiceCancelToken;\n\n  return async searchText => {\n    if (typeof userSearchServiceCancelToken !== typeof undefined) {\n      userSearchServiceCancelToken.cancel('tokenCanceled');\n    }\n\n    const config = getUserSearchServiceConfig();\n    const resultsFromServer = await ProjectManagementHttpClient().get(\n      url,\n      {\n        searchText,\n        role,\n        maxResultCount,\n        timeoutSeconds: config.timeoutSeconds\n      },\n      false,\n      cancelToken => {\n        userSearchServiceCancelToken = cancelToken;\n      }\n    );\n\n    return resultsFromServer.data;\n  };\n};\n","/* eslint-disable no-bitwise */\nimport React, { useCallback, useState } from 'react';\nimport { cond, constant, stubTrue } from 'lodash';\nimport { TextInput, Button, Loader, Icon } from '@pwc/pwc-deals-ui';\nimport { useUserSearch } from '../../hooks/useUserSearch';\nimport { useClickedOutsideOfRef } from '../../hooks/useClickedOutsideOfRef';\nimport './UserSearchSelect.scss';\n\nconst nameIsLongEnough = (name, startSearchingLength) =>\n  (name || '').trim().length >= startSearchingLength;\n\nconst hasAvailableUsers = availableUsers =>\n  !availableUsers || availableUsers.length === 0;\n\nconst renderLoadingIndicator = constant(\n  <div className=\"user-search-select-loading\">\n    <Loader dataTestId=\"user-search-select-loading\" />\n  </div>\n);\n\nconst renderErrorMessage = constant(\n  <div className=\"user-search-select-error\">\n    <span>\n      <Icon name=\"alert\" className=\"fill icon-yellow\" />\n      We are currently unable to search for users.\n    </span>\n  </div>\n);\n\nconst renderNotEnouchCharactersMessage = constant(\n  <div className=\"user-search-select-no-results\">\n    <span>Enter More Characters To Search</span>\n  </div>\n);\n\nconst renderNoMatchingUsersFoundMessage = constant(\n  <div className=\"user-search-select-no-results\">\n    <span>No Matching Users Found</span>\n  </div>\n);\n\nconst renderUsersList = (availableUsers, selectUser) => () => (\n  <div className=\"user-search-select-list\">\n    <ul>\n      {availableUsers.map(user => (\n        <li key={user.email}>\n          <Button\n            data-testid=\"user-search-select-add-user-button\"\n            onClick={() => selectUser(user)}\n            type=\"button\"\n          >\n            {`${user.firstName} ${user.lastName} (${user.email})`}\n          </Button>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nconst getUserSelectConfig = () => {\n  return {\n    maxResultCount: process.env.SEARCH_USER_MAX_RESULT_COUNT || 10,\n    debounceTime: process.env.SEARCH_USER_DELAY_BEFORE_SEND_SEARCH || 250,\n    startSearchingLength:\n      process.env.SEARCH_USER_MIN_CHARACTERS_TO_SEND_SEARCH || 3\n  };\n};\n\nexport const UserSearchSelect = ({\n  role,\n  onUserSelected,\n  unavailableUsers\n}) => {\n  const [name, setName] = useState('');\n\n  const roleIdPart = role\n    .split(' ')\n    .join('-')\n    .toLowerCase();\n\n  const config = getUserSelectConfig();\n\n  const {\n    usersFound,\n    searchUsers,\n    clearUsers,\n    isLoading,\n    hasError\n  } = useUserSearch(\n    role,\n    config.maxResultCount,\n    config.debounceTime,\n    config.startSearchingLength\n  );\n\n  const availableUsers = !usersFound\n    ? []\n    : usersFound.filter(\n        user => !unavailableUsers.some(unUser => unUser.email === user.email)\n      );\n\n  const handleTextChange = useCallback(\n    event => {\n      const text = event.target.value;\n      setName(text);\n      searchUsers(text);\n    },\n    [searchUsers]\n  );\n\n  const resetSearch = () => {\n    setName('');\n    clearUsers();\n  };\n\n  const selectUser = user => {\n    onUserSelected({ ...user, role });\n    resetSearch();\n  };\n\n  const ref = useClickedOutsideOfRef(\n    wasClickedOutside => wasClickedOutside && resetSearch()\n  );\n\n  const renderPopup = cond([\n    [() => !name, constant(null)],\n    [() => isLoading, renderLoadingIndicator],\n    [() => hasError, renderErrorMessage],\n    [\n      () =>\n        hasAvailableUsers(availableUsers) &&\n        nameIsLongEnough(name, config.startSearchingLength),\n      renderNoMatchingUsersFoundMessage\n    ],\n    [() => hasAvailableUsers(availableUsers), renderNotEnouchCharactersMessage],\n    [stubTrue, renderUsersList(availableUsers, selectUser)]\n  ]);\n\n  return (\n    <div className=\"user-search-select\" ref={ref}>\n      <TextInput\n        basic\n        data-testid={`user-search-select-input-${roleIdPart}`}\n        field={{\n          name: `user-search-select-input-${roleIdPart}`,\n          value: name || '',\n          onChange: handleTextChange\n        }}\n        type=\"text\"\n        autoComplete=\"off\"\n        iconLeft=\"search\"\n        placeholder=\"Name\"\n        className={name ? 'has-value' : ''}\n      />\n      {renderPopup()}\n    </div>\n  );\n};\nexport default UserSearchSelect;\n","import { debounce } from 'lodash';\nimport { useCallback, useRef, useState } from 'react';\nimport { userSearchService } from '../services/userSearchService';\n\nexport const useUserSearch = (\n  role,\n  maxResultCount = 10,\n  debounceTime = 250,\n  startSearchingLength = 3\n) => {\n  const [usersFound, setUsersFound] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [lastSearch, setLastSearch] = useState('');\n  const lastSearchRef = useRef(lastSearch);\n  lastSearchRef.current = lastSearch;\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const searchUsers = useCallback(userSearchService(role, maxResultCount), [\n    role,\n    maxResultCount\n  ]);\n\n  const debouncedSearchUsers = debounce(async (searchText = '') => {\n    setLastSearch(searchText);\n    setIsLoading(true);\n    setHasError(false);\n    if (searchText.trim().length < startSearchingLength) {\n      if (lastSearchRef.current === searchText) {\n        setUsersFound([]);\n        setIsLoading(false);\n      }\n      return;\n    }\n\n    let users = [];\n    try {\n      users = await searchUsers(searchText);\n    } catch (e) {\n      if (e.message !== 'tokenCanceled') setHasError(true);\n    }\n    if (lastSearchRef.current === searchText) {\n      setIsLoading(false);\n      setUsersFound(users);\n    }\n  }, debounceTime);\n\n  const clearUsers = () => {\n    setUsersFound([]);\n    setIsLoading(false);\n    setHasError(false);\n  };\n\n  return {\n    usersFound,\n    searchUsers: debouncedSearchUsers,\n    clearUsers,\n    isLoading,\n    hasError\n  };\n};\n","import React, { useCallback } from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { FieldArray, useFormikContext } from 'formik';\nimport './ProjectRoleUsersField.scss';\nimport { ProjectRoleUserPill } from '../Pills/ProjectRoleUserPill';\nimport { UserSearchSelect } from '../UserSearchSelect/UserSearchSelect';\n\nexport const userPillId = user =>\n  `${user.role\n    .toLowerCase()\n    .split(' ')\n    .join('-')}-${user.email\n    .toLowerCase()\n    .split(/[\\s,@.]+/)\n    .join('-')}`;\n\nexport const ProjectRoleUsersField = ({\n  title,\n  description,\n  role,\n  validateNotAlreadyIn = Constants.USER_ROLES_LIST,\n  allowMany = false,\n  showEmail = false,\n  allowRemoving = true,\n  allowAdding = true,\n  addAsPending = false,\n  allowApprovePending = false\n}) => {\n  const { values } = useFormikContext();\n\n  const handleUserSubmit = arrayHelpers => user =>\n    arrayHelpers.push({\n      ...user,\n      pillId: userPillId(user),\n      pendingApproval: addAsPending,\n      newlyAdded: true\n    });\n\n  const handleRemoval = useCallback(\n    (arrayHelpers, index) =>\n      allowRemoving\n        ? () => {\n            arrayHelpers.remove(index);\n          }\n        : undefined,\n    [allowRemoving]\n  );\n\n  const handleTogglePending = useCallback(\n    (arrayHelpers, user, index) =>\n      user.wasPending\n        ? () => {\n            arrayHelpers.replace(index, {\n              ...user,\n              pendingApproval: !user.pendingApproval\n            });\n          }\n        : undefined,\n    []\n  );\n\n  const showTextInput =\n    allowAdding && (!(values[role] || []).length || allowMany);\n\n  const roleIdPart = role\n    .split(' ')\n    .join('-')\n    .toLowerCase();\n\n  const usersAndIndex = values[role].map((user, index) => ({ user, index }));\n  const approvedUsers = usersAndIndex.filter(\n    ({ user }) => !user.pendingApproval\n  );\n  const pendingUsers = usersAndIndex.filter(({ user }) => user.pendingApproval);\n  const unavailableUsers = validateNotAlreadyIn.map(key => values[key]).flat();\n\n  const allowsManyClass =\n    usersAndIndex.length && allowMany ? 'allows-many' : '';\n  const hasUsersClass = usersAndIndex.length ? 'has-users' : '';\n  return (\n    <FieldArray\n      name={role}\n      render={arrayHelpers => (\n        <div\n          className={`project-role-user-field ${allowsManyClass} ${hasUsersClass}`}\n          data-testid={`project-user-role-${roleIdPart}`}\n        >\n          <div className=\"project-user-description-cell\">\n            <h4 data-testid={`project-user-role-title-${roleIdPart}`}>\n              {title}\n            </h4>\n            <span data-testid={`project-user-role-description-${roleIdPart}`}>\n              {description}\n            </span>\n          </div>\n          {showTextInput ? (\n            <UserSearchSelect\n              role={role}\n              onUserSelected={handleUserSubmit(arrayHelpers)}\n              unavailableUsers={unavailableUsers}\n            />\n          ) : null}\n          {approvedUsers.length ? (\n            <div className=\"project-user-pill-container\">\n              {approvedUsers.map(({ user, index }) => (\n                <ProjectRoleUserPill\n                  key={user.pillId}\n                  user={user}\n                  showEmail={showEmail}\n                  onClearClick={handleRemoval(arrayHelpers, index)}\n                  onTogglePending={\n                    allowApprovePending\n                      ? handleTogglePending(arrayHelpers, user, index)\n                      : undefined\n                  }\n                />\n              ))}\n            </div>\n          ) : null}\n          {pendingUsers.length ? (\n            <>\n              <h4 className=\"project-user-pill-label\">Pending approval</h4>\n              <div className=\"project-user-pill-container pending\">\n                {pendingUsers.map(({ user, index }) => (\n                  <ProjectRoleUserPill\n                    key={user.pillId}\n                    user={user}\n                    showEmail={showEmail}\n                    onClearClick={handleRemoval(arrayHelpers, index)}\n                    onTogglePending={\n                      allowApprovePending\n                        ? handleTogglePending(arrayHelpers, user, index)\n                        : undefined\n                    }\n                  />\n                ))}\n              </div>\n            </>\n          ) : null}\n        </div>\n      )}\n    />\n  );\n};\n","import React from 'react';\n\nconst FormBottomActionsContainer = ({ children }) => (\n  <div className=\"form-bottom-actions\">{children}</div>\n);\n\nexport default FormBottomActionsContainer;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\n\nconst CancelButtonLink = ({ dataTestId, ...rest }) => {\n  return (\n    <Button\n      className=\"button-link form-cancel-button\"\n      data-testid={dataTestId || 'cancel-button-bottom'}\n      type=\"button\"\n      {...rest}\n    >\n      Cancel\n    </Button>\n  );\n};\n\nexport default CancelButtonLink;\n","import React, { Fragment } from 'react';\nimport { Form, Formik } from 'formik';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport Separator from '../../common/components/Separator';\nimport {\n  ProjectRoleUsersField,\n  userPillId\n} from '../../common/components/ProjectRoleUsersField/ProjectRoleUsersField';\nimport FormBottomActionsContainer from '../project/CreateProject/common/components/FormBottomActionsContainer';\nimport CancelButtonLink from '../project/CreateProject/common/components/CancelButtonLink';\nimport PublishButton from '../../common/components/PublishButton';\nimport D3Alert from '../../common/components/Alert/D3Alert';\nimport './UserEditSettings.scss';\n\nconst getDefaultInitialValues = () =>\n  Constants.USER_ROLES_LIST.reduce(\n    (init, role) => ({\n      ...(init || {}),\n      [role]: []\n    }),\n    {}\n  );\n\nexport const getInitialState = (existingUsers = []) =>\n  existingUsers\n    .map(user => ({\n      ...user,\n      role: user.roles[0].name,\n      pendingApproval: user.roles[0].pendingApproval,\n      wasPending: user.roles[0].pendingApproval\n    }))\n    .map(user => ({ ...user, pillId: userPillId(user) }))\n    .reduce(\n      (vals, user) => ({\n        ...vals,\n        [user.role]: [...(vals[user.role] || []), user]\n      }),\n      getDefaultInitialValues()\n    );\n\nconst UserEditSettings = ({\n  initialValues = {},\n  fieldConfigs = [],\n  onSubmit,\n  submitButtonText = 'Save',\n  onCancel,\n  children,\n  isSaving,\n  hasError,\n  isDirty\n}) => {\n  const flattenValuesWrapper = fn => values => {\n    const formattedValues = Constants.USER_ROLES_LIST.map(\n      role => values[role]\n    ).flat();\n    return fn(formattedValues);\n  };\n\n  const checkIsValid = values => {\n    const requiredConfigs = fieldConfigs.filter(fc => fc.required);\n    const isValid = requiredConfigs.every(({ role, allowMany }) =>\n      allowMany\n        ? (values[role] || []).length > 0\n        : (values[role] || []).length === 1\n    );\n    return isValid;\n  };\n\n  return (\n    <div className=\"project-user-form\">\n      <div className=\"project-user-add-header\">{children}</div>\n      <div className=\"project-user-grid-headings\">\n        <span>Role</span>\n        <span>\n          {fieldConfigs.some(fc => fc.showEmail)\n            ? 'Name / Email address'\n            : 'Name'}\n        </span>\n      </div>\n      <Separator />\n      <Formik {...{ initialValues, onSubmit: flattenValuesWrapper(onSubmit) }}>\n        {({ dirty, values, resetForm }) => {\n          return (\n            <Form>\n              {fieldConfigs.map(fieldConfig => (\n                <Fragment key={fieldConfig.role}>\n                  <ProjectRoleUsersField {...fieldConfig} />\n                  <Separator />\n                </Fragment>\n              ))}\n              <FormBottomActionsContainer>\n                {onCancel && (\n                  <CancelButtonLink onClick={() => onCancel(resetForm)} />\n                )}\n                {onSubmit && (\n                  <PublishButton\n                    isValid={checkIsValid(values)}\n                    isSaving={isSaving}\n                    dirty={isDirty === undefined ? dirty : isDirty}\n                    buttonSize=\"sm\"\n                    standbyText={\n                      typeof submitButtonText === 'string'\n                        ? submitButtonText\n                        : flattenValuesWrapper(submitButtonText)(values)\n                    }\n                    buttonPosition=\"project-user-details\"\n                  />\n                )}\n              </FormBottomActionsContainer>\n              {hasError && (\n                <div>\n                  <br />\n                  <D3Alert />\n                </div>\n              )}\n            </Form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n};\nexport default UserEditSettings;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { updateProjectUsers } from '../../common/services/projectService';\nimport { getProject, loadProjectThunk } from '../project/projectSlice';\nimport UserEditSettings, { getInitialState } from './UserEditSettings';\n\nconst ClientSettings = () => {\n  const project = useSelector(getProject);\n  const dispatch = useDispatch();\n  const [initialValues, setInitialValues] = useState(null);\n  const [initialValuesSet, setInitialValuesSet] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    if (!initialValuesSet) {\n      if (project.users) {\n        setInitialValues(getInitialState(project.users));\n\n        setInitialValuesSet(true);\n      } else {\n        setInitialValues(getInitialState());\n      }\n    }\n  }, [project, setInitialValues, initialValuesSet, setInitialValuesSet]);\n\n  const fieldConfigs = [\n    {\n      role: Constants.USER_ROLES.CLIENT_ADMIN,\n      title: Constants.USER_ROLES.CLIENT_ADMIN,\n      description: `View approved content, add comments or assign client team members.`,\n      showEmail: true,\n      allowMany: true,\n      allowApprovePending: true\n    },\n    {\n      role: Constants.USER_ROLES.CLIENT_TEAM_MEMBER,\n      title: Constants.USER_ROLES.CLIENT_TEAM_MEMBER,\n      description: `View approved content or add comments.`,\n      showEmail: true,\n      allowMany: true,\n      allowApprovePending: true\n    }\n  ];\n\n  const onSubmit = async formattedValues => {\n    setIsSaving(true);\n    try {\n      setHasError(false);\n\n      await updateProjectUsers(project.id, formattedValues);\n\n      await dispatch(loadProjectThunk(project.id));\n      setIsSaving(false);\n      setInitialValuesSet(false);\n    } catch (e) {\n      setIsSaving(false);\n      setHasError(true);\n    }\n  };\n\n  const onCancel = resetForm => resetForm();\n  return (\n    initialValuesSet && (\n      <UserEditSettings\n        initialValues={initialValues}\n        fieldConfigs={fieldConfigs}\n        onSubmit={onSubmit}\n        onCancel={onCancel}\n        submitButtonText=\"Save\"\n        isSaving={isSaving}\n        hasError={hasError}\n      >\n        <div data-testid=\"clientSettings\">\n          <p>\n            Client details need to be added to the PwC Identity Group and User\n            Management Database before they can be invited to a project. Once\n            they&apos;re on the database, enter their name or email address\n            below. Once you&apos;re done, click &lsquo;Save&rsquo;.\n          </p>\n        </div>\n      </UserEditSettings>\n    )\n  );\n};\nexport default ClientSettings;\n","import React, { useEffect, useState } from 'react';\nimport {\n  Constants,\n  EnvironmentVariableUtilities\n} from '@pwc/pwc-deals-web-common';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProject, loadProjectThunk } from '../project/projectSlice';\nimport { updateProjectUsers } from '../../common/services/projectService';\nimport UserEditSettings, { getInitialState } from './UserEditSettings';\n\nconst PwCTeamSettings = () => {\n  const project = useSelector(getProject);\n  const dispatch = useDispatch();\n  const [initialValues, setInitialValues] = useState(null);\n  const [initialValuesSet, setInitialValuesSet] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    if (!initialValuesSet) {\n      if (project.users) {\n        setInitialValues(getInitialState(project.users));\n        setInitialValuesSet(true);\n      } else {\n        setInitialValues(getInitialState());\n      }\n    }\n  }, [project, setInitialValues, initialValuesSet, setInitialValuesSet]);\n\n  const fieldConfigs = [\n    {\n      role: Constants.USER_ROLES.ENGAGEMENT_LEAD,\n      title: Constants.USER_ROLES.ENGAGEMENT_LEAD,\n      description: `Full access. This is available for Partner and Managing Director level only.`,\n      required: true\n    },\n    {\n      role: Constants.USER_ROLES.ENGAGEMENT_MANAGER,\n      title: Constants.USER_ROLES.ENGAGEMENT_MANAGER,\n      description: `Full access to ${EnvironmentVariableUtilities.platformName}.`,\n      required: true\n    },\n    {\n      role: Constants.USER_ROLES.PROJECT_ADMIN,\n      title: Constants.USER_ROLES.PROJECT_ADMIN,\n      description: `Full access.`,\n      allowMany: true\n    },\n    {\n      role: Constants.USER_ROLES.APPROVER,\n      title: Constants.USER_ROLES.APPROVER,\n      description: `Unable to edit users on ${EnvironmentVariableUtilities.platformName}.`,\n      allowMany: true\n    },\n    {\n      role: Constants.USER_ROLES.TEAM_MEMBER,\n      title: Constants.USER_ROLES.TEAM_MEMBER,\n      description: `Unable to edit users or approve content.`,\n      allowMany: true\n    },\n    {\n      role: Constants.USER_ROLES.PWC_READONLY,\n      title: Constants.USER_ROLES.PWC_READONLY_DISPLAY,\n      description: `Unable to contribute, share, approve, comment, and edit users on ${EnvironmentVariableUtilities.platformName}.`,\n      allowMany: true\n    }\n  ];\n\n  const onSubmit = async newValues => {\n    setIsSaving(true);\n    try {\n      setHasError(false);\n      await updateProjectUsers(project.id, newValues);\n      await dispatch(loadProjectThunk(project.id));\n      setIsSaving(false);\n      setInitialValuesSet(false);\n    } catch (e) {\n      setIsSaving(false);\n      setHasError(true);\n    }\n  };\n\n  const onCancel = resetForm => resetForm();\n  return (\n    initialValuesSet && (\n      <UserEditSettings\n        initialValues={initialValues}\n        fieldConfigs={fieldConfigs}\n        onSubmit={onSubmit}\n        onCancel={onCancel}\n        submitButtonText=\"Save\"\n        isSaving={isSaving}\n        hasError={hasError}\n      >\n        <div data-testid=\"pwcTeamSettings\">\n          <h3>Search for PwC team members to invite to the project.</h3>\n          <p>\n            If you can&apos;t find a team member, please send an email to{' '}\n            <a href=\"mailto:deals-support@pwc.com\" className=\"orange-link\">\n              deals-support@pwc.com\n            </a>\n            {'. '}\n            Please include the full name and the role you&apos;d like to add.\n          </p>\n        </div>\n      </UserEditSettings>\n    )\n  );\n};\nexport default PwCTeamSettings;\n","import { createSlice } from '@reduxjs/toolkit';\nimport get from 'lodash/get';\n\nexport const initialState = {};\n\nconst userNotificationSettingsSlice = createSlice({\n  name: 'userNotificationSettings',\n  initialState,\n  reducers: {\n    setUserNotificationSettingsAction: (state, action) => {\n      return {\n        ...state,\n        [action.payload.projectId]: {\n          settings: action.payload.settings,\n          loading: false,\n          saveError: false\n        }\n      };\n    },\n    setUserNotificationSettingsIsLoadingAction: (state, action) => {\n      return {\n        ...state,\n        [action.payload.projectId]: {\n          ...(state[action.payload.projectId] || {}),\n          loading: true,\n          saveError: false\n        }\n      };\n    },\n    setSaveErrorUserNotificationSettingsAction: (state, action) => {\n      return {\n        ...state,\n        [action.payload.projectId]: {\n          ...(state[action.payload.projectId] || {}),\n          loading: false,\n          saveError: true\n        }\n      };\n    }\n  }\n});\n\n// Actions\nconst {\n  setUserNotificationSettingsAction,\n  setUserNotificationSettingsIsLoadingAction,\n  setSaveErrorUserNotificationSettingsAction\n} = userNotificationSettingsSlice.actions;\n\nexport const setUserNotificationSettings = (projectId, settings) =>\n  setUserNotificationSettingsAction({ projectId, settings });\n\nexport const setUserNotificationSettingsIsLoading = projectId =>\n  setUserNotificationSettingsIsLoadingAction({ projectId });\n\nexport const setSaveErrorUserNotificationSettings = projectId =>\n  setSaveErrorUserNotificationSettingsAction({ projectId });\n\n// Selectors\nexport const getUserNotificationSettingsSelector = projectId => state => {\n  return (\n    state.userNotificationSettings[projectId] || {\n      loading: false,\n      saveError: false,\n      settings: { receiveEmails: false }\n    }\n  );\n};\n\nexport const getSaveErrorUserNotificationSettingsSelector = projectId => state =>\n  get(state, ['userNotificationSettings', projectId, 'saveError'], false);\n\nexport default userNotificationSettingsSlice.reducer;\n","import { ProjectHttpClient } from './httpClient';\n\nexport const serviceUrl = (_strings, projectId) =>\n  `projects/${projectId}/userNotificationSettings`;\n\nexport const getUserNotificationSettings = projectId =>\n  ProjectHttpClient.get(serviceUrl`${projectId}`);\n\nexport const saveUserNotificationSettings = (projectId, receiveEmails) =>\n  ProjectHttpClient.post(serviceUrl`${projectId}`, { receiveEmails });\n","import {\n  getUserNotificationSettings,\n  saveUserNotificationSettings\n} from '../../services/userNotificationSettingsService';\nimport {\n  getUserNotificationSettingsSelector,\n  setSaveErrorUserNotificationSettings,\n  setUserNotificationSettings,\n  setUserNotificationSettingsIsLoading\n} from './userNotificationSettingsSlice';\n\nexport const loadUserNotificationSettingsThunk = projectId => async dispatch => {\n  const response = await getUserNotificationSettings(projectId);\n  if (response) {\n    dispatch(setUserNotificationSettings(projectId, response.data));\n  }\n};\n\nexport const saveUserNotificationSettingsThunk = (\n  projectId,\n  receiveEmails\n) => async (dispatch, getState) => {\n  const currentUserNotificationSettings = getUserNotificationSettingsSelector(\n    projectId\n  )(getState());\n  if (\n    !currentUserNotificationSettings.loading &&\n    !!currentUserNotificationSettings.settings.receiveEmails !== receiveEmails\n  ) {\n    dispatch(setUserNotificationSettingsIsLoading(projectId));\n    try {\n      await saveUserNotificationSettings(projectId, receiveEmails);\n    } catch (_error) {\n      dispatch(setSaveErrorUserNotificationSettings(projectId));\n      return;\n    }\n    dispatch(loadUserNotificationSettingsThunk(projectId));\n  }\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Form, Formik, Field } from 'formik';\nimport { Alert } from 'react-bootstrap';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport Separator from '../../common/components/Separator';\nimport PublishButton from '../../common/components/PublishButton';\nimport RadioGroupFieldset from '../../common/components/RadioGroup/RadioGroupFieldset';\nimport { getProjectId } from '../project/projectSlice';\nimport {\n  getSaveErrorUserNotificationSettingsSelector,\n  getUserNotificationSettingsSelector\n} from '../../common/redux/userNotificationSettings/userNotificationSettingsSlice';\nimport {\n  loadUserNotificationSettingsThunk,\n  saveUserNotificationSettingsThunk\n} from '../../common/redux/userNotificationSettings/userNotificationSettingsThunk';\n\nexport const allowEmailNotificationsOptions = [\n  { label: 'Yes', value: '1' },\n  { label: 'No', value: '0' }\n];\n\nconst NotificationSettings = () => {\n  const [isSaving, setIsSaving] = useState(false);\n  const projectId = useSelector(getProjectId);\n  const userNotificationSettings = useSelector(\n    getUserNotificationSettingsSelector(projectId)\n  );\n  const saveErrorUserNotificationSettings = useSelector(\n    getSaveErrorUserNotificationSettingsSelector(projectId)\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(loadUserNotificationSettingsThunk(projectId));\n  }, [dispatch, projectId]);\n\n  const handleSubmit = useCallback(\n    newSettings => {\n      const receiveEmails = !!parseInt(newSettings.receiveEmails, 10);\n      setIsSaving(true);\n      dispatch(saveUserNotificationSettingsThunk(projectId, receiveEmails));\n      setIsSaving(false);\n    },\n    [dispatch, projectId]\n  );\n\n  const initialValues = {\n    ...userNotificationSettings.settings,\n    receiveEmails: userNotificationSettings.settings.receiveEmails ? '1' : '0'\n  };\n  return (\n    <div className=\"settings-container\" data-testid=\"notification-settings\">\n      <Formik\n        initialValues={initialValues}\n        enableReinitialize\n        onSubmit={handleSubmit}\n      >\n        {({ isValid, dirty, resetForm }) => (\n          <Form\n            data-testid=\"notification-settings-form\"\n            className=\"notification-settings-form-container\"\n          >\n            <div className=\"form-fields\">\n              <Field\n                name=\"receiveEmails\"\n                component={RadioGroupFieldset}\n                options={allowEmailNotificationsOptions}\n                direction=\"row\"\n                label=\"Would you like to receive email notifications?\"\n              />\n            </div>\n\n            <Separator />\n\n            {saveErrorUserNotificationSettings && (\n              <Alert variant=\"danger\" data-testid=\"error-message\">\n                An error occurred while saving settings\n              </Alert>\n            )}\n            <div className=\"form-bottom-actions\">\n              <Button\n                className=\"button-link form-cancel-button\"\n                onClick={() => resetForm()}\n                type=\"button\"\n                data-testid=\"cancel-button-bottom\"\n              >\n                Cancel\n              </Button>\n              <PublishButton\n                isSaving={isSaving}\n                isValid={isValid && dirty}\n                buttonSize=\"sm\"\n                onSaveText=\"Saving...\"\n                standbyText=\"Save\"\n                buttonPosition=\"bottom\"\n              />\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default NotificationSettings;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport EnableForProjectState from '../security/EnableForProjectState';\nimport {\n  getProjectDisclaimerSelector,\n  loadProjectDisclaimerThunk,\n  updateProjectDisclaimerThunk\n} from './projectDisclaimerSlice';\nimport './ProjectDisclaimerSettings.scss';\nimport Separator from '../../common/components/Separator';\nimport RichTextEditor from '../../common/components/RichTextEditor/RichTextEditor';\nimport { sanitize } from '../../common/services/sanitizeService';\n\nconst ProjectDisclaimerSettings = ({ lightModeVariant }) => {\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n  const [editMode, setEditMode] = useState(false);\n  const [richText, setRichText] = useState('');\n  const [focused, setFocused] = useState(false);\n\n  useEffect(() => {\n    dispatch(loadProjectDisclaimerThunk(projectId));\n  }, [dispatch, projectId]);\n\n  const projectDisclaimer = useSelector(\n    getProjectDisclaimerSelector(projectId)\n  );\n\n  useEffect(() => {\n    if (projectDisclaimer) {\n      setRichText(projectDisclaimer.disclaimerHtml);\n    }\n  }, [projectDisclaimer]);\n\n  const toggleEditMode = () => {\n    if (editMode) {\n      setRichText(projectDisclaimer.disclaimerHtml);\n    }\n    setEditMode(!editMode);\n  };\n\n  const onSubmit = () => {\n    dispatch(updateProjectDisclaimerThunk(projectId, richText));\n\n    toggleEditMode();\n  };\n\n  const disabledCheck = () => {\n    if (projectDisclaimer.disclaimerHtml && richText) {\n      return richText.length === 0;\n    }\n    return true;\n  };\n\n  return projectDisclaimer && !projectDisclaimer.isLoading ? (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <div\n          data-testid=\"p-d-settings-container\"\n          className={`p-d-settings-container${\n            lightModeVariant ? ' light-mode-variant' : ''\n          }`}\n        >\n          <div className=\"p-d-header\">\n            <div data-testid=\"p-d-title\" className=\"p-d-settings-title\">\n              {editMode ? 'Edit Project Disclaimer' : 'Project Disclaimer'}\n            </div>\n            {!editMode && (\n              <div\n                data-testid=\"p-d-settings-button-container\"\n                className=\"p-d-settings-button-container\"\n              >\n                <Button\n                  className=\"button-block sm p-d-edit-button\"\n                  type=\"submit\"\n                  disabled={isProjectDisabled}\n                  data-testid=\"p-d-edit-button\"\n                  onClick={toggleEditMode}\n                >\n                  Edit\n                </Button>\n              </div>\n            )}\n          </div>\n\n          <Separator />\n\n          {editMode ? (\n            <>\n              <RichTextEditor\n                richTextData={richText}\n                onChange={setRichText}\n                label=\"Description\"\n                onBlur={(_, editor) => {\n                  setFocused(false);\n                  editor.ui.view.toolbar.element.style.display = 'none';\n                }}\n                onFocus={(_, editor) => {\n                  setFocused(true);\n                  editor.ui.view.toolbar.element.style.display = 'block';\n                }}\n                isFocused={focused}\n              />\n              <div className=\"p-d-button-container\">\n                <Button\n                  className=\"button-link mx-2 mr-4\"\n                  onClick={toggleEditMode}\n                  data-testid=\"p-d-cancel-button\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={onSubmit}\n                  data-testid=\"p-d-update-button\"\n                  disabled={disabledCheck()}\n                >\n                  Save\n                </Button>\n              </div>\n            </>\n          ) : (\n            <div\n              className=\"p-d-settings-content\"\n              data-testid=\"p-d-settings-content\"\n              dangerouslySetInnerHTML={{\n                __html: sanitize(projectDisclaimer.disclaimerHtml)\n              }}\n            />\n          )}\n        </div>\n      )}\n    </EnableForProjectState>\n  ) : null;\n};\n\nexport default ProjectDisclaimerSettings;\n","import React, { useEffect, useState } from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { requestClientUsersUpdate } from '../../common/services/projectService';\nimport { getProject, loadProjectThunk } from '../project/projectSlice';\nimport UserEditSettings, { getInitialState } from './UserEditSettings';\n\nconst getUserListDifferences = (usersList1, usersList2) => {\n  const usersList1Map = usersList1.reduce(\n    (ul1Map, ul1) => ({\n      ...ul1Map,\n      [ul1.email]: ul1\n    }),\n    {}\n  );\n  return usersList2.filter(\n    ul2 =>\n      !usersList1Map[ul2.email] || usersList1Map[ul2.email].role !== ul2.role\n  );\n};\n\nconst getUsersToRemove = (oldClientUsers, newClientUsers) =>\n  getUserListDifferences(newClientUsers, oldClientUsers).map(userToRemove => ({\n    emailAddress: userToRemove.email\n  }));\n\nconst getUsersToAdd = (oldClientUsers, newClientUsers) =>\n  getUserListDifferences(oldClientUsers, newClientUsers).map(userToAdd => ({\n    emailAddress: userToAdd.email,\n    roleName: userToAdd.role\n  }));\n\nconst getUpdateClientUsersRequest = (fieldConfigs, initialValues, newUsers) => {\n  const rolesToConsider = fieldConfigs.map(fc => fc.role);\n  const oldClientUsers = rolesToConsider\n    .map(rtc => initialValues[rtc] || [])\n    .flat();\n  const newClientUsers = newUsers.filter(nu =>\n    rolesToConsider.includes(nu.role)\n  );\n  const usersToRemove = getUsersToRemove(oldClientUsers, newClientUsers);\n  const usersToAdd = getUsersToAdd(oldClientUsers, newClientUsers);\n  return { usersToRemove, usersToAdd };\n};\n\nconst ClientSettingsClientView = () => {\n  const project = useSelector(getProject);\n  const dispatch = useDispatch();\n  const [initialValues, setInitialValues] = useState(null);\n  const [initialValuesSet, setInitialValuesSet] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    if (!initialValuesSet) {\n      if (project.users) {\n        setInitialValues(getInitialState(project.users));\n\n        setInitialValuesSet(true);\n      } else {\n        setInitialValues(getInitialState());\n      }\n    }\n  }, [project, setInitialValues, initialValuesSet, setInitialValuesSet]);\n\n  const fieldConfigs = [\n    {\n      role: Constants.USER_ROLES.CLIENT_ADMIN,\n      title: Constants.USER_ROLES.CLIENT_ADMIN,\n      description: `View approved content, comment and assign client team members`,\n      showEmail: true,\n      allowMany: true,\n      addAsPending: true\n    },\n    {\n      role: Constants.USER_ROLES.CLIENT_TEAM_MEMBER,\n      title: Constants.USER_ROLES.CLIENT_TEAM_MEMBER,\n      description: `View approved content and comment`,\n      showEmail: true,\n      allowMany: true,\n      addAsPending: true\n    }\n  ];\n  const checkIsValid = () => true;\n\n  const onSubmit = async newUsers => {\n    setIsSaving(true);\n    try {\n      setHasError(false);\n\n      const updateClientUsersRequest = getUpdateClientUsersRequest(\n        fieldConfigs,\n        initialValues,\n        newUsers\n      );\n      if (\n        updateClientUsersRequest.usersToRemove.length ||\n        updateClientUsersRequest.usersToAdd.length\n      ) {\n        await requestClientUsersUpdate(project.id, updateClientUsersRequest);\n        await dispatch(loadProjectThunk(project.id));\n      }\n\n      setIsSaving(false);\n      setInitialValuesSet(false);\n    } catch (e) {\n      setIsSaving(false);\n      setHasError(true);\n    }\n  };\n\n  const onCancel = resetForm => resetForm();\n\n  const submitButtonText = newUsers => {\n    const updateClientUsersRequest = getUpdateClientUsersRequest(\n      fieldConfigs,\n      initialValues,\n      newUsers\n    );\n    if (\n      updateClientUsersRequest.usersToAdd.length &&\n      updateClientUsersRequest.usersToRemove.length\n    ) {\n      return 'Request Access and Save';\n    }\n    if (updateClientUsersRequest.usersToAdd.length) {\n      return 'Request Access';\n    }\n    return 'Save';\n  };\n  return (\n    initialValuesSet && (\n      <UserEditSettings\n        initialValues={initialValues}\n        fieldConfigs={fieldConfigs}\n        onSubmit={onSubmit}\n        onCancel={onCancel}\n        submitButtonText={submitButtonText}\n        checkIsValid={checkIsValid}\n        isSaving={isSaving}\n        hasError={hasError}\n      >\n        <div data-testid=\"clientSettingsClientView\">\n          <p>\n            You can request access for your team by entering their email address\n            next to the assigned role.\n          </p>\n        </div>\n      </UserEditSettings>\n    )\n  );\n};\nexport default ClientSettingsClientView;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Tabs } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { FormLayout } from '../../common/components/layouts';\nimport PageTitle from '../../common/components/PageTitle/PageTitle';\nimport ProjectDetails from './ProjectDetails';\nimport ProjectStatus from './ProjectStatus';\nimport ClientSettings from './ClientSettings';\nimport PwcTeamSettings from './PwCTeamSettings';\nimport NotificationsSettings from './NotificationSettings';\nimport { getProject } from '../project/projectSlice';\nimport userTokenService from '../../common/services/security/userTokenService';\nimport ProjectDisclaimerSettings from '../projectDisclaimer/ProjectDisclaimerSettings';\nimport './Settings.scss';\nimport ClientSettingsClientView from './ClientSettingsClientView';\n\nconst Settings = () => {\n  const project = useSelector(getProject);\n  const [projectDetailsTabVisible, setProjectDetailsTabVisible] = useState(\n    false\n  );\n  const [projectStatusTabVisible, setProjectStatusTabVisible] = useState(false);\n  const [clientTabVisible, setClientTabVisible] = useState(false);\n  const [clientViewClientTabVisible, setClientViewClientTabVisible] = useState(\n    false\n  );\n  const [pwcTeamTabVisible, setPwcTeamTabVisible] = useState(false);\n  const [\n    projectDisclaimerTabVisible,\n    setProjectDisclaimerTabVisible\n  ] = useState(false);\n  const [notificationsTabVisible, setNotificationsTabVisible] = useState(false);\n\n  useEffect(() => {\n    if (project.id) {\n      Promise.all([\n        userTokenService.hasProjectPermission(project.id, [\n          Constants.USER_PERMISSIONS.MANAGE_USERS\n        ]),\n        userTokenService.hasProjectPermission(project.id, [\n          Constants.USER_PERMISSIONS.MANAGE_CLIENT_USERS\n        ]),\n        userTokenService.hasProjectPermission(project.id, [\n          Constants.USER_PERMISSIONS.CONTRIBUTE\n        ]),\n        userTokenService.hasProjectRoles(\n          project.id,\n          Constants.USER_ROLE_GROUPS.CLIENT\n        ),\n        userTokenService.hasProjectRoles(project.id, [\n          Constants.USER_ROLES.CLIENT_ADMIN\n        ])\n      ]).then(\n        ([\n          hasManageUsersPermission,\n          hasManageClientUsersPermission,\n          hasProjectDisclaimerPermission,\n          isClient,\n          isClientAdmin\n        ]) => {\n          setProjectDetailsTabVisible(hasManageUsersPermission && !isClient);\n          setProjectStatusTabVisible(!isClient);\n          setPwcTeamTabVisible(hasManageUsersPermission && !isClient);\n          setClientTabVisible(hasManageClientUsersPermission && !isClient);\n          setProjectDisclaimerTabVisible(\n            hasProjectDisclaimerPermission && !isClient\n          );\n          setClientViewClientTabVisible(isClientAdmin);\n          setNotificationsTabVisible(true);\n        }\n      );\n    }\n  }, [project.id]);\n\n  return (\n    project.id && (\n      <FormLayout className=\"settings\">\n        <div className=\"settings-container\" data-testid=\"settings-container\">\n          <PageTitle title=\"Settings\" size=\"h2\" />\n          <Tabs>\n            {projectDetailsTabVisible && (\n              <div label=\"Project Details\">\n                <ProjectDetails />\n              </div>\n            )}\n            {projectStatusTabVisible && (\n              <div label=\"Project Status\">\n                <ProjectStatus projectId={project.id} />\n              </div>\n            )}\n            {pwcTeamTabVisible && (\n              <div label=\"PwC Team\">\n                <PwcTeamSettings />\n              </div>\n            )}\n            {clientTabVisible && (\n              <div label=\"Client\">\n                <ClientSettings />\n              </div>\n            )}\n            {clientViewClientTabVisible && (\n              <div label=\"Team\">\n                <ClientSettingsClientView />\n              </div>\n            )}\n            {projectDisclaimerTabVisible && (\n              <div label=\"Project Disclaimer\">\n                <ProjectDisclaimerSettings />\n              </div>\n            )}\n            {notificationsTabVisible && (\n              <div label=\"Notifications\">\n                <NotificationsSettings />\n              </div>\n            )}\n          </Tabs>\n        </div>\n      </FormLayout>\n    )\n  );\n};\n\nexport default Settings;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Settings from './Settings';\nimport authorizationService from '../../common/services/security/authorizationService';\n\nconst SettingsContentRouter = () => {\n  return (\n    <Route\n      exact\n      isAuthorized={authorizationService.hasValidToken}\n      path=\"/projects/:projectId/settings\"\n      component={Settings}\n    />\n  );\n};\n\nexport default SettingsContentRouter;\n","import { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { cloneDeep } from 'lodash';\n\nexport const initialState = {\n  files: {\n    loading: null,\n    error: null,\n    data: null\n  },\n  upload: {\n    /**\n     * to open or close the FileUploadModal\n     */\n    showModal: false,\n    loading: false,\n    error: null,\n    successMessage: null,\n    /**\n     * to send the fileId in case we are updating a file (not uploading a new one)\n     */\n    uploadedFileId: null,\n    uploadedFileName: null\n  }\n};\n\nconst fileUploadSlice = createSlice({\n  name: 'fileUpload',\n  initialState,\n  reducers: {\n    setFilesData: (state, action) => {\n      const { data } = action.payload;\n      state.files.data = cloneDeep(data);\n      state.files.error = false;\n      state.files.loading = false;\n    },\n    setFilesDataLoading: (state, action) => {\n      const { loading } = action.payload;\n      state.files.loading = loading;\n      state.files.error = false;\n    },\n    setFilesDataError: (state, action) => {\n      const { error } = action.payload;\n      state.files.loading = false;\n      state.files.error = error;\n    },\n    setFileUploadLoading: (state, action) => {\n      const { loading } = action.payload;\n      state.upload.loading = loading;\n      state.upload.error = null;\n    },\n    setFileUploadError: (state, action) => {\n      const { error } = action.payload;\n      state.upload.loading = false;\n      state.upload.error = error;\n    },\n    openModal: (state, action) => {\n      const { fileId, fileName } = action.payload || { fileId: null };\n      state.upload.showModal = true;\n      state.upload.uploadedFileId = fileId;\n      state.upload.uploadedFileName = fileName;\n    },\n    closeModal: state => {\n      state.upload.showModal = false;\n    },\n    showSuccessMessage: (state, action) => {\n      state.upload.showModal = false;\n      state.upload.successMessage = action.payload;\n    },\n    hideSuccessMessage: state => {\n      state.upload.successMessage = null;\n    }\n  }\n});\n\n// Actions\nexport const {\n  setFilesData,\n  setFilesDataLoading,\n  setFilesDataError,\n  setFileUploadLoading,\n  setFileUploadError,\n  openModal,\n  closeModal,\n  showSuccessMessage,\n  hideSuccessMessage\n} = fileUploadSlice.actions;\n\n// Selectors\nconst getFileUploadSlice = state => state.fileUpload;\n\nexport const getFilesState = createSelector(\n  getFileUploadSlice,\n  slice => slice.files\n);\nexport const getFileUploadState = createSelector(\n  getFileUploadSlice,\n  slice => slice.upload\n);\n\nexport default fileUploadSlice.reducer;\n","import { FileLibraryServiceClient } from './httpClient';\n\nconst baseServicePath = projectId => `projects/${projectId}/files`;\n\nconst baseServicePathWithFile = (projectId, fileId) =>\n  `projects/${projectId}/files/${fileId}`;\n\nexport const getFiles = async projectId => {\n  const response = await FileLibraryServiceClient(projectId).get(\n    baseServicePath(projectId)\n  );\n  return response.data;\n};\n\nexport const uploadFile = async (projectId, password, file) => {\n  const response = await FileLibraryServiceClient(projectId).postFile(\n    baseServicePath(projectId),\n    { password },\n    file\n  );\n  return response.data;\n};\n\nexport const updateFileContent = async (\n  projectId,\n  password,\n  file,\n  uploadedFileId\n) => {\n  const response = await FileLibraryServiceClient(projectId).putFile(\n    baseServicePathWithFile(projectId, uploadedFileId),\n    { password },\n    file\n  );\n  return response.data;\n};\n\nexport const deleteFile = async (projectId, fileId) => {\n  const response = await FileLibraryServiceClient(projectId).delete(\n    baseServicePathWithFile(projectId, fileId)\n  );\n  return response.data;\n};\n\nexport const postShareFile = async (projectId, fileId) => {\n  const response = await FileLibraryServiceClient(projectId).post(\n    `${baseServicePathWithFile(projectId, fileId)}/ShareWithClient`\n  );\n  return response.data;\n};\n\nexport const updateFileStatus = async (projectId, fileId, operation) => {\n  const response = await FileLibraryServiceClient(projectId).post(\n    `projects/${projectId}/files/${fileId}/${operation}`\n  );\n  return response.data;\n};\n\nexport const downloadFile = async (projectId, fileId) => {\n  const response = await FileLibraryServiceClient(projectId).get(\n    `${baseServicePathWithFile(projectId, fileId)}`\n  );\n  return response.data;\n};\n","import {\n  getFiles,\n  uploadFile,\n  deleteFile,\n  updateFileStatus,\n  updateFileContent\n} from '../../services/fileLibraryService';\n\nimport {\n  setFilesDataLoading,\n  setFilesDataError,\n  setFilesData,\n  setFileUploadError,\n  setFileUploadLoading,\n  showSuccessMessage\n} from './fileUploadSlice';\n\nexport const mockSettings = {\n  mockedResponse: {\n    data: {\n      files: [\n        {\n          fileId: 55,\n          fileGroupId: '2b535ca3-3c0c-42fe-804e-e5721f8253a3',\n          fileName: 'Junction_Report_5.pdf',\n          uploadedDateTime: 1619109015,\n          uploadedBy: 'PwC User',\n          status: 'shared',\n          password: 'Test@123'\n        },\n        {\n          fileId: 1,\n          fileGroupId: '9c265e92-ab18-4089-88a3-9d085a1493f2',\n          fileName: 'Junction_Report.pdf',\n          uploadedDateTime: 1619109015,\n          uploadedBy: 'PwC User',\n          status: 'approved',\n          password: 'Test@123'\n        },\n        {\n          fileId: 2,\n          fileGroupId: '05d24150-9ac9-47c1-ad7e-dd1ee90f65af',\n          fileName: 'Junction_Report_2.pdf',\n          uploadedDateTime: 1619109015,\n          uploadedBy: 'PwC User',\n          status: 'RequestApproval',\n          password: 'Test@456'\n        },\n        {\n          fileId: 3,\n          fileGroupId: '2b535ca3-3c0c-42fe-804e-e5721f8253a1',\n          fileName: 'Junction_Report_3.pdf',\n          uploadedDateTime: 1619109015,\n          uploadedBy: 'PwC User',\n          status: 'Draft',\n          password: 'Test@789'\n        },\n        {\n          fileId: 4,\n          fileGroupId: '2b535ca3-3c0c-42fe-804e-e5721f8253a2',\n          fileName: 'Junction_Report_4.pdf',\n          uploadedDateTime: 1619109015,\n          uploadedBy: 'PwC User',\n          status: 'ApprovalRequested',\n          password: 'Test@123'\n        },\n        {\n          fileId: 5,\n          fileGroupId: '2b535ca3-3c0c-42fe-804e-e5721f825333',\n          fileName: 'Junction_Report_5.pdf',\n          uploadedDateTime: 1619109015,\n          uploadedBy: 'PwC User',\n          status: 'shared',\n          password: 'Test@999'\n        }\n      ]\n    },\n    errors: null,\n    messages: null\n  },\n  mockFileDataTimeout: 3000\n};\n\nconst parseFiles = files =>\n  files.sort(\n    (a, b) => new Date(b.uploadedDateTime) - new Date(a.uploadedDateTime)\n  );\n\nexport const getFilesThunk = projectId => async dispatch => {\n  dispatch(setFilesDataLoading({ loading: true }));\n  try {\n    const data = await getFiles(projectId).then(parseFiles);\n    dispatch(setFilesData({ data: { files: data } }));\n  } catch (error) {\n    dispatch(setFilesDataError({ error }));\n  }\n};\n\nexport const updateFile = (\n  projectId,\n  password,\n  file,\n  uploadedFileId\n) => async dispatch => {\n  dispatch(setFileUploadLoading({ loading: true }));\n  try {\n    if (uploadedFileId)\n      await updateFileContent(projectId, password, file, uploadedFileId);\n    else await uploadFile(projectId, password, file);\n    dispatch(setFileUploadLoading({ loading: false }));\n    dispatch(showSuccessMessage(`${file.name} uploaded successfully`));\n    await getFilesThunk(projectId)(dispatch);\n  } catch (error) {\n    dispatch(setFileUploadError({ error }));\n  }\n};\n\nexport const removeFile = (projectId, fileId) => async dispatch => {\n  dispatch(setFilesDataLoading({ loading: true }));\n  try {\n    await deleteFile(projectId, fileId);\n    await getFilesThunk(projectId)(dispatch);\n  } catch (error) {\n    dispatch(setFilesDataError({ error }));\n  }\n};\n\nexport const requestFileStatusChange = (\n  projectId,\n  file,\n  operation\n) => async dispatch => {\n  dispatch(setFilesDataLoading({ loading: true }));\n  try {\n    await updateFileStatus(projectId, file, operation);\n    await getFilesThunk(projectId)(dispatch);\n  } catch (error) {\n    dispatch(setFilesDataError({ error }));\n  }\n};\n","const CONSTANTS = Object.freeze({\n  HEADERS: {\n    FILE_NAME: 'File name',\n    DATE_UPLOADED: 'Date uploaded',\n    UPLOADED_BY: 'Uploaded by',\n    APPROVAL_STATUS: 'Approval status'\n  },\n  CONTENTS: {\n    ZERO_STATE: {\n      CLIENT_USER:\n        'No files have been uploaded yet. Check back soon as the PwC team will make files available to download here.',\n      PWC_USER:\n        'No files have been uploaded yet. Start uploading files from Word, Excel, PowerPoint and all other file formats to share with the client team.'\n    },\n    TEXT_STATUSES: {\n      CAN_REQUEST_APPROVAL: 'In progress',\n      CAN_BE_APPROVED_OR_DECLINED: 'For approval',\n      APPROVED: 'Approved'\n    }\n  },\n  TEST_IDS: {\n    ZERO_STATE: 'uploadedfiles-zerocopy',\n    LOADER: 'uploadedfiles-filelist-loader'\n  },\n  STATUSES: {\n    CAN_BE_APPROVED_OR_DECLINED: 'submittedForApproval',\n    CAN_REQUEST_APPROVAL: 'draft',\n    SHARED: 'shared',\n    APPROVED: 'approved'\n  },\n  OPERATIONS: {\n    CAN_REQUEST_APPROVAL: 'SubmitForApproval',\n    CAN_BE_APPROVED_OR_DECLINED: {\n      CANCEL: 'CancelApproval',\n      APPROVED: 'Approved',\n      REJECTED: 'Rejected'\n    }\n  }\n});\nexport default CONSTANTS;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\n\nimport './FileHeaders.scss';\nimport { getFilesState } from '../../../common/redux/fileUpload/fileUploadSlice';\nimport authorizationService from '../../../common/services/security/authorizationService';\nimport CONSTANTS from '../Constants';\n\nconst FileHeaders = () => {\n  const { data } = useSelector(getFilesState);\n  const isClientUser = authorizationService.isClientUser();\n\n  return (\n    <div\n      className={classNames('file-headers', {\n        'file-headers--disabled': !!data && data.files.length === 0,\n        'file-headers--three-columns': isClientUser\n      })}\n      data-testid=\"uploadedfiles-fileheaders\"\n    >\n      <div> {CONSTANTS.HEADERS.FILE_NAME}</div>\n      <div> {CONSTANTS.HEADERS.DATE_UPLOADED}</div>\n      {!isClientUser && (\n        <>\n          <div> {CONSTANTS.HEADERS.UPLOADED_BY}</div>\n          <div> {CONSTANTS.HEADERS.APPROVAL_STATUS}</div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default FileHeaders;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState } from 'react';\nimport { Icon, Button, MiniLoader } from '@pwc/pwc-deals-ui';\nimport { useSelector } from 'react-redux';\nimport { downloadFile } from '../../../../common/services/fileLibraryService';\nimport authorizationService from '../../../../common/services/security/authorizationService';\nimport userTokenService from '../../../../common/services/security/userTokenService';\n\nconst fileTypeMap = {\n  pdf: 'application/pdf',\n  doc: 'application/msword',\n  docx:\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  ppt: 'application/vnd.ms-powerpoint',\n  pptx:\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  xls: 'application/vnd.ms-excel',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n};\n\nconst parseFileStream = fileStream => {\n  const byteCharacters = atob(fileStream);\n  const byteArrays = [];\n\n  for (let offset = 0; offset < byteCharacters.length; offset += 512) {\n    const slice = byteCharacters.slice(offset, offset + 512);\n\n    const byteNumbers = new Array(slice.length);\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n\n    const byteArray = new Uint8Array(byteNumbers);\n    byteArrays.push(byteArray);\n  }\n\n  return byteArrays;\n};\n\nconst FileDownload = ({ fileId, showText }) => {\n  const [isDownloading, setIsDownloading] = useState();\n\n  const projectId = useSelector(state => state.project && state.project.id);\n\n  const [isReadOnlyUser, setIsReadOnlyUser] = useState(true);\n  useEffect(() => {\n    (async () => {\n      setIsReadOnlyUser(\n        await userTokenService.hasProjectRoles(projectId, [\n          Constants.USER_ROLES.PWC_READONLY_DISPLAY,\n          Constants.USER_ROLES.PWC_READONLY\n        ])\n      );\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleDownload = async () => {\n    if (isDownloading) {\n      return;\n    }\n\n    setIsDownloading(true);\n\n    const { fileStream, fileName } = await downloadFile(projectId, fileId);\n    const fileExtension = fileTypeMap[fileName.split('.').pop()];\n\n    const blob = new Blob(parseFileStream(fileStream), {\n      type: fileExtension || 'application/zip'\n    });\n\n    const link = document.createElement('a');\n\n    link.href = window.URL.createObjectURL(blob);\n    link.download = fileExtension ? fileName : `${fileName}.zip`;\n    link.click();\n\n    setIsDownloading(false);\n  };\n\n  const isClientUser = authorizationService.isClientUser();\n\n  return (\n    <Button\n      className={\n        (showText\n          ? 'ui-button button-menu'\n          : 'ui-button button-no-underline icon-button') +\n        (isClientUser || isReadOnlyUser ? '' : ' file-download')\n      }\n      onClick={handleDownload}\n      data-testid=\"file-download\"\n      aria-label=\"download\"\n    >\n      {isDownloading ? (\n        <MiniLoader data-testid=\"file-download-loader\" />\n      ) : (\n        <Icon\n          name=\"download-alt\"\n          className={\n            showText ? 'outline icon-orange' : 'fill icon-orange-theme'\n          }\n          data-testid=\"file-download-icon\"\n          {...(showText ? { width: 21 } : {})}\n        />\n      )}\n      {showText ? 'Download' : null}\n    </Button>\n  );\n};\n\nexport default FileDownload;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport React from 'react';\n\nimport './DeleteConfirmationDialog.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { removeFile } from '../../../../common/redux/fileUpload/fileUploadThunk';\n\nconst DeleteConfirmationDialog = ({ onCloseClick, fileId }) => {\n  const dispatch = useDispatch();\n  const projectId = useSelector(state => state.project && state.project.id);\n\n  return (\n    <div\n      className=\"deleteConfirmation-dialog\"\n      data-testid=\"deleteConfirmation-dialog\"\n    >\n      <div>Delete this file?</div>\n\n      <div>This will permanently remove the file from the platform.</div>\n\n      <div>\n        <div>\n          <Button\n            onClick={onCloseClick}\n            className=\"button-outline button-small\"\n            data-testid=\"menu-button-show-deleteConfirmation-close\"\n            disabled={!onCloseClick}\n          >\n            Cancel\n          </Button>\n        </div>\n\n        <div>\n          <Button\n            className=\"button-small\"\n            onClick={() => {\n              dispatch(removeFile(projectId, fileId));\n              onCloseClick();\n            }}\n          >\n            Yes, delete\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeleteConfirmationDialog;\n","import React from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\n\nconst MenuButtonShowPassword = ({ onClick }) => {\n  return (\n    <Button\n      className=\"button-menu\"\n      onClick={onClick}\n      data-testid=\"menu-button-show-password\"\n      disabled={!onClick}\n    >\n      <Icon name=\"unlocked\" width=\"21\" className=\"outline icon-orange\" />\n      Show password\n    </Button>\n  );\n};\n\nexport default MenuButtonShowPassword;\n","import React from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\n\nconst MenuButtonUpdate = ({ onClick }) => {\n  return (\n    <Button\n      className=\"button-menu\"\n      onClick={onClick}\n      data-testid=\"menu-button-update\"\n      disabled={!onClick}\n    >\n      <Icon\n        name=\"ingestion-upload\"\n        width=\"21\"\n        className=\"outline icon-orange\"\n      />\n      Update\n    </Button>\n  );\n};\n\nexport default MenuButtonUpdate;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport React from 'react';\n\nimport './ShowPasswordDialog.scss';\n\nconst ShowPasswordDialog = ({ password, onCloseClick }) => (\n  <div className=\"password-dialog\">\n    <div>File password</div>\n\n    <div>{password}</div>\n\n    <div>\n      <div>\n        <Button\n          onClick={onCloseClick}\n          className=\"button-outline button-small\"\n          data-testid=\"menu-button-show-password-close\"\n          disabled={!onCloseClick}\n        >\n          Close\n        </Button>\n      </div>\n\n      <div>\n        <Button\n          className=\"button-small\"\n          onClick={() => navigator.clipboard.writeText(password)}\n        >\n          Copy\n        </Button>\n      </div>\n    </div>\n  </div>\n);\n\nexport default ShowPasswordDialog;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState } from 'react';\nimport { Popover } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport MenuButtonDelete from '../../../../common/components/MenuButtonDelete';\nimport useTabletOrMobile from '../../../../common/hooks/useTabletOrMobile';\nimport authorizationService from '../../../../common/services/security/authorizationService';\nimport FileDownload from '../FileDownload/FileDownload';\nimport userTokenService from '../../../../common/services/security/userTokenService';\n\nimport DeleteConfirmationDialog from './DeleteConfirmationDialog';\nimport MenuButtonShowPassword from './MenuButtonShowPassword';\nimport MenuButtonUpdate from './MenuButtonUpdate';\nimport ShowPasswordDialog from './ShowPasswordDialog';\nimport './FileListItemPopupMenu.scss';\n\nconst FileListItemPopupMenu = React.forwardRef(\n  ({ itemId, onUpdateMenuClick, filePassword, dismissMenu, ...props }, ref) => {\n    const isClientUser = authorizationService.isClientUser();\n    const projectId = useSelector(state => state.project && state.project.id);\n    const [showPasswordDialog, setShowPasswordDialog] = useState(true);\n    const isTabletOrMobile = useTabletOrMobile();\n    const [isReadOnlyUser, setIsReadOnlyUser] = useState(true);\n\n    useEffect(() => {\n      (async () => {\n        const readOnly = await userTokenService.hasProjectRoles(projectId, [\n          Constants.USER_ROLES.PWC_READONLY_DISPLAY,\n          Constants.USER_ROLES.PWC_READONLY\n        ]);\n        setIsReadOnlyUser(readOnly);\n\n        setShowPasswordDialog(isClientUser || readOnly);\n      })();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const [\n      showDeleteConfirmationDialog,\n      setShowDeleteConfirmationDialog\n    ] = useState(false);\n\n    const displayOrShowPasswordDialog = show => {\n      setShowPasswordDialog(show);\n      if (!show) {\n        dismissMenu();\n      }\n    };\n    const displayOrShowDeleteConfirmationDialog = show => {\n      setShowDeleteConfirmationDialog(show);\n      if (!show) {\n        dismissMenu();\n      }\n    };\n\n    const confirmationClassNameIfNeeded =\n      showPasswordDialog || showDeleteConfirmationDialog\n        ? ' file-confirmation-popover'\n        : '';\n\n    props.className += confirmationClassNameIfNeeded;\n\n    return (\n      <Popover\n        ref={ref}\n        id=\"file-actions-popup\"\n        data-testid={`content-actions-popup-menu-${itemId}`}\n        {...props}\n      >\n        <Popover.Content\n          className={`popup-menu${confirmationClassNameIfNeeded}`}\n        >\n          {/* eslint-disable-next-line no-nested-ternary */}\n          {showPasswordDialog ? (\n            <ShowPasswordDialog\n              password={filePassword}\n              onCloseClick={() => displayOrShowPasswordDialog(false)}\n            />\n          ) : showDeleteConfirmationDialog ? (\n            <DeleteConfirmationDialog\n              onCloseClick={() => {\n                displayOrShowDeleteConfirmationDialog(false);\n              }}\n              fileId={itemId}\n            />\n          ) : (\n            <>\n              {!isClientUser && !isReadOnlyUser && (\n                <FileDownload fileId={itemId} showText />\n              )}\n              {!isTabletOrMobile && (\n                <MenuButtonUpdate onClick={onUpdateMenuClick} />\n              )}\n              {!isClientUser && (\n                <MenuButtonShowPassword\n                  onClick={() => displayOrShowPasswordDialog(true)}\n                />\n              )}\n              <MenuButtonDelete\n                onClick={() => displayOrShowDeleteConfirmationDialog(true)}\n              />\n            </>\n          )}\n        </Popover.Content>\n      </Popover>\n    );\n  }\n);\n\nexport default FileListItemPopupMenu;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState } from 'react';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\n\nimport './FileListItemRowActionsButton.scss';\nimport { useSelector } from 'react-redux';\nimport authorizationService from '../../../../common/services/security/authorizationService';\nimport userTokenService from '../../../../common/services/security/userTokenService';\n\nconst FileListItemRowActionsButton = ({ ...props }) => {\n  const isClientUser = authorizationService.isClientUser();\n  const projectId = useSelector(state => state.project && state.project.id);\n  const [isReadOnly, setIsReadOnly] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      setIsReadOnly(\n        await userTokenService.hasProjectRoles(projectId, [\n          Constants.USER_ROLES.PWC_READONLY_DISPLAY,\n          Constants.USER_ROLES.PWC_READONLY\n        ])\n      );\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"file-upload-action-button-container\">\n      <Button\n        {...props}\n        className=\"button-link action-button\"\n        data-testid={\n          isClientUser || isReadOnly\n            ? 'row-action-unlock'\n            : 'row-actions-button'\n        }\n        aria-label=\"Action Button\"\n      >\n        <Icon\n          name={isClientUser || isReadOnly ? 'locked' : 'more-vert'}\n          width={24}\n          className=\"fill icon-orange\"\n        />\n      </Button>\n    </div>\n  );\n};\n\nexport default FileListItemRowActionsButton;\n","/* eslint-disable react/jsx-wrap-multilines */\nimport React, { useState, useRef } from 'react';\nimport { string } from 'prop-types';\nimport { Overlay } from 'react-bootstrap';\nimport FileListItemPopupMenu from './FileListItemPopupMenu';\nimport FileListItemRowActionsButton from './FileListItemRowActionsButton';\n\nconst FileListItemRowMenu = ({\n  itemId,\n  direction,\n  onUpdateMenuClick,\n  filePassword\n}) => {\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n\n  const handleButtonClick = handler =>\n    handler\n      ? () => {\n          setShow(false);\n          handler(itemId);\n        }\n      : null;\n\n  const handleClick = event => {\n    setTarget(event.target);\n    setTimeout(() => {\n      setShow(!show);\n      if (show) {\n        setTimeout(() => {\n          document.body.click();\n        }, 200);\n      }\n    }, 100);\n  };\n\n  return (\n    <div ref={ref} data-testid=\"file-list-row-options\">\n      <FileListItemRowActionsButton onClick={handleClick} />\n      <Overlay\n        show={show}\n        target={target}\n        placement={direction}\n        rootClose\n        onHide={() => {\n          setShow(!show);\n        }}\n        container={ref.current}\n      >\n        <FileListItemPopupMenu\n          itemId={itemId}\n          onUpdateMenuClick={handleButtonClick(onUpdateMenuClick)}\n          filePassword={filePassword}\n          dismissMenu={() => setShow(false)}\n        />\n      </Overlay>\n    </div>\n  );\n};\n\nFileListItemRowMenu.propTypes = {\n  direction: string\n};\n\nFileListItemRowMenu.defaultProps = {\n  direction: 'bottom'\n};\n\nexport default FileListItemRowMenu;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { openModal } from '../../../../common/redux/fileUpload/fileUploadSlice';\nimport FileListItemRowMenu from './FileListItemRowMenu';\n\nconst FileOptions = ({ file }) => {\n  const dispatch = useDispatch();\n  const { fileId, fileName } = file;\n\n  const onUpdateMenuClick = () => {\n    dispatch(openModal({ fileId, fileName }));\n  };\n\n  return (\n    <FileListItemRowMenu\n      itemId={fileId}\n      onUpdateMenuClick={onUpdateMenuClick}\n      filePassword={file.password}\n      direction=\"left\"\n    />\n  );\n};\n\nexport default FileOptions;\n","import React from 'react';\n\nimport FileDownload from '../FileDownload/FileDownload';\nimport FileOptions from '../FileOptions/FileOptions';\n\nimport './FileActions.scss';\n\nconst FileActions = ({ file }) => {\n  return (\n    <div className=\"file-upload-actions\">\n      <FileDownload fileId={file.fileId} />\n      <FileOptions file={file} />\n    </div>\n  );\n};\n\nexport default FileActions;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './CancelRequest.scss';\n\nconst CancelRequest = ({ onClick }) => {\n  return (\n    <div>\n      <Button\n        className=\"ui-button button-menu button-no-underline file-status-button\"\n        onClick={onClick}\n        data-testid=\"menu-button-cancel-request\"\n        disabled={!onClick}\n      >\n        <Icon name=\"end-process\" width={24} className=\"outline icon-orange\" />\n        <span>Cancel request</span>\n      </Button>\n    </div>\n  );\n};\n\nexport default CancelRequest;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './RequestApproval.scss';\n\nconst RequestApproval = ({ onClick }) => {\n  return (\n    <div>\n      <Button\n        className=\"ui-button button-menu button-no-underline file-status-button\"\n        onClick={onClick}\n        data-testid=\"menu-button-request-approval\"\n        disabled={!onClick}\n      >\n        <Icon name=\"askquestion\" width={24} className=\"outline icon-orange\" />\n        <span>Request approval</span>\n      </Button>\n    </div>\n  );\n};\n\nexport default RequestApproval;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './Approve.scss';\n\nconst Approve = ({ onClick }) => {\n  return (\n    <div>\n      <Button\n        className=\"ui-button button-menu button-no-underline file-status-button\"\n        onClick={onClick}\n        data-testid=\"menu-button-approve\"\n        disabled={!onClick}\n      >\n        <Icon name=\"confirmed\" width={24} className=\"outline icon-orange\" />\n        <span>Approve</span>\n      </Button>\n    </div>\n  );\n};\n\nexport default Approve;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './Decline.scss';\n\nconst Decline = ({ onClick }) => {\n  return (\n    <div>\n      <Button\n        className=\"ui-button button-menu button-no-underline file-status-button\"\n        onClick={onClick}\n        data-testid=\"menu-button-decline\"\n        disabled={!onClick}\n      >\n        <Icon name=\"circle-delete\" width={24} className=\"outline icon-orange\" />\n        <span>Decline</span>\n      </Button>\n    </div>\n  );\n};\n\nexport default Decline;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\n\nconst SharedFile = () => {\n  return (\n    <div>\n      <div className=\"shared-pill\" data-testid=\"shared-with-client-pill\">\n        <Icon name=\"view\" width={20} className=\"fill icon-black\" />\n        <span className=\"text-shared-with-client\">\n          Draft shared with client\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default SharedFile;\n","import React, { useState, useRef } from 'react';\nimport { Popover, Overlay } from 'react-bootstrap';\nimport { Icon, Button } from '@pwc/pwc-deals-ui';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport useTabletOrMobile from '../../../../common/hooks/useTabletOrMobile';\n\nimport { requestFileStatusChange } from '../../../../common/redux/fileUpload/fileUploadThunk';\n\nimport './ApprovedFile.scss';\n\nconst ShareFilePopover = ({\n  target,\n  fileName = '',\n  isLoading = false,\n  show,\n  onConfirm = () => {},\n  onCancel = () => {}\n}) => {\n  const ref = useRef();\n  const isTabletOrMobile = useTabletOrMobile();\n\n  return (\n    <div ref={ref} data-testid=\"share-file-popover\">\n      <Overlay\n        show={show}\n        target={target}\n        rootClose\n        onHide={onCancel}\n        container={ref.current}\n        placement={isTabletOrMobile ? 'bottom-end' : 'left-start'}\n      >\n        <Popover className=\"share-file-popover\">\n          <Popover.Content className=\"popup-menu popup-confirmation share-file-popover\">\n            <Popover.Title>Share with client team?</Popover.Title>\n            <p data-testid=\"popover-confirmation-message\">\n              {`This will allow the client team to download and view the file \"${fileName}\".`}\n            </p>\n            <div className=\"confirm-buttons\">\n              <Button onClick={onCancel} className=\"button-link mr-3\">\n                Cancel\n              </Button>\n              <Button\n                onClick={onConfirm}\n                className=\"button-small\"\n                disabled={isLoading}\n              >\n                Yes, share now\n              </Button>\n            </div>\n          </Popover.Content>\n        </Popover>\n      </Overlay>\n    </div>\n  );\n};\n\nconst ApprovedFile = ({ file }) => {\n  const dispatch = useDispatch();\n\n  const [target, setTarget] = useState();\n  const [showShare, setShowShare] = useState(false);\n\n  const { projectId } = useParams();\n\n  const showPopover = e => {\n    setTarget(e.target);\n    setShowShare(true);\n  };\n\n  const hidePopover = () => {\n    setShowShare(false);\n  };\n\n  return (\n    <div>\n      <Button\n        data-testid=\"file-approved-btn\"\n        className=\"button-menu button-no-underline file-status-button\"\n        onClick={showPopover}\n      >\n        <Icon name=\"view\" width={24} className=\"outline icon-orange\" />\n        <span>Share with client</span>\n      </Button>\n      <ShareFilePopover\n        target={target}\n        onCancel={hidePopover}\n        onConfirm={() =>\n          dispatch(\n            requestFileStatusChange(projectId, file.fileId, 'ShareWithClient')\n          )\n        }\n        fileName={file.fileName}\n        show={showShare}\n      />\n    </div>\n  );\n};\n\nexport default ApprovedFile;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport StatusPill from '../../../common/components/Pills/StatusPill';\nimport { requestFileStatusChange } from '../../../common/redux/fileUpload/fileUploadThunk';\nimport userTokenService from '../../../common/services/security/userTokenService';\nimport CONSTANTS from '../Constants';\nimport CancelRequest from './CancelRequest';\nimport RequestApproval from './RequestApproval';\nimport Approve from './Approve';\nimport Decline from './Decline';\nimport './FileStatus.scss';\n\nimport SharedFile from './SharedFile/SharedFile';\nimport ApprovedFile from './ApprovedFile/ApprovedFile';\n\nconst FileStatus = ({ file }) => {\n  const dispatch = useDispatch();\n  const { status, fileId } = file || { status: '', fileId: 0 };\n  const projectId = useSelector(state => state.project && state.project.id);\n  const [isTeamMember, setIsTeamMember] = useState(true);\n  const [isReadOnly, setIsReadOnly] = useState(true);\n\n  useEffect(() => {\n    const getPermissions = async () => {\n      setIsTeamMember(\n        await userTokenService.hasProjectRoles(projectId, [\n          Constants.USER_ROLES.TEAM_MEMBER\n        ])\n      );\n      setIsReadOnly(\n        await userTokenService.hasProjectRoles(projectId, [\n          Constants.USER_ROLES.PWC_READONLY\n        ])\n      );\n    };\n    getPermissions().then();\n  }, [projectId]);\n\n  const translateReadOnlyStatus = () => {\n    // see https://wwtas-pwcdealsos.atlassian.net/browse/PWC-5471\n    switch (status) {\n      case CONSTANTS.STATUSES.CAN_REQUEST_APPROVAL:\n        return CONSTANTS.CONTENTS.TEXT_STATUSES.CAN_REQUEST_APPROVAL;\n      case CONSTANTS.STATUSES.CAN_BE_APPROVED_OR_DECLINED:\n        return CONSTANTS.CONTENTS.TEXT_STATUSES.CAN_BE_APPROVED_OR_DECLINED;\n      case CONSTANTS.STATUSES.APPROVED:\n        return CONSTANTS.CONTENTS.TEXT_STATUSES.APPROVED;\n      default:\n        return status;\n    }\n  };\n\n  switch (status) {\n    case CONSTANTS.STATUSES.SHARED:\n      return <SharedFile />;\n    case CONSTANTS.STATUSES.CAN_REQUEST_APPROVAL:\n      if (isReadOnly) break;\n      return (\n        <RequestApproval\n          onClick={() =>\n            dispatch(\n              requestFileStatusChange(\n                projectId,\n                fileId,\n                CONSTANTS.OPERATIONS.CAN_REQUEST_APPROVAL\n              )\n            )\n          }\n        />\n      );\n    case CONSTANTS.STATUSES.CAN_BE_APPROVED_OR_DECLINED: {\n      if (isReadOnly) break;\n      if (isTeamMember) {\n        return (\n          <CancelRequest\n            onClick={() =>\n              dispatch(\n                requestFileStatusChange(\n                  projectId,\n                  fileId,\n                  CONSTANTS.OPERATIONS.CAN_BE_APPROVED_OR_DECLINED.CANCEL\n                )\n              )\n            }\n          />\n        );\n      }\n      return (\n        <div className=\"approve-decline\">\n          <Approve\n            onClick={() =>\n              dispatch(\n                requestFileStatusChange(\n                  projectId,\n                  fileId,\n                  CONSTANTS.OPERATIONS.CAN_BE_APPROVED_OR_DECLINED.APPROVED\n                )\n              )\n            }\n          />\n          <div className=\"divider\" />\n          <Decline\n            onClick={() =>\n              dispatch(\n                requestFileStatusChange(\n                  projectId,\n                  fileId,\n                  CONSTANTS.OPERATIONS.CAN_BE_APPROVED_OR_DECLINED.REJECTED\n                )\n              )\n            }\n          />\n        </div>\n      );\n    }\n    case CONSTANTS.STATUSES.APPROVED:\n      if (isReadOnly) break;\n      return <ApprovedFile file={file} />;\n    default:\n      return (\n        <div>\n          <StatusPill title={translateReadOnlyStatus()} />\n        </div>\n      );\n  }\n\n  return (\n    <div>\n      <StatusPill title={translateReadOnlyStatus()} />\n    </div>\n  );\n};\n\nexport default FileStatus;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DateTime } from 'luxon';\n\nimport authorizationService from '../../../common/services/security/authorizationService';\nimport useTabletOrMobile from '../../../common/hooks/useTabletOrMobile';\nimport FileActions from '../Actions/FileActions/FileActions';\nimport FileStatus from '../Status/FileStatus';\n\nimport './FileListItem.scss';\n\nconst FileListItem = ({ file }) => {\n  const isClientUser = authorizationService.isClientUser();\n  const isTabletOrMobile = useTabletOrMobile();\n\n  return (\n    <div\n      className={classNames('file-list-item', {\n        'file-list-item--three-columns': isClientUser\n      })}\n    >\n      <div className=\"file-list-item__file-name\">{file.fileName}</div>\n      {isTabletOrMobile && !isClientUser && <FileStatus file={file} />}\n      {isTabletOrMobile && <FileActions file={file} />}\n      <div className=\"file-list-item__date\">\n        {DateTime.fromSeconds(file.uploadedDateTime).toFormat(\n          'HH:mm ZZZZ - dd LLL yyyy'\n        )}\n      </div>\n      {!isClientUser && (\n        <>\n          <div className=\"file-list-item__uploaded-by\">\n            {isTabletOrMobile && 'by '}\n            {file.uploadedBy}\n          </div>\n          {!isTabletOrMobile && <FileStatus file={file} />}\n        </>\n      )}\n      {isTabletOrMobile ? (\n        <div className=\"clearfix\" />\n      ) : (\n        <FileActions file={file} />\n      )}\n    </div>\n  );\n};\n\nexport default FileListItem;\n","import React from 'react';\nimport './FileListZeroStateCopy.scss';\nimport authorizationService from '../../../common/services/security/authorizationService';\nimport CONSTANTS from '../Constants';\n\nconst FileListZeroStateCopy = () => {\n  const isClientUser = authorizationService.isClientUser();\n  return (\n    <div\n      className=\"file-list-panel text-center\"\n      data-testid={CONSTANTS.TEST_IDS.ZERO_STATE}\n    >\n      {isClientUser ? (\n        <div>{CONSTANTS.CONTENTS.ZERO_STATE.CLIENT_USER}</div>\n      ) : (\n        <div>{CONSTANTS.CONTENTS.ZERO_STATE.PWC_USER}</div>\n      )}\n    </div>\n  );\n};\n\nexport default FileListZeroStateCopy;\n","import { Loader } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { getFilesState } from '../../../common/redux/fileUpload/fileUploadSlice';\nimport CONSTANTS from '../Constants';\nimport FileListItem from './FileListItem';\nimport FileListZeroStateCopy from './FileListZeroStateCopy';\n\nconst FileList = () => {\n  const { data, loading, error } = useSelector(getFilesState);\n\n  if (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  }\n\n  return (\n    <>\n      {loading && <Loader dataTestId={CONSTANTS.TEST_IDS.LOADER} />}\n      {!loading &&\n        data &&\n        data.files &&\n        (data.files.length === 0 ? (\n          <FileListZeroStateCopy />\n        ) : (\n          data.files.map(file => <FileListItem key={file.fileId} file={file} />)\n        ))}\n    </>\n  );\n};\n\nexport default FileList;\n","import { Icon, MiniLoader } from '@pwc/pwc-deals-ui';\nimport classNames from 'classnames';\nimport React from 'react';\nimport './FilesUploaded.scss';\n\nconst FileUploaded = ({ file, clearFile, loading, error, fullErrorCopy }) => {\n  const hasError = !!error || !!fullErrorCopy;\n  const onKeyDown = e => {\n    if (e.keyCode === 32) {\n      e.preventDefault();\n      clearFile();\n    }\n  };\n\n  return (\n    <div className=\"files\">\n      <h6>File to upload</h6>\n      {(file || fullErrorCopy) && (\n        <div className={classNames('file', { 'file-upload-error': hasError })}>\n          {loading && <MiniLoader />}\n          {hasError && (\n            <Icon\n              name=\"alert\"\n              className=\"icon-error fill\"\n              width={24}\n              onClick={clearFile}\n              tabIndex={0}\n              onKeyDown={onKeyDown}\n            />\n          )}\n          <Icon\n            name=\"circle-cross\"\n            className=\"action-icon outline icon-orange-theme with-hover\"\n            width={24}\n            onClick={clearFile}\n            tabIndex={0}\n            onKeyDown={onKeyDown}\n          />\n          <span>\n            {fullErrorCopy ||\n              (error ? `Failed to upload: \"${file.name}\"` : file.name)}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FileUploaded;\n","import React, { useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './DropArea.scss';\nimport FileUploaded from './FileUploaded';\n\nconst MAX_FILE_SIZE_25MB = 25000000;\n\nconst DropArea = ({ onDropAccepted }) => {\n  const [fileRejectedError, setFileRejectedError] = useState(null);\n  const { getRootProps, getInputProps } = useDropzone({\n    disabled: false,\n    maxFiles: 1,\n    maxSize: MAX_FILE_SIZE_25MB,\n    multiple: false,\n    onDropAccepted,\n    onDropRejected: errorFiles => {\n      if (errorFiles && errorFiles.length > 0) {\n        const errorFile = errorFiles[0];\n        const isFileMaxSizeError =\n          errorFile.errors.length > 0 &&\n          errorFile.errors[0].code === 'file-too-large';\n        setFileRejectedError(\n          isFileMaxSizeError\n            ? `Failed to upload \"${errorFile.file.name}\" as file is over 25MB.`\n            : `Failed to upload \"${errorFile.file.name}\"`\n        );\n      }\n    }\n  });\n\n  if (fileRejectedError) {\n    return (\n      <FileUploaded\n        fullErrorCopy={fileRejectedError}\n        clearFile={() => setFileRejectedError(null)}\n        loading={false}\n      />\n    );\n  }\n\n  return (\n    <div\n      {...getRootProps()}\n      className=\"drop-area__droppable-container droppable-area\"\n      data-testid=\"drop-area\"\n    >\n      <input {...getInputProps()} />\n      <div className=\"drop-area__background\">\n        <div className=\"drop-area__background__content\">\n          <Icon name=\"placeholder-dnd\" className=\"fill icon-grey-medium\" />\n          <span className=\"drop-area__background__hint background-text\">\n            Drag and drop it here, or{' '}\n            <span className=\"ui-button button-link button-theme\">\n              choose the file\n            </span>{' '}\n            (max file size is 25MB)\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DropArea;\n","import React from 'react';\nimport './DropArea.scss';\nimport DropArea from './DropArea';\nimport FileUploaded from './FileUploaded';\n\nconst DropZone = ({ file, onDropAccepted, clearFile, loading, error }) => {\n  if (file) {\n    return (\n      <FileUploaded\n        file={file}\n        clearFile={clearFile}\n        loading={loading}\n        error={error}\n      />\n    );\n  }\n  return <DropArea onDropAccepted={onDropAccepted} />;\n};\n\nexport default DropZone;\n","import { Button } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './ModalActions.scss';\n\nconst ModalActions = ({ post, disabled, closeModal }) => {\n  return (\n    <div className=\"modal-upload-actions\">\n      <button\n        className=\"ui-button button-link button-theme\"\n        type=\"button\"\n        onClick={closeModal}\n      >\n        Cancel\n      </button>\n      <Button\n        className=\"btn-large\"\n        type=\"button\"\n        onClick={post}\n        disabled={disabled}\n      >\n        Upload\n      </Button>\n    </div>\n  );\n};\n\nexport default ModalActions;\n","import { Icon } from '@pwc/pwc-deals-ui';\nimport React from 'react';\nimport './PasswordSection.scss';\n\nconst PasswordSection = ({ password, setPassword }) => {\n  const onChange = ({ target: { value } }) => setPassword(value);\n\n  return (\n    <div className=\"password-wrapper\">\n      <h6>Password</h6>\n      <div className=\"content\">\n        <Icon name=\"information\" className=\"fill icon-yellow\" width={16} />\n        <div>\n          Add a password to the file. If the file already has one, you can enter\n          it here so that all users can discover the password using the ‘Show\n          password’ feature in Junction.\n        </div>\n      </div>\n      <input\n        className=\"input-field\"\n        onChange={onChange}\n        value={password}\n        type=\"text\"\n      />\n    </div>\n  );\n};\n\nexport default PasswordSection;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { Modal } from 'react-bootstrap';\nimport PageTitle from '../../../common/components/PageTitle/PageTitle';\nimport {\n  getFileUploadState,\n  setFileUploadError\n} from '../../../common/redux/fileUpload/fileUploadSlice';\nimport DropZone from './DropZone/DropZone';\nimport './FileUploadModal.scss';\nimport ModalActions from './ModalActions';\nimport PasswordSection from './PasswordSection';\nimport { updateFile } from '../../../common/redux/fileUpload/fileUploadThunk';\n\nconst FileUploadModal = ({ onHide }) => {\n  const { projectId } = useParams();\n  const [file, setFile] = useState(null);\n  const [password, setPassword] = useState('');\n\n  const dispatch = useDispatch();\n  const { uploadedFileId, uploadedFileName } = useSelector(getFileUploadState);\n  const post = () => {\n    dispatch(updateFile(projectId, password, file, uploadedFileId));\n  };\n\n  const { loading, error } = useSelector(getFileUploadState);\n\n  const uploadFile = files => {\n    if (files.length > 0) {\n      setFile(files[0]);\n    }\n  };\n\n  const clearFile = () => {\n    dispatch(setFileUploadError({ error: null }));\n    setFile(null);\n  };\n\n  const pageTitle = uploadedFileId\n    ? `Update ${uploadedFileName}`\n    : 'Upload a file';\n\n  return (\n    <>\n      <Modal.Header closeButton>\n        <div>\n          <Modal.Title>\n            <PageTitle title={pageTitle} size=\"h2\" />\n          </Modal.Title>\n          <p>\n            Word, Excel, PowerPoint and PDF files are uploaded in their\n            respective file format. All other file types are compressed into a\n            ZIP file so that a password can be added.\n          </p>\n        </div>\n      </Modal.Header>\n      <Modal.Body>\n        <DropZone\n          file={file}\n          onDropAccepted={uploadFile}\n          clearFile={clearFile}\n          loading={loading}\n          error={error}\n        />\n        <PasswordSection password={password} setPassword={setPassword} />\n      </Modal.Body>\n      <Modal.Footer>\n        <ModalActions\n          post={post}\n          disabled={!file || password === '' || loading || !!error}\n          closeModal={onHide}\n        />\n      </Modal.Footer>\n    </>\n  );\n};\n\nexport default FileUploadModal;\n","import React from 'react';\nimport { Modal } from 'react-bootstrap';\nimport './FileUploadModal.scss';\nimport FileUploadModalContent from './FileUploadModalContent';\n\nconst FileUploadModal = ({ show, onHide }) => {\n  return (\n    <Modal className=\"upload-modal\" show={show} onHide={onHide}>\n      {show && <FileUploadModalContent onHide={onHide} />}\n    </Modal>\n  );\n};\n\nexport default FileUploadModal;\n","import React, { useEffect, useState } from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport authorizationService from '../../../common/services/security/authorizationService';\nimport userTokenService from '../../../common/services/security/userTokenService';\n\nimport './FileUploader.scss';\nimport EnableForProjectState from '../../security/EnableForProjectState';\n\nconst FileUploader = ({ projectId, openModal }) => {\n  const isClientUser = authorizationService.isClientUser();\n  const [allowUploadByRole, setAllowByRoleUpload] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      const isPwcReadOnlyRole = await userTokenService.hasProjectRoles(\n        projectId,\n        [\n          Constants.USER_ROLES.PWC_READONLY_DISPLAY,\n          Constants.USER_ROLES.PWC_READONLY\n        ]\n      );\n      if (!isPwcReadOnlyRole) {\n        setAllowByRoleUpload(true);\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (isClientUser || !allowUploadByRole) return null;\n  return (\n    <EnableForProjectState projectId={projectId}>\n      {({ isProjectDisabled }) => (\n        <div className=\"file-uploader\">\n          <Button\n            disabled={isProjectDisabled}\n            className=\"btn-large\"\n            type=\"button\"\n            onClick={openModal}\n            data-testid=\"file-uploader-button\"\n          >\n            Upload file...\n          </Button>\n        </div>\n      )}\n    </EnableForProjectState>\n  );\n};\n\nexport default FileUploader;\n","import React, { useCallback, useEffect } from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\n\nimport './UploadSuccessBanner.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getFileUploadState,\n  hideSuccessMessage\n} from '../../../../common/redux/fileUpload/fileUploadSlice';\n\nconst UploadSuccessBanner = () => {\n  const { successMessage } = useSelector(getFileUploadState);\n  const dispatch = useDispatch();\n  const onClose = useCallback(() => dispatch(hideSuccessMessage()), [dispatch]);\n\n  useEffect(() => {\n    setTimeout(onClose, 10000);\n  }, [onClose, successMessage]);\n  if (!successMessage) return null;\n\n  return (\n    <div className=\"upload-success-banner\">\n      <p className=\"icon-checkmark\">\n        <Icon name=\"checkmark\" className=\"fill icon-white\" width={12} />\n      </p>\n      <p>{successMessage}</p>\n      <button className=\"icon-button\" type=\"button\" onClick={onClose}>\n        <Icon name=\"close\" className=\"fill icon-white\" width={12} />\n      </button>\n    </div>\n  );\n};\n\nexport default UploadSuccessBanner;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport {\n  getFileUploadState,\n  openModal,\n  closeModal\n} from '../../common/redux/fileUpload/fileUploadSlice';\nimport { getFilesThunk } from '../../common/redux/fileUpload/fileUploadThunk';\n\nimport FileHeaders from './List/FileHeaders';\nimport FileList from './List/FileList';\nimport FileUploadModal from './Modal/FileUploadModal';\nimport FileUploader from './Upload/FileUploader';\n\nimport './FilesContainer.scss';\nimport UploadSuccessBanner from './Upload/UploadSuccessBanner/UploadSuccessBanner';\n\nconst FilesContainer = () => {\n  const { projectId } = useParams();\n  const { showModal } = useSelector(getFileUploadState);\n  const dispatch = useDispatch();\n  const onModalHide = () => dispatch(closeModal());\n\n  useEffect(() => {\n    dispatch(getFilesThunk(projectId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"file-list-container\">\n      <FileUploadModal show={showModal} onHide={onModalHide} />\n      <div className=\"list-container-header\">\n        <h2>Files</h2>\n        <FileUploader\n          projectId={projectId}\n          openModal={() => dispatch(openModal())}\n        />\n      </div>\n      <UploadSuccessBanner />\n      <FileHeaders />\n      <FileList />\n    </div>\n  );\n};\n\nexport default FilesContainer;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport FilesContainer from './FilesContainer';\n\nconst FileUploadContentRouter = () => {\n  return (\n    <Route\n      exact\n      path=\"/projects/:projectId/files/\"\n      component={FilesContainer}\n    />\n  );\n};\nexport default FileUploadContentRouter;\n","import React from 'react';\nimport './DealDetails.scss';\n\nconst DealDetails = ({ dataTestId, title, content }) => {\n  return (\n    <>\n      {!content && (\n        <div className=\"deal-details\" data-testid={dataTestId}>\n          <span className=\"deal-details-title\">{title}</span>\n          <span className={`deal-details-content ${title}`}>-</span>\n        </div>\n      )}\n      {content && (\n        <div className=\"deal-details\" data-testid={dataTestId}>\n          <span className=\"deal-details-title\">{title}</span>\n          <span className={`deal-details-content ${title}`}>{content}</span>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default DealDetails;\n","import React from 'react';\nimport { string } from 'prop-types';\nimport { TextUtilities } from '@pwc/pwc-deals-web-common';\nimport './UserSnippet.scss';\nimport authorizationService from '../services/security/authorizationService';\n\nconst UserSnippet = ({ dataTestId, firstName, lastName, position, email }) => {\n  const userTypeClass = authorizationService.getUserTypeClass(email);\n  return (\n    <div className=\"usersnippet-container\" data-testid={dataTestId}>\n      <div\n        className={`usersnippet-photo  ${userTypeClass}`}\n        data-testid={`${dataTestId}-initials`}\n      >\n        {TextUtilities.getUserInitials(firstName, lastName)}\n      </div>\n      <div className=\"usersnippet-text\">\n        <div className=\"usersnippet-name\">{`${firstName} ${lastName}`}</div>\n        <div className=\"usersnippet-position\">{position}</div>\n      </div>\n    </div>\n  );\n};\n\nUserSnippet.propTypes = {\n  firstName: string,\n  lastName: string,\n  email: string,\n  dataTestId: string\n};\n\nUserSnippet.defaultProps = {\n  firstName: '',\n  lastName: '',\n  email: '',\n  dataTestId: 'user-snippet'\n};\n\nexport default UserSnippet;\n","import React from 'react';\nimport './NewAndUpdated.scss';\nimport {\n  NotificationCounts,\n  NotificationCountLink\n} from '@pwc/pwc-deals-notification-ui';\n\nconst NewAndUpdated = ({\n  newContent,\n  updatedContent,\n  projectId,\n  shouldRetrieveNotificationCount\n}) => {\n  return (\n    <div className=\"new-and-updated-container\">\n      <NotificationCounts\n        projectId={projectId}\n        shouldRetrieveNotificationCount={shouldRetrieveNotificationCount}\n      />\n      <NotificationCountLink\n        text=\"New Content\"\n        to={\n          shouldRetrieveNotificationCount\n            ? `/projects/${projectId}/notifications/project-activity`\n            : '/projects'\n        }\n        count={newContent}\n      />\n      <NotificationCountLink\n        text=\"Updated Content\"\n        to={\n          shouldRetrieveNotificationCount\n            ? `/projects/${projectId}/notifications/project-activity`\n            : '/projects'\n        }\n        count={updatedContent}\n      />\n    </div>\n  );\n};\nexport default NewAndUpdated;\n","import React from 'react';\nimport { TextUtilities } from '@pwc/pwc-deals-web-common';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { Link, useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport EnableForProjectState from '../../security/EnableForProjectState';\nimport ShowForPermissions from '../../security/ShowForPermissions';\nimport './ContentLinkSubPanel.scss';\n\nconst ContentLinkSubPanel = ({\n  contentType,\n  contentListLinkTo,\n  contentAddLinkTo,\n  itemCount,\n  contentListIconName\n}) => {\n  const { projectId } = useParams();\n\n  let addOrArrow = false;\n  addOrArrow = itemCount >= 1;\n\n  return (\n    <div\n      className=\"project-overview-subpanel\"\n      data-testid=\"content-link-sub-panel\"\n    >\n      <div className=\"nowrap\">\n        <Link to={contentListLinkTo} className=\"overview-title-link\">\n          <Icon\n            name={contentListIconName}\n            width={24}\n            className=\"title-icon outline icon-grey hover-white\"\n          />\n          <span\n            className=\"title\"\n            data-testid={`${TextUtilities.slugify(contentType)}-overview`}\n          >\n            {`${contentType}: ${itemCount}`}\n          </span>\n        </Link>\n      </div>\n      {addOrArrow ? (\n        <div className=\"showlist\">\n          <Link\n            to={contentListLinkTo}\n            data-testid={`${TextUtilities.slugify(contentType)}-link`}\n            aria-label={contentType}\n            className=\"access-content\"\n          >\n            <Icon\n              name=\"arrow-right\"\n              width={24}\n              className=\"outline icon-orange\"\n            />\n          </Link>\n        </div>\n      ) : (\n        <ShowForPermissions projectId={projectId} permissions={['Contribute']}>\n          <EnableForProjectState projectId={projectId}>\n            {({ isProjectDisabled }) =>\n              !isProjectDisabled && (\n                <div className=\"addbutton\">\n                  <Link\n                    to={contentAddLinkTo}\n                    data-testid={`${TextUtilities.slugify(contentType)}-link`}\n                    aria-label={contentType}\n                    className=\"add-link\"\n                  >\n                    <Icon\n                      name=\"add\"\n                      width={24}\n                      className=\"outline icon-orange\"\n                    />\n                  </Link>\n                </div>\n              )\n            }\n          </EnableForProjectState>\n        </ShowForPermissions>\n      )}\n    </div>\n  );\n};\n\nContentLinkSubPanel.propTypes = {\n  contentType: PropTypes.string.isRequired,\n  contentListLinkTo: PropTypes.string.isRequired,\n  contentAddLinkTo: PropTypes.string.isRequired,\n  itemCount: PropTypes.number.isRequired,\n  contentListIconName: PropTypes.string.isRequired\n};\n\nexport default ContentLinkSubPanel;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { useParams } from 'react-router-dom';\n\nconst KPIDetail = ({ name, value, trend = '', link = '', identifier }) => {\n  const { projectId } = useParams();\n\n  return (\n    <div className=\"kpi-detail\">\n      <span className=\"kpi-name\" data-testid={`kpi-name-${identifier}`}>\n        {link ? (\n          <a\n            href={`/projects/${projectId}/${link}`}\n            data-testid={`kpi-link-${identifier}`}\n          >\n            {name}\n          </a>\n        ) : (\n          name\n        )}\n      </span>\n      <p className=\"kpi-value\">\n        <span\n          className=\"kpi-value-text\"\n          data-testid={`kpi-value-text-${identifier}`}\n        >\n          {value}\n        </span>\n        <span\n          className=\"kpi-value-icon\"\n          data-testid={`kpi-value-icon-${identifier}`}\n        >\n          {trend && (\n            <Icon\n              name={trend === 'flat' ? 'minus' : `${trend}trend`}\n              width={15}\n              fill=\"#ffff\"\n              className=\"name-icon fill\"\n            />\n          )}\n        </span>\n      </p>\n    </div>\n  );\n};\n\nexport default KPIDetail;\n","import React from 'react';\nimport KPIDetail from './KPIDetail';\n\nconst KPISection = ({ name, index, indicators }) => {\n  return (\n    <div className=\"kpi-section\">\n      <h5 data-testid={`kpi-section-header-${index}`}>{name}</h5>\n      <div className=\"kpi-section-details\">\n        {indicators.map((indicator, indicatorIndex) => (\n          <KPIDetail\n            name={indicator.name}\n            value={indicator.value}\n            trend={indicator.trend}\n            link={indicator.link}\n            identifier={`section-${index}-detail-${indicatorIndex}`}\n            key={`kpi-${indicator.name}`}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default KPISection;\n","import { ProjectHttpClient } from '../../common/services/httpClient';\n\nexport const getKPIs = async projectId => {\n  const response = await ProjectHttpClient.get(\n    `projects/${projectId}/key-performance-indicators`\n  );\n  return response.data.sections;\n};\n","import React, { useState, useEffect } from 'react';\nimport './KPIContainer.scss';\nimport { useParams } from 'react-router-dom';\nimport KPISection from './KPISection';\nimport { getKPIs } from '../../KPIService';\n\nconst KPIContainer = () => {\n  const { projectId } = useParams();\n  const [kpis, setKpis] = useState([]);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    (async () => {\n      const response = await getKPIs(projectId);\n      if (isMounted) setKpis(response);\n    })();\n\n    return () => {\n      isMounted = false;\n      setKpis([]);\n    };\n  }, [projectId]);\n\n  return kpis.length > 0 ? (\n    <div className=\"kpi-container\" data-testid=\"kpi-container\">\n      <h2>KPIs</h2>\n      <div className=\"kpi-subpanel\">\n        {kpis.map(({ name, indicators }, index) => (\n          <KPISection\n            name={name}\n            index={index}\n            indicators={indicators}\n            key={`kpi-section-${name}`}\n          />\n        ))}\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default KPIContainer;\n","import {\n  ProjectHttpClient\n  // ContentServiceHttpClient // TODO: uncomment when /topics EP is ready\n} from '../../common/services/httpClient';\n\nconst baseServicePath = (projectId, topicThreadId, versionStatus) =>\n  ['projects', projectId, 'topics', topicThreadId, versionStatus]\n    .filter(Boolean)\n    .join('/');\n\nexport const postTopic = async (projectId, topicData) => {\n  const response = await ProjectHttpClient.post(\n    baseServicePath(projectId),\n    topicData\n  );\n  return response.data;\n};\n\nexport const putTopic = async (projectId, topicThreadId, topicData) => {\n  const response = await ProjectHttpClient.put(\n    baseServicePath(projectId, topicThreadId),\n    topicData\n  );\n  return response.data;\n};\n\nexport const getAllTopics = async projectId => {\n  // TODO: use when the /contentapi/topics EP is completely ready\n  // const response = await ContentServiceHttpClient.get(\n  //   `projects/${projectId}/topics`\n  // );\n\n  // return response && response.data && response.data.items\n  //   ? response.data.items\n  //   : [];\n\n  const response = await ProjectHttpClient.get(baseServicePath(projectId));\n  return response.data;\n};\n\nexport const getTopic = async (projectId, topicThreadId, versionStatus) => {\n  const response = await ProjectHttpClient.get(\n    baseServicePath(projectId, topicThreadId, versionStatus)\n  );\n  return response.data;\n};\n\nexport const deleteTopic = async (projectId, topicThreadId) => {\n  const response = await ProjectHttpClient.delete(\n    baseServicePath(projectId, topicThreadId)\n  );\n\n  return response.data;\n};\n\nexport const updateTopicStatus = async (\n  projectId,\n  topicThreadId,\n  workflowAction\n) => {\n  const url = `${baseServicePath(projectId, topicThreadId)}/${workflowAction}`;\n  const response = await ProjectHttpClient.post(url);\n\n  return response.data;\n};\n\nexport const getTopicVersions = async (projectId, topicThreadId) => {\n  const response = await ProjectHttpClient.get(\n    `${baseServicePath(projectId, topicThreadId)}/versions`\n  );\n\n  return response.data;\n};\n\nexport const updateTopicOrder = async (projectId, topicOrder) => {\n  const response = await ProjectHttpClient.post(\n    `${baseServicePath(projectId)}/sortorder`,\n    topicOrder\n  );\n\n  return response.data;\n};\n","import { createContext } from 'react';\n\nconst NarrativesContext = createContext(null);\n\nexport default NarrativesContext;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Select } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { find } from 'lodash';\nimport { getSharedHypotheses } from '../../../../../hypotheses/hypothesesService';\nimport { getExcelCharts } from '../../../../../contentLibrary/libraryItemService';\nimport './TopicContentSelectSearch.scss';\nimport NarrativesContext from '../../../../../../common/contexts/NarrativesContext';\n\nconst TopicContentSelectSearch = ({\n  handleSelectChange,\n  selectedContentId,\n  contentType,\n  placeholderText = 'Search and select'\n}) => {\n  const { hypotheses } = useContext(NarrativesContext) || { hypotheses: [] };\n  const [contentOptions, setContentOptions] = useState([]);\n  const [search, setSearch] = useState('');\n  const { projectId } = useParams();\n\n  useEffect(() => {\n    const fetch = async () => {\n      if (contentType === Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString) {\n        const results = await getSharedHypotheses(projectId);\n        const options = results.map(r => {\n          const latestHypothesis = find(hypotheses, {\n            contentThreadId: r.contentThreadId\n          });\n          return {\n            title: r.title,\n            id: latestHypothesis.contentThreadId,\n            value: {\n              contentId: latestHypothesis.contentId,\n              contentThreadId: latestHypothesis.contentThreadId\n            }\n          };\n        });\n        setContentOptions(options);\n      }\n      if (contentType === Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString) {\n        getExcelCharts(projectId).then(results => {\n          const options = results.map(r => {\n            return { title: r.name, id: r.id, value: r.id };\n          });\n          setContentOptions(options);\n        });\n      }\n    };\n    fetch();\n  }, [projectId, contentType, hypotheses]);\n\n  useEffect(() => {\n    if (contentOptions.length === 0) {\n      return;\n    }\n\n    const selectedOption = contentOptions.find(content => {\n      return content.title === search;\n    });\n\n    if (selectedOption) {\n      handleSelectChange(selectedOption.value);\n    } else {\n      handleSelectChange(null);\n    }\n  }, [handleSelectChange, contentOptions, search]);\n\n  useEffect(() => {\n    if (contentOptions.length && parseInt(selectedContentId, 10)) {\n      const selectedContent = contentOptions.find(\n        h => h.id === selectedContentId\n      );\n\n      if (selectedContent) {\n        setSearch(selectedContent.title);\n      }\n    }\n  }, [selectedContentId, contentOptions]);\n\n  const searchField = {\n    name: `topic-${contentType}-search`,\n    value: search\n  };\n\n  return (\n    <div className=\"topic-text-input-width-limit\">\n      <Select\n        label={\n          contentType === Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString\n            ? 'Chart Name'\n            : 'Key Focus Area Name'\n        }\n        data-testid={`select-topic-${\n          contentType === Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString\n            ? 'chart'\n            : 'kfa'\n        }`}\n        field={searchField}\n        placeholder={placeholderText}\n        options={contentOptions.map(content => {\n          return {\n            value: content.title,\n            key: content.id.toString()\n          };\n        })}\n        onChange={e => setSearch(e.target.value)}\n        value={search}\n        basic\n      />\n    </div>\n  );\n};\n\nexport default TopicContentSelectSearch;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport { RadioGroup } from '@pwc/pwc-deals-ui';\nimport React, { useCallback, useState } from 'react';\nimport RichTextEditor from '../../../../../../common/components/RichTextEditor/RichTextEditor';\nimport TopicContentSelectSearch from '../TopicContentSelectSearch/TopicContentSelectSearch';\n\nconst SingleColumnLayout = ({\n  column,\n  contentType,\n  setContentTypes,\n  richText,\n  setRichTexts,\n  hypothesisId,\n  setHypothesisArray,\n  excelChartId,\n  setExcelChartIdArray,\n  labelComponent,\n  lightModeVariant\n}) => {\n  const [focused, setFocused] = useState(false);\n\n  const handleContentTypeChange = useCallback(\n    event => {\n      const { value } = event.target;\n      setContentTypes(previousContentTypes => {\n        const newContentTypes = [...previousContentTypes];\n        newContentTypes[column] = value;\n        return newContentTypes;\n      });\n    },\n    [column, setContentTypes]\n  );\n\n  const handleRichTextChange = useCallback(\n    text => {\n      setRichTexts(previousRichTexts => {\n        const newRichTexts = [...previousRichTexts];\n        newRichTexts[column] = text;\n        return newRichTexts;\n      });\n    },\n    [column, setRichTexts]\n  );\n\n  const handleHypothesisChange = useCallback(\n    id => {\n      setHypothesisArray(previousHypotheses => {\n        const newHypotheses = [...previousHypotheses];\n        newHypotheses[column] = id;\n        return newHypotheses;\n      });\n    },\n    [column, setHypothesisArray]\n  );\n\n  const handleExcelChartChange = useCallback(\n    id => {\n      setExcelChartIdArray(previousExcelChartIds => {\n        const newExcelChartIds = [...previousExcelChartIds];\n        newExcelChartIds[column] = id;\n        return newExcelChartIds;\n      });\n    },\n    [column, setExcelChartIdArray]\n  );\n\n  const contentTypeField = {\n    name: `content-type-column-${column}`,\n    onChange: handleContentTypeChange,\n    value: contentType\n  };\n\n  const contentTypeOptions = Object.keys(Constants.TOPIC_PANEL_TYPES)\n    .filter(key => key !== 'UNDEFINED')\n    .map(topicPanelType => ({\n      label: Constants.TOPIC_PANEL_TYPES[topicPanelType].displayName,\n      value: Constants.TOPIC_PANEL_TYPES[topicPanelType].asString\n    }));\n\n  return (\n    <>\n      <h6>{labelComponent}</h6>\n      <RadioGroup\n        field={contentTypeField}\n        options={contentTypeOptions}\n        direction=\"row\"\n        className=\"content-type-radio-group\"\n      />\n      {contentType === Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString && (\n        <div className={`${lightModeVariant ? ' light-mode-variant' : ''}`}>\n          <RichTextEditor\n            richTextData={richText}\n            onChange={handleRichTextChange}\n            onBlur={(_, editor) => {\n              setFocused(false);\n              editor.ui.view.toolbar.element.style.display = 'none';\n            }}\n            onFocus={(_, editor) => {\n              setFocused(true);\n              editor.ui.view.toolbar.element.style.display = 'block';\n            }}\n            label=\"Description\"\n            isFocused={focused}\n          />\n        </div>\n      )}\n      {contentType === Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString && (\n        <TopicContentSelectSearch\n          handleSelectChange={handleHypothesisChange}\n          selectedContentId={hypothesisId}\n          contentType={Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString}\n          placeholderText=\"Select Key Focus Area\"\n        />\n      )}\n      {contentType === Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString && (\n        <TopicContentSelectSearch\n          handleSelectChange={handleExcelChartChange}\n          selectedContentId={excelChartId}\n          contentType={Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString}\n          placeholderText=\"Select chart\"\n        />\n      )}\n    </>\n  );\n};\n\nexport default SingleColumnLayout;\n","import { Constants } from '@pwc/pwc-deals-web-common';\nimport { get } from 'lodash';\n\nexport const mapTopicPanels = ({\n  topicLayoutTypeValue,\n  contentTypeArray,\n  richTextArray,\n  hypothesisArray,\n  excelChartIdArray\n}) => {\n  let numberOfPanels;\n\n  switch (topicLayoutTypeValue) {\n    case 18:\n      numberOfPanels = 3;\n      break;\n    case 15:\n      numberOfPanels = 2;\n      break;\n    case 14:\n      numberOfPanels = 2;\n      break;\n    case 11:\n      numberOfPanels = 2;\n      break;\n    case 8:\n      numberOfPanels = 3;\n      break;\n    case 3:\n      numberOfPanels = 3;\n      break;\n    case 2:\n      numberOfPanels = 2;\n      break;\n    default:\n      numberOfPanels = 1;\n  }\n  const placeholderArray = Array(numberOfPanels).fill(null);\n  return placeholderArray.map((_, i) => {\n    const panel = {\n      panelNumber: i + 1\n    };\n    switch (contentTypeArray[i]) {\n      case Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString:\n        panel.richText = richTextArray[i];\n        panel.type = Constants.TOPIC_PANEL_TYPES.RICH_TEXT.value;\n        break;\n      case Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString:\n        panel.hypothesisThreadId = get(\n          hypothesisArray,\n          [i, 'contentThreadId'],\n          null\n        );\n        panel.type = Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value;\n        break;\n      case Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString:\n      default:\n        panel.excelChartId = excelChartIdArray[i];\n        panel.type = Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.value;\n        break;\n    }\n    return panel;\n  });\n};\n\nconst mapTopicLinks = (hypothesisArray, contentTypeArray) =>\n  hypothesisArray\n    .filter(\n      (h, i) =>\n        h &&\n        contentTypeArray[i] ===\n          Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString\n    )\n    .map(h => h.contentId);\n\nexport const mapTopic = ({\n  topicLayoutTypeValue,\n  richTextArray,\n  hypothesisArray = [],\n  contentTypeArray,\n  excelChartIdArray,\n  topicTitle\n}) => {\n  const topicToSaveDto = {\n    title: topicTitle,\n    layoutType: topicLayoutTypeValue\n  };\n\n  topicToSaveDto.panels = mapTopicPanels({\n    contentTypeArray,\n    richTextArray,\n    hypothesisArray,\n    excelChartIdArray,\n    topicLayoutTypeValue\n  });\n\n  topicToSaveDto.links = mapTopicLinks(hypothesisArray, contentTypeArray);\n\n  return topicToSaveDto;\n};\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nconst isEmpty = str => {\n  return !str || str.trim() === '';\n};\n\nconst panelIsValid = ({\n  description,\n  hypothesisId,\n  contentType,\n  excelChartId\n}) => {\n  switch (contentType) {\n    case Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString:\n      return !isEmpty(description);\n    case Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString:\n      return !!parseInt(hypothesisId, 10);\n    case Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString:\n      return !!parseInt(excelChartId, 10);\n    default:\n      return false;\n  }\n};\n\nconst topicFormIsValid = ({ title, panels }) => {\n  if (isEmpty(title)) {\n    return false;\n  }\n\n  const hypothesisIds = panels\n    .filter(\n      panel =>\n        panel.contentType ===\n        Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.asString\n    )\n    .map(panel => panel.hypothesisId);\n  const hasDuplicateHypothesisIds =\n    hypothesisIds.length !== new Set(hypothesisIds).size;\n\n  const excelChartIds = panels\n    .filter(\n      panel =>\n        panel.contentType === Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.asString\n    )\n    .map(panel => panel.excelChartId);\n  const hasDuplicateExcelChartIds =\n    excelChartIds.length !== new Set(excelChartIds).size;\n\n  return (\n    !hasDuplicateHypothesisIds &&\n    !hasDuplicateExcelChartIds &&\n    panels.every(panelIsValid)\n  );\n};\n\nexport default topicFormIsValid;\n","import { string } from 'prop-types';\nimport React from 'react';\n\nconst getPath = name => {\n  switch (name) {\n    case 'layout-one-column-full-width-dark':\n      return (\n        <g\n          id=\"Layout/Icons/one-column-full-width\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z\"\n            id=\"Fill-1\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'layout-one-column-full-width-light':\n      return (\n        <g\n          id=\"Layout/Icons/One-Column-Full-Width/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,23 L35,23 L35,2 L2,2 L2,23 Z\"\n            id=\"Fill-1\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n    case 'layout-two-column-left-light':\n      return (\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            id=\"Fill-1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z\"\n            id=\"Fill-27\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n    case 'layout-two-column-left-dark':\n      return (\n        <g\n          id=\"Layout/Icons/two-column_left\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            id=\"Fill-1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M2,23 L17,23 L17,2 L2,2 L2,23 Z\"\n            id=\"Fill-27\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'layout-two-column-right-light':\n      return (\n        <g\n          id=\"Layout/Icons/Two-Column/Right/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            id=\"Fill-61\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            id=\"Fill-62\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n    case 'layout-two-column-right-dark':\n      return (\n        <g\n          id=\"Layout/Icons/two-column_right\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,0 Z M18,1 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            id=\"Fill-61\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            id=\"Fill-62\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'layout-two-column-narrow-left-dark':\n      return (\n        <g\n          id=\"Layout/Icons/two-column-narrow-right_left\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            id=\"Fill-5\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z\"\n            id=\"Fill-69\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n    case 'layout-two-column-narrow-left-light':\n      return (\n        <g\n          id=\"Layout/Icons/Two-Column-Narrow-Right/Left/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            id=\"Fill-5\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M2,23 L23,23 L23,2 L2,2 L2,23 Z\"\n            id=\"Fill-69\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-two-column-narrow-right-dark':\n      return (\n        <g\n          id=\"Layout/Icons/two-column-narrow-right_right\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            id=\"Fill-73\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            id=\"Fill-71\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-two-column-narrow-right-light':\n      return (\n        <g\n          id=\"Layout/Icons/Two-Column-Narrow-Right/Right/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M25,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L25,25 L25,0 Z M24,1 L24,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L24,1 L24,1 Z\"\n            id=\"Fill-73\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            id=\"Fill-71\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-three-column-left-dark':\n      return (\n        <g\n          id=\"Layout/Icons/three-column_left\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            id=\"Fill-9\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z\"\n            id=\"Fill-10\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M2,23 L11,23 L11,2 L2,2 L2,23 Z\"\n            id=\"Fill-60\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-three-column-right-dark':\n      return (\n        <g\n          id=\"Layout/Icons/three-column_right\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            id=\"Fill-3\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z\"\n            id=\"Fill-5\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            id=\"Fill-28\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-three-column-left-light':\n      return (\n        <g fill=\"none\" fillRule=\"evenodd\">\n          <path\n            d=\"m35 0h-11v25h11c1.104 0 2-.896 2-2v-21c0-1.104-.896-2-2-2m0 1c.552 0 1 .448 1 1v21c0 .552-.448 1-1 1h-10v-23z\"\n            fill=\"#7d7d7d\"\n          />\n          <path d=\"m12 25h13v-25h-13zm1-1h11v-23h-11z\" fill=\"#7d7d7d\" />\n          <path\n            d=\"m13 0h-11c-1.104 0-2 .896-2 2v21c0 1.104.896 2 2 2h11zm-11 23h9v-21h-9z\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-three-column-right-light':\n      return (\n        <g\n          id=\"Layout/Icons/Three-Column/Right/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            id=\"Fill-3\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M13,24 L24,24 L24,1 L13,1 L13,24 Z\"\n            id=\"Fill-5\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M26,23 L35,23 L35,2 L26,2 L26,23 Z\"\n            id=\"Fill-28\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-three-column-middle-dark':\n      return (\n        <g\n          id=\"Layout/Icons/three-column_middle\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            id=\"Fill-7\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            id=\"Fill-8\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z\"\n            id=\"Fill-29\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-three-column-middle-light':\n      return (\n        <g\n          id=\"Layout/Icons/Three-Column/Middle/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M13,0 L2,0 C0.896,0 0,0.896 0,2 L0,23 C0,24.104 0.896,25 2,25 L13,25 L13,0 Z M12,1 L12,24 L2,24 C1.448,24 1,23.552 1,23 L1,2 C1,1.448 1.448,1 2,1 L12,1 L12,1 Z\"\n            id=\"Fill-7\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L24,0 L24,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L25,24 L25,1 L35,1\"\n            id=\"Fill-8\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M12,25 L25,25 L25,0 L12,0 L12,25 Z M14,23 L23,23 L23,2 L14,2 L14,23 Z\"\n            id=\"Fill-29\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-large-top-top-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-large-top_top\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z\"\n            id=\"Fill-13\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z\"\n            id=\"Fill-35\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-large-top-top-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-Large-Top/Top/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M36,20 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,20 L36,20 L36,20 Z\"\n            id=\"Fill-13\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,18 L35,18 L35,2 L2,2 L2,18 Z\"\n            id=\"Fill-35\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-large-top-btm-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-large-top_btm\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-23\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z\"\n            id=\"Fill-41\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-large-top-btm-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-Large-Top/Bottom/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,20 L37,20 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,19 L1,19 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-23\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,19 L0,19 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,19 Z M2,23 L35,23 L35,21 L2,21 L2,23 Z\"\n            id=\"Fill-41\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-medium-top-top-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-medium-top_top\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z\"\n            id=\"Fill-17\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z\"\n            id=\"Fill-33\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-medium-top-top-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-Medium-Top/Top/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M36,16 L36,23 C36,23.552 35.552,24 35,24 L2,24 C1.448,24 1,23.552 1,23 L1,16 L36,16 L36,16 Z\"\n            id=\"Fill-17\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,14 L35,14 L35,2 L2,2 L2,14 Z\"\n            id=\"Fill-33\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-medium-top-btm-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-medium-top_btm\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-15\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z\"\n            id=\"Fill-31\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-medium-top-btm-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-Medium-Top/Bottom/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,16 L37,16 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,15 L1,15 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-15\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,15 L0,15 L0,23 C0,24.104 0.896,25 2,25 L35,25 C36.104,25 37,24.104 37,23 L37,15 Z M2,23 L35,23 L35,17 L2,17 L2,23 Z\"\n            id=\"Fill-31\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-two-block-bottom-top-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-two-block-bottom_top\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            id=\"Fill-1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-3\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z\"\n            id=\"Fill-25\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-two-block-bottom-btm-left-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-two-block-bottom_btm-left\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            id=\"Fill-5\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-7\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            id=\"Fill-27\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-two-block-bottom-btm-right-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-two-block-bottom_btm-right\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-9\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-11\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z\"\n            id=\"Fill-29\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-two-block-bottom-top-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-Two-Block-Bottom/Top/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            id=\"Fill-1\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-3\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M2,11 L35,11 L35,2 L2,2 L2,11 Z\"\n            id=\"Fill-25\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-two-block-bottom-btm-left-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-Two-Block-Bottom/Bottom-Left/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M36,13 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,13 L36,13 L36,13 Z\"\n            id=\"Fill-5\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-7\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            id=\"Fill-27\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-two-block-bottom-btm-right-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-Two-Block-Bottom/Bottom-Right/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-9\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L37,13 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L35,1\"\n            id=\"Fill-11\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M37,12 L18,12 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,12 Z M20,23 L35,23 L35,14 L20,14 L20,23 Z\"\n            id=\"Fill-29\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-with-right-column-left-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-with-right-column_top-left\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            id=\"Fill-79\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-80\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            id=\"Fill-93\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-with-right-column-right-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-with-right-column_right\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            id=\"Fill-75\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-76\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            id=\"Fill-91\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-with-right-column-btm-left-dark':\n      return (\n        <g\n          id=\"Layout/Icons/stacked-with-right-column_btm-left\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            id=\"Fill-77\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            id=\"Fill-78\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            id=\"Fill-92\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-with-right-column-left-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-With-Right-Column/Top-Left/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            id=\"Fill-79\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-80\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M2,11 L17,11 L17,2 L2,2 L2,11 Z\"\n            id=\"Fill-93\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-with-right-column-right-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-With-Right-Column/Right/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            id=\"Fill-75\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M18,13 L18,24 L2,24 C1.448,24 1,23.552 1,23 L1,13 L18,13 L18,13 Z\"\n            id=\"Fill-76\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 L35,0 Z M20,23 L35,23 L35,2 L20,2 L20,23 Z\"\n            id=\"Fill-91\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    case 'layout-stacked-with-right-column-btm-left-light':\n      return (\n        <g\n          id=\"Layout/Icons/Stacked-With-Right-Column/Bottom-Left/Light\"\n          stroke=\"none\"\n          strokeWidth=\"1\"\n          fill=\"none\"\n          fillRule=\"evenodd\"\n        >\n          <path\n            d=\"M35,0 L18,0 L18,25 L35,25 C36.104,25 37,24.104 37,23 L37,2 C37,0.896 36.104,0 35,0 M35,1 C35.552,1 36,1.448 36,2 L36,23 C36,23.552 35.552,24 35,24 L19,24 L19,1 L35,1\"\n            id=\"Fill-77\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,0 L2,0 C0.896,0 0,0.896 0,2 L0,13 L19,13 L19,0 Z M18,1 L18,12 L1,12 L1,2 C1,1.448 1.448,1 2,1 L18,1 L18,1 Z\"\n            id=\"Fill-78\"\n            fill=\"#7D7D7D\"\n          />\n          <path\n            d=\"M19,12 L0,12 L0,23 C0,24.104 0.896,25 2,25 L19,25 L19,12 Z M2,23 L17,23 L17,14 L2,14 L2,23 Z\"\n            id=\"Fill-92\"\n            fill=\"#121212\"\n          />\n        </g>\n      );\n\n    default: {\n      // eslint-disable-next-line no-console\n      console.error('not found', name);\n      return <path />;\n    }\n  }\n};\n\nconst SelectedSectionIcon = ({\n  name = '',\n  title = '',\n  viewBox = '0 0 37 25',\n  width = '37',\n  height = '25',\n  className = 'section-area__layout-icon',\n  ...props\n}) => {\n  return (\n    <svg\n      aria-label={`${title}`}\n      height={height}\n      viewBox={viewBox}\n      width={width}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      className={`${className} ${name}`}\n      {...props}\n    >\n      <title>{title}</title>\n      {getPath(name)}\n    </svg>\n  );\n};\n\nSelectedSectionIcon.propTypes = {\n  name: string.isRequired,\n  title: string.isRequired\n};\n\nexport default SelectedSectionIcon;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { getIsDarkModeSelector } from '../../../../../../common/redux/userSettings/userSettingsSlice';\nimport SelectedSectionIcon from './SelectedSectionIcon';\n\nconst SelectedSection = ({ layout, panel }) => {\n  const isDarkMode = useSelector(getIsDarkModeSelector);\n\n  const translateLayoutValueToIconNamePart = () => {\n    switch (layout) {\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value:\n        return 'two-column';\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value:\n        return 'two-column-narrow';\n\n      case Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value:\n        return 'three-column';\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value:\n        return 'stacked-with-right-column';\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value:\n        return 'stacked-two-block-bottom';\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value:\n        return 'stacked-medium-top';\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value:\n        return 'stacked-large-top';\n      default:\n        return 'one-column-full-width';\n    }\n  };\n\n  const translatePanelValueToIconNamePart = () => {\n    switch (layout) {\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value:\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value: {\n        if (panel === 1) {\n          return 'left';\n        }\n        return 'right';\n      }\n\n      case Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value: {\n        if (panel === 1) {\n          return 'left';\n        }\n        if (panel === 2) {\n          return 'middle';\n        }\n        return 'right';\n      }\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value: {\n        if (panel === 1) {\n          return 'left';\n        }\n        if (panel === 2) {\n          return 'right';\n        }\n        return 'btm-left';\n      }\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value: {\n        if (panel === 1) {\n          return 'top';\n        }\n        if (panel === 2) {\n          return 'btm-left';\n        }\n        return 'btm-right';\n      }\n\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value:\n      case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value: {\n        if (panel === 1) {\n          return 'top';\n        }\n        return 'btm';\n      }\n\n      default:\n        return '';\n    }\n  };\n\n  const getTitle = () =>\n    `layout-${translateLayoutValueToIconNamePart()}-${translatePanelValueToIconNamePart()}`.replace(\n      '--',\n      '-'\n    );\n  const getIconName = () =>\n    `${getTitle()}-${isDarkMode ? 'dark' : 'light'}`.replace('--', '-');\n\n  return <SelectedSectionIcon name={getIconName()} title={getTitle()} />;\n};\n\nexport default SelectedSection;\n","import React, { useEffect, useState } from 'react';\nimport TextArea from '@pwc/pwc-deals-ui/build/common/TextArea';\nimport { Button, RadioGroup, Icon } from '@pwc/pwc-deals-ui';\nimport { Constants, ErrorUtilities } from '@pwc/pwc-deals-web-common';\nimport Modal from 'react-bootstrap/Modal';\nimport { useParams } from 'react-router-dom';\nimport { get } from 'lodash';\nimport { getLibraryItemWithHtml } from '../../../../../contentLibrary/libraryItemService';\nimport { postTopic, putTopic } from '../../../../topicService';\nimport SingleColumnLayout from '../SingleColumnLayout/SingleColumnLayout';\nimport { mapTopic } from '../mapTopic';\nimport topicFormIsValid from '../topicFormIsValid';\nimport { POSSIBLE_NUMBER_OF_TOPIC_PANELS } from '../topicConstants';\nimport D3Alert from '../../../../../../common/components/Alert/D3Alert';\nimport './TopicFormModal.scss';\nimport PageTitle from '../../../../../../common/components/PageTitle/PageTitle';\nimport SelectedSection from './SelectedSection';\n\nconst defaultContentTypeArray = Array(POSSIBLE_NUMBER_OF_TOPIC_PANELS).fill(\n  Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString\n);\n\nconst defaultRichTextArray = Array(POSSIBLE_NUMBER_OF_TOPIC_PANELS).fill('');\n\nconst singleColumnArray = [\n  {\n    key: 'first-column',\n    label: <div className=\"content-type-title\">Content type</div>\n  }\n];\n\nconst selectedSection = (layout, panel, name) => (\n  <div className=\"content-type-title\">\n    <span className=\"icon-margin\">\n      <SelectedSection layout={layout} panel={panel} />\n    </span>\n    {name} - Content type\n  </div>\n);\n\nconst leftRightColumns = [\n  { panel: 1, name: 'Left column', key: 'first-column' },\n  { panel: 2, name: 'Right column', key: 'second-column' }\n];\n\nconst doubleColumnArray = leftRightColumns.map(({ panel, name, key }) => ({\n  key,\n  label: selectedSection(\n    Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value,\n    panel,\n    name\n  )\n}));\n\nconst threeColumnArray = [\n  { panel: 1, name: 'Left column', key: 'first-column' },\n  { panel: 2, name: 'Middle column', key: 'second-column' },\n  { panel: 3, name: 'Right column', key: 'third-column' }\n].map(({ panel, name, key }) => ({\n  key,\n  label: selectedSection(\n    Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value,\n    panel,\n    name\n  )\n}));\n\nconst twoColumnNarrowRightArray = leftRightColumns.map(\n  ({ panel, name, key }) => ({\n    key,\n    label: selectedSection(\n      Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value,\n      panel,\n      name\n    )\n  })\n);\n\nconst stackedTop80Bottom20Array = [\n  { panel: 1, name: 'Top row', key: 'top-row' },\n  { panel: 2, name: 'Bottom row', key: 'bottom-row' }\n].map(({ panel, name, key }) => ({\n  key,\n  label: selectedSection(\n    Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value,\n    panel,\n    name\n  )\n}));\n\nconst stackedTop60Bottom40Array = [\n  { panel: 1, name: 'Top row', key: 'top-medium-row' },\n  { panel: 2, name: 'Bottom row', key: 'bottom-medium-row' }\n].map(({ panel, name, key }) => ({\n  key,\n  label: selectedSection(\n    Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value,\n    panel,\n    name\n  )\n}));\n\nconst stackedT501AB502AArray = [\n  { panel: 1, name: 'Top row', key: 'top-row' },\n  { panel: 2, name: 'Bottom left row', key: 'bottom-left-row' },\n  { panel: 3, name: 'Bottom right row', key: 'bottom-right-row' }\n].map(({ panel, name, key }) => ({\n  key,\n  label: selectedSection(\n    Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value,\n    panel,\n    name\n  )\n}));\n\nconst stackedWithRightColumnArray = [\n  { panel: 1, name: 'Top left', key: 'top-left-section' },\n  { panel: 3, name: 'Bottom left', key: 'bottom-left-section' },\n  { panel: 2, name: 'Right column', key: 'right-column' }\n].map(({ panel, name, key }) => ({\n  key,\n  label: selectedSection(\n    Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value,\n    panel,\n    name\n  )\n}));\n\nconst getColumnDataArray = layout => {\n  switch (layout) {\n    case Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value:\n      return threeColumnArray;\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value:\n      return doubleColumnArray;\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value:\n      return twoColumnNarrowRightArray;\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value:\n      return stackedTop80Bottom20Array;\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value:\n      return stackedTop60Bottom40Array;\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value:\n      return stackedT501AB502AArray;\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value:\n      return stackedWithRightColumnArray;\n    case Constants.TOPIC_LAYOUT_TYPE.ONE_COLUMN.value:\n    default:\n      return singleColumnArray;\n  }\n};\n\nconst fetchAndSetRichTextArray = async (projectId, topic, setRichTextArray) => {\n  const richTextPromiseArray = topic.panels.map(async panel => {\n    if (panel.type === Constants.TOPIC_PANEL_TYPES.RICH_TEXT.value) {\n      const { libraryItemId } = panel;\n      const libraryItemHtml = await getLibraryItemWithHtml(\n        projectId,\n        libraryItemId,\n        topic.contentThreadId\n      );\n      return libraryItemHtml;\n    }\n    return '';\n  });\n  const resolvedRichTextPromiseArray = await Promise.all(richTextPromiseArray);\n  setRichTextArray(resolvedRichTextPromiseArray);\n};\n\nconst getInitialContentTypeArray = theTopic => {\n  const contentTypes = [...defaultContentTypeArray];\n\n  if (theTopic) {\n    theTopic.panels.forEach((panel, index) => {\n      contentTypes[index] = Constants.getTopicPanelTypeAsString(panel.type);\n    });\n  }\n  return contentTypes;\n};\n\nconst getInitialExcelChartIdArray = topic =>\n  Array(POSSIBLE_NUMBER_OF_TOPIC_PANELS)\n    .fill(null)\n    .map((_, i) => {\n      if (topic && topic.panels && topic.panels[i]) {\n        const panel = topic.panels[i];\n        return panel.type === Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.value\n          ? panel.libraryItemId\n          : null;\n      }\n      return null;\n    });\n\nconst getInitialKfaArray = topic =>\n  Array(POSSIBLE_NUMBER_OF_TOPIC_PANELS)\n    .fill(null)\n    .map((_, i) => {\n      if (topic && topic.panels && topic.panels[i]) {\n        const panel = topic.panels[i];\n        return panel.type === Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value\n          ? { contentThreadId: panel.contentThreadId }\n          : null;\n      }\n      return null;\n    });\n\nconst shouldShowWarning = (layout, richTextArray, contentTypeArray) =>\n  !!richTextArray.find(\n    (item, i) =>\n      item &&\n      (i >= layout ||\n        contentTypeArray[i] !== Constants.TOPIC_PANEL_TYPES.RICH_TEXT.asString)\n  );\n\nconst TopicFormModal = ({ show, handleClose, topic }) => {\n  if (\n    topic &&\n    topic.layoutType ===\n      Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value\n  ) {\n    [topic.panels[1], topic.panels[2]] = [topic.panels[2], topic.panels[1]];\n  }\n  const [layout, setLayout] = useState(\n    topic ? topic.layoutType : Constants.TOPIC_LAYOUT_TYPE.ONE_COLUMN.value\n  );\n  const [isSaving, setIsSaving] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n  const { projectId } = useParams();\n  const [error, setError] = useState('');\n  const [title, setTitle] = useState(topic ? topic.title : '');\n  const [contentTypeArray, setContentTypeArray] = useState(\n    getInitialContentTypeArray(topic)\n  );\n  const [richTextArray, setRichTextArray] = useState(defaultRichTextArray);\n  const [hypothesisArray, setHypothesisArray] = useState(\n    getInitialKfaArray(topic)\n  );\n  const [excelChartIdArray, setExcelChartIdArray] = useState(\n    getInitialExcelChartIdArray(topic)\n  );\n\n  const columnDataArray = getColumnDataArray(parseInt(layout, 10));\n\n  useEffect(() => {\n    const topicFormData = columnDataArray.map((_, index) => ({\n      contentType: contentTypeArray[index],\n      description: richTextArray[index],\n      hypothesisId: get(hypothesisArray, [index, 'contentThreadId'], null),\n      excelChartId: excelChartIdArray[index]\n    }));\n\n    setIsValid(\n      // Get validity of child components\n      topicFormIsValid({ title, panels: topicFormData })\n    );\n  }, [\n    contentTypeArray,\n    columnDataArray,\n    excelChartIdArray,\n    hypothesisArray,\n    richTextArray,\n    layout,\n    title\n  ]);\n\n  useEffect(() => {\n    if (topic) {\n      fetchAndSetRichTextArray(projectId, topic, setRichTextArray);\n    }\n  }, [projectId, topic]);\n\n  const handleSave = async () => {\n    let topicToSaveDto;\n    if (\n      layout === Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value\n    ) {\n      const contentTypeArrayTemp = contentTypeArray;\n      const richTextArrayTemp = richTextArray;\n      const hypothesisArrayTemp = hypothesisArray;\n      const excelChartIdArrayTemp = excelChartIdArray;\n      [contentTypeArrayTemp[1], contentTypeArrayTemp[2]] = [\n        contentTypeArrayTemp[2],\n        contentTypeArrayTemp[1]\n      ];\n      [richTextArrayTemp[1], richTextArrayTemp[2]] = [\n        richTextArrayTemp[2],\n        richTextArrayTemp[1]\n      ];\n      [hypothesisArrayTemp[1], hypothesisArrayTemp[2]] = [\n        hypothesisArrayTemp[2],\n        hypothesisArrayTemp[1]\n      ];\n      [excelChartIdArrayTemp[1], excelChartIdArrayTemp[2]] = [\n        excelChartIdArrayTemp[2],\n        excelChartIdArrayTemp[1]\n      ];\n      topicToSaveDto = mapTopic({\n        topicLayoutTypeValue: layout,\n        contentTypeArray: contentTypeArrayTemp,\n        richTextArray: richTextArrayTemp,\n        hypothesisArray: hypothesisArrayTemp,\n        excelChartIdArray: excelChartIdArrayTemp,\n        topicTitle: title\n      });\n    } else {\n      topicToSaveDto = mapTopic({\n        topicLayoutTypeValue: layout,\n        contentTypeArray,\n        richTextArray,\n        hypothesisArray,\n        excelChartIdArray,\n        topicTitle: title\n      });\n    }\n    try {\n      setIsSaving(true);\n      if (topic) {\n        await putTopic(projectId, topic.contentThreadId, topicToSaveDto);\n      } else {\n        await postTopic(projectId, topicToSaveDto);\n      }\n    } catch (e) {\n      setIsSaving(false);\n      setError(ErrorUtilities.getContentErrorType(e));\n      return;\n    }\n\n    handleClose();\n  };\n\n  const handleLayoutChange = e => {\n    setLayout(parseInt(e.target.value, 10));\n  };\n\n  const layoutField = {\n    name: 'layout',\n    onChange: handleLayoutChange,\n    value: layout.toString()\n  };\n\n  const layoutField1 = {\n    name: '',\n    onChange: handleLayoutChange,\n    value: layout.toString()\n  };\n\n  const layoutField2 = {\n    name: '',\n    onChange: handleLayoutChange,\n    value: layout.toString()\n  };\n\n  const handleTitleChange = e => setTitle(e.target.value);\n  const titleField = {\n    name: 'title',\n    onChange: handleTitleChange,\n    value: title\n  };\n\n  const layoutOptions = Object.keys(Constants.TOPIC_LAYOUT_TYPE).map(\n    (topicLayout, i) => ({\n      key:\n        Constants.TOPIC_LAYOUT_TYPE[topicLayout].displayName + Date.now() + i,\n      label: (\n        <div\n          className=\"radio-label-aligner\"\n          key={`layout-radio-button-${topicLayout}-${Date.now()}`}\n        >\n          <div\n            className={\n              Constants.TOPIC_LAYOUT_TYPE[topicLayout].value ===\n              parseInt(layout, 10)\n                ? Constants.TOPIC_LAYOUT_TYPE[topicLayout].checkedClassName\n                : Constants.TOPIC_LAYOUT_TYPE[topicLayout].uncheckedClassName\n            }\n          />\n          <span className=\"radio-layout-label\">\n            {Constants.TOPIC_LAYOUT_TYPE[topicLayout].displayName}{' '}\n          </span>\n        </div>\n      ),\n      value: Constants.TOPIC_LAYOUT_TYPE[topicLayout].value\n    })\n  );\n\n  const layoutOptions1 = [layoutOptions[2], layoutOptions[3], layoutOptions[6]];\n  const layoutOptions2 = [layoutOptions[7], layoutOptions[4]];\n  layoutOptions.copyWithin(2, 5, 6);\n  layoutOptions.splice(3);\n\n  layoutOptions1[2] = {\n    key: Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.displayName,\n    label: (\n      <div\n        className=\"radio-label-aligner\"\n        key={`layout-radio-button-${Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.displayName}`}\n      >\n        <div\n          className={\n            Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value ===\n            parseInt(layout, 10)\n              ? Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A\n                  .checkedClassName\n              : Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A\n                  .uncheckedClassName\n          }\n        >\n          <div\n            className={\n              Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value ===\n              parseInt(layout, 10)\n                ? 'bottom-area-checked'\n                : 'bottom-area-unchecked'\n            }\n          >\n            <div />\n            <div className=\"inner-div-right\" />\n          </div>\n        </div>\n        <span className=\"radio-layout-label\">\n          {Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.displayName}{' '}\n        </span>\n      </div>\n    ),\n    value: Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value\n  };\n\n  layoutOptions2[0] = {\n    key: Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.displayName,\n    label: (\n      <div\n        className=\"radio-label-aligner\"\n        key={`layout-radio-button-${Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.displayName}`}\n      >\n        <div\n          className={\n            Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value ===\n            parseInt(layout, 10)\n              ? Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A\n                  .checkedClassName\n              : Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A\n                  .uncheckedClassName\n          }\n        >\n          <div\n            className={\n              Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value ===\n              parseInt(layout, 10)\n                ? 'left-area-checked'\n                : 'left-area-unchecked'\n            }\n          >\n            <div />\n          </div>\n        </div>\n        <span className=\"radio-layout-label\">\n          {Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.displayName}{' '}\n        </span>\n      </div>\n    ),\n    value: Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value\n  };\n\n  const projectOverviewText =\n    \"You can create 'Project Overview' topics to highlight existing content on the project overview page. Choose from existing Key Focus Area and Chart content, or select Text area to add commentary to your content.\";\n  const addOrUpdate = topic ? 'update' : 'add';\n  const warningText = `You have information in hidden columns that will be permanently lost if you ${addOrUpdate} this topic.`;\n  const showWarning = shouldShowWarning(\n    layout,\n    richTextArray,\n    contentTypeArray\n  );\n\n  const isPublishError = error === 'publish';\n\n  const titleFieldError =\n    !isPublishError && get(error, 'fieldName', '').toLowerCase() === 'title'\n      ? error.apiErrorMessage\n      : undefined;\n\n  const generalError = isPublishError || !titleFieldError ? error : undefined;\n\n  return (\n    <Modal\n      size=\"lg\"\n      enforceFocus={false}\n      show={show}\n      onHide={handleClose}\n      backdrop=\"static\"\n      contentClassName=\"topic-modal\"\n    >\n      <div className=\"topic-modal-header\">\n        <Modal.Header>\n          <Modal.Title data-testid=\"add-topic-modal\">\n            <PageTitle title=\"Add a Topic\" size=\"h2\" />\n            <button\n              className=\"ui-button button-no-appearance topic-close-button\"\n              aria-label=\"Close topic modal\"\n              onClick={handleClose}\n              type=\"button\"\n              data-testid=\"topic-close-button\"\n            >\n              <Icon\n                name=\"close\"\n                className=\"fill icon-orange-theme\"\n                width=\"18\"\n                height=\"18\"\n              />\n            </button>\n            <p className=\"project-overview-description-text\">\n              {projectOverviewText}\n            </p>\n          </Modal.Title>\n        </Modal.Header>\n      </div>\n      <div className=\"topic-modal-body\">\n        <Modal.Body className=\"modal-body-section\">\n          <h6>Report layout</h6>\n          <RadioGroup\n            field={layoutField}\n            options={layoutOptions}\n            direction=\"row\"\n            className=\"layout-radio-group layout-align radio-margin\"\n          />\n          <RadioGroup\n            field={layoutField1}\n            options={layoutOptions1}\n            direction=\"row\"\n            className=\"layout-radio-group layout-align radio-margin\"\n          />\n          <RadioGroup\n            field={layoutField2}\n            options={layoutOptions2}\n            direction=\"row\"\n            className=\"layout-radio-group layout-align\"\n          />\n          <TextArea\n            label=\"Title\"\n            field={titleField}\n            basic\n            helperText=\"This will be the title visible in the report\"\n            helperIcon=\"information\"\n            helperIconColor=\"yellow\"\n            className=\"title-text-input textarea-as-textinput\"\n            error={titleFieldError}\n            maxLength={75}\n          />{' '}\n          {columnDataArray.map((data, index) => (\n            <>\n              <div className=\"separator\" />\n              <SingleColumnLayout\n                key={`topic-column-${data.key}`}\n                column={index}\n                contentType={contentTypeArray[index]}\n                setContentTypes={setContentTypeArray}\n                richText={richTextArray[index]}\n                setRichTexts={setRichTextArray}\n                hypothesisId={get(\n                  hypothesisArray,\n                  [index, 'contentThreadId'],\n                  null\n                )}\n                setHypothesisArray={setHypothesisArray}\n                excelChartId={excelChartIdArray[index]}\n                setExcelChartIdArray={setExcelChartIdArray}\n                labelComponent={data.label}\n              />\n            </>\n          ))}\n          {generalError && <D3Alert configType={generalError} />}\n        </Modal.Body>\n      </div>\n      <div className=\"separator\" />\n      <div className=\"topic-modal-footer\">\n        <Modal.Footer>\n          {showWarning && (\n            <div\n              className=\"hidden-content-container\"\n              data-testid=\"hidden-content-warning\"\n            >\n              <Icon name=\"alert\" className=\"fill icon-black\" width={16} />\n              <span className=\"hidden-content-warning\">{warningText}</span>\n            </div>\n          )}\n          <div className=\"\">\n            <Button\n              className=\"button-link form-cancel-button mr-4\"\n              type=\"button\"\n              onClick={handleClose}\n              data-testid=\"add-topic-modal-cancel-button\"\n            >\n              Cancel\n            </Button>\n            <Button\n              disabled={!isValid || isSaving}\n              className=\"button\"\n              onClick={handleSave}\n              type=\"button\"\n              data-testid=\"save-topic-input\"\n            >\n              {topic ? 'Update' : 'Add'}\n            </Button>\n          </div>\n        </Modal.Footer>\n      </div>\n    </Modal>\n  );\n};\n\nexport default TopicFormModal;\n","export const POSSIBLE_NUMBER_OF_TOPIC_PANELS = 3;\n","import React, { useEffect, useState } from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport { Loader } from '@pwc/pwc-deals-ui';\nimport { getLibraryItemWithHtml } from '../../../../features/contentLibrary/libraryItemService';\nimport './ContentItem.scss';\nimport { sanitize } from '../../../services/sanitizeService';\n\nconst ContentItem = ({\n  projectId,\n  libraryItemId,\n  contentId,\n  sharedContent,\n  children = <h5>Failed To Load Content</h5>\n}) => {\n  const [htmlData, setHtmlData] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  // eslint-disable-next-line no-unused-vars\n  const [svgWidth, setSvgWidth] = useState(null);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const getWidthFromSvg = data => {\n      if (data.includes('svg')) {\n        const xmlDoc = new DOMParser().parseFromString(data, 'application/xml');\n        const svg = xmlDoc.getElementsByTagName('svg')[0];\n        if (svg) {\n          const viewBox = svg.getAttribute('viewbox');\n          if (viewBox) {\n            return viewBox.split(' ')[2];\n          }\n        }\n      }\n      return null;\n    };\n\n    if (sharedContent) {\n      setHtmlData(sharedContent);\n      setSvgWidth(getWidthFromSvg(sharedContent));\n      setIsLoading(false);\n      return;\n    }\n\n    getLibraryItemWithHtml(projectId, libraryItemId, contentId)\n      .then(data => {\n        setHasError(false);\n        setHtmlData(data);\n        setSvgWidth(getWidthFromSvg(data));\n        setIsLoading(false);\n      })\n      .catch(() => {\n        setHasError(true);\n        setIsLoading(false);\n      });\n  }, [projectId, libraryItemId, contentId, sharedContent]);\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader dataTestId=\"excel-content-loader\" />\n      ) : (\n        <div\n          data-testid=\"excel-content-item\"\n          className=\"content-item-container\"\n          dangerouslySetInnerHTML={{\n            __html: sanitize(\n              hasError ? renderToStaticMarkup(children) : htmlData\n            )\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nexport default ContentItem;\n","import React from 'react';\nimport ContentItem from '../../../../../../common/charts/types/ContentItem/ContentItem';\n\nconst RichTextTopicPanel = ({ topic, panel, projectId }) => {\n  return (\n    <div className=\"topic-panel__rich-text\" data-testid=\"rich-text-topic-panel\">\n      <ContentItem\n        projectId={projectId}\n        libraryItemId={panel.libraryItemId}\n        contentId={topic.id}\n        sharedContent={panel.sharedContent}\n      />\n    </div>\n  );\n};\n\nexport default RichTextTopicPanel;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { sanitize } from '../../../../../../common/services/sanitizeService';\nimport { viewHypothesisPath } from '../../../../../../common/services/urlService';\nimport './KeyFocusAreaTopicPanel.scss';\n\nconst KeyFocusAreaTopicPanel = ({ projectId, hypothesis }) => {\n  return (\n    <div\n      data-testid=\"key-focus-area-topic-panel\"\n      className=\"key-focus-area-topic-panel topic-panel__kfa\"\n    >\n      <Link\n        to={viewHypothesisPath(projectId, hypothesis.contentThreadId)}\n        data-testid=\"hypothesis-link\"\n        aria-label=\"View Key Focus Area\"\n        tabIndex={0}\n      >\n        <h3\n          className=\"key-focus-area-topic-panel__title\"\n          data-testid=\"kfa-topic-panel-title\"\n        >\n          {hypothesis.title}\n        </h3>\n      </Link>\n      {hypothesis.body && (\n        <div className=\"key-focus-area-topic-panel-body\">\n          <p\n            className=\"key-focus-area-topic-panel-body\"\n            dangerouslySetInnerHTML={{ __html: sanitize(hypothesis.body) }}\n          />\n        </div>\n      )}\n      {hypothesis.conclusion && (\n        <div className=\"key-focus-area-topic-panel-conclusion\">\n          <h4 className=\"section-header\">PwC View</h4>\n          <p\n            className=\"key-focus-area-topic-panel-conclusion\"\n            dangerouslySetInnerHTML={{\n              __html: sanitize(hypothesis.conclusion)\n            }}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default KeyFocusAreaTopicPanel;\n","import React from 'react';\nimport ContentItem from '../../../../../../common/charts/types/ContentItem/ContentItem';\n\nconst ExcelChartTopicPanel = ({ topic, panel, projectId, children }) => (\n  <div data-testid=\"excel-chart-topic-panel\">\n    <ContentItem\n      projectId={projectId}\n      libraryItemId={panel.libraryItemId}\n      contentId={topic.contentThreadId}\n      sharedContent={panel.sharedContent}\n    >\n      {children}\n    </ContentItem>\n  </div>\n);\nexport default ExcelChartTopicPanel;\n","import React from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport RichTextTopicPanel from './RichTextTopicPanel';\nimport KeyFocusAreaTopicPanel from './KeyFocusAreaTopicPanel';\nimport ExcelChartTopicPanel from './ExcelChartTopicPanel';\nimport './TopicPanel.scss';\nimport authorizationService from '../../../../../../common/services/security/authorizationService';\n\nconst getClassName = (layoutType, panelNumber) => {\n  let className = 'topic-panel';\n  switch (layoutType) {\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN.value: {\n      if (panelNumber === 1) {\n        className = `${className} topic-panel--equal-left-column`;\n      } else {\n        className = `${className} topic-panel--equal-right-column`;\n      }\n      break;\n    }\n    case Constants.TOPIC_LAYOUT_TYPE.THREE_COLUMN.value: {\n      if (panelNumber === 1) {\n        className = `${className} topic-panel--small-left-column`;\n      } else if (panelNumber === 2) {\n        className = `${className} topic-panel--middle-column`;\n      } else {\n        className = `${className} topic-panel--right-column`;\n      }\n      break;\n    }\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_67_1A_R_33_1A.value: {\n      if (panelNumber === 1) {\n        className = `${className} topic-panel--big-left-column`;\n      } else {\n        className = `${className} topic-panel--right-column`;\n      }\n      break;\n    }\n\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_COLUMN_L_50_2A_R_50_1A.value: {\n      if (panelNumber === 1) {\n        className = `${className} topic-panel-2col-l50-2a-r50-1a top-left`;\n      } else if (panelNumber === 2) {\n        className = `${className} topic-panel-2col-l50-2a-r50-1a right-column`;\n      } else {\n        className = `${className} topic-panel-2col-l50-2a-r50-1a bottom-left`;\n      }\n      break;\n    }\n\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_80_1A_B_20_1A.value: {\n      if (panelNumber === 1) {\n        className = `${className} topic-panel-stacked-large-top-small-bottom big-top-panel`;\n      } else {\n        className = `${className} topic-panel-stacked-large-top-small-bottom small-bottom-panel`;\n      }\n      break;\n    }\n\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_60_1A_B_40_1A.value: {\n      if (panelNumber === 1) {\n        className = `${className} topic-panel--stacked-medium-top-row`;\n      } else {\n        className = `${className} topic-panel--stacked-medium-bottom-row`;\n      }\n      break;\n    }\n\n    case Constants.TOPIC_LAYOUT_TYPE.TWO_ROW_T_50_1A_B_50_2A.value: {\n      if (panelNumber === 1) {\n        className = `${className} topic-panel--full-column`;\n      } else if (panelNumber === 2) {\n        className = `${className} topic-panel--equal-left-column`;\n      } else {\n        className = `${className} topic-panel--equal-right-column`;\n      }\n      break;\n    }\n    default:\n  }\n  return className;\n};\n\nconst DeletedContentWarning = () => (\n  <div data-testid=\"deleted-content-warning\">\n    <h5>\n      <Icon name=\"alert\" className=\"fill icon-yellow\" width=\"20\" />\n      &nbsp; Content Not Found\n    </h5>\n    <p>\n      The content cannot be displayed as it has been deleted. Please update or\n      delete this topic.\n    </p>\n  </div>\n);\n\nconst TopicPanel = ({ topic, panel, hypothesis, projectId }) => {\n  const className = getClassName(topic.layoutType, panel.panelNumber);\n\n  return (\n    <div data-testid=\"topic-panel\" className={className}>\n      {panel.type === Constants.TOPIC_PANEL_TYPES.RICH_TEXT.value && (\n        <RichTextTopicPanel topic={topic} panel={panel} projectId={projectId} />\n      )}\n      {panel.type === Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value &&\n        hypothesis && (\n          <KeyFocusAreaTopicPanel\n            hypothesis={hypothesis}\n            projectId={projectId}\n          />\n        )}\n      {panel.type === Constants.TOPIC_PANEL_TYPES.EXCEL_CHART.value && (\n        <ExcelChartTopicPanel topic={topic} panel={panel} projectId={projectId}>\n          {!authorizationService.isClientUser() && <DeletedContentWarning />}\n        </ExcelChartTopicPanel>\n      )}\n      {panel.type === Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value &&\n        !hypothesis &&\n        !authorizationService.isClientUser() && <DeletedContentWarning />}\n    </div>\n  );\n};\n\nexport default TopicPanel;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Button, Icon } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport ApprovalPill from '../../../../../../common/components/Pills/ApprovalPill';\nimport MoreMenu from '../../../../../../common/components/ContentActions/MoreMenu';\nimport { DraftPillClientView } from '../../../../../../common/components/Pills/DraftPill';\nimport VersionStatus from '../../../../../../common/components/Pills/VersionStatus';\nimport ShowForPermissions from '../../../../../security/ShowForPermissions';\nimport ShowForRole from '../../../../../security/ShowForRole';\nimport EnableForProjectState from '../../../../../security/EnableForProjectState';\nimport './TopicHeader.scss';\nimport { PageLastUpdated } from '../../../../../../common/components/PageLastUpdated/PageLastUpdated';\n\nconst TopicHeader = ({\n  onDelete,\n  onEdit,\n  topic,\n  workflowActions,\n  viewClient,\n  onMove,\n  moveOption\n}) => {\n  const { projectId } = useParams();\n\n  const movePrev = () => {\n    onMove(-1);\n  };\n\n  const moveNext = () => {\n    onMove(1);\n  };\n\n  const disableMovePrev = () => {\n    return (\n      moveOption !== Constants.MOVE_OPTIONS.PREV &&\n      moveOption !== Constants.MOVE_OPTIONS.BOTH\n    );\n  };\n\n  const disableMoveNext = () => {\n    return (\n      moveOption !== Constants.MOVE_OPTIONS.NEXT &&\n      moveOption !== Constants.MOVE_OPTIONS.BOTH\n    );\n  };\n\n  return (\n    <div className=\"topic-top-bar-container\">\n      <h3 className=\"topic-title\" data-testid=\"topic-title\">\n        {topic.title}\n      </h3>\n      <div className=\"pills-section\">\n        <ShowForRole\n          projectId={projectId}\n          roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n        >\n          <VersionStatus content={topic} allowDraftPill />\n        </ShowForRole>\n        <ShowForRole\n          projectId={projectId}\n          roles={Constants.USER_ROLE_GROUPS.CLIENT}\n        >\n          <DraftPillClientView />\n        </ShowForRole>\n        <ApprovalPill versionStatus={topic.versionStatus} />\n      </div>\n      <ShowForRole\n        projectId={projectId}\n        roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n      >\n        <PageLastUpdated\n          dateModified={topic.dateModified}\n          modifiedBy={topic.modifiedBy}\n          version={topic.versionNumber}\n        />\n      </ShowForRole>\n      <ShowForPermissions\n        projectId={projectId}\n        permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n      >\n        <EnableForProjectState projectId={projectId}>\n          {({ isProjectDisabled }) => (\n            <>\n              <div className=\"move-buttons-section\">\n                <button\n                  className=\"topic-move-button\"\n                  data-testid=\"topic-move-button-prev\"\n                  type=\"button\"\n                  onClick={movePrev}\n                  disabled={isProjectDisabled || disableMovePrev()}\n                >\n                  <Icon\n                    name=\"desc\"\n                    width={18}\n                    className={`fill ${\n                      isProjectDisabled || disableMovePrev()\n                        ? 'icon-grey-alt'\n                        : 'icon-orange'\n                    }`}\n                  />\n                </button>\n                <button\n                  className=\"topic-move-button\"\n                  data-testid=\"topic-move-button-next\"\n                  type=\"button\"\n                  onClick={moveNext}\n                  disabled={isProjectDisabled || disableMoveNext()}\n                >\n                  <Icon\n                    name=\"asc\"\n                    width={18}\n                    className={`fill ${\n                      isProjectDisabled || disableMoveNext()\n                        ? 'icon-grey-alt'\n                        : 'icon-orange'\n                    }`}\n                  />\n                </button>\n              </div>\n              <div className=\"topic-edit-button\">\n                <Button\n                  data-testid=\"topic-edit-button\"\n                  type=\"button\"\n                  onClick={onEdit}\n                  className=\"button-block button-small mr-3\"\n                  disabled={isProjectDisabled || viewClient.isOnClientVersion}\n                >\n                  Edit\n                </Button>\n              </div>\n              <div className=\"more-menu\">\n                <MoreMenu\n                  itemId={topic.contentThreadId}\n                  onDelete={onDelete}\n                  workflowActions={workflowActions}\n                  viewClient={viewClient}\n                  isDisabled={isProjectDisabled}\n                />\n              </div>\n            </>\n          )}\n        </EnableForProjectState>\n      </ShowForPermissions>\n    </div>\n  );\n};\n\nTopicHeader.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  topic: PropTypes.object.isRequired\n};\n\nTopicHeader.defaultProps = {};\n\nexport default TopicHeader;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useDispatch } from 'react-redux';\nimport './ProjectOverviewModule.scss';\nimport TopicPanel from './Topic/TopicPanel/TopicPanel';\nimport TopicHeader from './Topic/TopicHeader/TopicHeader';\nimport { getWorkflowStatus } from '../../../workflow/workflowService';\nimport { useApprovalWorkflow } from '../../../../common/hooks/useApprovalWorkflow';\nimport { getTopicVersions, updateTopicStatus } from '../../topicService';\nimport { getViewClientInfo } from '../../../../common/helpers/viewClientVersion';\nimport { showMoreMenuError } from '../../../../common/redux/errors/errorsSlice';\nimport NarrativesContext from '../../../../common/contexts/NarrativesContext';\n\nconst ProjectOverviewModule = ({\n  topic,\n  onDelete,\n  onEdit,\n  projectId,\n  onTopicStatusUpdated,\n  onViewSpecificVersion,\n  onMove,\n  moveOption\n}) => {\n  const { hypotheses } = useContext(NarrativesContext) || { hypotheses: [] };\n  const [versions, setVersions] = useState(null);\n  const [viewClient, setViewClient] = useState({});\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    getTopicVersions(projectId, topic.contentThreadId).then(setVersions);\n  }, [projectId, topic.contentThreadId, topic.dateModified]);\n\n  useEffect(() => {\n    setViewClient(\n      getViewClientInfo(\n        () => onViewSpecificVersion(Constants.VERSION_STATUS.SHARED.value),\n        () => onViewSpecificVersion(),\n        versions,\n        topic && topic.versionNumber,\n        topic && topic.versionStatus\n      )\n    );\n  }, [topic, versions, onViewSpecificVersion]);\n\n  const workflowActions = useApprovalWorkflow(\n    getWorkflowStatus,\n    async (_projectId, contentId, step) => {\n      try {\n        await updateTopicStatus(_projectId, `${contentId}`, step);\n      } catch (e) {\n        dispatch(\n          showMoreMenuError({\n            itemId: contentId,\n            moreMenuErrorType: Constants.MoreMenuErrorType.UNABLE_TO_SAVE_CHANGE\n          })\n        );\n        return;\n      }\n\n      onTopicStatusUpdated(topic);\n    },\n    projectId,\n    topic.contentThreadId,\n    topic,\n    versions\n  );\n\n  return (\n    <div>\n      <div\n        className=\"project-overview-module\"\n        key={topic.contentThreadId}\n        data-testid=\"project-overview-module\"\n      >\n        <TopicHeader\n          topic={topic}\n          onDelete={onDelete}\n          onEdit={onEdit}\n          workflowActions={workflowActions}\n          viewClient={viewClient}\n          onMove={onMove}\n          moveOption={moveOption}\n        />\n        <div\n          className=\"project-overview-module__inner\"\n          data-testid=\"project-overview-module-inner\"\n          data-topic-id={topic.contentThreadId}\n        >\n          {topic.panels &&\n            topic.panels.length > 0 &&\n            topic.panels.map(panel => {\n              let hypothesis;\n              if (\n                panel.type === Constants.TOPIC_PANEL_TYPES.KEY_FOCUS_AREA.value\n              ) {\n                hypothesis =\n                  panel.hypothesis ||\n                  hypotheses.find(\n                    h => h.contentThreadId === panel.contentThreadId\n                  );\n              }\n              return (\n                <TopicPanel\n                  key={panel.panelNumber}\n                  topic={topic}\n                  panel={panel}\n                  hypothesis={hypothesis}\n                  projectId={projectId}\n                />\n              );\n            })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectOverviewModule;\n","import { Button, Icon } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport classnames from 'classnames';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport EnableForProjectState from '../../../security/EnableForProjectState';\nimport ShowForPermissions from '../../../security/ShowForPermissions';\nimport {\n  deleteTopic,\n  getAllTopics,\n  getTopic,\n  updateTopicOrder\n} from '../../topicService';\nimport TopicFormModal from './Topic/TopicFormModal/TopicFormModal';\nimport './ProjectOverviewModuleContainer.scss';\nimport ProjectOverviewModule from './ProjectOverviewModule';\nimport ModalConfirmation from '../../../../common/components/ModalConfirmation';\nimport { showModalError } from '../../../../common/redux/errors/errorsSlice';\nimport authorizationService from '../../../../common/services/security/authorizationService';\n\nconst ProjectOverviewModuleContainer = () => {\n  const [showAddTopicModal, setShowAddTopicModal] = useState(false);\n  const [isDeleteConfirmationVisible, setDeleteConfirmationVisible] = useState(\n    false\n  );\n  const [selectedTopic, setSelectedTopic] = useState(null);\n  const [topics, setTopics] = useState([]);\n  const projectOverviewText =\n    \"Showcase the project's most important information by creating 'Project overview' topics.\";\n\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n  const isClientUser = authorizationService.isClientUser();\n\n  useEffect(() => {\n    if (!showAddTopicModal) {\n      getAllTopics(projectId).then(topicList => {\n        setTopics(topicList);\n      });\n    }\n  }, [projectId, showAddTopicModal]);\n\n  const handleDeleteTopic = async () => {\n    const topicsWithoutDeletedTopic = topics.filter(\n      topic => topic.contentThreadId !== selectedTopic.contentThreadId\n    );\n    setTopics(topicsWithoutDeletedTopic);\n    setSelectedTopic(null);\n    await deleteTopic(projectId, selectedTopic.contentThreadId);\n    setDeleteConfirmationVisible(false);\n  };\n\n  const updateTopic = (topic, versionStatus) => {\n    getTopic(projectId, topic.contentThreadId, versionStatus).then(\n      updatedTopic => {\n        const updatedTopics = [...topics];\n        const existing = updatedTopics.filter(\n          x => x.contentThreadId === topic.contentThreadId\n        );\n        if (existing.length !== 0) {\n          const index = updatedTopics.indexOf(existing[0]);\n          updatedTopics[index] = updatedTopic;\n          setTopics(updatedTopics);\n        }\n      }\n    );\n  };\n\n  const moveTopic = async (topic, offset) => {\n    const tmp = [...topics];\n    const existing = tmp.filter(\n      x => x.contentThreadId === topic.contentThreadId\n    );\n    if (existing.length !== 0) {\n      const index = tmp.indexOf(existing[0]);\n      const newIndex = index + offset;\n      if (newIndex >= 0 && newIndex < tmp.length) {\n        [tmp[index], tmp[newIndex]] = [tmp[newIndex], tmp[index]];\n        const newOrder = tmp.map(_ => _.contentThreadId);\n        updateTopicOrder(projectId, newOrder)\n          .then(() => {\n            setTopics(tmp);\n          })\n          .catch(() => {\n            dispatch(\n              showModalError(Constants.ModalErrorType.UNABLE_TO_SAVE_CHANGE)\n            );\n          });\n      }\n    }\n  };\n\n  const getMoveOptionForTopic = index => {\n    if (topics.length === 1) {\n      return Constants.MOVE_OPTIONS.NONE;\n    }\n\n    // eslint-disable-next-line no-nested-ternary\n    return index === 0\n      ? Constants.MOVE_OPTIONS.NEXT\n      : index === topics.length - 1\n      ? Constants.MOVE_OPTIONS.PREV\n      : Constants.MOVE_OPTIONS.BOTH;\n  };\n\n  if (isClientUser && topics && topics.length === 0) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"project-overview-module-container\"\n      data-testid=\"project-overview-module-container\"\n    >\n      <ModalConfirmation\n        show={isDeleteConfirmationVisible}\n        onCancel={() => setDeleteConfirmationVisible(false)}\n        onConfirm={handleDeleteTopic}\n        confirmTitle=\"Confirm Topic Delete\"\n        confirmationMessage=\"Proceed with deletion of this Topic?\"\n      />\n      <div\n        className=\"project-overview-header-container\"\n        data-testid=\"project-overview-header-container\"\n      >\n        <div className=\"project-overview-label\">\n          <Icon\n            data-testid=\"project-overview-icon\"\n            aria-label=\"project overview icon\"\n            name=\"grid\"\n            width={32}\n            className=\"outline project-overview-icon\"\n          />\n          <strong>Project Overview Topics</strong>\n        </div>\n        {topics && topics.length > 0 ? (\n          <div>\n            <ShowForPermissions\n              projectId={projectId}\n              permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n            >\n              <EnableForProjectState projectId={projectId}>\n                {({ isProjectDisabled }) => (\n                  <Button\n                    className=\"button-link\"\n                    onClick={() => setShowAddTopicModal(true)}\n                    data-testid=\"button-add-topic\"\n                    aria-label=\"add topic\"\n                    type=\"button\"\n                    icon=\"add\"\n                    iconClasses={classnames('fill add-topic-icon', {\n                      'icon-grey': isProjectDisabled\n                    })}\n                    disabled={isProjectDisabled}\n                  >\n                    Add topic\n                  </Button>\n                )}\n              </EnableForProjectState>\n            </ShowForPermissions>\n          </div>\n        ) : null}\n      </div>\n      {topics && topics.length > 0 ? (\n        <>\n          {topics.map((topic, index) => (\n            <ProjectOverviewModule\n              key={topic.contentThreadId}\n              topic={topic}\n              projectId={projectId}\n              onDelete={() => {\n                setSelectedTopic(topic);\n                setDeleteConfirmationVisible(true);\n              }}\n              onEdit={() => {\n                setSelectedTopic(topic);\n                setShowAddTopicModal(true);\n              }}\n              onTopicStatusUpdated={updatedTopic => updateTopic(updatedTopic)}\n              onViewSpecificVersion={versionStatus => {\n                updateTopic(topic, versionStatus);\n              }}\n              onMove={offset => moveTopic(topic, offset)}\n              moveOption={getMoveOptionForTopic(index)}\n            />\n          ))}\n        </>\n      ) : (\n        <div className=\"project-overview-module\">\n          <p className=\"project-overview-placeholder-text\">\n            {projectOverviewText}\n          </p>\n          <ShowForPermissions\n            projectId={projectId}\n            permissions={[Constants.USER_PERMISSIONS.CONTRIBUTE]}\n          >\n            <EnableForProjectState projectId={projectId}>\n              {({ isProjectDisabled }) => (\n                <Button\n                  className=\"add-topic-button\"\n                  type=\"submit\"\n                  data-testid=\"button-add-topic\"\n                  aria-label=\"add topic\"\n                  onClick={() =>\n                    !isProjectDisabled && setShowAddTopicModal(true)\n                  }\n                  icon=\"add\"\n                  iconClasses=\"fill add-topic-icon\"\n                  disabled={isProjectDisabled}\n                >\n                  Add topic\n                </Button>\n              )}\n            </EnableForProjectState>\n          </ShowForPermissions>\n        </div>\n      )}\n      {showAddTopicModal && (\n        <TopicFormModal\n          show={showAddTopicModal}\n          handleClose={() => {\n            setSelectedTopic(null);\n            setShowAddTopicModal(false);\n          }}\n          topic={selectedTopic}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ProjectOverviewModuleContainer;\n","import { EnvironmentVariableUtilities } from '@pwc/pwc-deals-web-common';\nimport classnames from 'classnames';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getLoggedInUser } from '../../../../common/redux/security/loggedInUser/loggedInUserSelector';\nimport './WelcomeBox.scss';\n\nconst WelcomeBox = ({ children, isDisabled }) => {\n  const loggedInUser = useSelector(getLoggedInUser);\n\n  const givenName =\n    loggedInUser !== null ? loggedInUser.givenName : 'Nameless Person';\n\n  return (\n    <div\n      className={classnames(\n        'welcomebox-container',\n        isDisabled && 'welcomebox-container__disabled'\n      )}\n    >\n      <h2>\n        <span>Welcome to {EnvironmentVariableUtilities.platformName}, </span>\n        <span>{givenName}</span>\n      </h2>\n      {children}\n    </div>\n  );\n};\nexport default WelcomeBox;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams } from 'react-router-dom';\nimport classnames from 'classnames';\nimport { formatSurveyRoute } from '../../../../../Survey/routes';\nimport {\n  fetchSurveyResponses,\n  getSurveyResponses\n} from '../../../../../Survey/surveySlice';\nimport EnableForProjectState from '../../../../security/EnableForProjectState';\nimport WelcomeBox from '../WelcomeBox';\n\nconst WelcomeBoxBeginQuestionnaire = () => {\n  const { projectId } = useParams();\n  const dispatch = useDispatch();\n\n  const surveyResponses = useSelector(getSurveyResponses);\n\n  useEffect(() => {\n    if (!surveyResponses) {\n      dispatch(fetchSurveyResponses(projectId));\n    }\n  }, [dispatch, projectId, surveyResponses]);\n\n  return (\n    surveyResponses && (\n      <EnableForProjectState projectId={projectId}>\n        {({ isProjectDisabled }) => (\n          <WelcomeBox isDisabled={isProjectDisabled}>\n            <p>\n              Start your project by completing the Diagnostic Questionnaire.\n            </p>\n            <Link\n              to={!isProjectDisabled && formatSurveyRoute(projectId)}\n              className={classnames('link-button', {\n                'grey-button': isProjectDisabled,\n                'green-text white-button': !isProjectDisabled\n              })}\n              aria-label=\"Questionnaire\"\n              disabled\n            >\n              {!surveyResponses.answers.length\n                ? 'Start Questionnaire'\n                : 'Continue Questionnaire'}\n            </Link>\n          </WelcomeBox>\n        )}\n      </EnableForProjectState>\n    )\n  );\n};\n\nexport default WelcomeBoxBeginQuestionnaire;\n","import { DivestitureDiagnosticUtility } from '@pwc/pwc-deals-web-common';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { Icon } from '@pwc/pwc-deals-ui';\n\nimport './WelcomeBoxDealComplexity.scss';\nimport ComplexityScaleWrapper from '../../../../../common/components/DivestitureDiagnosticResults/ComplexityScaleWrapper/ComplexityScaleWrapper';\nimport { getDivestitureDiagnosticResults } from '../../../../divestitureDiagnostic/divestitureDiagnosticSlice';\nimport { formatResultsRoute } from '../../../../divestitureDiagnostic/routes';\n\nconst WelcomeBoxDealComplexity = ({ projectId }) => {\n  const { overallDealComplexity } = useSelector(\n    getDivestitureDiagnosticResults\n  );\n\n  const scoreLabel = DivestitureDiagnosticUtility.calculateScoreText(\n    overallDealComplexity.value\n  );\n\n  return (\n    <div className=\"welcomebox-deal-complexity-container\">\n      <div className=\"overall-deal-complexity-view-wrapper\">\n        <h2>{`Deal Complexity: ${scoreLabel}`}</h2>\n        <ComplexityScaleWrapper\n          initial={overallDealComplexity.initialValue}\n          modified={overallDealComplexity.value}\n          backgroundColor=\"background-primary\"\n          highLow\n          showTooltip\n        />\n      </div>\n      <div className=\"view-diagnostic-button\">\n        <Link to={formatResultsRoute(projectId)}>\n          <Icon\n            name=\"arrow-right\"\n            width={30}\n            fill=\"#ffff\"\n            className=\"outline icon-orange\"\n          />\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default WelcomeBoxDealComplexity;\n","import { ProjectHttpClient } from './httpClient';\n\nconst serviceUrl = (projectId, featureName) =>\n  `projects/${projectId}/userFeatureEnabled?featureName=${featureName}`;\n\nexport const getUserFeatureEnabled = async (projectId, featureName) => {\n  const result = await ProjectHttpClient.get(\n    serviceUrl(projectId, featureName)\n  );\n  return result.data;\n};\n\nexport const saveUserFeatureEnabled = async (\n  projectId,\n  featureName,\n  enabled\n) => {\n  const result = await ProjectHttpClient.post(\n    serviceUrl(projectId, featureName),\n    { enabled }\n  );\n  return result.data;\n};\n","import React, { useEffect, useState } from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport _get from 'lodash/get';\n\nimport { getProject } from '../../../projectSlice';\nimport WelcomeBox from '../WelcomeBox';\nimport {\n  getUserFeatureEnabled,\n  saveUserFeatureEnabled\n} from '../../../../../common/services/userFeatureToggleService';\nimport './WelcomeBoxQuickStart.scss';\n\nconst iconSize = 24;\n\nconst WelcomeBoxQuickStart = () => {\n  const [featureEnabled, setFeatureEnabled] = useState(null);\n  const project = useSelector(getProject);\n\n  useEffect(() => {\n    (async () => {\n      if (project.id) {\n        const result = await getUserFeatureEnabled(\n          project.id,\n          Constants.FEATURE_NAMES.WELCOME_BOX\n        );\n        setFeatureEnabled(_get(result, 'enabled', false));\n      }\n    })();\n  }, [project.id]);\n\n  if (featureEnabled === null || featureEnabled === false) {\n    return null;\n  }\n\n  const handleDismiss = async () => {\n    await saveUserFeatureEnabled(\n      project.id,\n      Constants.FEATURE_NAMES.WELCOME_BOX,\n      false\n    );\n    setFeatureEnabled(false);\n  };\n\n  return (\n    <div className=\"welcome-box-quick-start\">\n      <WelcomeBox>\n        <button\n          className=\"ui-button button-no-appearance\"\n          aria-label=\"Close welcome box\"\n          onClick={handleDismiss}\n          type=\"button\"\n          data-testid=\"welcome-box-dismiss-button\"\n        >\n          <Icon\n            name=\"close\"\n            className=\"fill icon-white\"\n            width=\"18\"\n            height=\"18\"\n          />\n        </button>\n        <p>\n          Start building your project by{' '}\n          <span className=\"nowrap\">\n            <Icon\n              name=\"add\"\n              width={iconSize}\n              fill=\"#ffff\"\n              className=\"welcome-paragraph-icon fill\"\n            />{' '}\n            adding\n          </span>{' '}\n          a{' '}\n          <span className=\"nowrap\">\n            <Icon\n              name=\"hypothesis\"\n              width={iconSize}\n              fill=\"#ffff\"\n              className=\"welcome-paragraph-icon fill\"\n            />{' '}\n            <Link\n              to={`${project.id}/key-focus-areas/create`}\n              data-testid=\"hypothesis-welcome-link\"\n              aria-label=\"Key Focus Area\"\n              className=\"add-link\"\n            >\n              Key Focus Area\n            </Link>\n          </span>\n          ,{' '}\n          <span className=\"nowrap\">\n            <Icon\n              name=\"insight\"\n              width={iconSize}\n              fill=\"#ffff\"\n              className=\"welcome-paragraph-icon fill\"\n            />{' '}\n            <Link\n              to={`${project.id}/insights/create`}\n              data-testid=\"insights-welcome-link\"\n              aria-label=\"Insight\"\n              className=\"add-link\"\n            >\n              Insight\n            </Link>\n          </span>{' '}\n          or{' '}\n          <span className=\"nowrap\">\n            <Icon\n              name=\"analysis\"\n              width={iconSize}\n              fill=\"#ffff\"\n              className=\"welcome-paragraph-icon fill\"\n            />{' '}\n            <Link\n              to={`${project.id}/analyses/add-type`}\n              data-testid=\"analyses-welcome-link\"\n              aria-label=\"Analyses\"\n              className=\"add-link\"\n            >\n              Analysis\n            </Link>\n          </span>\n          , then{' '}\n          <span className=\"nowrap\">\n            <Icon\n              name=\"hyperlink\"\n              width={iconSize}\n              fill=\"#ffff\"\n              className=\"welcome-paragraph-icon fill\"\n            />{' '}\n            connect\n          </span>{' '}\n          them to demonstrate how our value decisions are informed.\n        </p>\n      </WelcomeBox>\n    </div>\n  );\n};\n\nexport default WelcomeBoxQuickStart;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport featureFlags from '../../../../common/helpers/featureFlags';\n\nimport {\n  fetchDivestitureDiagnosticResults,\n  getDivestitureDiagnosticResults,\n  getFetchDivestitureDiagnosticResultsStatus\n} from '../../../divestitureDiagnostic/divestitureDiagnosticSlice';\nimport ShowForPermissions from '../../../security/ShowForPermissions';\nimport { projectType } from '../../common/projectOptions';\nimport WelcomeBoxBeginQuestionnaire from '../WelcomeBox/WelcomeBoxBeginQuestionnaire/WelcomeBoxBeginQuestionnaire';\nimport WelcomeBoxDealComplexity from '../WelcomeBox/WelcomeBoxDealComplexity/WelcomeBoxDealComplexity';\nimport WelcomeBoxQuickStart from '../WelcomeBox/WelcomeBoxQuickStart/WelcomeBoxQuickStart';\n\nimport './DiagnosticContainer.scss';\n\nconst DiagnosticContainer = ({ id, type, showDiagnostic }) => {\n  const dispatch = useDispatch();\n\n  const diagnosticData = useSelector(getDivestitureDiagnosticResults);\n\n  const isBuySideProject = projectType.buy.id === type;\n  const isSellSideProject = projectType.sell.id === type;\n  const shouldShowDiagnostic = showDiagnostic && featureFlags.diagnostic;\n\n  const { success: fetchResultsSuccess } = useSelector(\n    getFetchDivestitureDiagnosticResultsStatus\n  );\n\n  useEffect(() => {\n    if (!diagnosticData) {\n      dispatch(fetchDivestitureDiagnosticResults(id));\n    }\n  }, [dispatch, diagnosticData, id]);\n\n  return (\n    <div>\n      <ShowForPermissions projectId={id} permissions={['Contribute']}>\n        {isBuySideProject && !diagnosticData && <WelcomeBoxQuickStart />}\n        {isSellSideProject && (!shouldShowDiagnostic || diagnosticData) && (\n          <WelcomeBoxQuickStart />\n        )}\n      </ShowForPermissions>\n      {shouldShowDiagnostic && fetchResultsSuccess && (\n        <>\n          {isSellSideProject && !diagnosticData && (\n            <WelcomeBoxBeginQuestionnaire projectId={id} />\n          )}\n          {isSellSideProject && diagnosticData && (\n            <WelcomeBoxDealComplexity projectId={id} />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(\n  DiagnosticContainer,\n  (prev, next) =>\n    prev.id === next.id &&\n    prev.type === next.type &&\n    prev.showDiagnostic === next.showDiagnostic\n);\n","import React, { useState } from 'react';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport './Accordion.scss';\n\nconst Accordion = ({ children, title }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div\n      className={`accordion accordion-only-mobile accordion-${\n        isOpen ? 'open' : 'closed'\n      }`}\n    >\n      <button\n        type=\"button\"\n        onClick={() => {\n          setIsOpen(!isOpen);\n        }}\n        className=\"accordion-toggle\"\n        data-testid=\"accordion-toggle\"\n      >\n        {title}\n        <Icon\n          name={isOpen ? 'desc' : 'asc'}\n          width={21}\n          className=\"outline icon-orange-theme\"\n        />\n      </button>\n      <div className=\"accordion-content\">{children}</div>\n    </div>\n  );\n};\n\nexport default Accordion;\n","import classNames from 'classnames';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport DealDetails from '../../../common/components/DealDetails';\nimport Separator from '../../../common/components/Separator';\nimport StatusPill from '../../../common/components/Pills/StatusPill';\nimport UserSnippet from '../../../common/components/UserSnippet';\nimport {\n  useProjectsStatuses,\n  getProjectStatus\n} from '../../../common/hooks/useProjectsStatuses';\nimport { getUserViewStatusCountsForProject } from '../../../common/services/projectService';\nimport {\n  addAnalysisTypePath,\n  createHypothesisPath,\n  createInsightPath\n} from '../../../common/services/urlService';\nimport {\n  getNarratives,\n  getNarrativesCount\n} from '../../narratives/narrativesService';\nimport ProjectStatePill from '../../projectStatePill/ProjectStatePill';\nimport ShowForRole from '../../security/ShowForRole';\nimport NewAndUpdated from '../common/NewAndUpdated';\nimport { getUserByRole } from '../common/ProjectModel';\nimport { getProjectType } from '../common/projectOptions';\nimport { fetchUserViewCountsSucceeded, getProject } from '../projectSlice';\nimport ContentLinkSubPanel from './ContentLinkSubPanel';\nimport KPIContainer from './KPIs/KPIContainer';\nimport ProjectOverviewModuleContainer from './ProjectOverview/ProjectOverviewModuleContainer';\nimport DiagnosticContainer from './Diagnostic/DiagnosticContainer';\nimport { isProjectReadOnly } from '../../../common/helpers/projectStatusesUtils';\nimport '../../projects/ProjectList.scss';\nimport './ProjectOverview.scss';\nimport NarrativesContext from '../../../common/contexts/NarrativesContext';\nimport Accordion from '../../../common/components/Accordion/AccordionOnlyMobile';\n\nconst ProjectOverview = () => {\n  const dispatch = useDispatch();\n  const project = useSelector(getProject);\n  const engagementLead = getUserByRole(\n    project,\n    Constants.USER_ROLES.ENGAGEMENT_LEAD\n  );\n  const projectsStates = useProjectsStatuses();\n  const projectStatus = getProjectStatus(projectsStates, project.id);\n\n  const engagementManager = getUserByRole(\n    project,\n    Constants.USER_ROLES.ENGAGEMENT_MANAGER\n  );\n  const addHypothesisTypeHref = createHypothesisPath(project.id);\n  const addInsightTypeHref = createInsightPath(project.id);\n  const addAnalysisTypeHref = addAnalysisTypePath(project.id);\n\n  const [counts, setCounts] = useState(false);\n  const [narratives, setNarratives] = useState(null);\n\n  useEffect(() => {\n    let isMounted = true;\n    const fetch = async () => {\n      if (project.id) {\n        const userViewCountsResponse = await getUserViewStatusCountsForProject(\n          project.id\n        );\n        dispatch(fetchUserViewCountsSucceeded(userViewCountsResponse));\n\n        const projectNarratives = await getNarratives(project.id);\n        if (isMounted && projectNarratives) setNarratives(projectNarratives);\n\n        const narrativeCounts = await getNarrativesCount(project.id);\n        if (isMounted && narrativeCounts) setCounts(narrativeCounts);\n      }\n    };\n\n    fetch();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [project.id, dispatch]);\n\n  if (!project.id) {\n    return null;\n  }\n\n  return (\n    <div className=\"project-overview\">\n      <h2>Project Overview</h2>\n      <div className=\"project-container content-container\">\n        <div\n          key={project.id}\n          className={classNames('project-panel', {\n            'project-panel__readonly': isProjectReadOnly(projectStatus)\n          })}\n        >\n          <div className=\"project-panel-row\">\n            <div className=\"project-panel-col project-title-description-container\">\n              <span className=\"project-title\" data-testid=\"project-title\">\n                <span className=\"title-overflow\">{project.name}</span>\n                <div className=\"pills-container\">\n                  <StatusPill\n                    dataTestId={`project-${project.id}-type`}\n                    title={getProjectType(project.type)}\n                  />\n                  <ProjectStatePill\n                    projectId={project.id}\n                    showWhenActive={false}\n                    isSmall\n                  />\n                </div>\n              </span>\n            </div>\n          </div>\n          <div className=\"project-description-container\">\n            <div\n              className=\"project-description\"\n              data-testid=\"project-description\"\n            >\n              {project.description || ' '}\n            </div>\n            <NewAndUpdated\n              newContent={project.newCount || 0}\n              updatedContent={project.updatedCount || 0}\n              projectId={project.id}\n              shouldRetrieveNotificationCount\n            />\n          </div>\n          <ShowForRole\n            projectId={project.id}\n            roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n          >\n            <Separator />\n            <Accordion title=\"Info\">\n              <div className=\"project-panel-columns\">\n                <div className=\"user-details-container\">\n                  <div>\n                    <UserSnippet\n                      dataTestId={`project-${project.id}-engagement-lead`}\n                      firstName={engagementLead.firstName}\n                      lastName={engagementLead.lastName}\n                      email={engagementLead.email}\n                      position=\"Engagement Lead\"\n                    />\n                  </div>\n                  <div>\n                    <UserSnippet\n                      dataTestId={`project-${project.id}-engagement-manager`}\n                      firstName={engagementManager.firstName}\n                      lastName={engagementManager.lastName}\n                      email={engagementManager.email}\n                      position=\"Engagement Manager\"\n                    />\n                  </div>\n                </div>\n                <div className=\"deal-details-container\">\n                  <div className=\"detail-section\">\n                    <DealDetails\n                      dataTestId={`project-${project.id}-client-details`}\n                      title=\"Client\"\n                      content={project.clientName}\n                    />\n                  </div>\n                  <div className=\"detail-section\">\n                    <DealDetails\n                      dataTestId={`project-${project.id}-target-details`}\n                      title=\"Target\"\n                      content={project.target}\n                    />\n                  </div>\n                  <div className=\"detail-section\">\n                    <DealDetails\n                      dataTestId={`project-${project.id}-industry-status`}\n                      title=\"Industry\"\n                      content={project.industry}\n                    />\n                  </div>\n                </div>\n              </div>\n            </Accordion>\n          </ShowForRole>\n        </div>\n\n        <DiagnosticContainer\n          id={project.id}\n          type={project.type}\n          showDiagnostic={project.showDiagnostic}\n        />\n\n        <KPIContainer />\n        <NarrativesContext.Provider value={narratives}>\n          <ProjectOverviewModuleContainer />\n        </NarrativesContext.Provider>\n        {counts && (\n          <div\n            className=\"project-overview-subpanel-container\"\n            data-testid=\"projectOverviewSubpanelContainer\"\n          >\n            {counts.kfas >= 0 && (\n              <ContentLinkSubPanel\n                itemCount={counts.kfas}\n                contentAddLinkTo={addHypothesisTypeHref}\n                contentListIconName=\"hypothesis\"\n                contentListLinkTo={`/projects/${project.id}/key-focus-areas`}\n                contentType=\"Key Focus Areas\"\n              />\n            )}\n            {counts.insights >= 0 && (\n              <ContentLinkSubPanel\n                itemCount={counts.insights}\n                contentAddLinkTo={addInsightTypeHref}\n                contentListIconName=\"insight\"\n                contentListLinkTo={`/projects/${project.id}/insights`}\n                contentType=\"Insights\"\n              />\n            )}\n            {counts.analyses >= 0 && (\n              <ContentLinkSubPanel\n                itemCount={counts.analyses}\n                contentAddLinkTo={addAnalysisTypeHref}\n                contentListIconName=\"analysis\"\n                contentListLinkTo={`/projects/${project.id}/analyses`}\n                contentType=\"Analyses\"\n              />\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default ProjectOverview;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProjectOverview from './ProjectOverview';\n\nconst ProjectOverviewContentRouter = () => (\n  <>\n    <Switch>\n      <Route exact path=\"/projects/:projectId\" component={ProjectOverview} />\n    </Switch>\n  </>\n);\n\nexport default ProjectOverviewContentRouter;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, useHistory, useParams } from 'react-router-dom';\n\nimport { alertTypes } from '../../../common/components/Alert/AlertConfigs';\nimport D3Alert from '../../../common/components/Alert/D3Alert';\nimport CommentPanelContainer from '../../../common/components/CommentPanel/CommentPanelContainer';\nimport authorizationService from '../../../common/services/security/authorizationService';\nimport { projectDisclaimerPath } from '../../../common/services/urlService';\nimport AnalysesContentRouter from '../../analyses/AnalysesContentRouter';\nimport AnalysesContentRouter2 from '../../analyses2/AnalysesContentRouter2';\nimport DivestitureDiagnosticContentRouter from '../../divestitureDiagnostic/DivestitureDiagnosticContentRouter';\nimport HypothesesContentRouter from '../../hypotheses/HypothesesContentRouter';\nimport InsightsContentRouter from '../../insights/InsightsContentRouter';\nimport NotificationsContentRouter from '../../notifications/NotificationsContentRouter/NotificationsContentRouter';\nimport ProjectDisclaimerRouter from '../../projectDisclaimer/ProjectDisclaimerRouter';\nimport {\n  getProjectDisclaimerSelector,\n  loadProjectDisclaimerThunk\n} from '../../projectDisclaimer/projectDisclaimerSlice';\nimport ReportsContentRouter from '../../reports/ReportsContentRouter';\nimport SettingsContentRouter from '../../settings/SettingsContentRouter';\nimport FileUploadContentRouter from '../../fileUpload/FileUploadContentRouter';\nimport {\n  getProjectError,\n  getProjectErrorStatusCode,\n  getProjectLoading,\n  loadProjectThunk\n} from '../projectSlice';\nimport ProjectOverviewContentRouter from './ProjectOverviewContentRouter';\nimport './ProjectDetails.scss';\n\nconst isClientErrorCode = code => code >= 400 && code < 500;\n\nconst ProjectDetails = () => {\n  const { projectId } = useParams();\n  const isLoading = useSelector(getProjectLoading);\n  const projectDisclaimer = useSelector(\n    getProjectDisclaimerSelector(projectId)\n  );\n  const hasError = useSelector(getProjectError);\n  const errorStatusCode = useSelector(getProjectErrorStatusCode);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(loadProjectThunk(projectId));\n    dispatch(loadProjectDisclaimerThunk(projectId));\n  }, [dispatch, projectId]);\n\n  if (hasError && isClientErrorCode(errorStatusCode)) {\n    return null;\n  }\n\n  if (hasError && !isClientErrorCode(errorStatusCode)) {\n    return <D3Alert configType={alertTypes.fetch} />;\n  }\n\n  if (authorizationService.isClientUser()) {\n    if (!projectDisclaimer || projectDisclaimer.isLoading) {\n      return null;\n    }\n    if (\n      !projectDisclaimer.hasAccepted &&\n      history.location.pathname !== projectDisclaimerPath(projectId)\n    ) {\n      return (\n        <Redirect\n          to={{\n            pathname: projectDisclaimerPath(projectId),\n            state: { from: history.location.pathname }\n          }}\n        />\n      );\n    }\n  }\n\n  return (\n    <>\n      <CommentPanelContainer projectId={projectId} />\n      <div className=\"page-content\">\n        {isLoading}\n        <div className=\"router-content\" data-testid=\"project-details-content\">\n          <ProjectDisclaimerRouter />\n          <ProjectOverviewContentRouter />\n          <HypothesesContentRouter />\n          <InsightsContentRouter />\n          <AnalysesContentRouter />\n          <AnalysesContentRouter2 />\n          <SettingsContentRouter />\n          <ReportsContentRouter />\n          <NotificationsContentRouter />\n          <DivestitureDiagnosticContentRouter />\n          <FileUploadContentRouter />\n        </div>\n      </div>\n    </>\n  );\n};\nexport default ProjectDetails;\n","/* eslint-disable no-unused-vars */\nimport { MasterApiClient } from '../../../common/services/httpClient';\n\nexport const getAllProjects = async () => {\n  const response = await MasterApiClient.get('projects/all');\n  return response.data;\n};\n\nconst updateDeletedStatus = async (projectId, deleted) => {\n  const response = await MasterApiClient.patch(\n    `projects/${projectId}/deleted`,\n    { deleted }\n  );\n  return response.data;\n};\n\nexport const hideProject = async projectId => {\n  return updateDeletedStatus(projectId, true);\n};\n\nexport const showProject = async projectId => {\n  return updateDeletedStatus(projectId, false);\n};\n","import React, { useState, useEffect } from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { ProjectListLayout } from '../../../common/components/layouts';\nimport { getAllProjects, hideProject, showProject } from './adminService';\nimport './AdminProjectList.scss';\n\nconst ProjectRow = ({ project, onHide, onShow }) => {\n  const onClick = () =>\n    project.deleted ? onShow(project.id) : onHide(project.id);\n\n  return (\n    <div className=\"project-row\">\n      <div className=\"project-panel\">\n        <div className=\"project-panel-row\">\n          <div className=\"project-title-description-container\">\n            {project.name}\n            <Button\n              className=\"button-menu\"\n              onClick={onClick}\n              data-testid=\"menu-button-hide\"\n              disabled={!onClick}\n            >\n              {project.deleted ? 'Show' : 'Hide'}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst AdminProjectList = () => {\n  const [isDirty, setIsDirty] = useState(true);\n  const [projects, setProjects] = useState([]);\n\n  useEffect(() => {\n    if (isDirty) {\n      const getProjects = async () => {\n        const allProjects = await getAllProjects();\n        setIsDirty(false);\n        setProjects(allProjects);\n      };\n      getProjects();\n    }\n  }, [isDirty]);\n\n  const onHide = projectId => {\n    hideProject(projectId).then(_ => setIsDirty(true));\n  };\n\n  const onShow = projectId => {\n    showProject(projectId).then(_ => setIsDirty(true));\n  };\n\n  const displayedProjects = projects.map(p => (\n    <ProjectRow project={p} key={p.id} onHide={onHide} onShow={onShow} />\n  ));\n\n  return (\n    <ProjectListLayout>\n      <div className=\"admin-project-list\">\n        <h2>All Projects</h2>\n        <div className=\"project-container\">{displayedProjects}</div>\n      </div>\n    </ProjectListLayout>\n  );\n};\n\nexport default AdminProjectList;\n","const anyErrors = errorMessages => Object.values(errorMessages).some(_ => _);\n\nexport default anyErrors;\n","const createObjectWithSameKeys = (\n  source,\n  initialValueForEveryProperty = undefined\n) => {\n  const result = {};\n  Object.keys(source).forEach(_ => {\n    result[_] = initialValueForEveryProperty;\n  });\n  return result;\n};\n\nexport default createObjectWithSameKeys;\n","const isBlank = value => {\n  return !value || value.trim().length === 0;\n};\n\nexport default isBlank;\n","import isBlank from '../../common/helpers/isBlank';\n\nconst validateMetaDataFormValues = formValues => {\n  const services =\n    formValues.services && formValues.services.length > 0\n      ? ''\n      : 'At least one service / product is required';\n\n  const result = {\n    dealType: isBlank(formValues.dealType) ? 'Deal type must be selected' : '',\n    clientName: isBlank(formValues.clientName) ? 'Client name is required' : '',\n    projectName: isBlank(formValues.projectName)\n      ? 'Project name is required'\n      : '',\n    restriction: isBlank(formValues.restriction)\n      ? 'Restriction must be selected'\n      : '',\n    services\n  };\n\n  return result;\n};\n\nexport default validateMetaDataFormValues;\n","import React from 'react';\n\nconst Form = ({ onSubmit, children, ...rest }) => (\n  <form\n    onSubmit={e => {\n      e.preventDefault();\n      onSubmit();\n    }}\n    {...rest}\n  >\n    {children}\n  </form>\n);\n\nexport default Form;\n","import React from 'react';\nimport { TextInput, RadioGroup, Select, Icon, Loader } from '@pwc/pwc-deals-ui';\nimport PublishButton from '../../../../../common/components/PublishButton';\nimport Form from '../../common/components/Form';\nimport CancelButton from '../../common/components/CancelButtonLink';\nimport FormBottomActionsContainer from '../../common/components/FormBottomActionsContainer';\nimport {\n  dealOptions,\n  restrictionOptions,\n  currencyOptions,\n  financialMagnitudeOptions,\n  financialsDecimalCountOptions,\n  consentLevelOptions\n} from '../../../common/projectOptions';\nimport SelectMultiple from '../../../../../common/components/SelectMultiple/SelectMultiple';\nimport { useProjectOptionsFromApi } from '../../../../../common/hooks/useProjectOptionsFromApi';\nimport './MetaDataStepDisplay.scss';\n\nconst MetaDataStepDisplay = ({\n  formValues,\n  formTouches,\n  formErrors,\n  isValid,\n  onChange,\n  onBlur,\n  onCancel,\n  onNextClick,\n  isSaving\n}) => {\n  const {\n    isLoading,\n    industryOptions,\n    serviceOptions\n  } = useProjectOptionsFromApi();\n\n  if (isLoading) {\n    return <Loader data-testid=\"project-options-loading\" />;\n  }\n\n  return (\n    <Form\n      onSubmit={onNextClick}\n      data-testid=\"project-create-form\"\n      className=\"step-1-form\"\n    >\n      <TextInput\n        label=\"Territory\"\n        field={{\n          name: 'territory',\n          value: formValues.territory,\n          onChange: () => {}\n        }}\n        error=\"\"\n        basic\n        disabled\n      />\n      <RadioGroup\n        label=\"Deal type\"\n        field={{\n          name: 'dealType',\n          value: formValues.dealType,\n          onChange\n        }}\n        options={dealOptions}\n        direction=\"row\"\n      />\n      <br />\n      <RadioGroup\n        label=\"Client Type\"\n        field={{\n          name: 'restriction',\n          value: formValues.restriction,\n          onChange\n        }}\n        options={restrictionOptions}\n        direction=\"row\"\n      />\n      <br />\n      <div className=\"services-container\">\n        <SelectMultiple\n          matchOnStartsWith={false}\n          minimumSearchStringLength={2}\n          fieldName=\"services\"\n          label=\"Services / Products\"\n          placeholder=\"Search for services and products\"\n          options={serviceOptions}\n          selections={formValues.services}\n          onChange={selections =>\n            onChange({ target: { name: 'services', value: selections } })\n          }\n          onBlur={onBlur('services')}\n          error={formTouches.services ? formErrors.services : ''}\n          noMatchElement={null}\n        />\n      </div>\n      <TextInput\n        basic\n        label=\"Project name\"\n        field={{\n          name: 'projectName',\n          value: formValues.projectName,\n          onChange\n        }}\n        error={formTouches.projectName ? formErrors.projectName : ''}\n        onBlur={onBlur('projectName')}\n      />\n      <TextInput\n        basic\n        label=\"Client name\"\n        field={{\n          name: 'clientName',\n          value: formValues.clientName,\n          onChange\n        }}\n        error={formTouches.clientName ? formErrors.clientName : ''}\n        onBlur={onBlur('clientName')}\n      />\n      <TextInput\n        basic\n        label=\"Target (optional)\"\n        field={{\n          name: 'target',\n          value: formValues.target,\n          onChange\n        }}\n        error=\"\"\n        onBlur={onBlur('target')}\n      />\n      <TextInput\n        basic\n        label=\"Description (optional)\"\n        field={{\n          name: 'description',\n          value: formValues.description,\n          onChange\n        }}\n        error=\"\"\n        onBlur={onBlur('description')}\n      />\n      <Select\n        data-testid=\"industry-select\"\n        basic\n        options={industryOptions}\n        label=\"Industry (optional)\"\n        onChange={event =>\n          onChange({\n            target: { name: 'industryId', value: event.target.value }\n          })\n        }\n        value={formValues.industryId}\n        placeholder=\"Please select the client's industry\"\n      />\n      <br />\n      <br />\n      <RadioGroup\n        label=\"Data Use Consent Level\"\n        field={{\n          name: 'consentLevel',\n          value: formValues.consentLevel,\n          onChange\n        }}\n        options={consentLevelOptions}\n        direction=\"row\"\n      />\n      <br />\n      <br />\n      <h2>Format details</h2>\n      <p\n        style={{\n          display: 'flex',\n          alignItems: 'center'\n        }}\n      >\n        <Icon\n          name=\"information\"\n          className=\"fill icon-yellow\"\n          width={16}\n          style={{\n            marginRight: '0.5rem'\n          }}\n        />\n        Automated for structured analysis only\n      </p>\n      <RadioGroup\n        label=\"Currency\"\n        field={{\n          name: 'currency',\n          value: formValues.currency,\n          onChange\n        }}\n        options={currencyOptions}\n        direction=\"row\"\n      />\n      <RadioGroup\n        label=\"Number format\"\n        field={{\n          name: 'financialsMagnitude',\n          value: formValues.financialsMagnitude,\n          onChange\n        }}\n        options={financialMagnitudeOptions}\n        direction=\"row\"\n      />\n      <RadioGroup\n        label=\"Decimals\"\n        field={{\n          name: 'financialsDecimalCount',\n          value: formValues.financialsDecimalCount,\n          onChange\n        }}\n        options={financialsDecimalCountOptions}\n        direction=\"row\"\n      />\n      <br />\n      <div className=\"separator\" />\n      <FormBottomActionsContainer>\n        <CancelButton onClick={onCancel} />\n        <PublishButton\n          isSaving={isSaving}\n          isValid={isValid}\n          buttonSize=\"sm\"\n          onSaveText=\"Saving...\"\n          standbyText=\"Next\"\n          buttonPosition=\"project-details\"\n        />\n      </FormBottomActionsContainer>\n    </Form>\n  );\n};\n\nexport default MetaDataStepDisplay;\n","/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\nimport React, { useState, useEffect } from 'react';\nimport anyErrors from '../../common/helpers/anyErrors';\nimport createObjectWithSameKeys from '../../common/helpers/createObjectWithSameKeys';\nimport validateForm from './validateMetaDataFormValues';\nimport MetaDataStepDisplay from './MetaDataStepDisplay';\n\nconst initialFormValues = {\n  dealType: undefined,\n  clientName: '',\n  projectName: '',\n  restriction: undefined,\n  target: '',\n  industryId: undefined,\n  consentLevel: 'None',\n  classification: 'Yes',\n  lineOfService: 'Advisory Services (AS)' // TODO: GLI set to ''\n};\n\nconst initialFormErrors = createObjectWithSameKeys(initialFormValues, '');\nconst initialFormTouches = createObjectWithSameKeys(initialFormValues, false);\n\nconst MetaDataStep = ({\n  initialValues = {},\n  onCancel,\n  onStepCompleted,\n  isSaving\n}) => {\n  const [formValues, setFormValues] = useState({\n    ...initialFormValues,\n    ...initialValues\n  });\n  const [formTouches, setFormTouches] = useState(initialFormTouches);\n  const [formErrors, setFormErrors] = useState(initialFormErrors);\n  const [isValid, setIsValid] = useState(false);\n\n  const validateWrap = values => {\n    const updatedFormErrors = validateForm(values);\n    setFormErrors(updatedFormErrors);\n    setIsValid(!anyErrors(updatedFormErrors));\n  };\n\n  useEffect(() => {\n    validateWrap(formValues);\n  }, [formValues]);\n\n  const onChange = event => {\n    const { name, value } = event.target;\n    const updatedFormValues = { ...formValues, [name]: value };\n    setFormValues(updatedFormValues);\n    validateWrap(updatedFormValues);\n  };\n\n  const onBlur = fieldName => () => {\n    setFormTouches({ ...formTouches, [fieldName]: true });\n  };\n\n  const onNextClick = () => {\n    onStepCompleted(formValues);\n  };\n\n  return (\n    <MetaDataStepDisplay\n      formValues={formValues}\n      formTouches={formTouches}\n      formErrors={formErrors}\n      isValid={isValid}\n      onChange={onChange}\n      onBlur={onBlur}\n      onNextClick={onNextClick}\n      onCancel={onCancel}\n      isSaving={isSaving}\n    />\n  );\n};\n\nexport default MetaDataStep;\n","import React from 'react';\nimport {\n  Constants,\n  EnvironmentVariableUtilities\n} from '@pwc/pwc-deals-web-common';\nimport UserEditSettings, {\n  getInitialState\n} from '../../../../settings/UserEditSettings';\n\nconst TeamMembersStep = ({\n  initialValues,\n  onCancel,\n  hasError,\n  onStepCompleted\n}) => {\n  const formValues = getInitialState();\n  if (initialValues && initialValues.length) {\n    Object.keys(formValues).forEach(role => {\n      formValues[role] = initialValues.filter(v => v.role === role);\n    });\n  }\n\n  const fieldConfigs = [\n    {\n      role: Constants.USER_ROLES.ENGAGEMENT_LEAD,\n      title: Constants.USER_ROLES.ENGAGEMENT_LEAD,\n      description: `Full access. This is available for Partner and Managing Director level only.`,\n      required: true\n    },\n    {\n      role: Constants.USER_ROLES.ENGAGEMENT_MANAGER,\n      title: Constants.USER_ROLES.ENGAGEMENT_MANAGER,\n      description: `Full access to ${EnvironmentVariableUtilities.platformName}.`,\n      required: true\n    },\n    {\n      role: Constants.USER_ROLES.APPROVER,\n      title: Constants.USER_ROLES.APPROVER,\n      description: `Unable to edit users on ${EnvironmentVariableUtilities.platformName}.`,\n      allowMany: true\n    },\n    {\n      role: Constants.USER_ROLES.TEAM_MEMBER,\n      title: Constants.USER_ROLES.TEAM_MEMBER,\n      description: 'Unable to edit users or approve content.',\n      allowMany: true\n    },\n    {\n      role: Constants.USER_ROLES.PWC_READONLY,\n      title: Constants.USER_ROLES.PWC_READONLY_DISPLAY,\n      description: `Unable to contribute, share, approve, comment, and edit users on ${EnvironmentVariableUtilities.platformName}.`,\n      allowMany: true\n    }\n  ];\n\n  return (\n    <UserEditSettings\n      initialValues={formValues}\n      fieldConfigs={fieldConfigs}\n      onSubmit={onStepCompleted}\n      onCancel={onCancel}\n      submitButtonText=\"Next\"\n      hasError={hasError}\n      isDirty={initialValues && initialValues.length ? true : undefined}\n    >\n      <h3>Search for PwC team members to invite to the project.</h3>\n      <p>\n        If you can&lsquo;t find a team member, please send an email to{' '}\n        <a href=\"mailto:deals-support@pwc.com\" className=\"orange-link\">\n          deals-support@pwc.com\n        </a>\n        {'. '}\n        Please include the full name and the role you&lsquo;d like to add.\n      </p>\n    </UserEditSettings>\n  );\n};\n\nexport default TeamMembersStep;\n","import React from 'react';\nimport PublishButton from '../../../../../common/components/PublishButton';\nimport Form from '../../common/components/Form';\nimport CancelButton from '../../common/components/CancelButtonLink';\nimport FormBottomActionsContainer from '../../common/components/FormBottomActionsContainer';\n\nconst SubmitRequestStep = ({ onCancel, onStepCompleted, isSaving }) => {\n  //\n  return (\n    <Form\n      onSubmit={onStepCompleted}\n      data-testid=\"project-create-form\"\n      className=\"step-3-form\"\n    >\n      <h2>Setting up the project</h2>\n      <p>\n        Create your project below when you are ready. To view or edit the\n        project details once it&apos;s created, you can go to the Settings\n        section of the project.\n      </p>\n      <br />\n      <div className=\"separator\" />\n      <FormBottomActionsContainer>\n        <CancelButton onClick={onCancel} dataTestId=\"cancel-button\" />\n        <PublishButton\n          isSaving={isSaving}\n          isValid\n          buttonSize=\"sm\"\n          onSaveText=\"Submitting...\"\n          standbyText=\"Create Project\"\n          dataTestId=\"create-project-button\"\n        />\n      </FormBottomActionsContainer>\n    </Form>\n  );\n};\n\nexport default SubmitRequestStep;\n","import React from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport FormBottomActionsContainer from '../../common/components/FormBottomActionsContainer';\n\nconst RequestError = ({ onTryAgainClick }) => {\n  return (\n    <>\n      <p>There was a problem submitting your request.</p>\n      <p>\n        If the issue continues, please get in touch with us at{' '}\n        <a\n          href=\"mailto:us_junction_support@pwc.com\"\n          className=\"support-email-link\"\n        >\n          us_junction_support@pwc.com\n        </a>\n      </p>\n      <br />\n      <div className=\"separator\" />\n      <FormBottomActionsContainer>\n        <Button\n          className=\"button-block sm\"\n          type=\"button\"\n          data-testid=\"try-again-button\"\n          onClick={onTryAgainClick}\n        >\n          Try Again\n        </Button>\n      </FormBottomActionsContainer>\n    </>\n  );\n};\n\nexport default RequestError;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst RequestSubmittedStep = () => {\n  const url = `/projects/`;\n\n  return (\n    <>\n      <p>\n        Get your project up and running by viewing the Project Overview before\n        adding content to your project. Or you can invite more team members\n        through the project settings.\n      </p>\n      <p>\n        A Sharepoint folder is associated with the project so you can also\n        upload analyses and other documents there to collaborate with others\n        before importing them to the project.\n      </p>\n      <br />\n      <div className=\"separator\" />\n      <p className=\"link-projects-list\">\n        <Link to={url} className=\"btn btn-primary\" aria-label=\"Projects\">\n          Go to projects list\n        </Link>\n      </p>\n    </>\n  );\n};\n\nexport default RequestSubmittedStep;\n","import React, { useState } from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { useHistory } from 'react-router-dom';\nimport { Button, Icon, ProgressSteps } from '@pwc/pwc-deals-ui';\nimport { postProject } from '../../../common/services/projectService';\nimport { refreshTokens } from '../../../common/services/security/userAuthService';\nimport userTokenService from '../../../common/services/security/userTokenService';\nimport authorizationService from '../../../common/services/security/authorizationService';\nimport FormLayout from '../../../common/components/layouts/FormLayout';\nimport MetaDataStep from './steps/MetaDataStep/MetaDataStep';\nimport TeamMembersStep from './steps/TeamMembersStep/TeamMembersStep';\nimport SubmitRequestStep from './steps/SubmitRequestStep/SubmitRequestStep';\nimport RequestError from './steps/RequestError/RequestError';\nimport RequestSubmittedStep from './steps/RequestSubmittedStep/RequestSubmittedStep';\nimport './CreateProject.scss';\nimport {\n  currencyOptions,\n  financialMagnitudeOptions,\n  financialsDecimalCountOptions,\n  getDefaultValue\n} from '../common/projectOptions';\n\nconst CreateProject = () => {\n  const history = useHistory();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [stepOneFormValues, setStepOneFormValues] = useState({\n    territory:\n      process.env.REACT_APP_TERRITORY || Constants.TERRITORIES.UNITED_STATES,\n    services: [],\n    currency: getDefaultValue(\n      currencyOptions,\n      process.env.REACT_APP_TERRITORY || Constants.TERRITORIES.UNITED_STATES\n    ),\n    financialsMagnitude: getDefaultValue(financialMagnitudeOptions),\n    financialsDecimalCount: getDefaultValue(financialsDecimalCountOptions)\n  });\n  const [stepTwoFormValues, setStepTwoFormValues] = useState({});\n  const [hasError, setHasError] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [newProjectId, setNewProjectId] = useState(false);\n\n  const steps = [\n    { title: 'first', description: 'Project details' },\n    { title: 'second', description: 'Team details' },\n    { title: 'third', description: 'Create project' }\n  ];\n\n  const onBackClick = () => {\n    if (currentStep === 1) {\n      history.goBack();\n    } else {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  const onCancel = () => {\n    history.replace(`/projects/`);\n  };\n\n  const onStepOneCompleted = async formValues => {\n    setStepOneFormValues(formValues);\n    setCurrentStep(2);\n  };\n\n  const onStepTwoCompleted = async users => {\n    setStepTwoFormValues(users);\n    setCurrentStep(3);\n  };\n\n  const onStepThreeCompleted = async () => {\n    const email = await userTokenService.getUserEmail();\n    const defaultSelf = {\n      email,\n      role: Constants.USER_ROLES.TEAM_MEMBER,\n      pendingApproval: false\n    };\n    const usersWithSelf = stepTwoFormValues.find(u => u.email === email)\n      ? stepTwoFormValues\n      : [...stepTwoFormValues, defaultSelf];\n\n    const project = {\n      territory: stepOneFormValues.territory,\n      clientName: stepOneFormValues.clientName,\n      industryId: stepOneFormValues.industryId,\n      name: stepOneFormValues.projectName,\n      restriction: parseInt(stepOneFormValues.restriction, 10),\n      serviceIds: stepOneFormValues.services.map(sp => sp.value),\n      target: stepOneFormValues.target,\n      type: parseInt(stepOneFormValues.dealType, 10),\n      currency: stepOneFormValues.currency,\n      financialsMagnitude: stepOneFormValues.financialsMagnitude,\n      financialsDecimalCount: stepOneFormValues.financialsDecimalCount,\n      consentLevel: stepOneFormValues.consentLevel,\n      users: usersWithSelf.map(user => ({\n        emailAddress: user.email,\n        roleName: user.role,\n        pendingApproval: user.pendingApproval\n      }))\n    };\n\n    setIsSaving(true);\n    setHasError(false);\n    try {\n      const projectId = await postProject(project);\n      const refreshTokenSet = await refreshTokens();\n      authorizationService.setTokens(refreshTokenSet);\n      setNewProjectId(projectId);\n      setCurrentStep(4);\n    } catch (e) {\n      setCurrentStep(4);\n      setHasError(true);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"project-create\">\n      <FormLayout headerComponent={<div />}>\n        {currentStep !== 4 && (\n          <Button\n            className=\"button-menu back-button mb-3\"\n            type=\"button\"\n            onClick={onBackClick}\n            data-testid=\"back-button\"\n          >\n            <Icon name=\"left-chevron\" width={14} className=\"fill icon-orange\" />\n            Back\n          </Button>\n        )}\n        {currentStep === 4 ? (\n          <h1 data-testid=\"project-form-header\">\n            {hasError ? (\n              <span>\n                {' '}\n                <Icon name=\"alert\" width={30} className=\"fill icon-orange\" />\n                &nbsp;Problem creating the project\n              </span>\n            ) : (\n              <span>New project request underway</span>\n            )}\n          </h1>\n        ) : (\n          <h1 data-testid=\"project-form-header\">Create a new project</h1>\n        )}\n        <ProgressSteps current={currentStep} steps={steps} />\n        <div className=\"separator\" />\n        {currentStep === 1 && (\n          <MetaDataStep\n            initialValues={stepOneFormValues}\n            onCancel={onCancel}\n            onStepCompleted={onStepOneCompleted}\n          />\n        )}{' '}\n        {currentStep === 2 && (\n          <TeamMembersStep\n            initialValues={stepTwoFormValues}\n            onCancel={onCancel}\n            onStepCompleted={onStepTwoCompleted}\n            isSaving={isSaving}\n            hasError={hasError}\n          />\n        )}{' '}\n        {currentStep === 3 && (\n          <SubmitRequestStep\n            onCancel={onCancel}\n            onStepCompleted={onStepThreeCompleted}\n            isSaving={isSaving}\n          />\n        )}{' '}\n        {currentStep === 4 && hasError === false && (\n          <RequestSubmittedStep\n            projectId={newProjectId}\n            projectName={stepOneFormValues.projectName}\n          />\n        )}{' '}\n        {currentStep === 4 && hasError && (\n          <RequestError onTryAgainClick={onStepThreeCompleted} />\n        )}\n      </FormLayout>\n    </div>\n  );\n};\n\nexport default CreateProject;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const initialState = null;\n\nconst loggedInUserSlice = createSlice({\n  name: 'loggedInUser',\n  initialState,\n  reducers: {\n    setLoggedInUserSucceeded: (state, action) => {\n      return {\n        ...state,\n        ...action.payload\n      };\n    }\n  }\n});\n\nexport const { setLoggedInUserSucceeded } = loggedInUserSlice.actions;\n\nexport default loggedInUserSlice.reducer;\n","import { TextUtilities } from '@pwc/pwc-deals-web-common';\n\nconst loggedInUserMapper = {\n  map: jwtToken => {\n    if (!jwtToken) return {};\n\n    return {\n      initials: TextUtilities.getUserInitials(\n        jwtToken.given_name,\n        jwtToken.family_name\n      ),\n      givenName: jwtToken.given_name,\n      familyName: jwtToken.family_name,\n      name: `${jwtToken.given_name} ${jwtToken.family_name}`\n    };\n  }\n};\n\nexport default loggedInUserMapper;\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getUserSettingsSelector } from '../../common/redux/userSettings/userSettingsSlice';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport pendoService from './pendoService';\n\nexport const PendoStarter = ({ children }) => {\n  const userSettings = useSelector(getUserSettingsSelector);\n\n  useEffect(() => {\n    if (authorizationService.hasValidToken() && userSettings.loaded) {\n      if (userSettings.settings.allowPerformanceCookies) {\n        (() =>\n          new Promise(res => {\n            const isInstalled = pendoService.isInstalled();\n            if (isInstalled) {\n              res();\n              return;\n            }\n            const checkingInitializedInterval = setInterval(() => {\n              if (pendoService.isInstalled()) {\n                clearInterval(checkingInitializedInterval);\n                res();\n              }\n            }, 200);\n          }).then(() => {\n            if (!pendoService.isStarted()) {\n              pendoService.start();\n            }\n          }))();\n      }\n    }\n  }, [userSettings]);\n  return children;\n};\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { setLoggedInUserThunk } from '../../common/redux/security/loggedInUser/setLoggedInUserThunk';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport { PendoStarter } from '../userAnalytics/PendoStarter';\n\nconst PrivateRoute = ({\n  component: Component,\n  tAndCHasAccepted,\n  requireTAndCAcceptance = true,\n  ...rest\n}) => {\n  const dispatch = useDispatch();\n  const hasValidToken = authorizationService.hasValidToken();\n  useEffect(() => {\n    if (hasValidToken) {\n      dispatch(setLoggedInUserThunk());\n    }\n  }, [hasValidToken, dispatch]);\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        if (hasValidToken) {\n          if (\n            requireTAndCAcceptance &&\n            authorizationService.isClientUser() &&\n            !tAndCHasAccepted\n          ) {\n            return (\n              <Redirect to={{ pathname: '/', state: { from: location } }} />\n            );\n          }\n          return (\n            <PendoStarter>\n              <Component />\n            </PendoStarter>\n          );\n        }\n        return (\n          <Redirect\n            to={{\n              pathname: '/',\n              state: { from: location }\n            }}\n          />\n        );\n      }}\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import authorizationService from '../../../services/security/authorizationService';\nimport { setLoggedInUserSucceeded } from './loggedInUserSlice';\nimport loggedInUserMapper from '../../../services/security/loggedInUserMapper';\n\nexport const setLoggedInUserThunk = () => async dispatch => {\n  const jwtToken = authorizationService.getToken();\n  const setLoggedInUser = loggedInUserMapper.map(jwtToken);\n  dispatch(setLoggedInUserSucceeded(setLoggedInUser));\n};\n","import React from 'react';\nimport { Icon, Button } from '@pwc/pwc-deals-ui';\nimport { getProjectType } from '../project/common/projectOptions';\nimport StatusPill from '../../common/components/Pills/StatusPill';\nimport locationService from '../../common/services/locationService';\nimport ProjectLoader from './ProjectLoader';\nimport './ProjectStatus.scss';\nimport { PROJECT_STATUS_CODES } from '../../common/constants/ProjectStatus';\nimport ProjectStatePill from '../projectStatePill/ProjectStatePill';\n\nconst { REACT_APP_SUPPORT_EMAIL } = process.env;\n\nconst ProjectStatus = ({ project }) => {\n  const handleEmail = () => {\n    if (REACT_APP_SUPPORT_EMAIL) {\n      locationService.redirect(`mailto:${REACT_APP_SUPPORT_EMAIL}`);\n    }\n  };\n\n  if (project.status === PROJECT_STATUS_CODES.COMPLETED) {\n    return (\n      <span className=\"project-status align-self-md-center mt-0\">\n        <StatusPill\n          dataTestId={`project-${project.id}-type`}\n          title={getProjectType(project.type)}\n        />\n      </span>\n    );\n  }\n  if (project.status === PROJECT_STATUS_CODES.ON_HOLD) {\n    return (\n      <span className=\"project-status\" data-testid=\"project-on-hold\">\n        <span className=\"project-status__icon\">\n          <Icon name=\"alert\" width={24} className=\"fill icon-yellow\" />\n        </span>\n        <span>\n          Project initiation on hold as the team investigate an issue. The\n          process will retry automatically.\n        </span>\n      </span>\n    );\n  }\n  if (project.status === PROJECT_STATUS_CODES.FAILED) {\n    return (\n      <span className=\"project-status\" data-testid=\"project-failed\">\n        <span className=\"project-status__icon\">\n          <Icon name=\"alert\" width={24} className=\"fill icon-yellow\" />\n        </span>\n        <span>\n          An error occurred.\n          {REACT_APP_SUPPORT_EMAIL ? (\n            <span data-testid=\"support-info\">\n              {' '}\n              If it continues, contact{' '}\n              <Button className=\"button-link\" onClick={handleEmail}>\n                {REACT_APP_SUPPORT_EMAIL}\n              </Button>\n            </span>\n          ) : null}\n        </span>\n      </span>\n    );\n  }\n  if (\n    [\n      PROJECT_STATUS_CODES.INACTIVE,\n      PROJECT_STATUS_CODES.INACTIVE_PENDING_IN_PROGRESS,\n      PROJECT_STATUS_CODES.ARCHIVED,\n      PROJECT_STATUS_CODES.ARCHIVING_PENDING_IN_PROGRESS\n    ].includes(project.status)\n  ) {\n    return (\n      <>\n        <StatusPill\n          dataTestId={`project-${project.id}-type`}\n          title={getProjectType(project.type)}\n        />\n        <ProjectStatePill\n          projectId={project.id}\n          showWhenActive={false}\n          isSmall\n        />\n      </>\n    );\n  }\n  return (\n    <>\n      <span className=\"project-status align-items-center\">\n        <StatusPill\n          title=\"Project Initiating\"\n          status=\"provisioning\"\n          dataTestId=\"project-status-pill\"\n        />\n        <ProjectLoader />\n      </span>\n    </>\n  );\n};\n\nexport default ProjectStatus;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { Constants } from '@pwc/pwc-deals-web-common';\n\nimport UserSnippet from '../../common/components/UserSnippet';\nimport DealDetails from '../../common/components/DealDetails';\nimport Separator from '../../common/components/Separator';\nimport { getUserByRole } from '../project/common/ProjectModel';\nimport {\n  getProjectStatus,\n  useProjectsStatuses\n} from '../../common/hooks/useProjectsStatuses';\nimport ShowForRole from '../security/ShowForRole';\nimport NewAndUpdated from '../project/common/NewAndUpdated';\nimport { getUserViewStatusCountsForProject } from '../../common/services/projectService';\nimport userTokenService from '../../common/services/security/userTokenService';\nimport {\n  isProjectActive,\n  isProjectReadOnly\n} from '../../common/helpers/projectStatusesUtils';\nimport ProjectStatus from './ProjectStatus';\nimport Accordion from '../../common/components/Accordion/AccordionOnlyMobile';\n\nconst ProjectListRow = ({ project }) => {\n  const [counts, setCounts] = useState({ newCount: 0, updatedCount: 0 });\n  const [projectToken, setProjectToken] = useState(null);\n  const projectsStates = useProjectsStatuses();\n  const projectState = getProjectStatus(projectsStates, project.id);\n\n  useEffect(() => {\n    const token = userTokenService.getProjectToken(project.id);\n    setProjectToken(token);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      const projectStatusCompleted = 3;\n      if (projectToken && project.status === projectStatusCompleted)\n        setCounts(await getUserViewStatusCountsForProject(project.id));\n    })();\n  }, [projectToken, project.id, project.status]);\n\n  const engagementLead = getUserByRole(project, 'Engagement Lead');\n  const engagementManager = getUserByRole(project, 'Engagement Manager');\n  const isProjectReadable =\n    isProjectReadOnly(project.status) || isProjectActive(project.status);\n\n  let projectStatusClass;\n\n  switch (project.status) {\n    case 1:\n      projectStatusClass = ' new';\n      break;\n    case 2:\n      projectStatusClass = ' in-progress';\n      break;\n    case 3:\n      projectStatusClass = ' completed';\n      break;\n    case 4:\n      projectStatusClass = ' migration-completed';\n      break;\n    case 5:\n      projectStatusClass = ' migration-failed';\n      break;\n    case 7:\n      projectStatusClass = ' sync-failed';\n      break;\n    case 10:\n      projectStatusClass = ' failed';\n      break;\n    case 11:\n      projectStatusClass = ' on-hold';\n      break;\n    default:\n      projectStatusClass = '';\n  }\n\n  return (\n    <div\n      className={classNames('project-panel', {\n        'project-panel__readonly': isProjectReadOnly(projectState)\n      })}\n    >\n      <div className=\"project-panel-row\">\n        <div className=\"project-title-description-container\">\n          <span className={`project-title${projectStatusClass}`}>\n            <Link\n              to={isProjectReadable ? `/projects/${project.id}` : ''}\n              data-testid={`project-${project.id}-link`}\n            >\n              {project.name}\n            </Link>\n            <div className=\"pills-container\">\n              <ProjectStatus project={project} />\n            </div>\n          </span>\n          <Link\n            to={project.status === 3 ? `/projects/${project.id}` : ''}\n            className=\"project-panel-link-arrow\"\n            data-testid={`project-${project.id}-link-arrow`}\n          >\n            <Icon\n              name=\"arrow-right\"\n              width={32}\n              className=\"project-panel-arrow outline icon-orange\"\n            />\n          </Link>\n        </div>\n      </div>\n      <div className=\"project-description-container\">\n        <div className=\"project-description\" data-testid=\"project-description\">\n          {project.description || ' '}\n        </div>\n        <div className=\"project-content\">\n          {projectToken && (\n            <NewAndUpdated\n              projectId={project.id}\n              newContent={counts.newCount}\n              updatedContent={counts.updatedCount}\n              shouldRetrieveNotificationCount={isProjectReadable}\n            />\n          )}\n        </div>\n      </div>\n      {projectToken && (\n        <ShowForRole\n          projectId={project.id}\n          roles={Constants.USER_ROLE_GROUPS.INTERNAL}\n        >\n          <Separator />\n          <Accordion title=\"Info\">\n            <div className=\"row\">\n              <div className=\"user-details-container col-md-6 col-sm-12\">\n                <div>\n                  <UserSnippet\n                    dataTestId={`project-${project.id}-engagement-lead`}\n                    firstName={engagementLead.firstName}\n                    lastName={engagementLead.lastName}\n                    email={engagementLead.email}\n                    position=\"Engagement Lead\"\n                  />\n                </div>\n                <div>\n                  <UserSnippet\n                    dataTestId={`project-${project.id}-engagement-manager`}\n                    firstName={engagementManager.firstName}\n                    lastName={engagementManager.lastName}\n                    email={engagementManager.email}\n                    position=\"Engagement Manager\"\n                  />\n                </div>\n              </div>\n              <div className=\"deal-details-container col-md-6 col-sm-12\">\n                <div className=\"detail-section\">\n                  <DealDetails\n                    dataTestId={`project-${project.id}-client-details`}\n                    title=\"Client\"\n                    content={project.clientName}\n                  />\n                </div>\n                <div className=\"detail-section\">\n                  <DealDetails\n                    dataTestId={`project-${project.id}-target-details`}\n                    title=\"Target\"\n                    content={project.target}\n                  />\n                </div>\n                <div className=\"detail-section\">\n                  <DealDetails\n                    dataTestId={`project-${project.id}-industry-status`}\n                    title=\"Industry\"\n                    content={project.industry}\n                  />\n                </div>\n              </div>\n            </div>\n          </Accordion>\n        </ShowForRole>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectListRow;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ProjectListRow from './ProjectListRow';\nimport './ProjectList.scss';\nimport { getProjectsList, loadProjectsThunk } from './projectsSlice';\n\nconst ProjectList = () => {\n  const dispatch = useDispatch();\n  const allProjects = useSelector(getProjectsList);\n\n  useEffect(() => {\n    dispatch(loadProjectsThunk());\n  }, [dispatch]);\n\n  return (\n    <div data-testid=\"project-container\">\n      <h2>Projects</h2>\n      <div className=\"project-container\">\n        {allProjects &&\n          allProjects.map(value => (\n            <ProjectListRow key={value.id} project={value} />\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectList;\n","import React from 'react';\nimport { ProjectListLayout } from '../../common/components/layouts';\nimport ProjectList from './ProjectList';\nimport './ProjectsPage.scss';\n\nconst ProjectsPage = () => {\n  return (\n    <ProjectListLayout>\n      <ProjectList />\n    </ProjectListLayout>\n  );\n};\n\nProjectsPage.propTypes = {};\n\nexport default ProjectsPage;\n","import { useEffect } from 'react';\nimport qs from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { getTokens } from '../../common/services/security/userAuthService';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport locationService from '../../common/services/locationService';\n\nconst landingPath = '../';\n\nconst Access = () => {\n  const location = useLocation();\n  const { code: accessCode, state } = qs.parse(location.search);\n\n  let redirect = landingPath;\n  if (state) {\n    try {\n      const decoded = atob(state);\n      if (decoded.match(/^\\//)) {\n        redirect = decoded;\n      }\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n\n  useEffect(() => {\n    if (accessCode) {\n      getTokens(accessCode)\n        .then(tokenSet => {\n          authorizationService.setTokens(tokenSet);\n          locationService.redirect(redirect);\n        })\n        .catch(() => {\n          locationService.redirect(landingPath);\n        });\n    }\n  }, [accessCode, redirect]);\n  return null;\n};\n\nexport default Access;\n","import { getAuthenticationUrl } from './userAuthService';\n\nconst authenticationUrlBuilder = {\n  build: (redirect = window.location.origin) => {\n    const state = btoa(redirect);\n    return getAuthenticationUrl(\n      encodeURIComponent(`${window.location.origin}/access`),\n      state\n    );\n  }\n};\n\nexport default authenticationUrlBuilder;\n","import { UserAuthClient } from './httpClient';\n\nexport const getUserAcceptedTermsHasAccepted = async email => {\n  const acceptedTerms = sessionStorage.getItem('tcAcceptCache') === 'true';\n  if (acceptedTerms) return true;\n\n  const response = await UserAuthClient.get(\n    `users/termsAndConditions?email=${email}`\n  );\n  return response.data;\n};\n\nexport const setUserAcceptedTermsHasAccepted = async email => {\n  sessionStorage.setItem('tcAcceptCache', 'true');\n\n  const response = await UserAuthClient.post(\n    `users/termsAndConditions?email=${email}`\n  );\n  return response.data;\n};\n","import React, { useEffect } from 'react';\nimport { Redirect, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport authenticationUrlBuilder from '../../common/services/security/authenticationUrlBuilder';\nimport locationService from '../../common/services/locationService';\nimport {\n  getUserTermsAndConditionsLoading,\n  getUserTermsAndConditionsLoaded,\n  getUserTermsAndConditionsHasAccepted\n} from '../../common/redux/userTermsAndConditions/userTermsAndConditionsSlice';\nimport { getUserTermsAndConditionsThunk } from '../../common/redux/userTermsAndConditions/getUserTermsAndConditionsThunk';\nimport { PendoStarter } from '../userAnalytics/PendoStarter';\n\nconst Landing = () => {\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const routePath = '/projects';\n  const tAndCPath = '/terms-and-conditions';\n\n  const tAndCLoading = useSelector(getUserTermsAndConditionsLoading);\n  const tAndCLoaded = useSelector(getUserTermsAndConditionsLoaded);\n  const tAndCHasAccepted = useSelector(getUserTermsAndConditionsHasAccepted);\n\n  const hasValidToken = authorizationService.hasValidToken();\n\n  useEffect(() => {\n    if (!hasValidToken) {\n      const finalRedirect = location.state\n        ? location.state.from.pathname\n        : routePath;\n\n      authenticationUrlBuilder.build(finalRedirect).then(authenticationUrl => {\n        locationService.redirect(authenticationUrl);\n      });\n    }\n  }, [hasValidToken, location.state]);\n\n  useEffect(() => {\n    if (\n      hasValidToken &&\n      authorizationService.isClientUser() &&\n      !tAndCLoading &&\n      !tAndCLoaded\n    ) {\n      dispatch(getUserTermsAndConditionsThunk(authorizationService.getEmail()));\n    }\n  }, [hasValidToken, tAndCLoaded, tAndCLoading, dispatch]);\n\n  if (hasValidToken) {\n    if (authorizationService.isClientUser()) {\n      if (tAndCLoaded && tAndCHasAccepted) {\n        const fromPath =\n          location.state && location.state.from\n            ? location.state.from.pathname\n            : null;\n        return (\n          <Redirect\n            to={{\n              pathname: fromPath || routePath\n            }}\n          />\n        );\n      }\n\n      if (tAndCLoaded) {\n        return <Redirect to={{ pathname: tAndCPath }} />;\n      }\n\n      return null;\n    }\n\n    return (\n      <Redirect\n        to={{\n          pathname: routePath\n        }}\n      />\n    );\n  }\n\n  return null;\n};\n\nexport default () => (\n  <PendoStarter>\n    <Landing />\n  </PendoStarter>\n);\n","import {\n  setUserTermsAndConditionsRequested,\n  setUserTermsAndConditionsReceived\n} from './userTermsAndConditionsSlice';\nimport { getUserAcceptedTermsHasAccepted } from '../../services/userTermsAndConditionsService';\n\nexport const getUserTermsAndConditionsThunk = email => async dispatch => {\n  dispatch(setUserTermsAndConditionsRequested());\n  const hasAccepted = await getUserAcceptedTermsHasAccepted(email);\n  dispatch(setUserTermsAndConditionsReceived(hasAccepted));\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { BlankLayout } from './layouts';\nimport './UnexpectedError.scss';\n\nconst UnexpectedError = ({\n  url = '/',\n  text = 'Return to Projects',\n  statusCode = '500',\n  description = 'Internal Server Error'\n}) => {\n  return (\n    <BlankLayout>\n      <div\n        className=\"unexpected-error-content\"\n        data-testid=\"unexpected-error-notification\"\n      >\n        <h1 className=\"unexpected-error-content-header\">{statusCode}</h1>\n        <p>{description}</p>\n        <Link to={url} aria-label={text}>\n          <Button className=\"button-large\">{text}</Button>\n        </Link>\n      </div>\n    </BlankLayout>\n  );\n};\n\nUnexpectedError.propTypes = {};\n\nexport default UnexpectedError;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { TextUtilities } from '@pwc/pwc-deals-web-common';\n\nexport const initialState = { termsAndConditions: null, loading: false };\n\nconst termsAndConditionsSlice = createSlice({\n  name: 'termsAndConditions',\n  initialState,\n  reducers: {\n    setTermsAndConditionsRequested: state => {\n      return {\n        ...state,\n        termsAndConditions: null,\n        loading: true\n      };\n    },\n    setTermsAndConditionsReceived: (state, action) => {\n      return {\n        ...state,\n        termsAndConditions: action.payload.map(tAndC => ({\n          ...tAndC,\n          id: TextUtilities.slugify(tAndC.title, true)\n        })),\n        loading: false\n      };\n    }\n  }\n});\n\n// Actions\nexport const {\n  setTermsAndConditionsRequested,\n  setTermsAndConditionsReceived\n} = termsAndConditionsSlice.actions;\n\n// Selectors\nexport const getTermsAndConditionsLoading = state =>\n  state.termsAndConditions.loading;\nexport const getTermsAndConditions = state =>\n  state.termsAndConditions.termsAndConditions;\n\nexport default termsAndConditionsSlice.reducer;\n","import { UserAuthClient } from './httpClient';\n\nexport const getTermsAndConditions = async () => {\n  const response = await UserAuthClient.get(`termsAndConditions`);\n  return response.data;\n};\n","import { getTermsAndConditions } from '../../services/termsAndConditionsService';\nimport {\n  setTermsAndConditionsReceived,\n  setTermsAndConditionsRequested\n} from './termsAndConditionsSlice';\n\nexport const getTermsAndConditionsThunk = () => async dispatch => {\n  dispatch(setTermsAndConditionsRequested());\n  const termsAndConditions = await getTermsAndConditions();\n  dispatch(setTermsAndConditionsReceived(termsAndConditions));\n};\n","import authorizationService from '../../../../common/services/security/authorizationService';\n\nexport const apiKey = () => process.env.REACT_APP_USER_ANALYTICS_API_KEY;\n\nconst pendoStorageBase = '_pendo';\nconst pendoAccountId = 'accountId';\nconst pendoVisitorId = 'visitorId';\n\nconst anonVisitorIdKey = () =>\n  `${pendoStorageBase}_${pendoVisitorId}.${undefined}`;\n\nconst visitorIdKey = (apikey = apiKey()) =>\n  apikey && `${pendoStorageBase}_${pendoVisitorId}.${apikey}`;\n\nconst accountIdKey = (apikey = apiKey()) =>\n  apikey && `${pendoStorageBase}_${pendoAccountId}.${apikey}`;\n\nconst getPartialKeyMatches = searches => obj =>\n  Object.keys(obj).filter(key => searches.some(search => key.includes(search)));\n\nexport const cookies = () =>\n  document.cookie\n    .split(';')\n    .map(cookie => cookie.split('='))\n    .filter(keyValue => keyValue.length === 2)\n    .map(([key, value]) => [key.trim(), value.trim()])\n    .reduce((obj, [key, value]) => ({ ...obj, [key]: value }), {});\n\nconst deleteCookies = (storageKeys = []) => {\n  storageKeys.forEach(cookie => {\n    document.cookie = `${cookie}=;expires=Thu, 01 Jan 1970 00:00:00 GMT`;\n  });\n};\n\nconst deleteCookieWherePartialMatch = searches => {\n  const keys = getPartialKeyMatches(searches)(cookies());\n  deleteCookies(keys);\n};\n\nconst deleteLocalStorage = (storageKeys = []) => {\n  storageKeys.forEach(key => localStorage.removeItem(key));\n};\n\nconst deleteLocalStorageWherePartialMatch = searches => {\n  const keys = getPartialKeyMatches(searches)(localStorage);\n  deleteLocalStorage(keys);\n};\n\nconst accessStorage = storageKey => {\n  const value = localStorage.getItem(storageKey) || cookies()[storageKey];\n  if (value) {\n    try {\n      return JSON.parse(value).value;\n    } catch (e) {\n      return value;\n    }\n  }\n  return undefined;\n};\n\nconst getPerformanceCookiesTableCellValues = (policy = '') => {\n  const [, table = ''] = policy.split('performance-cookies-table');\n  const tableWithoutNewlines = table.replace(/\\r\\n/g, '');\n  const tableCells = tableWithoutNewlines.match(/<td>.*?<\\/td>/g) || [];\n  return tableCells.map(tv => tv.replace(/<td>|<\\/td>/g, ''));\n};\n\nconst anonVisitorId = () => accessStorage(anonVisitorIdKey());\n\nconst visitorId = () => accessStorage(visitorIdKey());\n\nconst accountId = () => accessStorage(accountIdKey());\n\nexport const removeFromStorage = policy => {\n  const tableCellValues = getPerformanceCookiesTableCellValues(policy);\n  deleteLocalStorageWherePartialMatch(tableCellValues);\n  deleteCookieWherePartialMatch(tableCellValues);\n};\n\nexport const toggleTableClass = checked => {\n  const table = document.getElementById('performance-cookies-table');\n  if (table) {\n    if (checked) {\n      table.classList.remove('disabled');\n    } else {\n      table.classList.add('disabled');\n    }\n  }\n};\n\nexport const getDoNotProcessRequest = allowProcessing => {\n  const doNotProcessRequest = (userType, userId, fallbackUserId) =>\n    (userId || fallbackUserId) && {\n      userType,\n      userId: userId || fallbackUserId,\n      allowProcessing\n    };\n  const email = authorizationService.getEmail();\n  const environmentNamespace =\n    process.env.REACT_APP_ENVIRONMENT_NAMESPACE || 'local';\n  const fallbackIdValue = `${environmentNamespace}_${email}`;\n  return [\n    doNotProcessRequest('visitor', visitorId(), fallbackIdValue),\n    doNotProcessRequest('visitor', anonVisitorId()),\n    doNotProcessRequest('account', accountId(), fallbackIdValue)\n  ].filter(x => x);\n};\n","import React, { useCallback, useEffect } from 'react';\nimport { Icon, Toggle } from '@pwc/pwc-deals-ui';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUserSettingsSelector } from '../../../../common/redux/userSettings/userSettingsSlice';\nimport {\n  changeUserPerformanceCookiePreferenceThunk,\n  loadUserSettingsThunk\n} from '../../../../common/redux/userSettings/userSettingsThunk';\nimport {\n  getDoNotProcessRequest,\n  removeFromStorage,\n  toggleTableClass\n} from './performanceCookieHelpers';\nimport authorizationService from '../../../../common/services/security/authorizationService';\n\nexport const PerformanceCookiesToggle = ({ policy }) => {\n  const {\n    loading,\n    settings: { allowPerformanceCookies = true },\n    loaded\n  } = useSelector(getUserSettingsSelector);\n  const hasValidToken = authorizationService.hasValidToken();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (hasValidToken && !loaded && !loading) {\n      dispatch(loadUserSettingsThunk());\n    }\n  }, [hasValidToken, dispatch, loaded, loading]);\n\n  useEffect(() => {\n    if (policy && !loading) {\n      toggleTableClass(allowPerformanceCookies);\n      if (!allowPerformanceCookies) {\n        removeFromStorage(policy);\n      }\n    }\n  }, [policy, loading, allowPerformanceCookies]);\n\n  const handleToggle = useCallback(\n    checked => {\n      dispatch(\n        changeUserPerformanceCookiePreferenceThunk(\n          checked,\n          getDoNotProcessRequest(checked)\n        )\n      );\n    },\n    [dispatch]\n  );\n\n  return (\n    <>\n      <Toggle\n        checked={allowPerformanceCookies}\n        onClick={() => handleToggle(!allowPerformanceCookies)}\n        name=\"performance-cookies-toggle\"\n        data-testid=\"performance-cookies-toggle\"\n        disabled={loading}\n      >\n        Accept cookies\n      </Toggle>\n      <div className=\"performance-cookies-toggle-info\">\n        <span>\n          <Icon width={20} name=\"information\" className=\"fill icon-yellow\" />\n        </span>\n        <span>\n          Please note that these cookies are required to enable the help and\n          support functionality across the platform.\n        </span>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './Policy.scss';\nimport { PerformanceCookiesToggle } from './PolicyInjections/PerformanceCookiesToggle';\nimport { sanitize } from '../../../common/services/sanitizeService';\n\nconst policyInjections = [\n  {\n    id: 'performance-cookies-section-header',\n    child: policy => <PerformanceCookiesToggle policy={policy} />\n  }\n];\n\nconst Policy = ({ policy }) => {\n  const ref = useRef();\n  const [injections, setInjections] = useState([]);\n  useEffect(() => {\n    const usableInjections = policyInjections\n      .filter(() => policy && policy.body)\n      .filter(() => ref && ref.current && ref.current.innerHTML)\n      .filter(({ id }) => ref.current.innerHTML.includes(id));\n    setInjections(usableInjections);\n  }, [policy, ref]);\n  return (\n    <>\n      <h2 className=\"mb-0\">{policy.title}</h2>\n      <div\n        ref={ref}\n        className=\"policy-container\"\n        dangerouslySetInnerHTML={{ __html: sanitize(policy.body) }}\n      />\n      {/* It is important that these come last */}\n      {injections.map(({ id, child }) => {\n        const parent = document.getElementById(id);\n        return parent\n          ? ReactDOM.createPortal(\n              child(policy.body),\n              parent,\n              `${id}_${policy.title}`\n            )\n          : null;\n      })}\n    </>\n  );\n};\n\nexport default Policy;\n","import React, { useState, useMemo, Fragment, useEffect } from 'react';\nimport { Button } from '@pwc/pwc-deals-ui';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { logOutThunk } from '../../common/redux/security/LogOut/logOutThunk';\nimport { getFooterThunk } from '../../common/redux/termsAndConditions/getFooterThunk';\nimport { setUserAcceptedTermsHasAccepted } from '../../common/services/userTermsAndConditionsService';\nimport authorizationService from '../../common/services/security/authorizationService';\nimport {\n  setUserTermsAndConditionsReceived,\n  getUserTermsAndConditionsHasAccepted,\n  getUserTermsAndConditionsLoaded\n} from '../../common/redux/userTermsAndConditions/userTermsAndConditionsSlice';\nimport {\n  getTermsAndConditions,\n  getTermsAndConditionsLoading\n} from '../../common/redux/termsAndConditions/termsAndConditionsSlice';\nimport { getTermsAndConditionsThunk } from '../../common/redux/termsAndConditions/getTermsAndConditionsThunk';\nimport Policy from './common/Policy';\nimport './TermsAndConditions.scss';\n\nconst TermsAndConditions = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [disabled, setDisabled] = useState(true);\n  const tAndCs = useSelector(getTermsAndConditions);\n  const tAndCsLoading = useSelector(getTermsAndConditionsLoading);\n  const userTAndCsAccepted = useSelector(getUserTermsAndConditionsHasAccepted);\n  const userTAndCsLoaded = useSelector(getUserTermsAndConditionsLoaded);\n\n  useEffect(() => {\n    if (userTAndCsAccepted) {\n      history.replace('/projects');\n    }\n  }, [userTAndCsAccepted, history]);\n\n  useEffect(() => {\n    if (!userTAndCsLoaded) {\n      history.replace('/');\n    }\n  }, [userTAndCsLoaded, history]);\n\n  useEffect(() => {\n    if (!tAndCs && !tAndCsLoading) {\n      dispatch(getTermsAndConditionsThunk());\n      dispatch(getFooterThunk());\n    }\n  }, [tAndCs, tAndCsLoading, dispatch]);\n\n  const handleTextScroll = useMemo(() => {\n    return e => {\n      if (\n        e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight <=\n        5\n      ) {\n        setDisabled(false);\n      }\n    };\n  }, []);\n\n  const handleAccept = async () => {\n    try {\n      await setUserAcceptedTermsHasAccepted(authorizationService.getEmail());\n    } catch (_) {\n      return;\n    }\n    dispatch(setUserTermsAndConditionsReceived(true));\n    history.push('/projects');\n  };\n\n  return (\n    <div\n      data-testid=\"terms-and-conditions\"\n      className=\"terms-and-conditions mx-3 mx-md-5 pt-5\"\n    >\n      <h1>Legal agreement</h1>\n      <div\n        data-testid=\"terms-and-conditions-text\"\n        className=\"terms-and-conditions-text scrollable\"\n        onScroll={handleTextScroll}\n      >\n        <p className=\"terms-and-conditions-instructions\">\n          Before you can use PwC Junction you&apos;ll need to agree to the Terms\n          & Conditions, Cookie Policy and Privacy Statement below. Please read\n          them carefully before accepting.\n        </p>\n        {tAndCs &&\n          tAndCs.map(tAndC => {\n            if (tAndC.title !== 'Copyright') {\n              return (\n                <Fragment key={tAndC.id}>\n                  <hr />\n                  <Policy policy={tAndC} />\n                </Fragment>\n              );\n            }\n\n            return null;\n          })}\n\n        <div className=\"terms-and-conditions-footer-fade\" />\n      </div>\n      <div\n        className=\"terms-and-conditions-legal-statement\"\n        data-testid=\"terms-and-conditions-legal-statement\"\n      >\n        By clicking the button below, you are accepting the Terms of Use and any\n        applicable territory-specific terms, and acknowledging that you have\n        read and understand the Privacy Statement and Cookie Statement.\n      </div>\n      <div className=\"terms-and-conditions-actions\">\n        <Button\n          data-testid=\"cancel-terms-and-conditions\"\n          onClick={() => {\n            dispatch(logOutThunk());\n          }}\n          type=\"button\"\n          className=\"button-link mr-4\"\n        >\n          Cancel\n        </Button>\n        <Button\n          data-testid=\"accept-terms-and-conditions\"\n          onClick={handleAccept}\n          type=\"button\"\n          className=\"button\"\n          disabled={disabled}\n        >\n          Agree and proceed\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default TermsAndConditions;\n","import React, { useEffect, useRef } from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { NavLink, useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PageTitle from '../../../common/components/PageTitle/PageTitle';\nimport './TermsAndConditionsView.scss';\nimport {\n  getTermsAndConditions,\n  getTermsAndConditionsLoading\n} from '../../../common/redux/termsAndConditions/termsAndConditionsSlice';\nimport { getTermsAndConditionsThunk } from '../../../common/redux/termsAndConditions/getTermsAndConditionsThunk';\nimport authorizationService from '../../../common/services/security/authorizationService';\n\nimport Policy from '../common/Policy';\n\nconst TermsAndConditionsView = () => {\n  const tAndCs = useSelector(getTermsAndConditions);\n  const { policyId } = useParams();\n  const selectedPolicy = tAndCs && tAndCs.find(tAndC => tAndC.id === policyId);\n  const contentRef = useRef();\n  const tAndCsLoading = useSelector(getTermsAndConditionsLoading);\n  const dispatch = useDispatch();\n  const shouldShowLinks = tAndCs && tAndCs.length > 0;\n\n  useEffect(() => {\n    if (authorizationService.hasValidToken() && !tAndCs && !tAndCsLoading) {\n      dispatch(getTermsAndConditionsThunk());\n    }\n\n    if (contentRef.current) {\n      contentRef.current.scrollTop = 0;\n    }\n  }, [policyId, contentRef, dispatch, tAndCs, tAndCsLoading]);\n\n  return (\n    <div className=\"terms-and-conditions-view project-overview\">\n      <PageTitle title=\"Legal Information\" size=\"h1\" />\n\n      {shouldShowLinks && (\n        <div className=\"tabs\" data-testid=\"terms-and-conditions-tabs\">\n          <div className=\"tab-list\">\n            {Constants.TERMS_AND_CONDITIONS_LINKS.map(link => (\n              <NavLink\n                key={link.key}\n                to={`/policies/${link.key}`}\n                data-testid={`terms-and-conditions-tab-${link.key}`}\n              >\n                {link.text}\n              </NavLink>\n            ))}\n          </div>\n\n          {selectedPolicy && (\n            <div\n              ref={contentRef}\n              className=\"tab-content\"\n              data-testid=\"terms-and-conditions-tab-content\"\n            >\n              <Policy policy={selectedPolicy} hideDateModified />\n              <div className=\"terms-and-conditions-footer-fade\" />\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TermsAndConditionsView;\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { resetDivestitureDiagnostic } from '../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport { resetProject } from '../features/project/projectSlice';\nimport PrivateRoute from '../features/security/PrivateRoute';\nimport ProjectsPage from '../features/projects/ProjectsPage';\nimport Access from '../features/security/Access';\nimport Landing from '../features/security/Landing';\nimport UnexpectedError from '../common/components/UnexpectedError';\nimport TermsAndConditions from '../features/termsAndConditions/TermsAndConditions';\nimport TermsAndConditionsView from '../features/termsAndConditions/TermsAndConditionsView/TermsAndConditionsView';\nimport { getUserTermsAndConditionsHasAccepted } from '../common/redux/userTermsAndConditions/userTermsAndConditionsSlice';\n\nconst NonProjectContentRouter = () => {\n  const dispatch = useDispatch();\n  dispatch(resetProject());\n  dispatch(resetDivestitureDiagnostic());\n\n  const tAndCHasAccepted = useSelector(getUserTermsAndConditionsHasAccepted);\n\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Landing} />\n      <Route exact path=\"/access\" component={Access} />\n      <Route\n        exact\n        path=\"/unauthorized\"\n        render={() => (\n          <UnexpectedError\n            statusCode=\"403\"\n            description=\"You are not authorized to view this content.\"\n          />\n        )}\n      />\n      <Route\n        exact\n        path=\"/notfound\"\n        render={() => (\n          <UnexpectedError statusCode=\"404\" description=\"Page Not Found.\" />\n        )}\n      />\n      <PrivateRoute\n        exact\n        path=\"/policies/:policyId\"\n        component={TermsAndConditionsView}\n        tAndCHasAccepted={tAndCHasAccepted}\n      />\n      <PrivateRoute\n        exact\n        path=\"/terms-and-conditions\"\n        component={TermsAndConditions}\n        requireTAndCAcceptance={false}\n      />\n      <PrivateRoute\n        exact\n        path=\"/projects\"\n        component={ProjectsPage}\n        tAndCHasAccepted={tAndCHasAccepted}\n      />\n\n      <Route\n        component={() => (\n          <Redirect\n            to={{\n              pathname: '/'\n            }}\n          />\n        )}\n      />\n    </Switch>\n  );\n};\n\nexport default NonProjectContentRouter;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport authorizationService from '../common/services/security/authorizationService';\nimport ProjectDetails from '../features/project/ViewProject/ProjectDetails';\nimport AdminProjectList from '../features/admin/AdminProjectList/AdminProjectList';\nimport CreateProject from '../features/project/CreateProject/CreateProject'; // TODO: Remove use of Beta\nimport PrivateRoute from '../features/security/PrivateRoute';\nimport NonProjectContentRouter from './NonProjectContentRouter';\nimport { getUserTermsAndConditionsHasAccepted } from '../common/redux/userTermsAndConditions/userTermsAndConditionsSlice';\n\nconst ContentRouter = () => {\n  const tAndCHasAccepted = useSelector(getUserTermsAndConditionsHasAccepted);\n\n  return (\n    <Switch>\n      {authorizationService.isAdmin() && (\n        <PrivateRoute\n          exact\n          path=\"/admin\"\n          component={AdminProjectList}\n          tAndCHasAccepted\n        />\n      )}\n      <PrivateRoute\n        exact\n        path=\"/projects/create-project\"\n        component={CreateProject}\n        tAndCHasAccepted={tAndCHasAccepted}\n      />\n      <PrivateRoute\n        path=\"/projects/:projectId\"\n        component={ProjectDetails}\n        tAndCHasAccepted={tAndCHasAccepted}\n      />\n      <Route>\n        <NonProjectContentRouter />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default ContentRouter;\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport UnexpectedError from '../common/components/UnexpectedError';\r\nimport { invalidateTokens } from '../common/services/security/userAuthService';\r\n\r\nfunction UnauthenticatedRoute() {\r\n  return (\r\n    <Route\r\n      exact\r\n      path=\"/unauthenticated\"\r\n      render={() => {\r\n        invalidateTokens();\r\n        return (\r\n          <UnexpectedError\r\n            statusCode=\"401\"\r\n            description=\"You are not authenticated; please log in again.\"\r\n            text=\"Return to login\"\r\n          />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default UnauthenticatedRoute;\r\n","import React from 'react';\nimport { Constants } from '@pwc/pwc-deals-web-common';\nimport { Icon } from '@pwc/pwc-deals-ui';\nimport { Modal } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getErrorModalState,\n  hideModalError\n} from '../../redux/errors/errorsSlice';\nimport './ModalError.scss';\n\nconst getModalErrorTitle = type => {\n  switch (type) {\n    case Constants.ModalErrorType.UNABLE_TO_SAVE_CHANGE:\n    case Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER: {\n      return (\n        <span className=\"title-with-icon\">\n          <Icon name=\"alert\" className=\"fill icon-yellow\" width=\"24\" />\n          <span>Unable to save change</span>\n        </span>\n      );\n    }\n    case Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER_STALE_DATA: {\n      return (\n        <span className=\"title-with-icon\">\n          <Icon name=\"alert\" className=\"fill icon-yellow\" width=\"24\" />\n          <span>Unable to save order</span>\n        </span>\n      );\n    }\n    default: {\n      return '';\n    }\n  }\n};\n\nconst getModalErrorBody = type => {\n  switch (type) {\n    case Constants.ModalErrorType.UNABLE_TO_SAVE_CHANGE:\n    case Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER: {\n      return (\n        <>\n          Due to a system error, we are currently unable to save your changes.\n          Please try again later. If the issue continues, send an email to{' '}\n          <a\n            href=\"mailto:us_junction_support@pwc.com\"\n            className=\"support-email-link\"\n          >\n            [us_junction_support@pwc.com]\n          </a>\n        </>\n      );\n    }\n    case Constants.ModalErrorType.UNABLE_TO_SAVE_SORT_ORDER_STALE_DATA: {\n      return 'One or more changes were made to the content since you started re-ordering it. Please refresh the page and try again.';\n    }\n\n    default: {\n      return '';\n    }\n  }\n};\n\nconst ModalError = () => {\n  const { show, modalErrorType } = useSelector(getErrorModalState);\n  const dispatch = useDispatch();\n\n  const handleModalClose = () => {\n    dispatch(hideModalError());\n  };\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <Modal\n      show={show}\n      onHide={handleModalClose}\n      className=\"error-modal\"\n      centered\n    >\n      <Modal.Header>\n        <Modal.Title>\n          <>\n            {getModalErrorTitle(modalErrorType)}\n            <button\n              className=\"ui-button button-no-appearance close-button\"\n              aria-label=\"Close topic modal\"\n              onClick={handleModalClose}\n              type=\"button\"\n              data-testid=\"modal-error-close-button\"\n            >\n              <Icon\n                name=\"close\"\n                className=\"fill icon-orange-theme\"\n                width=\"18\"\n                height=\"18\"\n              />\n            </button>\n          </>\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>{getModalErrorBody(modalErrorType)}</Modal.Body>\n    </Modal>\n  );\n};\n\nexport default ModalError;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport Footer from '../common/components/Footer/Footer';\nimport Header from '../common/components/Header/Header';\nimport SideNav from '../common/components/SideNav/SideNav';\nimport Pendo from '../features/userAnalytics/Pendo';\nimport ContentRouter from './ContentRouter';\nimport UnauthenticatedRoute from './UnauthenticatedRoute';\nimport { getMobileSidebarOpened } from '../features/appSettings/appSettingsSlice';\nimport { getCommentPanelOpened } from '../features/comments/commentsSlice';\nimport { getUserSettingsSelector } from '../common/redux/userSettings/userSettingsSlice';\nimport { loadUserSettingsThunk } from '../common/redux/userSettings/userSettingsThunk';\nimport authorizationService from '../common/services/security/authorizationService';\nimport ModalError from '../common/components/ModalError/ModalError';\nimport './AppLayout.scss';\n\nconst AppLayout = () => {\n  let themeClass = localStorage.getItem('pwc-theme');\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n  const userSettings = useSelector(getUserSettingsSelector);\n  if (userSettings.settings.darkMode !== undefined) {\n    themeClass = userSettings.settings.darkMode ? 'theme-dark' : 'theme-light';\n  }\n\n  const hasValidToken = authorizationService.hasValidToken();\n  useEffect(() => {\n    if (hasValidToken && !userSettings.loaded && !userSettings.loading) {\n      dispatch(loadUserSettingsThunk());\n    }\n  }, [hasValidToken, userSettings, dispatch]);\n\n  const projectId = useSelector(state => state.project && state.project.id);\n  const mobileSidebarOpened = useSelector(getMobileSidebarOpened);\n  const commentPanelOpened = useSelector(getCommentPanelOpened);\n  const freezeClass = mobileSidebarOpened || commentPanelOpened ? 'freeze' : '';\n\n  useEffect(() => {\n    const htmlElement = document.getElementsByTagName('html')[0];\n\n    if (mobileSidebarOpened) htmlElement.classList.add('mobile-sidenav-open');\n    else htmlElement.classList.remove('mobile-sidenav-open');\n  }, [mobileSidebarOpened]);\n\n  return (\n    <div className={`app-layout ${freezeClass}`}>\n      <Helmet>\n        <body className={`no-outline ${themeClass}`} />\n      </Helmet>\n      <Pendo />\n      <SideNav />\n      <main>\n        <Header projectId={projectId} />\n        <div id=\"main-content\" className=\"sr-only\">\n          Main Content\n        </div>\n        {pathname.toLowerCase() !== '/unauthenticated' && <ContentRouter />}\n        {pathname.toLowerCase() === '/unauthenticated' && (\n          <UnauthenticatedRoute />\n        )}\n        <Footer />\n      </main>\n      <ModalError />\n    </div>\n  );\n};\nexport default AppLayout;\n","import React, { useEffect } from 'react';\n\nimport { useLocation } from 'react-router-dom';\n\nconst RouteChangeFocusResetter = () => {\n  const location = useLocation();\n  const { pathname, key: locationKey } = location;\n  useEffect(() => {\n    const topOfPage = document.getElementById('top-of-page');\n    topOfPage.focus();\n  }, [pathname]);\n  return (\n    <div\n      style={{ display: 'none' }}\n      data-testid=\"location-key-element\"\n      data-location-key={locationKey}\n    />\n  );\n};\n\nexport default RouteChangeFocusResetter;\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport Highcharts from 'highcharts';\nimport useAppTitle from '../common/hooks/useAppTitle';\nimport { getFooterThunk } from '../common/redux/termsAndConditions/getFooterThunk';\nimport AppLayout from './AppLayout';\nimport RouteChangeFocusResetter from './RouteChangeFocusResetter';\n\nconst App = () => {\n  window.Highcharts = Highcharts;\n  const isInIframe = window.self !== window.top;\n  const dispatch = useDispatch();\n\n  const title = useAppTitle();\n  useEffect(() => {\n    document.title = title;\n    const topOfPage = document.getElementById('top-of-page');\n    topOfPage.textContent = `${title}: Top Of Page`;\n  }, [title]);\n\n  useEffect(() => {\n    dispatch(getFooterThunk());\n  }, [dispatch]);\n\n  if (isInIframe) {\n    return <span style={{ color: 'red' }}>App cannot be run in an iFrame</span>;\n  }\n\n  return (\n    <>\n      <AppLayout />\n      <RouteChangeFocusResetter />\n    </>\n  );\n};\n\nexport default App;\n","import {\n  DEFAULT_TITLE,\n  useCustomRouteNames,\n  useExactMatchedRoute\n} from './routeHookHelpers';\n\nexport default () => {\n  const matchedRoute = useExactMatchedRoute();\n  const customNames = useCustomRouteNames();\n  return matchedRoute ? matchedRoute.title(customNames) : DEFAULT_TITLE;\n};\n","/* eslint-disable no-console */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createAction } from '@reduxjs/toolkit';\n\nexport default createAction(\n  'scheduler/scheduleActionRequested',\n  function prepare(action) {\n    return {\n      payload: { actionToSchedule: action }\n    };\n  }\n);\n","import scheduleActionRequested from '../actions/scheduleActionRequested';\nimport processingEnded from '../actions/processingEnded';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nconst isCalcEngineRelatedAction = action =>\n  action.type.startsWith(CALC_ENGINE_ACTION_PREFIX) &&\n  action.type !== processingEnded.type;\n\nconst processingMiddleware = store => next => action => {\n  next(action);\n\n  if (isCalcEngineRelatedAction(action)) {\n    store.dispatch(scheduleActionRequested(processingEnded()));\n  }\n};\n\nexport default processingMiddleware;\n","import longDescriptionUpdated from '../actions/longDescriptionUpdated';\nimport rowIngested from '../actions/rowIngested';\nimport { ROW_TYPE_ADJUSTMENT } from '../utilities/constants';\n\nconst createPlaintextLongDescription = text => ({\n  data: text.trim(),\n  childrenData: []\n});\n\nconst isValidPayload = payload =>\n  payload !== undefined &&\n  payload.code !== undefined &&\n  payload.headers !== undefined &&\n  payload.data !== undefined &&\n  payload.config !== undefined;\n\nconst rowIngestionMiddleware = store => next => async action => {\n  next(action);\n\n  if (action.type === rowIngested.type) {\n    if (!isValidPayload(action.payload)) {\n      return;\n    }\n\n    const { code: documentCode, data, config } = action.payload;\n\n    if (config.rowType === ROW_TYPE_ADJUSTMENT) {\n      const adjustmentRowId = data[config.adjustmentRowIdColumnIndex];\n\n      const adjustmentNumberWithShortDescription = `${\n        data[config.adjustmentNumberColumnIndex]\n      } ${data[config.adjustmentShortDescColumnIndex]}`.trim();\n\n      const excelLongDescription = createPlaintextLongDescription(\n        data[config.adjustmentLongDescColumnIndex]\n      );\n\n      const longDescriptionObj = {\n        ...excelLongDescription,\n        adjustmentRowId\n      };\n\n      store.dispatch(\n        longDescriptionUpdated(\n          documentCode,\n          adjustmentNumberWithShortDescription,\n          longDescriptionObj\n        )\n      );\n    }\n  }\n};\n\nexport default rowIngestionMiddleware;\n","import scheduleActionRequested from '../actions/scheduleActionRequested';\nimport { CALC_ENGINE_SCHEDULER_TIMEOUT } from '../utilities/constants';\n\nconst runners = {};\n\nconst dispatchAfterTimeout = store => (action, timeout) =>\n  setTimeout(() => {\n    store.dispatch(action);\n  }, timeout);\n\nconst schedulerMiddleware = store => next => action => {\n  next(action);\n\n  const delayedDispatcher = dispatchAfterTimeout(store);\n\n  if (\n    action.type === scheduleActionRequested.type &&\n    action.payload !== undefined &&\n    action.payload.actionToSchedule !== undefined\n  ) {\n    const { actionToSchedule } = action.payload;\n    const actionToScheduleType = actionToSchedule.type;\n\n    const scheduledRunner = runners[actionToScheduleType];\n    if (scheduledRunner) {\n      clearTimeout(scheduledRunner);\n    }\n\n    runners[actionToScheduleType] = delayedDispatcher(\n      actionToSchedule,\n      CALC_ENGINE_SCHEDULER_TIMEOUT\n    );\n  }\n};\n\nexport default schedulerMiddleware;\n","import { createAction } from '@reduxjs/toolkit';\nimport { CALC_ENGINE_ACTION_PREFIX } from '../utilities/constants';\n\nexport default createAction(\n  `${CALC_ENGINE_ACTION_PREFIX}/adjustmentsWithTogglesForDocumentUpdated`,\n  function prepare(documentCode, adjustments) {\n    return {\n      payload: { documentCode, adjustments }\n    };\n  }\n);\n","import _map from 'lodash/fp/map';\nimport _flatMap from 'lodash/fp/flatMap';\nimport _some from 'lodash/fp/some';\nimport _pipe from 'lodash/fp/pipe';\nimport _keys from 'lodash/keys';\nimport _cloneDeep from 'lodash/cloneDeep';\nimport _get from 'lodash/get';\nimport _values from 'lodash/values';\nimport adjustmentsForDocumentUpdated from '../actions/adjustmentsForDocumentUpdated';\nimport adjustmentsWithTogglesForDocumentUpdated from '../actions/adjustmentsWithTogglesForDocumentUpdated';\nimport adjustmentToggled from '../actions/adjustmentToggled';\nimport viewingToggledUpdated from '../actions/viewingToggledUpdated';\nimport { getAdjustmentTypesByCode } from '../selectors/adjustmentSelectors';\nimport { getAdjustmentTogglesByDocument } from '../selectors/adjustmentTogglesSelectors';\nimport { ACTIVE_KEY } from '../utilities/constants';\n\nconst isInvalidPayloadForAdjustmentsForDocumentUpdated = payload =>\n  payload === undefined ||\n  payload.documentCode === undefined ||\n  payload.adjustments === undefined;\n\nconst isInvalidPayloadForAdjustmentToggled = payload =>\n  payload === undefined || payload.documentCode === undefined;\n\nconst updateAdjustmentsWithToggleState = (adjustments, toggles) => {\n  const updatedAdjustments = _cloneDeep(adjustments);\n\n  _keys(adjustments).forEach(adjType => {\n    _keys(adjustments[adjType]).forEach(adjName => {\n      const isActive = _get(toggles, [adjType, adjName, ACTIVE_KEY], true);\n      updatedAdjustments[adjType][adjName][ACTIVE_KEY] = isActive;\n    });\n  });\n\n  return updatedAdjustments;\n};\n\nconst handleAdjustmentsForDocumentUpdated = (store, action) => {\n  if (isInvalidPayloadForAdjustmentsForDocumentUpdated(action.payload)) {\n    return;\n  }\n\n  const { documentCode, adjustments } = action.payload;\n\n  const adjustmentToggles = getAdjustmentTogglesByDocument(store.getState());\n\n  const adjustmentTogglesForDocument = _get(\n    adjustmentToggles,\n    documentCode,\n    {}\n  );\n\n  const adjustmentsWithToggleState = updateAdjustmentsWithToggleState(\n    adjustments,\n    adjustmentTogglesForDocument\n  );\n\n  store.dispatch(\n    adjustmentsWithTogglesForDocumentUpdated(\n      documentCode,\n      adjustmentsWithToggleState\n    )\n  );\n};\n\nconst hasInactiveToggles = adjustmentToggles =>\n  _pipe(\n    _values,\n    _flatMap(_values),\n    _flatMap(_values),\n    _map(t => t.active),\n    _some(isActive => !isActive)\n  )(adjustmentToggles);\n\nconst handleAdjustmentToggled = (store, action) => {\n  if (isInvalidPayloadForAdjustmentToggled(action.payload)) {\n    return;\n  }\n\n  const { documentCode } = action.payload;\n\n  const adjustments = getAdjustmentTypesByCode(store.getState());\n  const adjustmentsForDocument = _get(adjustments, documentCode, {});\n\n  const adjustmentToggles = getAdjustmentTogglesByDocument(store.getState());\n  const adjustmentTogglesForDocument = _get(\n    adjustmentToggles,\n    documentCode,\n    {}\n  );\n\n  const adjustmentsWithToggleState = updateAdjustmentsWithToggleState(\n    adjustmentsForDocument,\n    adjustmentTogglesForDocument\n  );\n\n  store.dispatch(\n    adjustmentsWithTogglesForDocumentUpdated(\n      documentCode,\n      adjustmentsWithToggleState\n    )\n  );\n\n  const hasInactive = hasInactiveToggles(adjustmentToggles);\n\n  store.dispatch(viewingToggledUpdated(hasInactive));\n};\n\nconst toggleMiddleware = store => next => action => {\n  next(action);\n\n  switch (action.type) {\n    case adjustmentsForDocumentUpdated.type:\n      handleAdjustmentsForDocumentUpdated(store, action);\n      break;\n\n    case adjustmentToggled.type:\n      handleAdjustmentToggled(store, action);\n      break;\n\n    default:\n  }\n};\n\nexport default toggleMiddleware;\n","import { createReducer } from '@reduxjs/toolkit';\nimport adjustmentsForDocumentUpdated from '../actions/adjustmentsForDocumentUpdated';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\n\nconst isInvalidPayload = payload =>\n  payload === undefined ||\n  payload.documentCode === undefined ||\n  payload.adjustments === undefined;\n\nconst adjustmentsByDocument = createReducer(\n  {},\n  {\n    [adjustmentsForDocumentUpdated]: (state, action) => {\n      if (isInvalidPayload(action.payload)) {\n        return state;\n      }\n      const { documentCode, adjustments } = action.payload;\n      state[documentCode] = adjustments;\n      return state;\n    },\n    [resetCalculationDataForDocument]: (state, action) => {\n      if (!action.payload || !action.payload.documentCode) {\n        return state;\n      }\n      const { documentCode } = action.payload;\n      delete state[documentCode];\n      return state;\n    },\n    [clearAllProjectData]: () => ({})\n  }\n);\n\nexport default adjustmentsByDocument;\n","import _entries from 'lodash/entries';\nimport _flatMap from 'lodash/fp/flatMap';\nimport _pipe from 'lodash/fp/pipe';\nimport _values from 'lodash/values';\n\nconst createAdjustmentDataPoint = adjustment => {\n  return _entries(adjustment)\n    .filter(entry => entry[0] !== 'active')\n    .map(entry => ({\n      active: adjustment.active,\n      compositeKey: entry[0],\n      adjustmentAmount: entry[1]\n    }));\n};\n\nexport const extractAdjustmentLines = updatedAdjustmentType => {\n  const adjustmentLines = _pipe(\n    _values,\n    _flatMap(_values),\n    _flatMap(createAdjustmentDataPoint)\n  )(updatedAdjustmentType);\n\n  return adjustmentLines;\n};\n","import { isCalcParticipatingAdjustmentType } from './adjustmentUtilities';\nimport { sumIfNumber } from './calculationUtilities';\nimport {\n  ALL_ADJUSTMENTS_KEY,\n  EMPTY_VALUE,\n  REVENUE_ADJUSTMENTS_KEY,\n  TOTALS_KEY\n} from './constants';\nimport { deconstructAdjustmentKey } from './keyUtilities';\nimport { selectOrEmpty, selectOrInit } from './selectors';\n\nconst FORCE_ACTIVE = true;\nconst IGNORE_OTHER_CONSIDERATIONS = true;\n\nexport const summateToStateKey = (\n  targetObject,\n  targetKey,\n  adjustmentType,\n  timePeriod,\n  amount,\n  isActiveAdjustment,\n  ignoreOtherConsiderations = false\n) => {\n  const target = selectOrInit(targetObject, targetKey);\n  const targetTotals = selectOrInit(target, TOTALS_KEY);\n\n  const totalForFinancialPeriod = selectOrEmpty(\n    targetTotals,\n    timePeriod,\n    EMPTY_VALUE\n  );\n\n  const isIgnored =\n    ignoreOtherConsiderations &&\n    !isCalcParticipatingAdjustmentType(adjustmentType);\n\n  const shouldSum = isActiveAdjustment && !isIgnored;\n\n  targetTotals[timePeriod] = shouldSum\n    ? sumIfNumber(totalForFinancialPeriod, amount)\n    : totalForFinancialPeriod;\n\n  return target;\n};\n\nexport const summateAdjustments = (adjustmentLines, ignoreActiveFlag = false) =>\n  adjustmentLines.reduce((summations, dataPoint) => {\n    const { compositeKey, adjustmentAmount } = dataPoint;\n\n    const active = ignoreActiveFlag ? true : dataPoint.active;\n\n    const {\n      adjustmentNumber,\n      shortDescription,\n      adjustmentType,\n      timePeriod\n    } = deconstructAdjustmentKey(compositeKey);\n\n    // All Adjustment Totals\n    const allAdjustmentsSummations = summateToStateKey(\n      summations,\n      ALL_ADJUSTMENTS_KEY,\n      adjustmentType,\n      timePeriod,\n      adjustmentAmount,\n      active,\n      IGNORE_OTHER_CONSIDERATIONS\n    );\n\n    // Adjustment Type Totals\n    const adjustmentTypeSummations = summateToStateKey(\n      allAdjustmentsSummations,\n      adjustmentType,\n      adjustmentType,\n      timePeriod,\n      adjustmentAmount,\n      active\n    );\n\n    // Individual Adjustment Totals\n    const adjName = `${adjustmentNumber} ${shortDescription}`;\n    summateToStateKey(\n      adjustmentTypeSummations,\n      adjName,\n      adjustmentType,\n      timePeriod,\n      adjustmentAmount,\n      FORCE_ACTIVE\n    );\n\n    return summations;\n  }, {});\n\nconst startsWithRevenueRegex = /^revenue/i;\n\nconst adjustsRevenue = adjustment => {\n  let { adjustmentCategory } = deconstructAdjustmentKey(\n    adjustment.compositeKey\n  );\n\n  if (adjustmentCategory === undefined) {\n    adjustmentCategory = '';\n  }\n\n  return startsWithRevenueRegex.test(adjustmentCategory.trim());\n};\n\nexport const summateRevenueAdjustments = (\n  adjustmentLines,\n  ignoreActiveFlag = false\n) =>\n  adjustmentLines.filter(adjustsRevenue).reduce((summation, dataPoint) => {\n    const { compositeKey, adjustmentAmount } = dataPoint;\n    const active = ignoreActiveFlag ? true : dataPoint.active;\n    const { adjustmentType, timePeriod } = deconstructAdjustmentKey(\n      compositeKey\n    );\n\n    summateToStateKey(\n      summation,\n      REVENUE_ADJUSTMENTS_KEY,\n      adjustmentType,\n      timePeriod,\n      adjustmentAmount,\n      active,\n      IGNORE_OTHER_CONSIDERATIONS\n    );\n\n    return summation;\n  }, {});\n","import { createReducer } from '@reduxjs/toolkit';\nimport adjustmentsForDocumentUpdated from '../actions/adjustmentsForDocumentUpdated';\nimport { extractAdjustmentLines } from '../utilities/extractAdjustmentLines';\nimport {\n  summateAdjustments,\n  summateRevenueAdjustments\n} from '../utilities/adjustmentSummationUtilities';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\n\nconst IGNORE_ACTIVE_FLAG = true;\n\nconst isInvalidPayload = payload =>\n  payload === undefined ||\n  payload.documentCode === undefined ||\n  payload.adjustments === undefined;\n\nconst adjustmentSumsByDocument = createReducer(\n  {},\n  {\n    [adjustmentsForDocumentUpdated]: (state, action) => {\n      if (isInvalidPayload(action.payload)) {\n        return state;\n      }\n\n      const {\n        documentCode,\n        adjustments: adjustmentsForDocument\n      } = action.payload;\n      const adjustmentLines = extractAdjustmentLines(adjustmentsForDocument);\n      const summedAdjustments = summateAdjustments(\n        adjustmentLines,\n        IGNORE_ACTIVE_FLAG\n      );\n      const revenueAdjustments = summateRevenueAdjustments(\n        adjustmentLines,\n        IGNORE_ACTIVE_FLAG\n      );\n\n      return {\n        ...state,\n        [documentCode]: {\n          ...summedAdjustments,\n          ...revenueAdjustments\n        }\n      };\n    },\n    [resetCalculationDataForDocument]: (state, action) => {\n      if (!action.payload || !action.payload.documentCode) {\n        return state;\n      }\n      const { documentCode } = action.payload;\n      delete state[documentCode];\n      return state;\n    },\n    [clearAllProjectData]: () => ({})\n  }\n);\n\nexport default adjustmentSumsByDocument;\n","import { createReducer } from '@reduxjs/toolkit';\nimport _set from 'lodash/set';\nimport { ACTIVE_KEY } from '../utilities/constants';\nimport adjustmentToggled from '../actions/adjustmentToggled';\nimport resetAllToggles from '../actions/resetAllToggles';\nimport { ingestionBegan } from './StructuredAnalysisSlice';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\n\nconst initialState = {};\nconst adjustmentTogglesByDocument = createReducer(initialState, {\n  [adjustmentToggled]: (stateNode, action) => {\n    const {\n      documentCode,\n      adjustmentType,\n      adjustmentName,\n      active\n    } = action.payload;\n\n    _set(\n      stateNode,\n      [documentCode, adjustmentType, adjustmentName, ACTIVE_KEY],\n      active\n    );\n  },\n\n  [resetAllToggles]: _state => initialState,\n  [ingestionBegan]: _state => initialState,\n  [clearAllProjectData]: _state => initialState\n});\n\nexport default adjustmentTogglesByDocument;\n","import { createReducer } from '@reduxjs/toolkit';\nimport _entries from 'lodash/entries';\nimport _flatMap from 'lodash/fp/flatMap';\nimport _pipe from 'lodash/fp/pipe';\nimport _isEmpty from 'lodash/isEmpty';\nimport _values from 'lodash/values';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\nimport factsForDocumentUpdated from '../actions/factsForDocumentUpdated';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\nimport { sumIfNumber } from '../utilities/calculationUtilities';\nimport {\n  CURRENT_ASSETS_CATEGORY,\n  CURRENT_ASSETS_KEY,\n  CURRENT_LIABILITIES_CATEGORY,\n  CURRENT_LIABILITIES_KEY,\n  EBITDA_FLAG,\n  REPORTED_EBITDA_KEY,\n  REPORTED_REVENUE_KEY,\n  REVENUE_CATEGORY\n} from '../utilities/constants';\nimport { deconstructFactKey } from '../utilities/keyUtilities';\n\nconst createFactDataPoint = fact => {\n  return _entries(fact).map(entry => ({\n    compositeKey: entry[0],\n    amount: entry[1]\n  }));\n};\n\nexport const extractFactLineItems = updatedFactsForDocument => {\n  const factLineItems = _pipe(\n    _values,\n    _flatMap(createFactDataPoint)\n  )(updatedFactsForDocument);\n\n  return factLineItems;\n};\n\nconst altersReportedRevenue = fact => {\n  const { aggregator } = deconstructFactKey(fact.compositeKey);\n  return aggregator === REVENUE_CATEGORY;\n};\n\nconst altersCurrentAssets = fact => {\n  const { aggregator } = deconstructFactKey(fact.compositeKey);\n  return aggregator === CURRENT_ASSETS_CATEGORY;\n};\n\nconst altersCurrentLiabilities = fact => {\n  const { aggregator } = deconstructFactKey(fact.compositeKey);\n  return (\n    aggregator && aggregator.toLowerCase() === CURRENT_LIABILITIES_CATEGORY\n  );\n};\n\nconst altersReportedEbitda = fact => {\n  const { ebitdaFlag } = deconstructFactKey(fact.compositeKey);\n  return ebitdaFlag === EBITDA_FLAG;\n};\n\nconst accumulateForPredicate = (factLineItems, predicate, targetKey) => {\n  const accumulation = factLineItems\n    .filter(predicate)\n    .reduce((accumulator, fact) => {\n      const { timePeriod } = deconstructFactKey(fact.compositeKey);\n      const { amount } = fact;\n      const previousTotal = accumulator[timePeriod] || 0;\n      accumulator[timePeriod] = sumIfNumber(previousTotal, amount);\n      return accumulator;\n    }, {});\n\n  if (_isEmpty(accumulation)) {\n    return {};\n  }\n\n  return { [targetKey]: accumulation };\n};\n\nconst accumulateReportedRevenue = factLineItems =>\n  accumulateForPredicate(\n    factLineItems,\n    altersReportedRevenue,\n    REPORTED_REVENUE_KEY\n  );\n\nconst accumulateCurrentAssets = factLineItems =>\n  accumulateForPredicate(\n    factLineItems,\n    altersCurrentAssets,\n    CURRENT_ASSETS_KEY\n  );\n\nconst accumulateCurrentLiabilities = factLineItems =>\n  accumulateForPredicate(\n    factLineItems,\n    altersCurrentLiabilities,\n    CURRENT_LIABILITIES_KEY\n  );\n\nconst accumulateReportedEbitda = factLineItems =>\n  accumulateForPredicate(\n    factLineItems,\n    altersReportedEbitda,\n    REPORTED_EBITDA_KEY\n  );\n\nconst isInvalidPayload = payload => {\n  const invalid =\n    payload === undefined ||\n    payload.documentCode === undefined ||\n    payload.facts === undefined;\n\n  return invalid;\n};\n\nconst factCalculations = createReducer(\n  {},\n  {\n    [factsForDocumentUpdated]: (state, action) => {\n      if (isInvalidPayload(action.payload)) {\n        return state;\n      }\n\n      const { facts } = action.payload;\n      const factLineItems = extractFactLineItems(facts);\n      const reportedRevenue = accumulateReportedRevenue(factLineItems);\n      const reportedEbitda = accumulateReportedEbitda(factLineItems);\n      const currentAssets = accumulateCurrentAssets(factLineItems);\n      const currentLiabilities = accumulateCurrentLiabilities(factLineItems);\n\n      return {\n        ...state,\n        ...reportedRevenue,\n        ...reportedEbitda,\n        ...currentAssets,\n        ...currentLiabilities\n      };\n    },\n    /**\n     * Because fact is computed from inputs that may span multiple documents, it is not possible to clear a fact by document code at this point.\n     */\n    [resetCalculationDataForDocument]: () => ({}),\n    [clearAllProjectData]: () => ({})\n  }\n);\n\nexport default factCalculations;\n","import { createReducer } from '@reduxjs/toolkit';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\nimport { timePeriodMetadataIngested } from '../actions/timePeriodMetadataIngested';\nimport { TIME_PERIOD_FLAGS_KEY } from '../utilities/constants';\n\nconst isInvalidTableViewPayload = payload =>\n  payload === undefined ||\n  payload.documentCode === undefined ||\n  payload.timePeriodFlags === undefined;\n\nconst timePeriodMetadataByDocument = createReducer(\n  {},\n  {\n    [timePeriodMetadataIngested]: (state, action) => {\n      if (isInvalidTableViewPayload(action.payload)) {\n        return state;\n      }\n\n      const { documentCode, timePeriodFlags } = action.payload;\n\n      return {\n        ...state,\n        [documentCode]: {\n          ...state[documentCode],\n          [TIME_PERIOD_FLAGS_KEY]: timePeriodFlags\n        }\n      };\n    },\n    [resetCalculationDataForDocument]: (state, action) => {\n      if (!action.payload || !action.payload.documentCode) {\n        return state;\n      }\n      const { documentCode } = action.payload;\n      delete state[documentCode];\n      return state;\n    },\n    [clearAllProjectData]: () => ({})\n  }\n);\n\nexport default timePeriodMetadataByDocument;\n","import { createReducer } from '@reduxjs/toolkit';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\nimport { trimIfString } from '../utilities/keyUtilities';\nimport headerRowIngested from '../actions/headerRowIngested';\n\nconst timePeriodsReducer = createReducer(\n  {},\n  {\n    [headerRowIngested]: (state, action) => {\n      if (\n        !action.payload ||\n        !action.payload.code ||\n        !action.payload.headers ||\n        !action.payload.config\n      ) {\n        return state;\n      }\n      const { code, headers, config } = action.payload;\n      const dataHeaders = headers\n        .slice(config.summableColumnStartIndex)\n        .filter(h => h !== '')\n        .map(trimIfString);\n\n      return {\n        ...state,\n        [code]: dataHeaders\n      };\n    },\n    [resetCalculationDataForDocument]: (state, action) => {\n      if (!action.payload || !action.payload.documentCode) {\n        return state;\n      }\n      const { documentCode } = action.payload;\n      delete state[documentCode];\n      return state;\n    },\n    [clearAllProjectData]: () => ({})\n  }\n);\n\nexport default timePeriodsReducer;\n","import { createReducer } from '@reduxjs/toolkit';\nimport adjustmentsWithTogglesForDocumentUpdated from '../actions/adjustmentsWithTogglesForDocumentUpdated';\nimport { extractAdjustmentLines } from '../utilities/extractAdjustmentLines';\nimport {\n  summateAdjustments,\n  summateRevenueAdjustments\n} from '../utilities/adjustmentSummationUtilities';\nimport resetCalculationDataForDocument from '../actions/resetCalculationDataForDocument';\nimport { clearAllProjectData } from '../actions/clearAllProjectData';\n\nconst isInvalidPayload = payload =>\n  payload === undefined ||\n  payload.documentCode === undefined ||\n  payload.adjustments === undefined;\n\nconst toggledAdjustmentSumsByDocument = createReducer(\n  {},\n  {\n    [adjustmentsWithTogglesForDocumentUpdated]: (state, action) => {\n      if (isInvalidPayload(action.payload)) {\n        return state;\n      }\n\n      const {\n        documentCode,\n        adjustments: adjustmentsForDocument\n      } = action.payload;\n      const adjustmentLines = extractAdjustmentLines(adjustmentsForDocument);\n      const summedAdjustments = summateAdjustments(adjustmentLines);\n      const revenueAdjustments = summateRevenueAdjustments(adjustmentLines);\n\n      return {\n        ...state,\n        [documentCode]: {\n          ...summedAdjustments,\n          ...revenueAdjustments\n        }\n      };\n    },\n    [resetCalculationDataForDocument]: (state, action) => {\n      if (!action.payload || !action.payload.documentCode) {\n        return state;\n      }\n      const { documentCode } = action.payload;\n      delete state[documentCode];\n      return state;\n    },\n    [clearAllProjectData]: () => ({})\n  }\n);\n\nexport default toggledAdjustmentSumsByDocument;\n","import { createReducer } from '@reduxjs/toolkit';\nimport { linkedAdjustmentsForDocumentUpdated } from '../actions/linkedAdjustments';\n\nconst linkedAdjustmentsByDocument = createReducer(\n  {},\n  {\n    [linkedAdjustmentsForDocumentUpdated]: (state, action) => {\n      const { documentCode, linkedAdjustments } = action.payload;\n      state[documentCode] = linkedAdjustments;\n    }\n  }\n);\n\nexport default linkedAdjustmentsByDocument;\n","import { matchPath } from 'react-router-dom';\nimport updateEntityVersion from '../../common/actions/updateEntityVersion';\nimport { initializeCommentsPanel, resetComments } from './commentsSlice';\n\nimport { fetchHypothesisSucceeded } from '../hypotheses/hypothesisSlice';\nimport { fetchInsightSucceeded } from '../insights/insightSlice';\nimport { fetchAnalysisSucceeded } from '../analyses/analysisSlice';\n\nexport const LOCATION_CHANGE = '@@router/LOCATION_CHANGE';\nexport const ACTIONS_WITH_VERSION_CHANGE = [\n  fetchHypothesisSucceeded.type,\n  fetchInsightSucceeded.type,\n  fetchAnalysisSucceeded.type\n];\n\nexport const commentPaths = [\n  {\n    entityType: 'project',\n    path: '/projects/:projectId',\n    formatInitCommentsObject({ projectId }) {\n      return {\n        projectId,\n        entityId: projectId,\n        entityType: this.entityType,\n        versionRequired: false\n      };\n    }\n  },\n  {\n    entityType: 'hypothesis',\n    path: '/projects/:projectId/key-focus-areas/:hypothesisId/view',\n    formatInitCommentsObject({ projectId, hypothesisId }) {\n      return {\n        projectId,\n        entityId: hypothesisId,\n        entityType: this.entityType,\n        versionRequired: true\n      };\n    }\n  },\n  {\n    entityType: 'insight',\n    path: '/projects/:projectId/insights/:insightId/view',\n    formatInitCommentsObject({ projectId, insightId }) {\n      return {\n        projectId,\n        entityId: insightId,\n        entityType: this.entityType,\n        versionRequired: true\n      };\n    }\n  },\n  {\n    entityType: 'analysis',\n    path: '/projects/:projectId/analyses/:analysisId/view',\n    formatInitCommentsObject({ projectId, analysisId }) {\n      return {\n        projectId,\n        entityId: analysisId,\n        entityType: this.entityType,\n        versionRequired: true\n      };\n    }\n  },\n  {\n    entityType: 'debt-debt-like',\n    path: '/projects/:projectId/analyses/debt-debt-like',\n    formatInitCommentsObject({ projectId }) {\n      return {\n        projectId,\n        entityId: 1,\n        entityType: this.entityType,\n        versionRequired: true\n      };\n    }\n  },\n  {\n    entityType: 'net-working-capital',\n    path: '/projects/:projectId/analyses/net-working-capital',\n    formatInitCommentsObject({ projectId }) {\n      return {\n        projectId,\n        entityId: 1,\n        entityType: this.entityType,\n        versionRequired: true\n      };\n    }\n  },\n  {\n    entityType: 'quality-of-earnings',\n    path: '/projects/:projectId/analyses/quality-of-earnings',\n    formatInitCommentsObject({ projectId }) {\n      return {\n        projectId,\n        entityId: 1,\n        entityType: this.entityType,\n        versionRequired: true\n      };\n    }\n  }\n];\n\nconst commentMiddleware = store => next => action => {\n  next(action);\n\n  if (action.type === LOCATION_CHANGE) {\n    const { pathname } = action.payload.location;\n\n    const matchedPath = commentPaths.find(({ path }) =>\n      matchPath(pathname, {\n        path,\n        exact: true\n      })\n    );\n\n    const { showCommentsPanel } = store.getState().comments;\n\n    if (matchedPath !== undefined) {\n      const { params } = matchPath(pathname, { path: matchedPath.path });\n      const initCommentsObject = matchedPath.formatInitCommentsObject(params);\n      next(initializeCommentsPanel(initCommentsObject));\n    } else if (showCommentsPanel) {\n      next(resetComments());\n    }\n  }\n\n  if (ACTIONS_WITH_VERSION_CHANGE.includes(action.type)) {\n    next(updateEntityVersion(action.payload.versionNumber));\n  }\n};\n\nexport default commentMiddleware;\n","import httpAction from './httpAction';\n\nconst httpActionTemplate = {\n  endpoint: null,\n  verb: 'GET',\n  payload: null,\n  headers: [],\n  params: {}\n};\n\nconst httpMiddleware = () => next => action => {\n  if (action.type === httpAction.type) {\n    const { payload: actionProps } = action;\n    const beganActionType = `${actionProps.reducer}Began`;\n    const successActionType = `${actionProps.reducer}Success`;\n    const errorActionType = `${actionProps.reducer}Error`;\n\n    next({ type: beganActionType, payload: true });\n\n    const fetchOptions = { ...httpActionTemplate, ...actionProps };\n    const { httpClient } = actionProps;\n    let fetchMethod;\n    switch (fetchOptions.verb) {\n      case 'GET':\n        fetchMethod = () =>\n          httpClient.get(fetchOptions.endpoint, fetchOptions.params);\n        break;\n      case 'POST':\n        fetchMethod = () =>\n          httpClient.post(\n            fetchOptions.endpoint,\n            fetchOptions.body,\n            fetchOptions.params\n          );\n        break;\n      case 'PUT':\n        fetchMethod = () =>\n          httpClient.put(\n            fetchOptions.endpoint,\n            fetchOptions.body,\n            fetchOptions.params\n          );\n        break;\n      case 'DELETE':\n        fetchMethod = () => httpClient.delete(fetchOptions.endpoint);\n        break;\n      default:\n        break;\n    }\n\n    if (fetchMethod) {\n      (async () => {\n        try {\n          const res = await fetchMethod();\n          next({ type: successActionType, payload: res.data });\n        } catch (err) {\n          next({ type: errorActionType, payload: err.message });\n        }\n      })();\n    } else {\n      next({ type: beganActionType, payload: false });\n      throw new Error('Invalid fetch method provided');\n    }\n  } else next(action);\n};\n\nexport default httpMiddleware;\n","import {\n  notificationSlice,\n  notificationSliceMiddleware\n} from '@pwc/pwc-deals-notification-ui';\nimport { reportSlice } from '@pwc/pwc-deals-report-ui';\nimport { configureStore } from '@reduxjs/toolkit';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { createBrowserHistory } from 'history';\nimport { combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport processingMiddleware from '../common/engine/middleware/processingMiddleware';\nimport rowIngestionMiddleware from '../common/engine/middleware/rowIngestionMiddleware';\nimport schedulerMiddleware from '../common/engine/middleware/schedulerMiddleware';\nimport toggleMiddleware from '../common/engine/middleware/toggleMiddleware';\nimport adjustmentsByDocument from '../common/engine/reducers/adjustmentsByDocument';\nimport adjustmentSumsByDocument from '../common/engine/reducers/adjustmentSumsByDocument';\nimport adjustmentTogglesByDocument from '../common/engine/reducers/adjustmentTogglesByDocument';\nimport calcEngine from '../common/engine/reducers/calcEngine';\nimport factCalculations from '../common/engine/reducers/factCalculations';\nimport longDescription from '../common/engine/reducers/longDescription';\nimport timePeriodMetadataByDocument from '../common/engine/reducers/timePeriodMetadataByDocument';\nimport timePeriods from '../common/engine/reducers/timePeriods';\nimport toggledAdjustmentSumsByDocument from '../common/engine/reducers/toggledAdjustmentSumsByDocument';\nimport loggedInUserSlice from '../common/redux/security/loggedInUser/loggedInUserSlice';\nimport termsAndConditionsSlice from '../common/redux/termsAndConditions/termsAndConditionsSlice';\nimport userSettingsSlice from '../common/redux/userSettings/userSettingsSlice';\nimport userNotificationSettingsSlice from '../common/redux/userNotificationSettings/userNotificationSettingsSlice';\nimport userTermsAndConditionsSlice from '../common/redux/userTermsAndConditions/userTermsAndConditionsSlice';\nimport linkedAdjustmentsByDocument from '../common/engine/reducers/linkedAdjustmentsByDocument';\nimport errorsSlice from '../common/redux/errors/errorsSlice';\n\nimport analysisSlice from '../features/analyses/analysisSlice';\nimport structuredDocumentDescriptionSlice from '../common/engine/reducers/structuredDocumentDescriptionSlice';\nimport { structuredAnalysisViewReducer } from '../common/engine/reducers/structuredAnalysisViewSlice';\nimport structuredAnalysisSlice from '../common/engine/reducers/StructuredAnalysisSlice';\nimport appSettings from '../features/appSettings/appSettingsSlice';\nimport commentMiddleware from '../features/comments/commentMiddleware';\nimport commentsSlice from '../features/comments/commentsSlice';\nimport divestitureDiagnosticSlice from '../features/divestitureDiagnostic/divestitureDiagnosticSlice';\nimport hypothesisSlice from '../features/hypotheses/hypothesisSlice';\nimport insightSlice from '../features/insights/insightSlice';\nimport projectSlice from '../features/project/projectSlice';\nimport projectsSlice from '../features/projects/projectsSlice';\nimport projectDisclaimersSlice from '../features/projectDisclaimer/projectDisclaimerSlice';\nimport httpMiddleware from '../Survey/httpMiddleware';\nimport surveySlice from '../Survey/surveySlice';\nimport footerSlice from '../common/redux/termsAndConditions/footerSlice';\nimport reportFormatSlice from '../common/redux/reportFormat/reportFormatSlice';\nimport fileUploadSlice from '../common/redux/fileUpload/fileUploadSlice';\nimport projectStatusChangeSlice from '../features/projectStateChangeCards/projectStatusChangeSlice';\n\nexport const history = createBrowserHistory();\n\nconst commonReducers = {\n  structuredAnalysis: structuredAnalysisSlice,\n  loggedInUser: loggedInUserSlice,\n  userTermsAndConditions: userTermsAndConditionsSlice,\n  userSettings: userSettingsSlice,\n  userNotificationSettings: userNotificationSettingsSlice,\n  termsAndConditions: termsAndConditionsSlice,\n  reportFormat: reportFormatSlice,\n  fileUpload: fileUploadSlice,\n  footer: footerSlice,\n  longDescriptionsByCode: longDescription,\n  adjustmentsByDocument,\n  adjustmentTogglesByDocument,\n  adjustmentSumsByDocument,\n  toggledAdjustmentSumsByDocument,\n  factCalculations,\n  timePeriodMetadataByDocument,\n  timePeriodsByCode: timePeriods,\n  calcEngine,\n  linkedAdjustmentsByDocument,\n  errors: errorsSlice\n};\n\nconst commonMiddleware = [\n  processingMiddleware,\n  schedulerMiddleware,\n  rowIngestionMiddleware,\n  toggleMiddleware\n];\n\nexport const rootReducer = combineReducers({\n  router: connectRouter(history),\n  project: projectSlice,\n  projects: projectsSlice,\n  structuredDocumentDescription: structuredDocumentDescriptionSlice,\n  structuredAnalysisView: structuredAnalysisViewReducer,\n  hypothesis: hypothesisSlice,\n  insight: insightSlice,\n  analysis: analysisSlice,\n  comments: commentsSlice,\n  report: reportSlice,\n  notification: notificationSlice,\n  projectDisclaimers: projectDisclaimersSlice,\n  projectApprovals: projectStatusChangeSlice,\n  appSettings,\n  survey: surveySlice,\n  divestitureDiagnostic: divestitureDiagnosticSlice,\n  ...commonReducers\n});\n\nexport const createStore = () =>\n  configureStore({\n    reducer: rootReducer,\n    middleware: [\n      routerMiddleware(history),\n      thunk,\n      ...commonMiddleware,\n      commentMiddleware,\n      notificationSliceMiddleware,\n      httpMiddleware\n    ],\n    devTools: true\n  });\n","import { Constants } from '@pwc/pwc-deals-web-common';\n\nexport class ActivityService {\n  constructor(threshold) {\n    this.threshold = threshold;\n    this.secondsSinceLastActive = 0;\n    this.intervalID = null;\n    this.userActive = true;\n    this.registeredEvents = [];\n    this.resetTimer = this.resetTimer.bind(this);\n    this.clearActivityTimer = this.clearActivityTimer.bind(this);\n    this.startActivityTimer = this.startActivityTimer.bind(this);\n  }\n\n  clearActivityTimer() {\n    if (this.intervalID) {\n      clearInterval(this.intervalID);\n      this.intervalID = null;\n    }\n  }\n\n  resetTimer() {\n    this.secondsSinceLastActive = 0;\n  }\n\n  isUserActive() {\n    return this.userActive;\n  }\n\n  registerEvents(events) {\n    events.forEach(eventName => {\n      window.addEventListener(eventName, this.resetTimer, true);\n      this.registeredEvents.push(eventName);\n    });\n  }\n\n  startActivityTimer() {\n    this.intervalID = setInterval(() => {\n      this.secondsSinceLastActive += 1;\n      if (this.secondsSinceLastActive > this.threshold) {\n        this.userActive = false;\n      }\n    }, 1000);\n  }\n}\n\nconst userActivityService = new ActivityService(\n  Constants.USER_INACTIVE_TIMEOUT\n);\nuserActivityService.registerEvents(Constants.USER_ACTIVITY_DOM_EVENTS);\nuserActivityService.startActivityTimer();\n\nexport default userActivityService;\n","import { tokenRefreshJob } from './token.refresh.job';\nimport { schedule } from './job.scheduler';\n\nconst jobs = [{ job: tokenRefreshJob, periodInMilliseconds: 60 * 1000 }];\n\nexport default {\n  start: () => jobs.map(_ => schedule(_.job, _.periodInMilliseconds))\n};\n","import locationService from '../services/locationService';\nimport authorizationService from '../services/security/authorizationService';\nimport userActivityService from '../services/security/userActivityService';\nimport projectTokenCache from '../services/security/projectTokenCache';\nimport {\n  invalidateTokens,\n  refreshTokens\n} from '../services/security/userAuthService';\n\nexport const tokenRefreshJob = async () => {\n  const cutoffInSeconds = 240;\n\n  if (\n    userActivityService.isUserActive() &&\n    authorizationService.hasValidToken()\n  ) {\n    const secondsFromExp = authorizationService.secondsFromExp();\n    if (secondsFromExp < cutoffInSeconds) {\n      const refreshTokenSet = await refreshTokens();\n      authorizationService.setTokens(refreshTokenSet);\n    }\n  } else {\n    projectTokenCache.reset();\n    await invalidateTokens();\n    userActivityService.clearActivityTimer();\n    locationService.redirect(\n      `${window.location.protocol}//${window.location.host}`\n    );\n  }\n};\n","export const schedule = (job, periodInMilliseconds) =>\n  setInterval(job, periodInMilliseconds);\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport cssVars from 'css-vars-ponyfill';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\nimport { history, createStore } from './app/reduxStore';\nimport '@pwc/pwc-deals-rich-text-editor/build/ckEditorStyles.css';\nimport 'bootstrap/scss/bootstrap.scss';\nimport './styles/main.scss';\nimport '@pwc/pwc-deals-ui/build/styles/main.css';\nimport 'focus-visible/dist/focus-visible.min';\nimport jobRunner from './common/jobs/job.runner';\n\njobRunner.start();\n\nconst cssPonyfill = () =>\n  cssVars({\n    onlyLegacy: true,\n    include: 'style,link[rel=\"stylesheet\"]:not([href*=\"//\"])',\n    // eslint-disable-next-line no-console\n    onComplete: () => console.log('CSS Variables updated')\n  });\n\ncssPonyfill();\n\nReactDOM.render(\n  <Provider store={createStore()}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}